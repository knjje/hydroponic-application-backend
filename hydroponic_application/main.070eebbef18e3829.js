(self.webpackChunkhydroponic_application=self.webpackChunkhydroponic_application||[]).push([[179],{58:(Ss,un,dt)=>{"use strict";dt.d(un,{BH:()=>Oi,DV:()=>Ii,Dv:()=>ro,G6:()=>ls,GJ:()=>fi,L:()=>$t,LL:()=>X,Pz:()=>bi,Sg:()=>Ar,UG:()=>ue,UI:()=>ds,US:()=>qi,Wj:()=>oo,Wl:()=>Xe,Yr:()=>Ms,ZB:()=>ze,ZR:()=>me,aH:()=>Yi,b$:()=>Mn,cI:()=>Ie,dS:()=>Vo,eu:()=>ne,g5:()=>se,gK:()=>mn,gQ:()=>Qi,h$:()=>di,hl:()=>M,hu:()=>ht,jU:()=>nn,lb:()=>gr,m9:()=>Yt,ne:()=>Wr,p$:()=>be,pd:()=>ea,r3:()=>Vn,ru:()=>Zi,tV:()=>he,uI:()=>Gn,ug:()=>Bo,vZ:()=>As,w1:()=>cs,w9:()=>Ln,xO:()=>sc,xb:()=>Vt,z$:()=>Nt,zd:()=>no});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ht=function(L,N){if(!L)throw se(N)},se=function(L){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+L)},ft=function(L){const N=[];let B=0;for(let J=0;J<L.length;J++){let $=L.charCodeAt(J);$<128?N[B++]=$:$<2048?(N[B++]=$>>6|192,N[B++]=63&$|128):55296==(64512&$)&&J+1<L.length&&56320==(64512&L.charCodeAt(J+1))?($=65536+((1023&$)<<10)+(1023&L.charCodeAt(++J)),N[B++]=$>>18|240,N[B++]=$>>12&63|128,N[B++]=$>>6&63|128,N[B++]=63&$|128):(N[B++]=$>>12|224,N[B++]=$>>6&63|128,N[B++]=63&$|128)}return N},qi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,N){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let $=0;$<L.length;$+=3){const ie=L[$],mt=$+1<L.length,Dt=mt?L[$+1]:0,gt=$+2<L.length,Hi=gt?L[$+2]:0;let Hn=(15&Dt)<<2|Hi>>6,Si=63&Hi;gt||(Si=64,mt||(Hn=64)),J.push(B[ie>>2],B[(3&ie)<<4|Dt>>4],B[Hn],B[Si])}return J.join("")},encodeString(L,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(L):this.encodeByteArray(ft(L),N)},decodeString(L,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(L):function(L){const N=[];let B=0,J=0;for(;B<L.length;){const $=L[B++];if($<128)N[J++]=String.fromCharCode($);else if($>191&&$<224){const ie=L[B++];N[J++]=String.fromCharCode((31&$)<<6|63&ie)}else if($>239&&$<365){const gt=((7&$)<<18|(63&L[B++])<<12|(63&L[B++])<<6|63&L[B++])-65536;N[J++]=String.fromCharCode(55296+(gt>>10)),N[J++]=String.fromCharCode(56320+(1023&gt))}else{const ie=L[B++],mt=L[B++];N[J++]=String.fromCharCode((15&$)<<12|(63&ie)<<6|63&mt)}}return N.join("")}(this.decodeStringToByteArray(L,N))},decodeStringToByteArray(L,N){this.init_();const B=N?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let $=0;$<L.length;){const ie=B[L.charAt($++)],Dt=$<L.length?B[L.charAt($)]:0;++$;const Hi=$<L.length?B[L.charAt($)]:64;++$;const Be=$<L.length?B[L.charAt($)]:64;if(++$,null==ie||null==Dt||null==Hi||null==Be)throw new hn;J.push(ie<<2|Dt>>4),64!==Hi&&(J.push(Dt<<4&240|Hi>>2),64!==Be&&J.push(Hi<<6&192|Be))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class hn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const di=function(L){const N=ft(L);return qi.encodeByteArray(N,!0)},$t=function(L){return di(L).replace(/\./g,"")},he=function(L){try{return qi.decodeString(L,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function be(L){return ze(void 0,L)}function ze(L,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return N}for(const B in N)!N.hasOwnProperty(B)||!At(B)||(L[B]=ze(L[B],N[B]));return L}function At(L){return"__proto__"!==L}const Rt=()=>{try{return function si(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const N=L&&he(L[1]);return N&&JSON.parse(N)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},Yi=()=>{var L;return null===(L=Rt())||void 0===L?void 0:L.config},bi=L=>{var N;return null===(N=Rt())||void 0===N?void 0:N[`_${L}`]};class Oi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((N,B)=>{this.resolve=N,this.reject=B})}wrapCallback(N){return(B,J)=>{B?this.reject(B):this.resolve(J),"function"==typeof N&&(this.promise.catch(()=>{}),1===N.length?N(B):N(B,J))}}}function Ar(L,N){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=N||"demo-project",$=L.iat||0,ie=L.sub||L.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:$,exp:$+3600,auth_time:$,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},L);return[$t(JSON.stringify({alg:"none",type:"JWT"})),$t(JSON.stringify(mt)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function ue(){var L;const N=null===(L=Rt())||void 0===L?void 0:L.forceEnvironment;if("node"===N)return!0;if("browser"===N)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nn(){return"object"==typeof self&&self.self===self}function Zi(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cs(){const L=Nt();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Ms(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function ls(){return!ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((L,N)=>{try{let B=!0;const J="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(J);$.onsuccess=()=>{$.result.close(),B||self.indexedDB.deleteDatabase(J),L(!0)},$.onupgradeneeded=()=>{B=!1},$.onerror=()=>{var ie;N((null===(ie=$.error)||void 0===ie?void 0:ie.message)||"")}}catch(B){N(B)}})}class me extends Error{constructor(N,B,J){super(B),this.code=N,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(N,B,J){this.service=N,this.serviceName=B,this.errors=J}create(N,...B){const J=B[0]||{},$=`${this.service}/${N}`,ie=this.errors[N],mt=ie?function Te(L,N){return L.replace(oi,(B,J)=>{const $=N[J];return null!=$?String($):`<${J}?>`})}(ie,J):"Error";return new me($,`${this.serviceName}: ${mt} (${$}).`,J)}}const oi=/\{\$([^}]+)}/g;function Ie(L){return JSON.parse(L)}function Xe(L){return JSON.stringify(L)}const ei=function(L){let N={},B={},J={},$="";try{const ie=L.split(".");N=Ie(he(ie[0])||""),B=Ie(he(ie[1])||""),$=ie[2],J=B.d||{},delete B.d}catch{}return{header:N,claims:B,data:J,signature:$}},Ln=function(L){const B=ei(L).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},fi=function(L){const N=ei(L).claims;return"object"==typeof N&&!0===N.admin};function Vn(L,N){return Object.prototype.hasOwnProperty.call(L,N)}function Ii(L,N){if(Object.prototype.hasOwnProperty.call(L,N))return L[N]}function Vt(L){for(const N in L)if(Object.prototype.hasOwnProperty.call(L,N))return!1;return!0}function ds(L,N,B){const J={};for(const $ in L)Object.prototype.hasOwnProperty.call(L,$)&&(J[$]=N.call(B,L[$],$,L));return J}function As(L,N){if(L===N)return!0;const B=Object.keys(L),J=Object.keys(N);for(const $ of B){if(!J.includes($))return!1;const ie=L[$],mt=N[$];if(Ki(ie)&&Ki(mt)){if(!As(ie,mt))return!1}else if(ie!==mt)return!1}for(const $ of J)if(!B.includes($))return!1;return!0}function Ki(L){return null!==L&&"object"==typeof L}function sc(L){const N=[];for(const[B,J]of Object.entries(L))Array.isArray(J)?J.forEach($=>{N.push(encodeURIComponent(B)+"="+encodeURIComponent($))}):N.push(encodeURIComponent(B)+"="+encodeURIComponent(J));return N.length?"&"+N.join("&"):""}function no(L){const N={};return L.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[$,ie]=J.split("=");N[decodeURIComponent($)]=decodeURIComponent(ie)}}),N}function ea(L){const N=L.indexOf("?");if(!N)return"";const B=L.indexOf("#",N);return L.substring(N,B>0?B:void 0)}class Qi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let N=1;N<this.blockSize;++N)this.pad_[N]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(N,B){B||(B=0);const J=this.W_;if("string"==typeof N)for(let Be=0;Be<16;Be++)J[Be]=N.charCodeAt(B)<<24|N.charCodeAt(B+1)<<16|N.charCodeAt(B+2)<<8|N.charCodeAt(B+3),B+=4;else for(let Be=0;Be<16;Be++)J[Be]=N[B]<<24|N[B+1]<<16|N[B+2]<<8|N[B+3],B+=4;for(let Be=16;Be<80;Be++){const Hn=J[Be-3]^J[Be-8]^J[Be-14]^J[Be-16];J[Be]=4294967295&(Hn<<1|Hn>>>31)}let Hi,zn,$=this.chain_[0],ie=this.chain_[1],mt=this.chain_[2],Dt=this.chain_[3],gt=this.chain_[4];for(let Be=0;Be<80;Be++){Be<40?Be<20?(Hi=Dt^ie&(mt^Dt),zn=1518500249):(Hi=ie^mt^Dt,zn=1859775393):Be<60?(Hi=ie&mt|Dt&(ie|mt),zn=2400959708):(Hi=ie^mt^Dt,zn=3395469782);const Hn=($<<5|$>>>27)+Hi+gt+zn+J[Be]&4294967295;gt=Dt,Dt=mt,mt=4294967295&(ie<<30|ie>>>2),ie=$,$=Hn}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+mt&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+gt&4294967295}update(N,B){if(null==N)return;void 0===B&&(B=N.length);const J=B-this.blockSize;let $=0;const ie=this.buf_;let mt=this.inbuf_;for(;$<B;){if(0===mt)for(;$<=J;)this.compress_(N,$),$+=this.blockSize;if("string"==typeof N){for(;$<B;)if(ie[mt]=N.charCodeAt($),++mt,++$,mt===this.blockSize){this.compress_(ie),mt=0;break}}else for(;$<B;)if(ie[mt]=N[$],++mt,++$,mt===this.blockSize){this.compress_(ie),mt=0;break}}this.inbuf_=mt,this.total_+=B}digest(){const N=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&B,B/=256;this.compress_(this.buf_);let J=0;for(let $=0;$<5;$++)for(let ie=24;ie>=0;ie-=8)N[J]=this.chain_[$]>>ie&255,++J;return N}}function Wr(L,N){const B=new Gr(L,N);return B.subscribe.bind(B)}class Gr{constructor(N,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{N(this)}).catch(J=>{this.error(J)})}next(N){this.forEachObserver(B=>{B.next(N)})}error(N){this.forEachObserver(B=>{B.error(N)}),this.close(N)}complete(){this.forEachObserver(N=>{N.complete()}),this.close()}subscribe(N,B,J){let $;if(void 0===N&&void 0===B&&void 0===J)throw new Error("Missing Observer.");$=function Co(L,N){if("object"!=typeof L||null===L)return!1;for(const B of N)if(B in L&&"function"==typeof L[B])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:B,complete:J},void 0===$.next&&($.next=yi),void 0===$.error&&($.error=yi),void 0===$.complete&&($.complete=yi);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ie}unsubscribeOne(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,N)}sendOne(N,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{B(this.observers[N])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yi(){}const ro=function(L,N,B,J){let $;if(J<N?$="at least "+N:J>B&&($=0===B?"none":"no more than "+B),$)throw new Error(L+" failed: Was called with "+J+(1===J?" argument.":" arguments.")+" Expects "+$+".")};function mn(L,N){return`${L} failed: ${N} argument `}function oo(L,N,B,J){if((!J||B)&&"function"!=typeof B)throw new Error(mn(L,N)+"must be a valid function.")}function gr(L,N,B,J){if((!J||B)&&("object"!=typeof B||null===B))throw new Error(mn(L,N)+"must be a valid context object.")}const Vo=function(L){const N=[];let B=0;for(let J=0;J<L.length;J++){let $=L.charCodeAt(J);if($>=55296&&$<=56319){const ie=$-55296;J++,ht(J<L.length,"Surrogate pair missing trail surrogate."),$=65536+(ie<<10)+(L.charCodeAt(J)-56320)}$<128?N[B++]=$:$<2048?(N[B++]=$>>6|192,N[B++]=63&$|128):$<65536?(N[B++]=$>>12|224,N[B++]=$>>6&63|128,N[B++]=63&$|128):(N[B++]=$>>18|240,N[B++]=$>>12&63|128,N[B++]=$>>6&63|128,N[B++]=63&$|128)}return N},Bo=function(L){let N=0;for(let B=0;B<L.length;B++){const J=L.charCodeAt(B);J<128?N++:J<2048?N+=2:J>=55296&&J<=56319?(N+=4,B++):N+=3}return N};function Yt(L){return L&&L._delegate?L._delegate:L}},276:(Ss,un,dt)=>{"use strict";function S(i){return"function"==typeof i}function ht(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const se=ht(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ft(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class Mt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(S(n))try{n()}catch(o){t=o instanceof se?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{di(o)}catch(s){t=t??[],s instanceof se?t=[...t,...s.errors]:t.push(s)}}if(t)throw new se(t)}}add(t){var e;if(t&&t!==this)if(this.closed)di(t);else{if(t instanceof Mt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ft(e,t)}remove(t){const{_finalizers:e}=this;e&&ft(e,t),t instanceof Mt&&t._removeParent(this)}}Mt.EMPTY=(()=>{const i=new Mt;return i.closed=!0,i})();const qi=Mt.EMPTY;function hn(i){return i instanceof Mt||i&&"closed"in i&&S(i.remove)&&S(i.add)&&S(i.unsubscribe)}function di(i){S(i)?i():i.unsubscribe()}const $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},he={setTimeout(i,t,...e){const{delegate:n}=he;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=he;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function be(i){he.setTimeout(()=>{const{onUnhandledError:t}=$t;if(!t)throw i;t(i)})}function ze(){}const At=vi("C",void 0,void 0);function vi(i,t,e){return{kind:i,value:t,error:e}}let xt=null;function Rt(i){if($t.useDeprecatedSynchronousErrorHandling){const t=!xt;if(t&&(xt={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=xt;if(xt=null,e)throw n}}else i()}class ar extends Mt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,hn(t)&&t.add(this)):this.destination=nn}static create(t,e,n){return new Ar(t,e,n)}next(t){this.isStopped?ue(function or(i){return vi("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ue(function si(i){return vi("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ue(At,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yi=Function.prototype.bind;function bi(i,t){return Yi.call(i,t)}class Oi{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Nt(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Nt(n)}else Nt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Nt(e)}}}class Ar extends ar{constructor(t,e,n){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&bi(t.next,o),error:t.error&&bi(t.error,o),complete:t.complete&&bi(t.complete,o)}):r=t}this.destination=new Oi(r)}}function Nt(i){$t.useDeprecatedSynchronousErrorHandling?function sr(i){$t.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=i)}(i):be(i)}function ue(i,t){const{onStoppedNotification:e}=$t;e&&he.setTimeout(()=>e(i,t))}const nn={closed:!0,next:ze,error:function Gn(i){throw i},complete:ze},Zi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mn(i){return i}function cs(i){return 0===i.length?Mn:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}let Lt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function M(i){return i&&i instanceof ar||function ls(i){return i&&S(i.next)&&S(i.error)&&S(i.complete)}(i)&&hn(i)}(e)?e:new Ar(e,n,r);return Rt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=Ms(n))((r,o)=>{const s=new Ar({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[Zi](){return this}pipe(...e){return cs(e)(this)}toPromise(e){return new(e=Ms(e))((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function Ms(i){var t;return null!==(t=i??$t.Promise)&&void 0!==t?t:Promise}const ne=ht(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class i extends Lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new ce(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new ne}next(e){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?qi:(this.currentObservers=null,o.push(e),new Mt(()=>{this.currentObservers=null,ft(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new Lt;return e.source=this,e}}return i.create=(t,e)=>new ce(t,e),i})();class ce extends G{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:qi}}function me(i){return S(i?.lift)}function X(i){return t=>{if(me(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(i,t,e,n,r){return new oi(i,t,e,n,r)}class oi extends ar{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(i,t){return X((e,n)=>{let r=0;e.subscribe(Te(n,o=>{n.next(i.call(t,o,r++))}))})}var Xe=dt(582);const ei=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function zi(i){return S(i?.then)}function Ci(i){return S(i[Zi])}function Ln(i){return Symbol.asyncIterator&&S(i?.[Symbol.asyncIterator])}function fi(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ii=function Vn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vt(i){return S(i?.[Ii])}function ds(i){return(0,Xe.FC)(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield(0,Xe.qq)(e.read());if(r)return yield(0,Xe.qq)(void 0);yield yield(0,Xe.qq)(n)}}finally{e.releaseLock()}})}function As(i){return S(i?.getReader)}function Ki(i){if(i instanceof Lt)return i;if(null!=i){if(Ci(i))return function Js(i){return new Lt(t=>{const e=i[Zi]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(ei(i))return function sc(i){return new Lt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(zi(i))return function no(i){return new Lt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,be)})}(i);if(Ln(i))return Qi(i);if(Vt(i))return function ea(i){return new Lt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(As(i))return function Wr(i){return Qi(ds(i))}(i)}throw fi(i)}function Qi(i){return new Lt(t=>{(function Gr(i,t){var e,n,r,o;return(0,Xe.mG)(this,void 0,void 0,function*(){try{for(e=(0,Xe.KL)(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function fr(i,t,e,n=0,r=!1){const o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function yi(i,t,e=1/0){return S(t)?yi((n,r)=>Ie((o,s)=>t(n,o,r,s))(Ki(i(n,r))),e):("number"==typeof t&&(e=t),X((n,r)=>function Co(i,t,e,n,r,o,s,a){const c=[];let l=0,u=0,m=!1;const _=()=>{m&&!c.length&&!l&&t.complete()},v=E=>l<n?x(E):c.push(E),x=E=>{o&&t.next(E),l++;let k=!1;Ki(e(E,u++)).subscribe(Te(t,O=>{r?.(O),o?v(O):t.next(O)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<n;){const O=c.shift();s?fr(t,s,()=>x(O)):x(O)}_()}catch(O){t.error(O)}}))};return i.subscribe(Te(t,v,()=>{m=!0,_()})),()=>{a?.()}}(n,r,i,e)))}function ro(i=1/0){return yi(Mn,i)}const mn=new Lt(i=>i.complete());function gr(i){return i&&S(i.schedule)}function Vo(i){return i[i.length-1]}function Bo(i){return S(Vo(i))?i.pop():void 0}function ia(i){return gr(Vo(i))?i.pop():void 0}function rn(i,t=0){return X((e,n)=>{e.subscribe(Te(n,r=>fr(n,i,()=>n.next(r),t),()=>fr(n,i,()=>n.complete(),t),r=>fr(n,i,()=>n.error(r),t)))})}function qr(i,t=0){return X((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function Yt(i,t){if(!i)throw new Error("Iterable cannot be null");return new Lt(e=>{fr(e,t,()=>{const n=i[Symbol.asyncIterator]();fr(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function B(i,t){return t?function N(i,t){if(null!=i){if(Ci(i))return function Bn(i,t){return Ki(i).pipe(qr(t),rn(t))}(i,t);if(ei(i))return function al(i,t){return new Lt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(zi(i))return function Rs(i,t){return Ki(i).pipe(qr(t),rn(t))}(i,t);if(Ln(i))return Yt(i,t);if(Vt(i))return function ac(i,t){return new Lt(e=>{let n;return fr(e,t,()=>{n=i[Ii](),fr(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>S(n?.return)&&n.return()})}(i,t);if(As(i))return function L(i,t){return Yt(ds(i),t)}(i,t)}throw fi(i)}(i,t):Ki(i)}function J(...i){const t=ia(i),e=function qn(i,t){return"number"==typeof Vo(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?Ki(n[0]):ro(e)(B(n,t)):mn}class $ extends G{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function ie(...i){return B(i,ia(i))}function mt(i={}){const{connector:t=(()=>new G),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,c,l=0,u=!1,m=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),s=c=void 0,u=m=!1},x=()=>{const E=s;v(),E?.unsubscribe()};return X((E,k)=>{l++,!m&&!u&&_();const O=c=c??t();k.add(()=>{l--,0===l&&!m&&!u&&(a=Dt(x,r))}),O.subscribe(k),!s&&l>0&&(s=new Ar({next:R=>O.next(R),error:R=>{m=!0,_(),a=Dt(v,e,R),O.error(R)},complete:()=>{u=!0,_(),a=Dt(v,n),O.complete()}}),Ki(E).subscribe(s))})(o)}}function Dt(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new Ar({next:()=>{n.unsubscribe(),i()}});return Ki(t(...e)).subscribe(n)}function gt(i,t){return X((e,n)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&n.complete();e.subscribe(Te(n,c=>{r?.unsubscribe();let l=0;const u=o++;Ki(i(c,u)).subscribe(r=Te(n,m=>n.next(t?t(c,m,u,l++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hi(i,t=Mn){return i=i??zn,X((e,n)=>{let r,o=!0;e.subscribe(Te(n,s=>{const a=t(s);(o||!i(r,a))&&(o=!1,r=a,n.next(s))}))})}function zn(i,t){return i===t}function Be(i){for(let t in i)if(i[t]===Be)return t;throw Error("Could not find renamed property on target object.")}function Hn(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function Si(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Si).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function zo(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const pd=Be({__forward_ref__:Be});function Y(i){return i.__forward_ref__=Y,i.toString=function(){return Si(this())},i}function j(i){return ge(i)?i():i}function ge(i){return"function"==typeof i&&i.hasOwnProperty(pd)&&i.__forward_ref__===Y}function He(i){return i&&!!i.\u0275providers}const ti="https://g.co/ng/security#xss";class Z extends Error{constructor(t,e){super(function Xi(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ue(i){return"string"==typeof i?i:null==i?"":String(i)}function cl(i,t){throw new Z(-201,!1)}function _r(i,t){null==i&&function nt(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function pe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function De(i){return{providers:i.providers||[],imports:i.imports||[]}}function cc(i){return nh(i,ll)||nh(i,sp)}function nh(i,t){return i.hasOwnProperty(t)?i[t]:null}function us(i){return i&&(i.hasOwnProperty(lc)||i.hasOwnProperty(rh))?i[lc]:null}const ll=Be({\u0275prov:Be}),lc=Be({\u0275inj:Be}),sp=Be({ngInjectableDef:Be}),rh=Be({ngInjectorDef:Be});var ii=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(ii||{});let dl;function vr(i){const t=dl;return dl=i,t}function cp(i,t,e){const n=cc(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&ii.Optional?null:void 0!==t?t:void cl(Si(i))}const Ei=globalThis;class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yn={},hl="__NG_DI_FLAG__",ml="ngTempTokenPath",L_=/\n/gm,mp="__source";let oa;function hs(i){const t=oa;return oa=i,t}function B_(i,t=ii.Default){if(void 0===oa)throw new Z(-203,!1);return null===oa?cp(i,void 0,t):oa.get(i,t&ii.Optional?null:void 0,t)}function H(i,t=ii.Default){return(function ap(){return dl}()||B_)(j(i),t)}function ye(i,t=ii.Default){return H(i,pl(t))}function pl(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function ch(i){const t=[];for(let e=0;e<i.length;e++){const n=j(i[e]);if(Array.isArray(n)){if(0===n.length)throw new Z(900,!1);let r,o=ii.Default;for(let s=0;s<n.length;s++){const a=n[s],c=mw(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(H(r,o))}else t.push(H(n))}return t}function br(i,t){return i[hl]=t,i.prototype[hl]=t,i}function mw(i){return i[hl]}function Yr(i){return{toString:i}.toString()}var Ps=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Ps||{}),ao=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(ao||{});const To={},Kt=[],vd=Be({\u0275cmp:Be}),sa=Be({\u0275dir:Be}),lh=Be({\u0275pipe:Be}),fl=Be({\u0275mod:Be}),ms=Be({\u0275fac:Be}),uc=Be({__NG_ELEMENT_ID__:Be}),bd=Be({__NG_ENV_ID__:Be});function co(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function yd(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],s=e[n++],a=e[n++];i.setAttribute(t,s,a,o)}else{const o=r,s=e[++n];gl(o)?i.setProperty(t,o,s):i.setAttribute(t,o,s),n++}}return n}function pp(i){return 3===i||4===i||6===i}function gl(i){return 64===i.charCodeAt(0)}function Os(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||hc(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function hc(i,t,e,n,r){let o=0,s=i.length;if(-1===t)s=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(i[o+1]=r));if(n===i[o+1])return void(i[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==s&&(i.splice(s,0,t),o=s+1),i.splice(o++,0,e),null!==n&&i.splice(o++,0,n),null!==r&&i.splice(o++,0,r)}const dh="ng-template";function z_(i,t,e){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if("string"==typeof o&&r){const s=i[n++];if(e&&"class"===o&&-1!==co(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;n<i.length&&"string"==typeof(o=i[n++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function wd(i){return 4===i.type&&i.value!==dh}function xd(i,t,e){return t===(4!==i.type||e?i.value:dh)}function uh(i,t,e){let n=4;const r=i.attrs||[],o=function vl(i){for(let t=0;t<i.length;t++)if(pp(i[t]))return t;return i.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&n){if(n=2|1&n,""!==c&&!xd(i,c,e)||""===c&&1===t.length){if(yr(n))return!1;s=!0}}else{const l=8&n?c:t[++a];if(8&n&&null!==i.attrs){if(!z_(i.attrs,l,e)){if(yr(n))return!1;s=!0}continue}const m=Cd(8&n?"class":c,r,wd(i),e);if(-1===m){if(yr(n))return!1;s=!0;continue}if(""!==l){let _;_=m>o?"":r[m+1].toLowerCase();const v=8&n?_:null;if(v&&-1!==co(v,l,0)||2&n&&l!==_){if(yr(n))return!1;s=!0}}}}else{if(!s&&!yr(n)&&!yr(c))return!1;if(s&&yr(c))continue;s=!1,n=c|1&n}}return yr(n)||s}function yr(i){return 0==(1&i)}function Cd(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===i)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function hh(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function Ed(i,t,e=!1){for(let n=0;n<t.length;n++)if(uh(i,t[n],e))return!0;return!1}function bl(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function yl(i,t){return i?":not("+t.trim()+")":t}function mh(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let s=i[e];if("string"==typeof s)if(2&n){const a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+s:4&n&&(r+=" "+s);else""!==r&&!yr(s)&&(t+=yl(o,r),r=""),n=s,o=o||!yr(n);e++}return""!==r&&(t+=yl(o,r)),t}function pt(i){return Yr(()=>{const t=Id(i),e={...t,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ps.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||ao.Emulated,styles:i.styles||Kt,_:null,schemas:i.schemas||null,tView:null,id:""};fh(e);const n=i.dependencies;return e.directiveDefs=mc(n,!1),e.pipeDefs=mc(n,!0),e.id=function _h(i){let t=0;const e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function kd(i){return ni(i)||An(i)}function gp(i){return null!==i}function Ee(i){return Yr(()=>({type:i.type,bootstrap:i.bootstrap||Kt,declarations:i.declarations||Kt,imports:i.imports||Kt,exports:i.exports||Kt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Dd(i,t){if(null==i)return To;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}function re(i){return Yr(()=>{const t=Id(i);return fh(t),t})}function Zn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ni(i){return i[vd]||null}function An(i){return i[sa]||null}function Pr(i){return i[lh]||null}function lo(i,t){const e=i[fl]||null;if(!e&&!0===t)throw new Error(`Type ${Si(i)} does not have '\u0275mod' property.`);return e}function Id(i){const t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||To,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Kt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dd(i.inputs,t),outputs:Dd(i.outputs)}}function fh(i){i.features?.forEach(t=>t(i))}function mc(i,t){if(!i)return null;const e=t?Pr:kd;return()=>("function"==typeof i?i():i).map(n=>e(n)).filter(gp)}const on=0,Se=1,Pt=2,Ni=3,Uo=4,xl=5,wn=6,pc=7,xn=8,ps=9,fc=10,bt=11,Cl=12,Sd=13,gc=14,sn=15,_c=16,Ns=17,fs=18,La=19,_p=20,jo=21,$o=22,El=23,vc=24,Wt=25,Fs=1,vh=2,gs=7,bc=9,cr=11;function uo(i){return Array.isArray(i)&&"object"==typeof i[Fs]}function Zr(i){return Array.isArray(i)&&!0===i[Fs]}function Wo(i){return 0!=(4&i.flags)}function ca(i){return i.componentOffset>-1}function Ad(i){return 1==(1&i.flags)}function _s(i){return!!i.template}function vp(i){return 0!=(512&i[Pt])}function w(i,t){return i.hasOwnProperty(ms)?i[ms]:null}let at=null,St=!1;function mi(i){const t=at;return at=i,t}const Ui={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wp(i){if(!xc(i)||i.dirty){if(!i.producerMustRecompute(i)&&!kw(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Tw(i){i.dirty=!0,function Ew(i){if(void 0===i.liveConsumerNode)return;const t=St;St=!0;try{for(const e of i.liveConsumerNode)e.dirty||Tw(e)}finally{St=t}}(i),i.consumerMarkedDirty?.(i)}function H_(i){return i&&(i.nextProducerIndex=0),mi(i)}function xp(i,t){if(mi(t),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(xc(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)wc(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function kw(i){Od(i);for(let t=0;t<i.producerNode.length;t++){const e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(wp(e),n!==e.version))return!0}return!1}function xh(i){if(Od(i),xc(i))for(let t=0;t<i.producerNode.length;t++)wc(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function wc(i,t){if(function Cp(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Od(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)wc(i.producerNode[n],i.producerIndexOfThis[n]);const e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];Od(r),r.producerIndexOfThis[n]=t}}function xc(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Od(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Sw=null;const Rw=()=>{},QD=(()=>({...Ui,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Rw}))();class XD{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Kn(){return Pw}function Pw(i){return i.type.prototype.ngOnChanges&&(i.setInput=eI),JD}function JD(){const i=Ow(this),t=i?.current;if(t){const e=i.previous;if(e===To)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function eI(i,t,e,n){const r=this.declaredInputs[e],o=Ow(i)||function W_(i,t){return i[Tp]=t}(i,{previous:To,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new XD(c&&c.currentValue,t,a===To),i[n]=t}Kn.ngInherit=!0;const Tp="__ngSimpleChanges__";function Ow(i){return i[Tp]||null}const la=function(i,t,e){};function Fi(i){for(;Array.isArray(i);)i=i[on];return i}function Fd(i,t){return Fi(t[i])}function wr(i,t){return Fi(t[i.index])}function Dp(i,t){return i.data[t]}function qo(i,t){const e=t[i];return uo(e)?e:e[on]}function Cc(i,t){return null==t?null:i[t]}function Fw(i){i[Ns]=0}function K_(i){1024&i[Pt]||(i[Pt]|=1024,Ip(i,1))}function Lw(i){1024&i[Pt]&&(i[Pt]&=-1025,Ip(i,-1))}function Ip(i,t){let e=i[Ni];if(null===e)return;e[xl]+=t;let n=e;for(e=e[Ni];null!==e&&(1===t&&1===n[xl]||-1===t&&0===n[xl]);)e[xl]+=t,n=e,e=e[Ni]}const yt={lFrame:$w(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mp(){return yt.bindingsEnabled}function Ec(){return null!==yt.skipHydrationRootTNode}function fe(){return yt.lFrame.lView}function ui(){return yt.lFrame.tView}function lr(){let i=Uw();for(;null!==i&&64===i.type;)i=i.parent;return i}function Uw(){return yt.lFrame.currentTNode}function vs(i,t){const e=yt.lFrame;e.currentTNode=i,e.isParent=t}function ev(){return yt.lFrame.isParent}function kh(){yt.lFrame.isParent=!1}function Or(){const i=yt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function Il(){return yt.lFrame.bindingIndex++}function rv(i,t){const e=yt.lFrame;e.bindingIndex=e.bindingRootIndex=i,ov(t)}function ov(i){yt.lFrame.currentDirectiveIndex=i}function Rp(){return yt.lFrame.currentQueryIndex}function av(i){yt.lFrame.currentQueryIndex=i}function dI(i){const t=i[Se];return 2===t.type?t.declTNode:1===t.type?i[wn]:null}function cv(i,t,e){if(e&ii.SkipSelf){let r=t,o=i;for(;!(r=r.parent,null!==r||e&ii.Host||(r=dI(o),null===r||(o=o[gc],10&r.type))););if(null===r)return!1;t=r,i=o}const n=yt.lFrame=Dh();return n.currentTNode=t,n.lView=i,!0}function lv(i){const t=Dh(),e=i[Se];yt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Dh(){const i=yt.lFrame,t=null===i?null:i.child;return null===t?$w(i):t}function $w(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function Ww(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Gw=Ww;function dv(){const i=Ww();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ho(){return yt.lFrame.selectedIndex}function Sl(i){yt.lFrame.selectedIndex=i}function an(){const i=yt.lFrame;return Dp(i.tView,i.selectedIndex)}function Tc(){yt.lFrame.currentNamespace="svg"}function Vd(){!function pI(){yt.lFrame.currentNamespace=null}()}let uv=!0;function Pp(){return uv}function kc(i){uv=i}function Op(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),c&&(i.viewHooks??=[]).push(-e,c),l&&((i.viewHooks??=[]).push(e,l),(i.viewCheckHooks??=[]).push(e,l)),null!=u&&(i.destroyHooks??=[]).push(e,u)}}function Np(i,t,e){Yw(i,t,3,e)}function Bd(i,t,e,n){(3&i[Pt])===e&&Yw(i,t,e,n)}function Ih(i,t){let e=i[Pt];(3&e)===t&&(e&=8191,e+=1,i[Pt]=e)}function Yw(i,t,e,n){const o=n??-1,s=t.length-1;let a=0;for(let c=void 0!==n?65535&i[Ns]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=n&&a>=n)break}else t[c]<0&&(i[Ns]+=65536),(a<o||-1==o)&&(gI(i,e,t,c),i[Ns]=(4294901760&i[Ns])+c+2),c++}function Fp(i,t){la(4,i,t);const e=mi(null);try{t.call(i)}finally{mi(e),la(5,i,t)}}function gI(i,t,e,n){const r=e[n]<0,o=e[n+1],a=i[r?-e[n]:e[n]];r?i[Pt]>>13<i[Ns]>>16&&(3&i[Pt])===t&&(i[Pt]+=8192,Fp(a,o)):Fp(a,o)}const Ml=-1;class Sh{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function mv(i){return i!==Ml}function Mh(i){return 32767&i}function Ah(i,t){let e=function bI(i){return i>>16}(i),n=t;for(;e>0;)n=n[gc],e--;return n}let pv=!0;function Rh(i){const t=pv;return pv=i,t}const yI=255,Dc=5;let wI=0;const ua={};function Vp(i,t){const e=Xw(i,t);if(-1!==e)return e;const n=t[Se];n.firstCreatePass&&(i.injectorIndex=t.length,Ph(n.data,i),Ph(t,null),Ph(n.blueprint,null));const r=Bp(i,t),o=i.injectorIndex;if(mv(r)){const s=Mh(r),a=Ah(r,t),c=a[Se].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Ph(i,t){i.push(0,0,0,0,0,0,0,0,t)}function Xw(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function Bp(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=rx(r),null===n)return Ml;if(e++,r=r[gc],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return Ml}function Oh(i,t,e){!function fv(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(uc)&&(n=e[uc]),null==n&&(n=e[uc]=wI++);const r=n&yI;t.data[i+(r>>Dc)]|=1<<r}(i,t,e)}function Jw(i,t,e){if(e&ii.Optional||void 0!==i)return i;cl()}function zp(i,t,e,n){if(e&ii.Optional&&void 0===n&&(n=null),!(e&(ii.Self|ii.Host))){const r=i[ps],o=vr(void 0);try{return r?r.get(t,n,e&ii.Optional):cp(t,n,e&ii.Optional)}finally{vr(o)}}return Jw(n,0,e)}function ex(i,t,e,n=ii.Default,r){if(null!==i){if(2048&t[Pt]&&!(n&ii.Self)){const s=function TI(i,t,e,n,r){let o=i,s=t;for(;null!==o&&null!==s&&2048&s[Pt]&&!(512&s[Pt]);){const a=tx(o,s,e,n|ii.Self,ua);if(a!==ua)return a;let c=o.parent;if(!c){const l=s[_p];if(l){const u=l.get(e,ua,n);if(u!==ua)return u}c=rx(s),s=s[gc]}o=c}return r}(i,t,e,n,ua);if(s!==ua)return s}const o=tx(i,t,e,n,ua);if(o!==ua)return o}return zp(t,e,n,r)}function tx(i,t,e,n,r){const o=function ix(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(uc)?i[uc]:void 0;return"number"==typeof t?t>=0?t&yI:EI:t}(e);if("function"==typeof o){if(!cv(t,i,n))return n&ii.Host?Jw(r,0,n):zp(t,e,n,r);try{let s;if(s=o(n),null!=s||n&ii.Optional)return s;cl()}finally{Gw()}}else if("number"==typeof o){let s=null,a=Xw(i,t),c=Ml,l=n&ii.Host?t[sn][wn]:null;for((-1===a||n&ii.SkipSelf)&&(c=-1===a?Bp(i,t):t[a+8],c!==Ml&&nx(n,!1)?(s=t[Se],a=Mh(c),t=Ah(c,t)):a=-1);-1!==a;){const u=t[Se];if(Up(o,a,u.data)){const m=CI(a,t,e,s,n,l);if(m!==ua)return m}c=t[a+8],c!==Ml&&nx(n,t[Se].data[a+8]===l)&&Up(o,a,t)?(s=u,a=Mh(c),t=Ah(c,t)):a=-1}}return r}function CI(i,t,e,n,r,o){const s=t[Se],a=s.data[i+8],u=Hp(a,s,e,null==n?ca(a)&&pv:n!=s&&0!=(3&a.type),r&ii.Host&&o===a);return null!==u?Al(t,s,u,a):ua}function Hp(i,t,e,n,r){const o=i.providerIndexes,s=t.data,a=1048575&o,c=i.directiveStart,u=o>>20,_=r?a+u:i.directiveEnd;for(let v=n?a:a+u;v<_;v++){const x=s[v];if(v<c&&e===x||v>=c&&x.type===e)return v}if(r){const v=s[c];if(v&&_s(v)&&v.type===e)return c}return null}function Al(i,t,e,n){let r=i[e];const o=t.data;if(function hv(i){return i instanceof Sh}(r)){const s=r;s.resolving&&function Eo(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Zt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ue(i)}(o[e]));const a=Rh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?vr(s.injectImpl):null;cv(i,n,ii.Default);try{r=i[e]=s.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&function fI(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){const s=Pw(t);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}(e,o[e],t)}finally{null!==l&&vr(l),Rh(a),s.resolving=!1,Gw()}}return r}function Up(i,t,e){return!!(e[t+(i>>Dc)]&1<<i)}function nx(i,t){return!(i&ii.Self||i&ii.Host&&t)}class Nr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return ex(this._tNode,this._lView,t,pl(n),e)}}function EI(){return new Nr(lr(),fe())}function Ct(i){return Yr(()=>{const t=i.prototype.constructor,e=t[ms]||zd(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const o=r[ms]||zd(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function zd(i){return ge(i)?()=>{const t=zd(j(i));return t&&t()}:w(i)}function rx(i){const t=i[Se],e=t.type;return 2===e?t.declTNode:1===e?i[wn]:null}function ko(i){return function xI(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(pp(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(lr(),i)}const Hd="__parameters__";function ha(i,t,e){return Yr(()=>{const n=function _v(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const m=c.hasOwnProperty(Hd)?c[Hd]:Object.defineProperty(c,Hd,{value:[]})[Hd];for(;m.length<=u;)m.push(null);return(m[u]=m[u]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function jd(i,t){i.forEach(e=>Array.isArray(e)?jd(e,t):t(e))}function jp(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function $d(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Lh(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function Zo(i,t,e){let n=Wd(i,t);return n>=0?i[1|n]=e:(n=~n,function Sc(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function vv(i,t){const e=Wd(i,t);if(e>=0)return i[1|e]}function Wd(i,t){return function mo(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const o=n+(r-n>>1),s=i[o<<e];if(t===s)return o<<e;s>t?r=o:n=o+1}return~(r<<e)}(i,t,1)}const Do=br(ha("Optional"),8),Ls=br(ha("SkipSelf"),4);function _x(i){return 128==(128&i.flags)}var qd=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(qd||{});const cQ=/^>|^->|<!--|-->|--!>|<!-$/g,lQ=/(<|>)/g,dQ="\u200b$1\u200b";const LI=new Map;let uQ=0;const BI="__ngContext__";function Io(i,t){uo(t)?(i[BI]=t[La],function mQ(i){LI.set(i[La],i)}(t)):i[BI]=t}let zI;function HI(i,t){return zI(i,t)}function Tv(i){const t=i[Ni];return Zr(t)?t[Ni]:t}function CL(i){return TL(i[Cl])}function EL(i){return TL(i[Uo])}function TL(i){for(;null!==i&&!Zr(i);)i=i[Uo];return i}function Zp(i,t,e,n,r){if(null!=n){let o,s=!1;Zr(n)?o=n:uo(n)&&(s=!0,n=n[on]);const a=Fi(n);0===i&&null!==e?null==r?SL(t,e,a):zh(t,e,a,r||null,!0):1===i&&null!==e?zh(t,e,a,r||null,!0):2===i?function Ex(i,t,e){const n=xx(i,t);n&&function RQ(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,a,s):3===i&&t.destroyNode(a),null!=o&&function NQ(i,t,e,n,r){const o=e[gs];o!==Fi(e)&&Zp(t,i,n,o,r);for(let a=cr;a<e.length;a++){const c=e[a];Dv(c[Se],c,i,t,n,o)}}(t,i,o,e,r)}}function UI(i,t){return i.createComment(function fL(i){return i.replace(cQ,t=>t.replace(lQ,dQ))}(t))}function yx(i,t,e){return i.createElement(t,e)}function DL(i,t){const e=i[bc],n=e.indexOf(t);Lw(t),e.splice(n,1)}function wx(i,t){if(i.length<=cr)return;const e=cr+t,n=i[e];if(n){const r=n[_c];null!==r&&r!==i&&DL(r,n),t>0&&(i[e-1][Uo]=n[Uo]);const o=$d(i,cr+t);!function EQ(i,t){Dv(i,t,t[bt],2,null,null),t[on]=null,t[wn]=null}(n[Se],n);const s=o[fs];null!==s&&s.detachView(o[Se]),n[Ni]=null,n[Uo]=null,n[Pt]&=-129}return n}function jI(i,t){if(!(256&t[Pt])){const e=t[bt];t[El]&&xh(t[El]),t[vc]&&xh(t[vc]),e.destroyNode&&Dv(i,t,e,3,null,null),function DQ(i){let t=i[Cl];if(!t)return $I(i[Se],i);for(;t;){let e=null;if(uo(t))e=t[Cl];else{const n=t[cr];n&&(e=n)}if(!e){for(;t&&!t[Uo]&&t!==i;)uo(t)&&$I(t[Se],t),t=t[Ni];null===t&&(t=i),uo(t)&&$I(t[Se],t),e=t&&t[Uo]}t=e}}(t)}}function $I(i,t){if(!(256&t[Pt])){t[Pt]&=-129,t[Pt]|=256,function AQ(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof Sh)){const o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];la(4,a,c);try{c.call(a)}finally{la(5,a,c)}}else{la(4,r,o);try{o.call(r)}finally{la(5,r,o)}}}}}(i,t),function MQ(i,t){const e=i.cleanup,n=t[pc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else e[o].call(n[e[o+1]]);null!==n&&(t[pc]=null);const r=t[jo];if(null!==r){t[jo]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(i,t),1===t[Se].type&&t[bt].destroy();const e=t[_c];if(null!==e&&Zr(t[Ni])){e!==t[Ni]&&DL(e,t);const n=t[fs];null!==n&&n.detachView(i)}!function pQ(i){LI.delete(i[La])}(t)}}function WI(i,t,e){return function IL(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[on];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=i.data[n.directiveStart+r];if(o===ao.None||o===ao.Emulated)return null}return wr(n,e)}}(i,t.parent,e)}function zh(i,t,e,n,r){i.insertBefore(t,e,n,r)}function SL(i,t,e){i.appendChild(t,e)}function ML(i,t,e,n,r){null!==n?zh(i,t,e,n,r):SL(i,t,e)}function xx(i,t){return i.parentNode(t)}function AL(i,t,e){return PL(i,t,e)}let GI,Tx,KI,kx,PL=function RL(i,t,e){return 40&i.type?wr(i,e):null};function Cx(i,t,e,n){const r=WI(i,n,t),o=t[bt],a=AL(n.parent||t[wn],n,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)ML(o,r,e[c],a,!1);else ML(o,r,e,a,!1);void 0!==GI&&GI(o,n,t,e,r)}function kv(i,t){if(null!==t){const e=t.type;if(3&e)return wr(t,i);if(4&e)return qI(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return kv(i,n);{const r=i[t.index];return Zr(r)?qI(-1,r):Fi(r)}}if(32&e)return HI(t,i)()||Fi(i[t.index]);{const n=NL(i,t);return null!==n?Array.isArray(n)?n[0]:kv(Tv(i[sn]),n):kv(i,t.next)}}return null}function NL(i,t){return null!==t?i[sn][wn].projection[t.projection]:null}function qI(i,t){const e=cr+i+1;if(e<t.length){const n=t[e],r=n[Se].firstChild;if(null!==r)return kv(n,r)}return t[gs]}function YI(i,t,e,n,r,o,s){for(;null!=e;){const a=n[e.index],c=e.type;if(s&&0===t&&(a&&Io(Fi(a),n),e.flags|=2),32!=(32&e.flags))if(8&c)YI(i,t,e.child,n,r,o,!1),Zp(t,i,r,a,o);else if(32&c){const l=HI(e,n);let u;for(;u=l();)Zp(t,i,r,u,o);Zp(t,i,r,a,o)}else 16&c?LL(i,t,n,e,r,o):Zp(t,i,r,a,o);e=s?e.projectionNext:e.next}}function Dv(i,t,e,n,r,o){YI(e,n,i.firstChild,t,r,o,!1)}function LL(i,t,e,n,r,o){const s=e[sn],c=s[wn].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zp(t,i,r,c[l],o);else{let l=c;const u=s[Ni];_x(n)&&(l.flags|=128),YI(i,t,l,u,r,o,!0)}}function VL(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function BL(i,t,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&yd(i,t,n),null!==r&&VL(i,t,r),null!==o&&function LQ(i,t,e){i.setAttribute(t,"style",e)}(i,t,o)}function Kp(i){return function ZI(){if(void 0===Tx&&(Tx=null,Ei.trustedTypes))try{Tx=Ei.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Tx}()?.createHTML(i)||i}function UL(i){return function QI(){if(void 0===kx&&(kx=null,Ei.trustedTypes))try{kx=Ei.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return kx}()?.createScriptURL(i)||i}class Hh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ti})`}}class UQ extends Hh{getTypeName(){return"HTML"}}class jQ extends Hh{getTypeName(){return"Style"}}class $Q extends Hh{getTypeName(){return"Script"}}class WQ extends Hh{getTypeName(){return"URL"}}class GQ extends Hh{getTypeName(){return"ResourceURL"}}function Bs(i){return i instanceof Hh?i.changingThisBreaksApplicationSecurity:i}function Mc(i,t){const e=function qQ(i){return i instanceof Hh&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ti})`)}return e===t}class JQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Kp(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class eX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Kp(t),e}}const iX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dx(i){return(i=String(i)).match(iX)?i:"unsafe:"+i}function Pl(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Iv(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const $L=Pl("area,br,col,hr,img,wbr"),WL=Pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),GL=Pl("rp,rt"),XI=Iv($L,Iv(WL,Pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iv(GL,Pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iv(GL,WL)),JI=Pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qL=Iv(JI,Pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nX=Pl("script,style,template");class rX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!XI.hasOwnProperty(e))return this.sanitizedSomething=!0,!nX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),s=o.name,a=s.toLowerCase();if(!qL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;JI[a]&&(c=Dx(c)),this.buf.push(" ",s,'="',YL(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();XI.hasOwnProperty(e)&&!$L.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(YL(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const oX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sX=/([^\#-~ |!])/g;function YL(i){return i.replace(/&/g,"&amp;").replace(oX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(sX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ix;function ZL(i,t){let e=null;try{Ix=Ix||function jL(i){const t=new eX(i);return function tX(){try{return!!(new window.DOMParser).parseFromString(Kp(""),"text/html")}catch{return!1}}()?new JQ(t):t}(i);let n=t?String(t):"";e=Ix.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=Ix.getInertBodyElement(n)}while(n!==o);return Kp((new rX).sanitizeChildren(eS(e)||e))}finally{if(e){const n=eS(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function eS(i){return"content"in i&&function aX(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var po=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(po||{});function KL(i){const t=Sv();return t?t.sanitize(po.URL,i)||"":Mc(i,"URL")?Bs(i):Dx(Ue(i))}function QL(i){const t=Sv();if(t)return UL(t.sanitize(po.RESOURCE_URL,i)||"");if(Mc(i,"ResourceURL"))return UL(Bs(i));throw new Z(904,!1)}function Sv(){const i=fe();return i&&i[fc].sanitizer}const Mv=new W("ENVIRONMENT_INITIALIZER"),JL=new W("INJECTOR",-1),eV=new W("INJECTOR_DEF_TYPES");class tS{get(t,e=Yn){if(e===Yn){const n=new Error(`NullInjectorError: No provider for ${Si(t)}!`);throw n.name="NullInjectorError",n}return e}}function pX(...i){return{\u0275providers:tV(0,i),\u0275fromNgModule:!0}}function tV(i,...t){const e=[],n=new Set;let r;const o=s=>{e.push(s)};return jd(t,s=>{const a=s;Sx(a,o,[],n)&&(r||=[],r.push(a))}),void 0!==r&&iV(r,o),e}function iV(i,t){for(let e=0;e<i.length;e++){const{ngModule:n,providers:r}=i[e];nS(r,o=>{t(o,n)})}}function Sx(i,t,e,n){if(!(i=j(i)))return!1;let r=null,o=us(i);const s=!o&&ni(i);if(o||s){if(s&&!s.standalone)return!1;r=i}else{const c=i.ngModule;if(o=us(c),!o)return!1;r=c}const a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Sx(l,t,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;n.add(r);try{jd(o.imports,u=>{Sx(u,t,e,n)&&(l||=[],l.push(u))})}finally{}void 0!==l&&iV(l,t)}if(!a){const l=w(r)||(()=>new r);t({provide:r,useFactory:l,deps:Kt},r),t({provide:eV,useValue:r,multi:!0},r),t({provide:Mv,useValue:()=>H(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=i;nS(c,u=>{t(u,l)})}}}return r!==i&&void 0!==i.providers}function nS(i,t){for(let e of i)He(e)&&(e=e.\u0275providers),Array.isArray(e)?nS(e,t):t(e)}const fX=Be({provide:String,useValue:Be});function rS(i){return null!==i&&"object"==typeof i&&fX in i}function Uh(i){return"function"==typeof i}const oS=new W("Set Injector scope."),Mx={},_X={};let sS;function Ax(){return void 0===sS&&(sS=new tS),sS}class zs{}class Xp extends zs{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cS(t,s=>this.processProvider(s)),this.records.set(JL,Jp(void 0,this)),r.has("environment")&&this.records.set(zs,Jp(void 0,this));const o=this.records.get(oS);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eV.multi,Kt,ii.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=hs(this),n=vr(void 0);try{return t()}finally{hs(e),vr(n)}}get(t,e=Yn,n=ii.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(bd))return t[bd](this);n=pl(n);const o=hs(this),s=vr(void 0);try{if(!(n&ii.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function xX(i){return"function"==typeof i||"object"==typeof i&&i instanceof W}(t)&&cc(t);c=l&&this.injectableDefInScope(l)?Jp(aS(t),Mx):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(n&ii.Self?Ax():this.parent).get(t,e=n&ii.Optional&&e===Yn?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ml]=a[ml]||[]).unshift(Si(t)),o)throw a;return function _d(i,t,e,n){const r=i[ml];throw t[mp]&&r.unshift(t[mp]),i.message=function so(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=Si(t);if(Array.isArray(t))r=t.map(Si).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Si(a)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(L_,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[ml]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{vr(s),hs(o)}}resolveInjectorInitializers(){const t=hs(this),e=vr(void 0);try{const r=this.get(Mv.multi,Kt,ii.Self);for(const o of r)o()}finally{hs(t),vr(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Si(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(t){let e=Uh(t=j(t))?t:j(t&&t.provide);const n=function bX(i){return rS(i)?Jp(void 0,i.useValue):Jp(oV(i),Mx)}(t);if(Uh(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Jp(void 0,Mx,!0),r.factory=()=>ch(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===Mx&&(e.value=_X,e.value=e.factory()),"object"==typeof e.value&&e.value&&function wX(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=j(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function aS(i){const t=cc(i),e=null!==t?t.factory:w(i);if(null!==e)return e;if(i instanceof W)throw new Z(204,!1);if(i instanceof Function)return function vX(i){const t=i.length;if(t>0)throw Lh(t,"?"),new Z(204,!1);const e=function F_(i){return i&&(i[ll]||i[sp])||null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new Z(204,!1)}function oV(i,t,e){let n;if(Uh(i)){const r=j(i);return w(r)||aS(r)}if(rS(i))n=()=>j(i.useValue);else if(function rV(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...ch(i.deps||[]));else if(function nV(i){return!(!i||!i.useExisting)}(i))n=()=>H(j(i.useExisting));else{const r=j(i&&(i.useClass||i.provide));if(!function yX(i){return!!i.deps}(i))return w(r)||aS(r);n=()=>new r(...ch(i.deps))}return n}function Jp(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function cS(i,t){for(const e of i)Array.isArray(e)?cS(e,t):e&&He(e)?cS(e.\u0275providers,t):t(e)}const Rx=new W("AppId",{providedIn:"root",factory:()=>CX}),CX="ng",sV=new W("Platform Initializer"),ma=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ko=new W("AnimationModuleType"),lS=new W("CSP nonce",{providedIn:"root",factory:()=>function Qp(){if(void 0!==KI)return KI;if(typeof document<"u")return document;throw new Z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let aV=(i,t,e)=>null;function _S(i,t,e=!1){return aV(i,t,e)}class PX{}class dV{}class NX{resolveComponentFactory(t){throw function OX(i){const t=Error(`No component factory found for ${Si(i)}.`);return t.ngComponent=i,t}(t)}}let nf=(()=>{class i{static#e=this.NULL=new NX}return i})();function FX(){return rf(lr(),fe())}function rf(i,t){return new ot(wr(i,t))}let ot=(()=>{class i{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=FX}return i})();function LX(i){return i instanceof ot?i.nativeElement:i}class Pv{}let Ol=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function VX(){const i=fe(),e=qo(lr().index,i);return(uo(e)?e:i)[bt]}()}return i})(),BX=(()=>{class i{static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:()=>null})}return i})();class Yd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hV=new Yd("16.2.12"),yS={};function gV(i,t=null,e=null,n){const r=_V(i,t,e,n);return r.resolveInjectorInitializers(),r}function _V(i,t=null,e=null,n,r=new Set){const o=[e||Kt,pX(i)];return n=n||("object"==typeof i?void 0:Si(i)),new Xp(o,t||Ax(),n||null,r)}let xr=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=Yn;static#t=this.NULL=new tS;static create(e,n){if(Array.isArray(e))return gV({name:""},n,e,"");{const r=e.name??"";return gV({name:r},e.parent,e.providers,r)}}static#i=this.\u0275prov=pe({token:i,providedIn:"any",factory:()=>H(JL)});static#n=this.__NG_ELEMENT_ID__=-1}return i})();function xS(i){return i.ngOriginalError}class pa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&xS(t);for(;e&&xS(e);)e=xS(e);return e||null}}function ES(i){return t=>{setTimeout(i,void 0,t)}}const wt=class GX extends G{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),s=n;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ES(o),r&&(r=ES(r)),s&&(s=ES(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof Mt&&t.add(a),a}};function bV(...i){}class tt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wt(!1),this.onMicrotaskEmpty=new wt(!1),this.onStable=new wt(!1),this.onError=new wt(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function qX(){const i="function"==typeof Ei.requestAnimationFrame;let t=Ei[i?"requestAnimationFrame":"setTimeout"],e=Ei[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function KX(i){const t=()=>{!function ZX(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ei,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,kS(i),i.isCheckStableRunning=!0,TS(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),kS(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,a)=>{if(function XX(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return yV(i),e.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&t(),wV(i)}},onInvoke:(e,n,r,o,s,a,c)=>{try{return yV(i),e.invoke(r,o,s,a,c)}finally{i.shouldCoalesceRunChangeDetection&&t(),wV(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,kS(i),TS(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Z(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,YX,bV,bV);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const YX={};function TS(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function kS(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function yV(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function wV(i){i._nesting--,TS(i)}class QX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wt,this.onMicrotaskEmpty=new wt,this.onStable=new wt,this.onError=new wt}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const xV=new W("",{providedIn:"root",factory:CV});function CV(){const i=ye(tt);let t=!0;return J(new Lt(r=>{t=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Lt(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=i.onUnstable.subscribe(()=>{tt.assertInAngularZone(),t&&(t=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(mt()))}function Nl(i){return i instanceof Function?i():i}let DS=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:()=>new i})}return i})();function Ov(i){for(;i;){i[Pt]|=64;const t=Tv(i);if(vp(i)&&!t)return i;i=t}return null}const IV=new W("",{providedIn:"root",factory:()=>!1});let Bx=null;function RV(i,t){return i[t]??NV()}function PV(i,t){const e=NV();e.producerNode?.length&&(i[t]=Bx,e.lView=i,Bx=OV())}const cJ={...Ui,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Ov(i.lView)},lView:null};function OV(){return Object.create(cJ)}function NV(){return Bx??=OV(),Bx}const Ht={};function xe(i){FV(ui(),fe(),ho()+i,!1)}function FV(i,t,e,n){if(!n)if(3==(3&t[Pt])){const o=i.preOrderCheckHooks;null!==o&&Np(t,o,e)}else{const o=i.preOrderHooks;null!==o&&Bd(t,o,0,e)}Sl(e)}function D(i,t=ii.Default){const e=fe();return null===e?H(i,t):ex(lr(),e,j(i),t)}function Zd(){throw new Error("invalid")}function zx(i,t,e,n,r,o,s,a,c,l,u){const m=t.blueprint.slice();return m[on]=r,m[Pt]=140|n,(null!==l||i&&2048&i[Pt])&&(m[Pt]|=2048),Fw(m),m[Ni]=m[gc]=i,m[xn]=e,m[fc]=s||i&&i[fc],m[bt]=a||i&&i[bt],m[ps]=c||i&&i[ps]||null,m[wn]=o,m[La]=function hQ(){return uQ++}(),m[$o]=u,m[_p]=l,m[sn]=2==t.type?i[sn]:m,m}function cf(i,t,e,n,r){let o=i.data[t];if(null===o)o=function IS(i,t,e,n,r){const o=Uw(),s=ev(),c=i.data[t]=function gJ(i,t,e,n,r,o){let s=t?t.injectorIndex:-1,a=0;return Ec()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(i,t,e,n,r),function cI(){return yt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const s=function Th(){const i=yt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return vs(o,!0),o}function Nv(i,t,e,n){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function LV(i,t,e,n,r){const o=RV(t,El),s=ho(),a=2&n;try{Sl(-1),a&&t.length>Wt&&FV(i,t,Wt,!1),la(a?2:0,r);const l=a?o:null,u=H_(l);try{null!==l&&(l.dirty=!1),e(n,r)}finally{xp(l,u)}}finally{a&&null===t[El]&&PV(t,El),Sl(s),la(a?3:1,r)}}function SS(i,t,e){if(Wo(t)){const n=mi(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=i.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{mi(n)}}}function MS(i,t,e){Mp()&&(function CJ(i,t,e,n){const r=e.directiveStart,o=e.directiveEnd;ca(e)&&function MJ(i,t,e){const n=wr(t,i),r=VV(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Hx(i,zx(i,r,null,s,n,t,null,i[fc].rendererFactory.createRenderer(n,e),null,null,null));i[t.index]=a}(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||Vp(e,t),Io(n,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=i.data[a],l=Al(t,i,a,e);Io(l,t),null!==s&&AJ(0,a-r,l,c,0,s),_s(c)&&(qo(e.index,t)[xn]=Al(t,i,a,e))}}(i,t,e,wr(e,t)),64==(64&e.flags)&&jV(i,t,e))}function AS(i,t,e=wr){const n=t.localNames;if(null!==n){let r=t.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?e(t,i):i[s];i[r++]=a}}}function VV(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=RS(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function RS(i,t,e,n,r,o,s,a,c,l,u){const m=Wt+n,_=m+r,v=function dJ(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:Ht);return e}(m,_),x="function"==typeof l?l():l;return v[Se]={type:i,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:u}}let BV=i=>null;function zV(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=null===e?{}:e;const o=i[r];null===n?HV(e,t,r,o):n.hasOwnProperty(r)&&HV(e,t,n[r],o)}return e}function HV(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function Hs(i,t,e,n,r,o,s,a){const c=wr(t,e);let u,l=t.inputs;!a&&null!=l&&(u=l[n])?(LS(i,e,u,n,r),ca(t)&&function bJ(i,t){const e=qo(t,i);16&e[Pt]||(e[Pt]|=64)}(e,t.index)):3&t.type&&(n=function vJ(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=s?s(r,t.value||"",n):r,o.setProperty(c,n,r))}function PS(i,t,e,n){if(Mp()){const r=null===n?null:{"":-1},o=function TJ(i,t){const e=i.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Ed(t,s.selectors,!1))if(n||(n=[]),_s(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s),OS(i,t,a.length)}else n.unshift(s),OS(i,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return null===n?null:[n,r]}(i,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&UV(i,t,e,s,r,a),r&&function kJ(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new Z(-301,!1);n.push(t[r],o)}}}(e,n,r)}e.mergedAttrs=Os(e.mergedAttrs,e.attrs)}function UV(i,t,e,n,r,o){for(let l=0;l<n.length;l++)Oh(Vp(e,t),i,n[l].type);!function IJ(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}(e,i.data.length,n.length);for(let l=0;l<n.length;l++){const u=n[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Nv(i,t,n.length,null);for(let l=0;l<n.length;l++){const u=n[l];e.mergedAttrs=Os(e.mergedAttrs,u.hostAttrs),SJ(i,e,t,c,u),DJ(c,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const m=u.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function _J(i,t,e){const r=t.directiveEnd,o=i.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<r;u++){const m=o[u],_=e?e.get(m):null,x=_?_.outputs:null;c=zV(m.inputs,u,c,_?_.inputs:null),l=zV(m.outputs,u,l,x);const E=null===c||null===s||wd(t)?null:RJ(c,u,s);a.push(E)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(i,e,o)}function jV(i,t,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,s=function lI(){return yt.lFrame.currentDirectiveIndex}();try{Sl(o);for(let a=n;a<r;a++){const c=i.data[a],l=t[a];ov(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&EJ(c,l)}}finally{Sl(-1),ov(s)}}function EJ(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function OS(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function DJ(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;_s(t)&&(e[""]=i)}}function SJ(i,t,e,n,r){i.data[n]=r;const o=r.factory||(r.factory=w(r.type)),s=new Sh(o,_s(r),D);i.blueprint[n]=s,e[n]=s,function wJ(i,t,e,n,r){const o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;null===s&&(s=i.hostBindingOpCodes=[]);const a=~t.index;(function xJ(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,n,o)}}(i,t,n,Nv(i,e,r.hostVars,Ht),r)}function Ac(i,t,e,n,r,o){const s=wr(i,t);!function NS(i,t,e,n,r,o,s){if(null==o)i.removeAttribute(t,r,e);else{const a=null==s?Ue(o):s(o,n||"",r);i.setAttribute(t,r,a,e)}}(t[bt],s,o,i.value,e,n,r)}function AJ(i,t,e,n,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)$V(n,e,s[a++],s[a++],s[a++])}function $V(i,t,e,n,r){const o=mi(null);try{const s=i.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==i.setInput?i.setInput(t,r,e,n):t[n]=r}finally{mi(o)}}function RJ(i,t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(i.hasOwnProperty(o)){null===n&&(n=[]);const s=i[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function WV(i,t,e,n){return[i,!0,!1,t,null,0,n,e,null,null,null]}function GV(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const o=e[n+1];if(-1!==o){const s=i.data[o];av(e[n]),s.contentQueries(2,t[o],o)}}}function Hx(i,t){return i[Cl]?i[Sd][Uo]=t:i[Cl]=t,i[Sd]=t,t}function FS(i,t,e){av(0);const n=mi(null);try{t(i,e)}finally{mi(n)}}function qV(i){return i[pc]||(i[pc]=[])}function YV(i){return i.cleanup||(i.cleanup=[])}function KV(i,t){const e=i[ps],n=e?e.get(pa,null):null;n&&n.handleError(t)}function LS(i,t,e,n,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];$V(i.data[s],t[s],n,a,r)}}function PJ(i,t){const e=qo(t,i),n=e[Se];!function OJ(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}(n,e);const r=e[on];null!==r&&null===e[$o]&&(e[$o]=_S(r,e[ps])),VS(n,e,e[xn])}function VS(i,t,e){lv(t);try{const n=i.viewQuery;null!==n&&FS(1,n,e);const r=i.template;null!==r&&LV(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&GV(i,t),i.staticViewQueries&&FS(2,i.viewQuery,e);const o=i.components;null!==o&&function NJ(i,t){for(let e=0;e<t.length;e++)PJ(i,t[e])}(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[Pt]&=-5,dv()}}let QV=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(e,n,r){const o=typeof Zone>"u"?null:Zone.current,s=function KD(i,t,e){const n=Object.create(QD);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;const r=s=>{n.cleanupFn=s};return n.ref={notify:()=>Tw(n),run:()=>{if(n.dirty=!1,n.hasRun&&!kw(n))return;n.hasRun=!0;const s=H_(n);try{n.cleanupFn(),n.cleanupFn=Rw,n.fn(r)}finally{xp(n,s)}},cleanup:()=>n.cleanupFn()},n.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=n?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,n]of this.queue)this.queue.delete(e),n?n.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:()=>new i})}return i})();function Ux(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=zo(r,a):2==o&&(n=zo(n,a+": "+t[++s]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}function Fv(i,t,e,n,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&n.push(Fi(o)),Zr(o)&&XV(o,n);const s=e.type;if(8&s)Fv(i,t,e.child,n);else if(32&s){const a=HI(e,t);let c;for(;c=a();)n.push(c)}else if(16&s){const a=NL(t,e);if(Array.isArray(a))n.push(...a);else{const c=Tv(t[sn]);Fv(c[Se],c,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function XV(i,t){for(let e=cr;e<i.length;e++){const n=i[e],r=n[Se].firstChild;null!==r&&Fv(n[Se],n,r,t)}i[gs]!==i[on]&&t.push(i[gs])}function jx(i,t,e,n=!0){const r=t[fc],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{JV(i,t,i.template,e)}catch(c){throw n&&KV(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function JV(i,t,e,n){const r=t[Pt];if(256!=(256&r)){t[fc].effectManager?.flush(),lv(t);try{Fw(t),function iv(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&LV(i,t,e,2,n);const s=3==(3&r);if(s){const l=i.preOrderCheckHooks;null!==l&&Np(t,l,null)}else{const l=i.preOrderHooks;null!==l&&Bd(t,l,0,null),Ih(t,0)}if(function VJ(i){for(let t=CL(i);null!==t;t=EL(t)){if(!t[vh])continue;const e=t[bc];for(let n=0;n<e.length;n++){K_(e[n])}}}(t),eB(t,2),null!==i.contentQueries&&GV(i,t),s){const l=i.contentCheckHooks;null!==l&&Np(t,l)}else{const l=i.contentHooks;null!==l&&Bd(t,l,1),Ih(t,1)}!function lJ(i,t){const e=i.hostBindingOpCodes;if(null===e)return;const n=RV(t,vc);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Sl(~o);else{const s=o,a=e[++r],c=e[++r];rv(a,s),n.dirty=!1;const l=H_(n);try{c(2,t[s])}finally{xp(n,l)}}}}finally{null===t[vc]&&PV(t,vc),Sl(-1)}}(i,t);const a=i.components;null!==a&&iB(t,a,0);const c=i.viewQuery;if(null!==c&&FS(2,c,n),s){const l=i.viewCheckHooks;null!==l&&Np(t,l)}else{const l=i.viewHooks;null!==l&&Bd(t,l,2),Ih(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[Pt]&=-73,Lw(t)}finally{dv()}}}function eB(i,t){for(let e=CL(i);null!==e;e=EL(e))for(let n=cr;n<e.length;n++)tB(e[n],t)}function BJ(i,t,e){tB(qo(t,i),e)}function tB(i,t){if(!function Z_(i){return 128==(128&i[Pt])}(i))return;const e=i[Se],n=i[Pt];if(80&n&&0===t||1024&n||2===t)JV(e,i,e.template,i[xn]);else if(i[xl]>0){eB(i,1);const r=e.components;null!==r&&iB(i,r,1)}}function iB(i,t,e){for(let n=0;n<t.length;n++)BJ(i,t[n],e)}class Lv{get rootNodes(){const t=this._lView,e=t[Se];return Fv(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(t){this._lView[xn]=t}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ni];if(Zr(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(wx(t,n),$d(e,n))}this._attachedToViewContainer=!1}jI(this._lView[Se],this._lView)}onDestroy(t){!function Vw(i,t){if(256==(256&i[Pt]))throw new Z(911,!1);null===i[jo]&&(i[jo]=[]),i[jo].push(t)}(this._lView,t)}markForCheck(){Ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){jx(this._lView[Se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kQ(i,t){Dv(i,t,t[bt],2,null,null)}(this._lView[Se],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=t}}class zJ extends Lv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;jx(t[Se],t,t[xn],!1)}checkNoChanges(){}get context(){return null}}class nB extends nf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ni(t);return new Vv(e,this.ngModule)}}function rB(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class UJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=pl(n);const r=this.injector.get(t,yS,n);return r!==yS||e===yS?r:this.parentInjector.get(t,e,n)}}class Vv extends dV{get inputs(){const t=this.componentDef,e=t.inputTransforms,n=rB(t.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return rB(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Td(i){return i.map(mh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let o=(r=r||this.ngModule)instanceof zs?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new UJ(t,o):t,a=s.get(Pv,null);if(null===a)throw new Z(407,!1);const m={rendererFactory:a,sanitizer:s.get(BX,null),effectManager:s.get(QV,null),afterRenderEventManager:s.get(DS,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",x=n?function uJ(i,t,e,n){const o=n.get(IV,!1)||e===ao.ShadowDom,s=i.selectRootElement(t,o);return function hJ(i){BV(i)}(s),s}(_,n,this.componentDef.encapsulation,s):yx(_,v,function HJ(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),O=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==x&&(R=_S(x,s,!0));const z=RS(0,null,null,1,0,null,null,null,null,null,null),K=zx(null,z,null,O,null,null,m,_,s,null,R);let le,ke;lv(K);try{const We=this.componentDef;let Ze,rt=null;We.findHostDirectiveDefs?(Ze=[],rt=new Map,We.findHostDirectiveDefs(We,Ze,rt),Ze.push(We)):Ze=[We];const ct=function $J(i,t){const e=i[Se],n=Wt;return i[n]=t,cf(e,n,2,"#host",null)}(K,x),Fe=function WJ(i,t,e,n,r,o,s){const a=r[Se];!function GJ(i,t,e,n){for(const r of i)t.mergedAttrs=Os(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Ux(t,t.mergedAttrs,!0),null!==e&&BL(n,e,t))}(n,i,t,s);let c=null;null!==t&&(c=_S(t,r[ps]));const l=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const m=zx(r,VV(e),null,u,r[i.index],i,o,l,null,null,c);return a.firstCreatePass&&OS(a,i,n.length-1),Hx(r,m),r[i.index]=m}(ct,x,We,Ze,K,m,_);ke=Dp(z,Wt),x&&function YJ(i,t,e,n){if(n)yd(i,e,["ng-version",hV.full]);else{const{attrs:r,classes:o}=function ph(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===r?""!==o&&t.push(o,i[++n]):8===r&&e.push(o);else{if(!yr(r))break;r=o}n++}return{attrs:t,classes:e}}(t.selectors[0]);r&&yd(i,e,r),o&&o.length>0&&VL(i,e,o.join(" "))}}(_,We,x,n),void 0!==e&&function ZJ(i,t,e){const n=i.projection=[];for(let r=0;r<t.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(ke,this.ngContentSelectors,e),le=function qJ(i,t,e,n,r,o){const s=lr(),a=r[Se],c=wr(s,r);UV(a,r,s,e,null,n);for(let u=0;u<e.length;u++)Io(Al(r,a,s.directiveStart+u,s),r);jV(a,r,s),c&&Io(c,r);const l=Al(r,a,s.directiveStart+s.componentOffset,s);if(i[xn]=r[xn]=l,null!==o)for(const u of o)u(l,t);return SS(a,s,i),l}(Fe,We,Ze,rt,K,[KJ]),VS(z,K,null)}finally{dv()}return new jJ(this.componentType,le,rf(ke,K),K,ke)}}class jJ extends PX{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new zJ(r),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;LS(o[Se],o,r,t,e),this.previousInputValues.set(t,e),Ov(qo(this._tNode.index,o))}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function KJ(){const i=lr();Op(fe()[Se],i)}function Ce(i){let t=function oB(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(_s(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Z(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const s=i;s.inputs=$x(i.inputs),s.inputTransforms=$x(i.inputTransforms),s.declaredInputs=$x(i.declaredInputs),s.outputs=$x(i.outputs);const a=r.hostBindings;a&&eee(i,a);const c=r.viewQuery,l=r.contentQueries;if(c&&XJ(i,c),l&&JJ(i,l),Hn(i.inputs,r.inputs),Hn(i.declaredInputs,r.declaredInputs),Hn(i.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Hn(s.inputTransforms,r.inputTransforms)),_s(r)&&r.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(i),a===Ce&&(e=!1)}}t=Object.getPrototypeOf(t)}!function QJ(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Os(r.hostAttrs,e=Os(e,r.hostAttrs))}}(n)}function $x(i){return i===To?{}:i===Kt?[]:i}function XJ(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function JJ(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,o)=>{t(n,r,o),e(n,r,o)}:t}function eee(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}function lB(i){const t=i.inputConfig,e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(e[n]=r[2])}i.inputTransforms=e}function Wx(i){return!!BS(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function BS(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Rc(i,t,e){return i[t]=e}function So(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Gt(i,t,e,n){const r=fe();return So(r,Il(),t)&&(ui(),Ac(an(),r,i,t,e,n)),Gt}function wi(i,t,e,n,r,o,s,a){const c=fe(),l=ui(),u=i+Wt,m=l.firstCreatePass?function Tee(i,t,e,n,r,o,s,a,c){const l=t.consts,u=cf(t,i,4,s||null,Cc(l,a));PS(t,e,u,Cc(l,c)),Op(t,u);const m=u.tView=RS(2,u,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),m.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,e,n,r,o,s):l.data[u];vs(m,!1);const _=xB(l,c,m,i);Pp()&&Cx(l,c,_,m),Io(_,c),Hx(c,c[u]=WV(_,c,_,m)),Ad(m)&&MS(l,c,m),null!=s&&AS(c,m,a)}let xB=function CB(i,t,e,n){return kc(!0),t[bt].createComment("")};function et(i,t,e){const n=fe();return So(n,Il(),t)&&Hs(ui(),an(),n,i,t,n[bt],e,!1),et}function WS(i,t,e,n,r){const s=r?"class":"style";LS(i,e,t.inputs[s],s,n)}function V(i,t,e,n){const r=fe(),o=ui(),s=Wt+i,a=r[bt],c=o.firstCreatePass?function See(i,t,e,n,r,o){const s=t.consts,c=cf(t,i,2,n,Cc(s,r));return PS(t,e,c,Cc(s,o)),null!==c.attrs&&Ux(c,c.attrs,!1),null!==c.mergedAttrs&&Ux(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,n):o.data[s],l=EB(o,r,c,a,t,i);r[s]=l;const u=Ad(c);return vs(c,!0),BL(a,l,c),32!=(32&c.flags)&&Pp()&&Cx(o,r,l,c),0===function iI(){return yt.lFrame.elementDepthCount}()&&Io(l,r),function nI(){yt.lFrame.elementDepthCount++}(),u&&(MS(o,r,c),SS(o,c,r)),null!==n&&AS(r,c),V}function U(){let i=lr();ev()?kh():(i=i.parent,vs(i,!1));const t=i;(function rI(i){return yt.skipHydrationRootTNode===i})(t)&&function oI(){yt.skipHydrationRootTNode=null}(),function X_(){yt.lFrame.elementDepthCount--}();const e=ui();return e.firstCreatePass&&(Op(e,i),Wo(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function Qw(i){return 0!=(8&i.flags)}(t)&&WS(e,t,fe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Lp(i){return 0!=(16&i.flags)}(t)&&WS(e,t,fe(),t.stylesWithoutHost,!1),U}function Ke(i,t,e,n){return V(i,t,e,n),U(),Ke}let EB=(i,t,e,n,r,o)=>(kc(!0),yx(n,r,function qw(){return yt.lFrame.currentNamespace}()));function Pc(i,t,e){const n=fe(),r=ui(),o=i+Wt,s=r.firstCreatePass?function Ree(i,t,e,n,r){const o=t.consts,s=Cc(o,n),a=cf(t,i,8,"ng-container",s);return null!==s&&Ux(a,s,!0),PS(t,e,a,Cc(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,n,t,e):r.data[o];vs(s,!0);const a=TB(r,n,s,i);return n[o]=a,Pp()&&Cx(r,n,a,s),Io(a,n),Ad(s)&&(MS(r,n,s),SS(r,s,n)),null!=e&&AS(n,s),Pc}function Oc(){let i=lr();const t=ui();return ev()?kh():(i=i.parent,vs(i,!1)),t.firstCreatePass&&(Op(t,i),Wo(i)&&t.queries.elementEnd(i)),Oc}let TB=(i,t,e,n)=>(kc(!0),UI(t[bt],""));function jv(i){return!!i&&"function"==typeof i.then}function kB(i){return!!i&&"function"==typeof i.subscribe}function we(i,t,e,n){const r=fe(),o=ui(),s=lr();return function IB(i,t,e,n,r,o,s){const a=Ad(n),l=i.firstCreatePass&&YV(i),u=t[xn],m=qV(t);let _=!0;if(3&n.type||s){const E=wr(n,t),k=s?s(E):E,O=m.length,R=s?K=>s(Fi(K[n.index])):n.index;let z=null;if(!s&&a&&(z=function Fee(i,t,e,n){const r=i.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===n){const a=t[pc],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(i,t,r,n.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,_=!1;else{o=MB(n,t,u,o,!1);const K=e.listen(k,r,o);m.push(o,K),l&&l.push(r,R,O,O+1)}}else o=MB(n,t,u,o,!1);const v=n.outputs;let x;if(_&&null!==v&&(x=v[r])){const E=x.length;if(E)for(let k=0;k<E;k+=2){const le=t[x[k]][x[k+1]].subscribe(o),ke=m.length;m.push(o,le),l&&l.push(r,n.index,ke,-(ke+1))}}}(o,r,r[bt],s,i,t,n),we}function SB(i,t,e,n){try{return la(6,t,e),!1!==e(n)}catch(r){return KV(i,r),!1}finally{la(7,t,e)}}function MB(i,t,e,n,r){return function o(s){if(s===Function)return n;Ov(i.componentOffset>-1?qo(i.index,t):t);let c=SB(t,e,n,s),l=o.__ngNextListenerFn__;for(;l;)c=SB(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Lee(i,t){let e=null;const n=function _l(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===n?Ed(i,o,!0):bl(n,o))return r}else e=r}return e}function dr(i){const t=fe()[sn][wn];if(!t.projection){const n=t.projection=Lh(i?i.length:1,null),r=n.slice();let o=t.child;for(;null!==o;){const s=i?Lee(o,i):0;null!==s&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function ai(i,t=0,e){const n=fe(),r=ui(),o=cf(r,Wt+i,16,null,e||null);null===o.projection&&(o.projection=t),kh(),(!n[$o]||Ec())&&32!=(32&o.flags)&&function OQ(i,t,e){LL(t[bt],0,t,e,WI(i,e,t),AL(e.parent||t[wn],e,t))}(r,n,o)}function Kx(i,t){return i<<17|t<<2}function Kd(i){return i>>17&32767}function qS(i){return 2|i}function $h(i){return(131068&i)>>2}function YS(i,t){return-131069&i|t<<2}function ZS(i){return 1|i}function zB(i,t,e,n,r){const o=i[e+1],s=null===t;let a=n?Kd(o):$h(o),c=!1;for(;0!==a&&(!1===c||s);){const u=i[a+1];jee(i[a],t)&&(c=!0,i[a+1]=n?ZS(u):qS(u)),a=n?Kd(u):$h(u)}c&&(i[e+1]=n?qS(o):ZS(o))}function jee(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&Wd(i,t)>=0}function qe(i,t){return function za(i,t,e,n){const r=fe(),o=ui(),s=function da(i){const t=yt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}(2);o.firstUpdatePass&&function YB(i,t,e,n){const r=i.data;if(null===r[e+1]){const o=r[ho()],s=function qB(i,t){return t>=i.expandoStartIndex}(i,e);(function XB(i,t){return 0!=(i.flags&(t?8:16))})(o,n)&&null===t&&!s&&(t=!1),t=function Xee(i,t,e,n){const r=function sv(i){const t=yt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}(i);let o=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=$v(e=KS(null,i,t,e,n),t.attrs,n),o=null);else{const s=t.directiveStylingLast;if(-1===s||i[s]!==r)if(e=KS(r,i,t,e,n),null===o){let c=function Jee(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==$h(n))return i[Kd(n)]}(i,t,n);void 0!==c&&Array.isArray(c)&&(c=KS(null,i,t,c[1],n),c=$v(c,t.attrs,n),function ete(i,t,e,n){i[Kd(e?t.classBindings:t.styleBindings)]=n}(i,t,n,c))}else o=function tte(i,t,e){let n;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)n=$v(n,i[o].hostAttrs,e);return $v(n,t.attrs,e)}(i,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,n),function Hee(i,t,e,n,r,o){let s=o?t.classBindings:t.styleBindings,a=Kd(s),c=$h(s);i[n]=e;let u,l=!1;if(Array.isArray(e)?(u=e[1],(null===u||Wd(e,u)>0)&&(l=!0)):u=e,r)if(0!==c){const _=Kd(i[a+1]);i[n+1]=Kx(_,a),0!==_&&(i[_+1]=YS(i[_+1],n)),i[a+1]=function Bee(i,t){return 131071&i|t<<17}(i[a+1],n)}else i[n+1]=Kx(a,0),0!==a&&(i[a+1]=YS(i[a+1],n)),a=n;else i[n+1]=Kx(c,0),0===a?a=n:i[c+1]=YS(i[c+1],n),c=n;l&&(i[n+1]=qS(i[n+1])),zB(i,u,n,!0),zB(i,u,n,!1),function Uee(i,t,e,n,r){const o=r?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof t&&Wd(o,t)>=0&&(e[n+1]=ZS(e[n+1]))}(t,u,i,n,o),s=Kx(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,n)}}(o,i,s,n),t!==Ht&&So(r,s,t)&&function KB(i,t,e,n,r,o,s,a){if(!(3&t.type))return;const c=i.data,l=c[a+1],u=function zee(i){return 1==(1&i)}(l)?QB(c,t,e,r,$h(l),s):void 0;Qx(u)||(Qx(o)||function Vee(i){return 2==(2&i)}(l)&&(o=QB(c,null,e,r,a,s)),function FQ(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:qd.DashCase;null==r?i.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=qd.Important),i.setStyle(e,n,r,o))}}(n,s,Fd(ho(),e),r,o))}(o,o.data[ho()],r,r[bt],i,r[s+1]=function ote(i,t){return null==i||""===i||("string"==typeof t?i+=t:"object"==typeof i&&(i=Si(Bs(i)))),i}(t,e),n,s)}(i,t,null,!0),qe}function KS(i,t,e,n,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],n=$v(n,o.hostAttrs,r),o!==i);)a++;return null!==i&&(e.directiveStylingLast=a),n}function $v(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Zo(i,s,!!e||t[++o]))}return void 0===i?null:i}function QB(i,t,e,n,r,o){const s=null===t;let a;for(;r>0;){const c=i[r],l=Array.isArray(c),u=l?c[1]:c,m=null===u;let _=e[r+1];_===Ht&&(_=m?Kt:void 0);let v=m?vv(_,n):u===n?_:void 0;if(l&&!Qx(v)&&(v=vv(c,n)),Qx(v)&&(a=v,s))return a;const x=i[r+1];r=s?Kd(x):$h(x)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=vv(c,n))}return a}function Qx(i){return void 0!==i}function ae(i,t=""){const e=fe(),n=ui(),r=i+Wt,o=n.firstCreatePass?cf(n,r,1,t,null):n.data[r],s=JB(n,e,o,t,i);e[r]=s,Pp()&&Cx(n,e,s,o),vs(o,!1)}let JB=(i,t,e,n,r)=>(kc(!0),function bx(i,t){return i.createText(t)}(t[bt],n));function Wv(i){return Lc("",i,""),Wv}function Lc(i,t,e){const n=fe(),r=function df(i,t,e,n){return So(i,Il(),e)?t+Ue(e)+n:Ht}(n,i,t,e);return r!==Ht&&function Fl(i,t,e){const n=Fd(t,i);!function kL(i,t,e){i.setValue(t,e)}(i[bt],n,e)}(n,ho(),r),Lc}function va(i,t,e){const n=fe();return So(n,Il(),t)&&Hs(ui(),an(),n,i,t,n[bt],e,!0),va}const Wh=void 0;var Dte=["en",[["a","p"],["AM","PM"],Wh],[["AM","PM"],Wh,Wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kte(i){const e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let yf={};function Qo(i){const t=function Ste(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=y3(t);if(e)return e;const n=t.split("-")[0];if(e=y3(n),e)return e;if("en"===n)return Dte;throw new Z(701,!1)}function y3(i){return i in yf||(yf[i]=Ei.ng&&Ei.ng.common&&Ei.ng.common.locales&&Ei.ng.common.locales[i]),yf[i]}var fn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(fn||{});const wf="en-US";let w3=wf;function JS(i,t,e,n,r){if(i=j(i),Array.isArray(i))for(let o=0;o<i.length;o++)JS(i[o],t,e,n,r);else{const o=ui(),s=fe(),a=lr();let c=Uh(i)?i:j(i.provide);const l=oV(i),u=1048575&a.providerIndexes,m=a.directiveStart,_=a.providerIndexes>>20;if(Uh(i)||!i.multi){const v=new Sh(l,r,D),x=tM(c,t,r?u:u+_,m);-1===x?(Oh(Vp(a,s),o,c),eM(o,i,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),s.push(v)):(e[x]=v,s[x]=v)}else{const v=tM(c,t,u+_,m),x=tM(c,t,u,u+_),k=x>=0&&e[x];if(r&&!k||!r&&!(v>=0&&e[v])){Oh(Vp(a,s),o,c);const O=function Die(i,t,e,n,r){const o=new Sh(i,e,D);return o.multi=[],o.index=t,o.componentProviders=0,G3(o,r,n&&!e),o}(r?kie:Tie,e.length,r,n,l);!r&&k&&(e[x].providerFactory=O),eM(o,i,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(O),s.push(O)}else eM(o,i,v>-1?v:x,G3(e[r?x:v],l,!r&&n));!r&&n&&k&&e[x].componentProviders++}}}function eM(i,t,e,n){const r=Uh(t),o=function gX(i){return!!i.useClass}(t);if(r||o){const c=(o?j(t.useClass):t).prototype.ngOnDestroy;if(c){const l=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const u=l.indexOf(e);-1===u?l.push(e,[n,c]):l[u+1].push(n,c)}else l.push(e,c)}}}function G3(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function tM(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function Tie(i,t,e,n){return iM(this.multi,[])}function kie(i,t,e,n){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Al(e,e[Se],this.providerFactory.index,n);o=a.slice(0,s),iM(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],iM(r,o);return o}function iM(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function Ye(i,t=[]){return e=>{e.providersResolver=(n,r)=>function Eie(i,t,e){const n=ui();if(n.firstCreatePass){const r=_s(i);JS(e,n.data,n.blueprint,r,!0),JS(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class Gh{}class q3{}class nM extends Gh{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nB(this);const r=lo(t);this._bootstrapComponents=Nl(r.bootstrap),this._r3Injector=_V(t,e,[{provide:Gh,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...n],Si(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class rM extends q3{constructor(t){super(),this.moduleType=t}create(t){return new nM(this.moduleType,t,[])}}class Y3 extends Gh{constructor(t){super(),this.componentFactoryResolver=new nB(this),this.instance=null;const e=new Xp([...t.providers,{provide:Gh,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],t.parent||Ax(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function oM(i,t,e=null){return new Y3({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Mie=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=tV(0,e.type),r=n.length>0?oM([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:i,providedIn:"environment",factory:()=>new i(H(zs))})}return i})();function Z3(i){i.getStandaloneInjector=t=>t.get(Mie).getOrCreateStandaloneInjector(i)}function Ll(i,t,e,n){return function r4(i,t,e,n,r,o){const s=t+e;return So(i,s,r)?Rc(i,s+1,o?n.call(o,r):n(r)):Qv(i,s+1)}(fe(),Or(),i,t,e,n)}function n4(i,t,e,n,r){return function o4(i,t,e,n,r,o,s){const a=t+e;return function jh(i,t,e,n){const r=So(i,t,e);return So(i,t+1,n)||r}(i,a,r,o)?Rc(i,a+2,s?n.call(s,r,o):n(r,o)):Qv(i,a+2)}(fe(),Or(),i,t,e,n,r)}function Qv(i,t){const e=i[t];return e===Ht?void 0:e}function ene(){return this._results[Symbol.iterator]()}class xf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new wt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xf.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=ene)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=function Yo(i){return i.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Fh(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ine(i,t,e,n=!0){const r=t[Se];if(function IQ(i,t,e,n){const r=cr+n,o=e.length;n>0&&(e[r-1][Uo]=t),n<o-cr?(t[Uo]=e[r],jp(e,cr+n,t)):(e.push(t),t[Uo]=null),t[Ni]=e;const s=t[_c];null!==s&&e!==s&&function SQ(i,t){const e=i[bc];t[sn]!==t[Ni][Ni][sn]&&(i[vh]=!0),null===e?i[bc]=[t]:e.push(t)}(s,t);const a=t[fs];null!==a&&a.insertView(i),t[Pt]|=128}(r,t,i,e),n){const o=qI(e,i),s=t[bt],a=xx(s,i[gs]);null!==a&&function TQ(i,t,e,n,r,o){n[on]=r,n[wn]=t,Dv(i,n,e,1,r,o)}(r,i[wn],s,t,a,o)}}let Vr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=one}return i})();const nne=Vr,rne=class extends nne{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){const r=function tne(i,t,e,n){const r=t.tView,a=zx(i,r,e,4096&i[Pt]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[_c]=i[t.index];const l=i[fs];return null!==l&&(a[fs]=l.createEmbeddedView(r)),VS(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:n});return new Lv(r)}};function one(){return iC(lr(),fe())}function iC(i,t){return 4&i.type?new rne(t,i,rf(i,t)):null}let Cr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=une}return i})();function une(){return f4(lr(),fe())}const hne=Cr,m4=class extends hne{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bp(this._hostTNode,this._hostLView);if(mv(t)){const e=Ah(t,this._hostLView),n=Mh(t);return new Nr(e[Se].data[n+8],e)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=p4(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(t,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,n,r,o){const s=t&&!function Fr(i){return"function"==typeof i}(t);let a;if(s)a=e;else{const E=e||{};a=E.index,n=E.injector,r=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const c=s?t:new Vv(ni(t)),l=n||this.parentInjector;if(!o&&null==c.ngModule){const k=(s?l:this.parentInjector).get(zs,null);k&&(o=k)}ni(c.componentType??{});const v=c.create(l,r,null,o);return this.insertImpl(v.hostView,a,false),v}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,n){const r=t._lView;if(function Nw(i){return Zr(i[Ni])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[Ni],u=new m4(l,l[wn],l[Ni]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return ine(a,r,s,!n),t.attachToViewContainerRef(),jp(aM(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=p4(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=wx(this._lContainer,e);n&&($d(aM(this._lContainer),e),jI(n[Se],n))}detach(t){const e=this._adjustIndex(t,-1),n=wx(this._lContainer,e);return n&&null!=$d(aM(this._lContainer),e)?new Lv(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function p4(i){return i[8]}function aM(i){return i[8]||(i[8]=[])}function f4(i,t){let e;const n=t[i.index];return Zr(n)?e=n:(e=WV(n,t,null,i),t[i.index]=e,Hx(t,e)),g4(e,t,i,n),new m4(e,i,t)}let g4=function _4(i,t,e,n){if(i[gs])return;let r;r=8&e.type?Fi(n):function mne(i,t){const e=i[bt],n=e.createComment(""),r=wr(t,i);return zh(e,xx(e,r),n,function PQ(i,t){return i.nextSibling(t)}(e,r),!1),n}(t,e),i[gs]=r};class cM{constructor(t){this.queryList=t,this.matches=null}clone(){return new cM(this.queryList)}setDirty(){this.queryList.setDirty()}}class lM{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new lM(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==x4(t,e).matches&&this.queries[e].setDirty()}}class v4{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class dM{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new dM(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uM{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new uM(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,gne(e,o)),this.matchTNodeWithReadOption(t,e,Hp(e,t,o,!1,!1))}else n===Vr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hp(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ot||r===Cr||r===Vr&&4&e.type)this.addMatch(e.index,-2);else{const o=Hp(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function gne(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function vne(i,t,e,n){return-1===e?function _ne(i,t){return 11&i.type?rf(i,t):4&i.type?iC(i,t):null}(t,i):-2===e?function bne(i,t,e){return e===ot?rf(t,i):e===Vr?iC(t,i):e===Cr?f4(t,i):void 0}(i,t,n):Al(i,i[Se],e,t)}function b4(i,t,e,n){const r=t[fs].queries[n];if(null===r.matches){const o=i.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:vne(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function hM(i,t,e,n){const r=i.queries.getByIndex(e),o=r.matches;if(null!==o){const s=b4(i,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)n.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let m=cr;m<u.length;m++){const _=u[m];_[_c]===_[Ni]&&hM(_[Se],_,l,n)}if(null!==u[bc]){const m=u[bc];for(let _=0;_<m.length;_++){const v=m[_];hM(v[Se],v,l,n)}}}}}return n}function Tt(i){const t=fe(),e=ui(),n=Rp();av(n+1);const r=x4(e,n);if(i.dirty&&function tI(i){return 4==(4&i[Pt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const o=r.crossesNgTemplate?hM(e,t,n,[]):b4(e,t,r,n);i.reset(o,LX),i.notifyOnChanges()}return!0}return!1}function Li(i,t,e,n){const r=ui();if(r.firstCreatePass){const o=lr();w4(r,new v4(t,e,n),o.index),function wne(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}y4(r,fe(),e)}function kt(){return function yne(i,t){return i[fs].queries[t].queryList}(fe(),Rp())}function y4(i,t,e){const n=new xf(4==(4&e));(function fJ(i,t,e,n){const r=qV(t);r.push(e),i.firstCreatePass&&YV(i).push(n,r.length-1)})(i,t,n,n.destroy),null===t[fs]&&(t[fs]=new lM),t[fs].queries.push(new cM(n))}function w4(i,t,e){null===i.queries&&(i.queries=new dM),i.queries.track(new uM(t,e))}function x4(i,t){return i.queries.getByIndex(t)}const vM=new W("Application Initializer");let bM=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=ye(vM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(jv(o))e.push(o);else if(kB(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),B4=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Vc=new W("LocaleId",{providedIn:"root",factory:()=>ye(Vc,ii.Optional|ii.SkipSelf)||function Une(){return typeof $localize<"u"&&$localize.locale||wf}()});let oC=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Wne{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let z4=(()=>{class i{compileModuleSync(e){return new rM(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=Nl(lo(e).declarations).reduce((s,a)=>{const c=ni(a);return c&&s.push(new Vv(c)),s},[]);return new Wne(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $4=new W(""),aC=new W("");let EM,xM=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EM||(function mre(i){EM=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||i)(H(tt),H(CM),H(aC))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})(),CM=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return EM?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),Qd=null;const W4=new W("AllowMultipleToken"),TM=new W("PlatformDestroyListeners"),kM=new W("appBootstrapListener");class q4{constructor(t,e){this.name=t,this.token=e}}function Z4(i,t,e=[]){const n=`Platform: ${t}`,r=new W(n);return(o=[])=>{let s=DM();if(!s||s.injector.get(W4,!1)){const a=[...e,...o,{provide:r,useValue:!0}];i?i(a):function gre(i){if(Qd&&!Qd.get(W4,!1))throw new Z(400,!1);(function G4(){!function Nd(i){Sw=i}(()=>{throw new Z(600,!1)})})(),Qd=i;const t=i.get(Q4);(function Y4(i){i.get(sV,null)?.forEach(e=>e())})(i)}(function K4(i=[],t){return xr.create({name:t,providers:[{provide:oS,useValue:"platform"},{provide:TM,useValue:new Set([()=>Qd=null])},...i]})}(a,n))}return function vre(i){const t=DM();if(!t)throw new Z(401,!1);return t}()}}function DM(){return Qd?.get(Q4)??null}let Q4=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function bre(i="zone.js",t){return"noop"===i?new QX:"zone.js"===i?new tt(t):i}(n?.ngZone,function X4(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Sie(i,t,e){return new nM(i,t,e)}(e.moduleType,this.injector,function nz(i){return[{provide:tt,useFactory:i},{provide:Mv,multi:!0,useFactory:()=>{const t=ye(wre,{optional:!0});return()=>t.initialize()}},{provide:iz,useFactory:yre},{provide:xV,useFactory:CV}]}(()=>r)),s=o.injector.get(pa,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{cC(this._modules,o),a.unsubscribe()})}),function J4(i,t,e){try{const n=e();return jv(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(s,r,()=>{const a=o.injector.get(bM);return a.runInitializers(),a.donePromise.then(()=>(function x3(i){_r(i,"Expected localeId to be defined"),"string"==typeof i&&(w3=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Vc,wf)||wf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,n=[]){const r=ez({},n);return function pre(i,t,e){const n=new rM(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(Xd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Z(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(TM,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||i)(H(xr))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function ez(i,t){return Array.isArray(t)?t.reduce(ez,i):{...i,...t}}let Xd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ye(iz),this.zoneIsStable=ye(xV),this.componentTypes=[],this.components=[],this.isStable=ye(oC).hasPendingTasks.pipe(gt(e=>e?ie(!1):this.zoneIsStable),Hi(),mt()),this._injector=ye(zs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof dV;if(!this._injector.get(bM).done)throw!r&&function aa(i){const t=ni(i)||An(i)||Pr(i);return null!==t&&t.standalone}(e),new Z(405,!1);let s;s=r?e:this._injector.get(nf).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function fre(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Gh),l=s.create(xr.NULL,[],n||s.selector,a),u=l.location.nativeElement,m=l.injector.get($4,null);return m?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),cC(this.components,l),m?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;cC(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(kM,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>cC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Z(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function cC(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const iz=new W("",{providedIn:"root",factory:()=>ye(pa).handleError.bind(void 0)});function yre(){const i=ye(tt),t=ye(pa);return e=>i.runOutsideAngular(()=>t.handleError(e))}let wre=(()=>{class i{constructor(){this.zone=ye(tt),this.applicationRef=ye(Xd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();let Tr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Cre}return i})();function Cre(i){return function Ere(i,t,e){if(ca(i)&&!e){const n=qo(i.index,t);return new Lv(n,n)}return 47&i.type?new Lv(t[sn],t):null}(lr(),fe(),16==(16&i))}class cz{constructor(){}supports(t){return Wx(t)}create(t){return new Mre(t)}}const Sre=(i,t)=>t;class Mre{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const s=!n||e&&e.currentIndex<dz(n,r,o)?e:n,a=dz(s,r,o),c=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let _=0;_<l;_++){const v=_<o.length?o[_]:o[_]=0,x=v+_;u<=x&&x<l&&(o[_]=v+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Wx(t))throw new Z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),n=!0),e=e._next}else r=0,function aee(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Symbol.iterator]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Are(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new lz),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lz),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Are{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rre{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class lz{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Rre,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dz(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class uz{constructor(){}supports(t){return t instanceof Map||BS(t)}create(){return new Pre}}class Pre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||BS(t)))throw new Z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const n=new Ore(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ore{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hz(){return new ba([new cz])}let ba=(()=>{class i{static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:hz});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||hz()),deps:[[i,new Ls,new Do]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new Z(901,!1)}}return i})();function mz(){return new ib([new uz])}let ib=(()=>{class i{static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:mz});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||mz()),deps:[[i,new Ls,new Do]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new Z(901,!1)}}return i})();const Lre=Z4(null,"core",[]);let Vre=(()=>{class i{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||i)(H(Xd))};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})();function Tf(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let PM=null;function Jd(){return PM}class Xre{}const Ot=new W("DocumentToken");let OM=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return ye(eoe)},providedIn:"platform"})}return i})();const Jre=new W("Location Initialized");let eoe=(()=>{class i extends OM{constructor(){super(),this._doc=ye(Ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jd().getBaseHref(this._doc)}onPopState(e){const n=Jd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Jd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function NM(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function xz(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Vl(i){return i&&"?"!==i[0]?"?"+i:i}let Yh=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return ye(Ez)},providedIn:"root"})}return i})();const Cz=new W("appBaseHref");let Ez=(()=>{class i extends Yh{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??ye(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return NM(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Vl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(H(OM),H(Cz,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),toe=(()=>{class i extends Yh{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=NM(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(H(OM),H(Cz,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})(),nb=(()=>{class i{constructor(e){this._subject=new wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function roe(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(xz(Tz(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Vl(n))}normalize(e){return i.stripTrailingSlash(function noe(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Tz(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=Vl;static#t=this.joinWithSlash=NM;static#i=this.stripTrailingSlash=xz;static#n=this.\u0275fac=function(n){return new(n||i)(H(Yh))};static#r=this.\u0275prov=pe({token:i,factory:function(){return function ioe(){return new nb(H(Yh))}()},providedIn:"root"})}return i})();function Tz(i){return i.replace(/\/index.html$/,"")}var kf=function(i){return i[i.Zero=0]="Zero",i[i.One=1]="One",i[i.Two=2]="Two",i[i.Few=3]="Few",i[i.Many=4]="Many",i[i.Other=5]="Other",i}(kf||{}),Jo=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(Jo||{}),cn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(cn||{}),Us=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(Us||{}),ur=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(ur||{});function mC(i,t){return wa(Qo(i)[fn.DateFormat],t)}function pC(i,t){return wa(Qo(i)[fn.TimeFormat],t)}function fC(i,t){return wa(Qo(i)[fn.DateTimeFormat],t)}function ya(i,t){const e=Qo(i),n=e[fn.NumberSymbols][t];if(typeof n>"u"){if(t===ur.CurrencyDecimal)return e[fn.NumberSymbols][ur.Decimal];if(t===ur.CurrencyGroup)return e[fn.NumberSymbols][ur.Group]}return n}const hoe=function b3(i){return Qo(i)[fn.PluralCase]};function Dz(i){if(!i[fn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[fn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wa(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function LM(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const voe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rb={},boe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bl=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(Bl||{}),Ai=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(Ai||{}),Ri=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(Ri||{});function Br(i,t,e,n){let r=function Ioe(i){if(Mz(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[r,o=1,s=1]=i.split("-").map(a=>+a);return gC(r,o-1,s)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(voe))return function Soe(i){const t=new Date(0);let e=0,n=0;const r=i[8]?t.setUTCFullYear:t.setFullYear,o=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const s=Number(i[4]||0)-e,a=Number(i[5]||0)-n,c=Number(i[6]||0),l=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return o.call(t,s,a,c,l),t}(n)}const t=new Date(i);if(!Mz(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=zl(e,t)||t;let a,s=[];for(;t;){if(a=boe.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let c=r.getTimezoneOffset();n&&(c=Sz(n,c),r=function Doe(i,t,e){const n=e?-1:1,r=i.getTimezoneOffset();return function koe(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,n*(Sz(t,r)-r))}(r,n,!0));let l="";return s.forEach(u=>{const m=function Toe(i){if(BM[i])return BM[i];let t;switch(i){case"G":case"GG":case"GGG":t=gn(Ri.Eras,cn.Abbreviated);break;case"GGGG":t=gn(Ri.Eras,cn.Wide);break;case"GGGGG":t=gn(Ri.Eras,cn.Narrow);break;case"y":t=kr(Ai.FullYear,1,0,!1,!0);break;case"yy":t=kr(Ai.FullYear,2,0,!0,!0);break;case"yyy":t=kr(Ai.FullYear,3,0,!1,!0);break;case"yyyy":t=kr(Ai.FullYear,4,0,!1,!0);break;case"Y":t=yC(1);break;case"YY":t=yC(2,!0);break;case"YYY":t=yC(3);break;case"YYYY":t=yC(4);break;case"M":case"L":t=kr(Ai.Month,1,1);break;case"MM":case"LL":t=kr(Ai.Month,2,1);break;case"MMM":t=gn(Ri.Months,cn.Abbreviated);break;case"MMMM":t=gn(Ri.Months,cn.Wide);break;case"MMMMM":t=gn(Ri.Months,cn.Narrow);break;case"LLL":t=gn(Ri.Months,cn.Abbreviated,Jo.Standalone);break;case"LLLL":t=gn(Ri.Months,cn.Wide,Jo.Standalone);break;case"LLLLL":t=gn(Ri.Months,cn.Narrow,Jo.Standalone);break;case"w":t=VM(1);break;case"ww":t=VM(2);break;case"W":t=VM(1,!0);break;case"d":t=kr(Ai.Date,1);break;case"dd":t=kr(Ai.Date,2);break;case"c":case"cc":t=kr(Ai.Day,1);break;case"ccc":t=gn(Ri.Days,cn.Abbreviated,Jo.Standalone);break;case"cccc":t=gn(Ri.Days,cn.Wide,Jo.Standalone);break;case"ccccc":t=gn(Ri.Days,cn.Narrow,Jo.Standalone);break;case"cccccc":t=gn(Ri.Days,cn.Short,Jo.Standalone);break;case"E":case"EE":case"EEE":t=gn(Ri.Days,cn.Abbreviated);break;case"EEEE":t=gn(Ri.Days,cn.Wide);break;case"EEEEE":t=gn(Ri.Days,cn.Narrow);break;case"EEEEEE":t=gn(Ri.Days,cn.Short);break;case"a":case"aa":case"aaa":t=gn(Ri.DayPeriods,cn.Abbreviated);break;case"aaaa":t=gn(Ri.DayPeriods,cn.Wide);break;case"aaaaa":t=gn(Ri.DayPeriods,cn.Narrow);break;case"b":case"bb":case"bbb":t=gn(Ri.DayPeriods,cn.Abbreviated,Jo.Standalone,!0);break;case"bbbb":t=gn(Ri.DayPeriods,cn.Wide,Jo.Standalone,!0);break;case"bbbbb":t=gn(Ri.DayPeriods,cn.Narrow,Jo.Standalone,!0);break;case"B":case"BB":case"BBB":t=gn(Ri.DayPeriods,cn.Abbreviated,Jo.Format,!0);break;case"BBBB":t=gn(Ri.DayPeriods,cn.Wide,Jo.Format,!0);break;case"BBBBB":t=gn(Ri.DayPeriods,cn.Narrow,Jo.Format,!0);break;case"h":t=kr(Ai.Hours,1,-12);break;case"hh":t=kr(Ai.Hours,2,-12);break;case"H":t=kr(Ai.Hours,1);break;case"HH":t=kr(Ai.Hours,2);break;case"m":t=kr(Ai.Minutes,1);break;case"mm":t=kr(Ai.Minutes,2);break;case"s":t=kr(Ai.Seconds,1);break;case"ss":t=kr(Ai.Seconds,2);break;case"S":t=kr(Ai.FractionalSeconds,1);break;case"SS":t=kr(Ai.FractionalSeconds,2);break;case"SSS":t=kr(Ai.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=vC(Bl.Short);break;case"ZZZZZ":t=vC(Bl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=vC(Bl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=vC(Bl.Long);break;default:return null}return BM[i]=t,t}(u);l+=m?m(r,e,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gC(i,t,e){const n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function zl(i,t){const e=function soe(i){return Qo(i)[fn.LocaleId]}(i);if(rb[e]=rb[e]||{},rb[e][t])return rb[e][t];let n="";switch(t){case"shortDate":n=mC(i,Us.Short);break;case"mediumDate":n=mC(i,Us.Medium);break;case"longDate":n=mC(i,Us.Long);break;case"fullDate":n=mC(i,Us.Full);break;case"shortTime":n=pC(i,Us.Short);break;case"mediumTime":n=pC(i,Us.Medium);break;case"longTime":n=pC(i,Us.Long);break;case"fullTime":n=pC(i,Us.Full);break;case"short":const r=zl(i,"shortTime"),o=zl(i,"shortDate");n=_C(fC(i,Us.Short),[r,o]);break;case"medium":const s=zl(i,"mediumTime"),a=zl(i,"mediumDate");n=_C(fC(i,Us.Medium),[s,a]);break;case"long":const c=zl(i,"longTime"),l=zl(i,"longDate");n=_C(fC(i,Us.Long),[c,l]);break;case"full":const u=zl(i,"fullTime"),m=zl(i,"fullDate");n=_C(fC(i,Us.Full),[u,m])}return n&&(rb[e][t]=n),n}function _C(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),i}function Ua(i,t,e="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=1-i:(i=-i,o=e));let s=String(i);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function kr(i,t,e=0,n=!1,r=!1){return function(o,s){let a=function woe(i,t){switch(i){case Ai.FullYear:return t.getFullYear();case Ai.Month:return t.getMonth();case Ai.Date:return t.getDate();case Ai.Hours:return t.getHours();case Ai.Minutes:return t.getMinutes();case Ai.Seconds:return t.getSeconds();case Ai.FractionalSeconds:return t.getMilliseconds();case Ai.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,o);if((e>0||a>-e)&&(a+=e),i===Ai.Hours)0===a&&-12===e&&(a=12);else if(i===Ai.FractionalSeconds)return function yoe(i,t){return Ua(i,3).substring(0,t)}(a,t);const c=ya(s,ur.MinusSign);return Ua(a,t,c,n,r)}}function gn(i,t,e=Jo.Format,n=!1){return function(r,o){return function xoe(i,t,e,n,r,o){switch(e){case Ri.Months:return function loe(i,t,e){const n=Qo(i),o=wa([n[fn.MonthsFormat],n[fn.MonthsStandalone]],t);return wa(o,e)}(t,r,n)[i.getMonth()];case Ri.Days:return function coe(i,t,e){const n=Qo(i),o=wa([n[fn.DaysFormat],n[fn.DaysStandalone]],t);return wa(o,e)}(t,r,n)[i.getDay()];case Ri.DayPeriods:const s=i.getHours(),a=i.getMinutes();if(o){const l=function moe(i){const t=Qo(i);return Dz(t),(t[fn.ExtraData][2]||[]).map(n=>"string"==typeof n?LM(n):[LM(n[0]),LM(n[1])])}(t),u=function poe(i,t,e){const n=Qo(i);Dz(n);const o=wa([n[fn.ExtraData][0],n[fn.ExtraData][1]],t)||[];return wa(o,e)||[]}(t,r,n),m=l.findIndex(_=>{if(Array.isArray(_)){const[v,x]=_,E=s>=v.hours&&a>=v.minutes,k=s<x.hours||s===x.hours&&a<x.minutes;if(v.hours<x.hours){if(E&&k)return!0}else if(E||k)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(-1!==m)return u[m]}return function aoe(i,t,e){const n=Qo(i),o=wa([n[fn.DayPeriodsFormat],n[fn.DayPeriodsStandalone]],t);return wa(o,e)}(t,r,n)[s<12?0:1];case Ri.Eras:return function doe(i,t){return wa(Qo(i)[fn.Eras],t)}(t,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,i,t,e,n)}}function vC(i){return function(t,e,n){const r=-1*n,o=ya(e,ur.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Bl.Short:return(r>=0?"+":"")+Ua(s,2,o)+Ua(Math.abs(r%60),2,o);case Bl.ShortGMT:return"GMT"+(r>=0?"+":"")+Ua(s,1,o);case Bl.Long:return"GMT"+(r>=0?"+":"")+Ua(s,2,o)+":"+Ua(Math.abs(r%60),2,o);case Bl.Extended:return 0===n?"Z":(r>=0?"+":"")+Ua(s,2,o)+":"+Ua(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}const Coe=0,bC=4;function Iz(i){return gC(i.getFullYear(),i.getMonth(),i.getDate()+(bC-i.getDay()))}function VM(i,t=!1){return function(e,n){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=Iz(e),s=function Eoe(i){const t=gC(i,Coe,1).getDay();return gC(i,0,1+(t<=bC?bC:bC+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ua(r,i,ya(n,ur.MinusSign))}}function yC(i,t=!1){return function(e,n){return Ua(Iz(e).getFullYear(),i,ya(n,ur.MinusSign),t)}}const BM={};function Sz(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function Mz(i){return i instanceof Date&&!isNaN(i.valueOf())}let $M=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(n){let r=null;return n?r=new n:(o=H(Vc),r=new zoe(o)),r;var o},providedIn:"root"})}return i})();let zoe=(()=>{class i extends $M{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(hoe(n||this.locale)(e)){case kf.Zero:return"zero";case kf.One:return"one";case kf.Two:return"two";case kf.Few:return"few";case kf.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(n){return new(n||i)(H(Vc))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function Oz(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const WM=/\s+/,Nz=[];let xC=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=Nz,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(WM):Nz}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(WM):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(WM).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ba),D(ib),D(ot),D(Ol))};static#t=this.\u0275dir=re({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();const cse=/#/g;let qM=(()=>{class i{constructor(e){this._localization=e}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw function ja(i,t){return new Z(2100,!1)}();return n[function Pz(i,t,e,n){let r=`=${i}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(i,n),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${i}"`)}(e,Object.keys(n),this._localization,r)].replace(cse,e.toString())}static#e=this.\u0275fac=function(n){return new(n||i)(D($M,16))};static#t=this.\u0275pipe=Zn({name:"i18nPlural",type:i,pure:!0,standalone:!0})}return i})(),Vi=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})();const jz="browser";function EC(i){return"server"===i}let yse=(()=>{class i{static#e=this.\u0275prov=pe({token:i,providedIn:"root",factory:()=>new wse(H(Ot),window)})}return i})();class wse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xse(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $z{}class Wse extends Xre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XM extends Wse{static makeCurrent(){!function Qre(i){PM||(PM=i)}(new XM)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Gse(){return ab=ab||document.querySelector("base"),ab?ab.getAttribute("href"):null}();return null==e?null:function qse(i){DC=DC||document.createElement("a"),DC.setAttribute("href",i);const t=DC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ab=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Oz(document.cookie,t)}}let DC,ab=null,Zse=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const JM=new W("EventManagerPlugins");let Zz=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Z(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(H(JM),H(tt))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();class Kz{constructor(t){this._doc=t}}const e1="ng-app-id";let Qz=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EC(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${e1}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(e1),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(e1,this.appId),s}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const o=this.styleRef,s=o.get(n)?.elements;s?s.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(Rx),H(lS,8),H(ma))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const t1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},n1=/%COMP%/g,Jse=new W("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Jz(i,t){return t.map(e=>e.replace(n1,i))}let r1=(()=>{class i{constructor(e,n,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=EC(a),this.defaultRenderer=new o1(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ao.ShadowDom&&(n={...n,encapsulation:ao.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof tH?r.applyToHost(e):r instanceof s1&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(n.encapsulation){case ao.Emulated:o=new tH(c,l,n,this.appId,u,s,a,m);break;case ao.ShadowDom:return new nae(c,l,e,n,s,a,this.nonce,m);default:o=new s1(c,l,n,u,s,a,m)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(H(Zz),H(Qz),H(Rx),H(Jse),H(Ot),H(ma),H(tt),H(lS))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();class o1{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(t1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(eH(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(eH(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Z(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=t1[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=t1[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(qd.DashCase|qd.Important)?t.style.setProperty(e,n,r&qd.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&qd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=Jd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function eH(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class nae extends o1{constructor(t,e,n,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Jz(r.id,r.styles);for(const u of l){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=u,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class s1 extends o1{constructor(t,e,n,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?Jz(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tH extends s1{constructor(t,e,n,r,o,s,a,c){const l=r+"-"+n.id;super(t,e,n,o,s,a,c,l),this.contentAttr=function eae(i){return"_ngcontent-%COMP%".replace(n1,i)}(l),this.hostAttr=function tae(i){return"_nghost-%COMP%".replace(n1,i)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let rae=(()=>{class i extends Kz{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const iH=["alt","control","meta","shift"],oae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sae={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let aae=(()=>{class i extends Kz{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),iH.forEach(l=>{const u=n.indexOf(l);u>-1&&(n.splice(u,1),s+=l+".")}),s+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=oae[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),iH.forEach(s=>{s!==r&&(0,sae[s])(e)&&(o+=s+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const rH=[{provide:ma,useValue:jz},{provide:sV,useValue:function cae(){XM.makeCurrent()},multi:!0},{provide:Ot,useFactory:function dae(){return function HQ(i){KI=i}(document),document},deps:[]}],uae=Z4(Lre,"browser",rH),hae=new W(""),oH=[{provide:aC,useClass:class Yse{addToWindow(t){Ei.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new Z(5103,!1);return o},Ei.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ei.getAllAngularRootElements=()=>t.getAllRootElements(),Ei.frameworkStabilizers||(Ei.frameworkStabilizers=[]),Ei.frameworkStabilizers.push(n=>{const r=Ei.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&n(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?Jd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:$4,useClass:xM,deps:[tt,CM,aC]},{provide:xM,useClass:xM,deps:[tt,CM,aC]}],sH=[{provide:oS,useValue:"root"},{provide:pa,useFactory:function lae(){return new pa},deps:[]},{provide:JM,useClass:rae,multi:!0,deps:[Ot,tt,ma]},{provide:JM,useClass:aae,multi:!0,deps:[Ot]},r1,Qz,Zz,{provide:Pv,useExisting:r1},{provide:$z,useClass:Zse,deps:[]},[]];let aH=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Rx,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(H(hae,12))};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[...sH,...oH],imports:[Vi,Vre]})}return i})(),cH=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:function(n){let r=null;return r=n?new n:function pae(){return new cH(H(Ot))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let c1=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(n){let r=null;return r=n?new(n||i):H(uH),r},providedIn:"root"})}return i})(),uH=(()=>{class i extends c1{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case po.NONE:return n;case po.HTML:return Mc(n,"HTML")?Bs(n):ZL(this._doc,String(n)).toString();case po.STYLE:return Mc(n,"Style")?Bs(n):n;case po.SCRIPT:if(Mc(n,"Script"))return Bs(n);throw new Z(5200,!1);case po.URL:return Mc(n,"URL")?Bs(n):Dx(String(n));case po.RESOURCE_URL:if(Mc(n,"ResourceURL"))return Bs(n);throw new Z(5201,!1);default:throw new Z(5202,!1)}}bypassSecurityTrustHtml(e){return function YQ(i){return new UQ(i)}(e)}bypassSecurityTrustStyle(e){return function ZQ(i){return new jQ(i)}(e)}bypassSecurityTrustScript(e){return function KQ(i){return new $Q(i)}(e)}bypassSecurityTrustUrl(e){return function QQ(i){return new WQ(i)}(e)}bypassSecurityTrustResourceUrl(e){return function XQ(i){return new GQ(i)}(e)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:function(n){let r=null;return r=n?new n:function vae(i){return new uH(i.get(Ot))}(H(xr)),r},providedIn:"root"})}return i})();const{isArray:bae}=Array,{getPrototypeOf:yae,prototype:wae,keys:xae}=Object;function mH(i){if(1===i.length){const t=i[0];if(bae(t))return{args:t,keys:null};if(function Cae(i){return i&&"object"==typeof i&&yae(i)===wae}(t)){const e=xae(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:Eae}=Array;function l1(i){return Ie(t=>function Tae(i,t){return Eae(t)?i(...t):i(t)}(i,t))}function pH(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function SC(...i){const t=ia(i),e=Bo(i),{args:n,keys:r}=mH(i);if(0===n.length)return B([],t);const o=new Lt(function kae(i,t,e=Mn){return n=>{fH(t,()=>{const{length:r}=i,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)fH(t,()=>{const l=B(i[c],t);let u=!1;l.subscribe(Te(n,m=>{o[c]=m,u||(u=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,r?s=>pH(r,s):Mn));return e?o.pipe(l1(e)):o}function fH(i,t,e){i?fr(e,i,t):t()}const MC=ht(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function cb(...i){return function Dae(){return ro(1)}()(B(i,ia(i)))}function lb(i){return new Lt(t=>{Ki(i()).subscribe(t)})}function If(i,t){const e=S(i)?i:()=>i,n=r=>r.error(e());return new Lt(t?r=>t.schedule(n,0,r):n)}function d1(){return X((i,t)=>{let e=null;i._refCount++;const n=Te(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class u1 extends Lt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Mt;const e=this.getSubject();t.add(this.source.subscribe(Te(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Mt.EMPTY)}return t}refCount(){return d1()(this)}}function Xn(i){return i<=0?()=>mn:X((t,e)=>{let n=0;t.subscribe(Te(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function xa(...i){const t=ia(i);return X((e,n)=>{(t?cb(i,e,t):cb(i,e)).subscribe(n)})}function jn(i,t){return X((e,n)=>{let r=0;e.subscribe(Te(n,o=>i.call(t,o,r++)&&n.next(o)))})}function AC(i){return X((t,e)=>{let n=!1;t.subscribe(Te(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function gH(i=Iae){return X((t,e)=>{let n=!1;t.subscribe(Te(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Iae(){return new MC}function tu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?jn((r,o)=>i(r,o,n)):Mn,Xn(1),e?AC(t):gH(()=>new MC))}function Sf(i,t){return S(t)?yi(i,t,1):yi(i,1)}function Jn(i,t,e){const n=S(i)||t||e?{next:i,error:t,complete:e}:i;return n?X((r,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;r.subscribe(Te(o,c=>{var l;null===(l=n.next)||void 0===l||l.call(n,c),o.next(c)},()=>{var c;a=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var l;a=!1,null===(l=n.error)||void 0===l||l.call(n,c),o.error(c)},()=>{var c,l;a&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):Mn}function iu(i){return X((t,e)=>{let o,n=null,r=!1;n=t.subscribe(Te(e,void 0,void 0,s=>{o=Ki(i(s,iu(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function Mf(i,t){return X(function Sae(i,t,e,n,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Te(s,u=>{const m=l++;c=a?i(c,u,m):(a=!0,u),n&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(i,t,arguments.length>=2,!0))}function h1(i){return i<=0?()=>mn:X((t,e)=>{let n=[];t.subscribe(Te(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Af(i){return X((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function Cn(i){return X((t,e)=>{Ki(i).subscribe(Te(e,()=>e.complete(),ze)),!e.closed&&t.subscribe(e)})}const Qt="primary",db=Symbol("RouteTitle");class Aae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rf(i){return new Aae(i)}function Rae(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Bc(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!vH(i[r],t[r]))return!1;return!0}function vH(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function bH(i){return i.length>0?i[i.length-1]:null}function nu(i){return function IC(i){return!!i&&(i instanceof Lt||S(i.lift)&&S(i.subscribe))}(i)?i:jv(i)?B(Promise.resolve(i)):ie(i)}const Oae={exact:function xH(i,t,e){if(!Zh(i.segments,t.segments)||!RC(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!xH(i.children[n],t.children[n],e))return!1;return!0},subset:CH},yH={exact:function Nae(i,t){return Bc(i,t)},subset:function Fae(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>vH(i[e],t[e]))},ignored:()=>!0};function wH(i,t,e){return Oae[e.paths](i.root,t.root,e.matrixParams)&&yH[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function CH(i,t,e){return EH(i,t,t.segments,e)}function EH(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Zh(r,e)||t.hasChildren()||!RC(r,e,n))}if(i.segments.length===e.length){if(!Zh(i.segments,e)||!RC(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!CH(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(Zh(i.segments,r)&&RC(i.segments,r,n)&&i.children[Qt])&&EH(i.children[Qt],t,o,n)}}function RC(i,t,e){return t.every((n,r)=>yH[e](i[r].parameters,n.parameters))}class Pf{constructor(t=new ji([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rf(this.queryParams)),this._queryParamMap}toString(){return Bae.serialize(this)}}class ji{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return PC(this)}}class ub{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rf(this.parameters)),this._parameterMap}toString(){return DH(this)}}function Zh(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let hb=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return new m1},providedIn:"root"})}return i})();class m1{parse(t){const e=new Kae(t);return new Pf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${mb(t.root,!0)}`,n=function Uae(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${OC(e)}=${OC(r)}`).join("&"):`${OC(e)}=${OC(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function zae(i){return encodeURI(i)}(t.fragment)}`:""}`}}const Bae=new m1;function PC(i){return i.segments.map(t=>DH(t)).join("/")}function mb(i,t){if(!i.hasChildren())return PC(i);if(t){const e=i.children[Qt]?mb(i.children[Qt],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Qt&&n.push(`${r}:${mb(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function Vae(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Qt&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Qt&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===Qt?[mb(i.children[Qt],!1)]:[`${r}:${mb(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Qt]?`${PC(i)}/${e[0]}`:`${PC(i)}/(${e.join("//")})`}}function TH(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function OC(i){return TH(i).replace(/%3B/gi,";")}function p1(i){return TH(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function NC(i){return decodeURIComponent(i)}function kH(i){return NC(i.replace(/\+/g,"%20"))}function DH(i){return`${p1(i.path)}${function Hae(i){return Object.keys(i).map(t=>`;${p1(t)}=${p1(i[t])}`).join("")}(i.parameters)}`}const jae=/^[^\/()?;#]+/;function f1(i){const t=i.match(jae);return t?t[0]:""}const $ae=/^[^\/()?;=#]+/,Gae=/^[^=?&#]+/,Yae=/^[^&#]+/;class Kae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ji([],{}):new ji([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Qt]=new ji(t,e)),n}parseSegment(){const t=f1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(t),new ub(NC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Wae(i){const t=i.match($ae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=f1(this.remaining);r&&(n=r,this.capture(n))}t[NC(e)]=NC(n)}parseQueryParam(t){const e=function qae(i){const t=i.match(Gae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function Zae(i){const t=i.match(Yae);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const r=kH(e),o=kH(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=f1(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Z(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Qt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Qt]:new ji([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Z(4011,!1)}}function IH(i){return i.segments.length>0?new ji([],{[Qt]:i}):i}function SH(i){const t={};for(const n of Object.keys(i.children)){const o=SH(i.children[n]);if(n===Qt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function Qae(i){if(1===i.numberOfChildren&&i.children[Qt]){const t=i.children[Qt];return new ji(i.segments.concat(t.segments),t.children)}return i}(new ji(i.segments,t))}function Kh(i){return i instanceof Pf}function MH(i){let t;const r=IH(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new ji(o.url,s);return o===i&&(t=a),a}(i.root));return t??r}function AH(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return g1(r,r,r,e,n);const o=function Jae(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new PH(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new PH(e,t,n)}(t);if(o.toRoot())return g1(r,r,new ji([],{}),e,n);const s=function ece(i,t,e){if(i.isAbsolute)return new LC(t,!0,0);if(!e)return new LC(t,!1,NaN);if(null===e.parent)return new LC(e,!0,0);const n=FC(i.commands[0])?0:1;return function tce(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Z(4005,!1);r=n.segments.length}return new LC(n,!1,r-o)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(o,r,i),a=s.processChildren?fb(s.segmentGroup,s.index,o.commands):OH(s.segmentGroup,s.index,o.commands);return g1(r,s.segmentGroup,a,e,n)}function FC(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function pb(i){return"object"==typeof i&&null!=i&&i.outlets}function g1(i,t,e,n,r){let s,o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=i===t?e:RH(i,t,e);const a=IH(SH(s));return new Pf(a,o,r)}function RH(i,t,e){const n={};return Object.entries(i.children).forEach(([r,o])=>{n[r]=o===t?e:RH(o,t,e)}),new ji(i.segments,n)}class PH{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&FC(n[0]))throw new Z(4003,!1);const r=n.find(pb);if(r&&r!==bH(n))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class LC{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function OH(i,t,e){if(i||(i=new ji([],{})),0===i.segments.length&&i.hasChildren())return fb(i,t,e);const n=function nce(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const s=i.segments[r],a=e[n];if(pb(a))break;const c=`${a}`,l=n<e.length-1?e[n+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!FH(c,l,s))return o;n+=2}else{if(!FH(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new ji(i.segments.slice(0,n.pathIndex),{});return o.children[Qt]=new ji(i.segments.slice(n.pathIndex),i.children),fb(o,0,r)}return n.match&&0===r.length?new ji(i.segments,{}):n.match&&!i.hasChildren()?_1(i,t,e):n.match?fb(i,0,r):_1(i,t,e)}function fb(i,t,e){if(0===e.length)return new ji(i.segments,{});{const n=function ice(i){return pb(i[0])?i[0].outlets:{[Qt]:i}}(e),r={};if(Object.keys(n).some(o=>o!==Qt)&&i.children[Qt]&&1===i.numberOfChildren&&0===i.children[Qt].segments.length){const o=fb(i.children[Qt],t,e);return new ji(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=OH(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{void 0===n[o]&&(r[o]=s)}),new ji(i.segments,r)}}function _1(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(pb(o)){const c=rce(o.outlets);return new ji(n,c)}if(0===r&&FC(e[0])){n.push(new ub(i.segments[t].path,NH(e[0]))),r++;continue}const s=pb(o)?o.outlets[Qt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&FC(a)?(n.push(new ub(s,NH(a))),r+=2):(n.push(new ub(s,{})),r++)}return new ji(n,{})}function rce(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=_1(new ji([],{}),0,n))}),t}function NH(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function FH(i,t,e){return i==e.path&&Bc(t,e.parameters)}const gb="imperative";class zc{constructor(t,e){this.id=t,this.url=e}}class VC extends zc{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ru extends zc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _b extends zc{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Of extends zc{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class BC extends zc{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LH extends zc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oce extends zc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sce extends zc{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ace extends zc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cce extends zc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lce{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dce{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VH{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class v1{}class b1{constructor(t){this.url=t}}class fce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vb,this.attachRef=null}}let vb=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new fce,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class BH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=y1(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=y1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=w1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return w1(t,this._root).map(e=>e.value)}}function y1(i,t){if(i===t.value)return t;for(const e of t.children){const n=y1(i,e);if(n)return n}return null}function w1(i,t){if(i===t.value)return[t];for(const e of t.children){const n=w1(i,e);if(n.length)return n.unshift(t),n}return[]}class Hl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Nf(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class zH extends BH{constructor(t,e){super(t),this.snapshot=e,x1(this,t)}toString(){return this.snapshot.toString()}}function HH(i,t){const e=function gce(i,t){const s=new zC([],{},{},"",{},Qt,t,null,{});return new jH("",new Hl(s,[]))}(0,t),n=new $([new ub("",{})]),r=new $({}),o=new $({}),s=new $({}),a=new $(""),c=new Ff(n,r,s,a,o,Qt,t,e.root);return c.snapshot=e.root,new zH(new Hl(c,[]),e)}class Ff{constructor(t,e,n,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(l=>l[db]))??ie(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>Rf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>Rf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UH(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function _ce(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class zC{get title(){return this.data?.[db]}constructor(t,e,n,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jH extends BH{constructor(t,e){super(e),this.url=t,x1(this,e)}toString(){return $H(this._root)}}function x1(i,t){t.value._routerState=i,t.children.forEach(e=>x1(i,e))}function $H(i){const t=i.children.length>0?` { ${i.children.map($H).join(", ")} } `:"";return`${i.value}${t}`}function C1(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Bc(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Bc(t.params,e.params)||i.paramsSubject.next(e.params),function Pae(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Bc(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),Bc(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function E1(i,t){const e=Bc(i.params,t.params)&&function Lae(i,t){return Zh(i,t)&&i.every((e,n)=>Bc(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||E1(i.parent,t.parent))}let bb=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=ye(vb),this.location=ye(Cr),this.changeDetector=ye(Tr),this.environmentInjector=ye(zs),this.inputBinder=ye(HC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vce(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=re({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]})}return i})();class vce{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ff?this.route:t===vb?this.childContexts:this.parent.get(t,e)}}const HC=new W("");let WH=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=SC([n.queryParams,n.params,n.data]).pipe(gt(([o,s,a],c)=>(a={...o,...s,...a},0===c?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const s=function Kre(i){const t=ni(i);if(!t)return null;const e=new Vv(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function yb(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function yce(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return yb(i,n,r);return yb(i,n)})}(i,t,e);return new Hl(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>yb(i,a)),s}}const n=function wce(i){return new Ff(new $(i.url),new $(i.params),new $(i.queryParams),new $(i.fragment),new $(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>yb(i,o));return new Hl(n,r)}}const T1="ngNavigationCancelingError";function GH(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=Kh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=qH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function qH(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[T1]=!0,n.cancellationCode=t,e&&(n.url=e),n}function YH(i){return i&&i[T1]}let ZH=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=pt({type:i,selectors:[["ng-component"]],standalone:!0,features:[Z3],decls:1,vars:0,template:function(n,r){1&n&&Ke(0,"router-outlet")},dependencies:[bb],encapsulation:2})}return i})();function k1(i){const t=i.children&&i.children.map(k1),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qt&&(e.component=ZH),e}function $a(i){return i.outlet||Qt}function wb(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Sce{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),C1(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Nf(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Nf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Nf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=Nf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new pce(o.value.snapshot))}),t.children.length&&this.forwardEvent(new hce(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(C1(r),r===o)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),C1(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=wb(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class KH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class UC{constructor(t,e){this.component=t,this.route=e}}function Mce(i,t,e){const n=i._root;return xb(n,t?t._root:null,e,[n.value])}function Lf(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||function N_(i){return null!==cc(i)}(i)?t.get(i):i:n}function xb(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Nf(t);return i.children.forEach(s=>{(function Rce(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Pce(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Zh(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Zh(i.url,t.url)||!Bc(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E1(i,t)||!Bc(i.queryParams,t.queryParams);default:return!E1(i,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new KH(n)):(o.data=s.data,o._resolvedData=s._resolvedData),xb(i,t,o.component?a?a.children:null:e,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new UC(a.outlet.component,s))}else s&&Cb(t,a,r),r.canActivateChecks.push(new KH(n)),xb(i,null,o.component?a?a.children:null:e,n,r)})(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cb(a,e.getContext(s),r)),r}function Cb(i,t,e){const n=Nf(i),r=i.value;Object.entries(n).forEach(([o,s])=>{Cb(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new UC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Eb(i){return"function"==typeof i}function QH(i){return i instanceof MC||"EmptyError"===i?.name}const jC=Symbol("INITIAL_VALUE");function Vf(){return gt(i=>SC(i.map(t=>t.pipe(Xn(1),xa(jC)))).pipe(Ie(t=>{for(const e of t)if(!0!==e){if(e===jC)return jC;if(!1===e||e instanceof Pf)return e}return!0}),jn(t=>t!==jC),Xn(1)))}function XH(i){return function vt(...i){return cs(i)}(Jn(t=>{if(Kh(t))throw GH(0,t)}),Ie(t=>!0===t))}class $C{constructor(t){this.segmentGroup=t||null}}class JH{constructor(t){this.urlTree=t}}function Bf(i){return If(new $C(i))}function e5(i){return If(new JH(i))}class Jce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Z(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ie(n);if(r.numberOfChildren>1||!r.children[Qt])return If(new Z(4e3,!1));r=r.children[Qt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new Pf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,r)}),new ji(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Z(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const D1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ele(i,t,e,n,r){const o=I1(i,t,e);return o.matched?(n=function Cce(i,t){return i.providers&&!i._injector&&(i._injector=oM(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function Kce(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?ie(r.map(s=>{const a=Lf(s,i);return nu(function Bce(i){return i&&Eb(i.canMatch)}(a)?a.canMatch(t,e):i.runInContext(()=>a(t,e)))})).pipe(Vf(),XH()):ie(!0)}(n,t,e).pipe(Ie(s=>!0===s?o:{...D1}))):ie(o)}function I1(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...D1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Rae)(e,i,t);if(!r)return{...D1};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function t5(i,t,e,n){return e.length>0&&function nle(i,t,e){return e.some(n=>WC(i,t,n)&&$a(n)!==Qt)}(i,e,n)?{segmentGroup:new ji(t,ile(n,new ji(e,i.children))),slicedSegments:[]}:0===e.length&&function rle(i,t,e){return e.some(n=>WC(i,t,n))}(i,e,n)?{segmentGroup:new ji(i.segments,tle(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new ji(i.segments,i.children),slicedSegments:e}}function tle(i,t,e,n,r){const o={};for(const s of n)if(WC(i,e,s)&&!r[$a(s)]){const a=new ji([],{});o[$a(s)]=a}return{...r,...o}}function ile(i,t){const e={};e[Qt]=t;for(const n of i)if(""===n.path&&$a(n)!==Qt){const r=new ji([],{});e[$a(n)]=r}return e}function WC(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class cle{constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Jce(this.urlSerializer,this.urlTree)}noMatchError(t){return new Z(4002,!1)}recognize(){const t=t5(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Qt).pipe(iu(e=>{if(e instanceof JH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof $C?this.noMatchError(e):e}),Ie(e=>{const n=new zC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),r=new Hl(n,e),o=new jH("",r),s=function Xae(i,t,e=null,n=null){return AH(MH(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Qt).pipe(iu(n=>{throw n instanceof $C?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=UH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return B(r).pipe(Sf(o=>{const s=n.children[o],a=function Dce(i,t){const e=i.filter(n=>$a(n)===t);return e.push(...i.filter(n=>$a(n)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Mf((o,s)=>(o.push(...s),o)),AC(null),function Mae(i,t){const e=arguments.length>=2;return n=>n.pipe(i?jn((r,o)=>i(r,o,n)):Mn,h1(1),e?AC(t):gH(()=>new MC))}(),yi(o=>{if(null===o)return Bf(n);const s=n5(o);return function lle(i){i.sort((t,e)=>t.value.outlet===Qt?-1:e.value.outlet===Qt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),ie(s)}))}processSegment(t,e,n,r,o,s){return B(e).pipe(Sf(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,r,o,s).pipe(iu(c=>{if(c instanceof $C)return ie(null);throw c}))),tu(a=>!!a),iu(a=>{if(QH(a))return function sle(i,t,e){return 0===t.length&&!i.children[e]}(n,r,o)?ie([]):Bf(n);throw a}))}processSegmentAgainstRoute(t,e,n,r,o,s,a){return function ole(i,t,e,n){return!!($a(i)===n||n!==Qt&&WC(t,e,i))&&("**"===i.path||I1(t,i,e).matched)}(n,r,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s):Bf(r):Bf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?e5(o):this.applyRedirects.lineralizeSegments(n,o).pipe(yi(s=>{const a=new ji(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=I1(e,r,o);if(!a)return Bf(e);const m=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?e5(m):this.applyRedirects.lineralizeSegments(r,m).pipe(yi(_=>this.processSegment(t,n,e,_.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a;if("**"===n.path){const c=r.length>0?bH(r).parameters:{};a=ie({snapshot:new zC(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,r5(n),$a(n),n.component??n._loadedComponent??null,n,o5(n)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=ele(e,n,r,t).pipe(Ie(({matched:c,consumedSegments:l,remainingSegments:u,parameters:m})=>c?{snapshot:new zC(l,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,r5(n),$a(n),n.component??n._loadedComponent??null,n,o5(n)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(gt(c=>null===c?Bf(e):this.getChildConfig(t=n._injector??t,n,r).pipe(gt(({routes:l})=>{const u=n._loadedInjector??t,{snapshot:m,consumedSegments:_,remainingSegments:v}=c,{segmentGroup:x,slicedSegments:E}=t5(e,_,v,l);if(0===E.length&&x.hasChildren())return this.processChildren(u,l,x).pipe(Ie(O=>null===O?null:[new Hl(m,O)]));if(0===l.length&&0===E.length)return ie([new Hl(m,[])]);const k=$a(n)===o;return this.processSegment(u,l,x,E,k?Qt:o,!0).pipe(Ie(O=>[new Hl(m,O)]))}))))}getChildConfig(t,e,n){return e.children?ie({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ie({routes:e._loadedRoutes,injector:e._loadedInjector}):function Zce(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?ie(!0):ie(r.map(s=>{const a=Lf(s,i);return nu(function Nce(i){return i&&Eb(i.canLoad)}(a)?a.canLoad(t,e):i.runInContext(()=>a(t,e)))})).pipe(Vf(),XH())}(t,e,n).pipe(yi(r=>r?this.configLoader.loadChildren(t,e).pipe(Jn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Xce(i){return If(qH(!1,3))}())):ie({routes:[],injector:t})}}function dle(i){const t=i.value.routeConfig;return t&&""===t.path}function n5(i){const t=[],e=new Set;for(const n of i){if(!dle(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=n5(n.children);t.push(new Hl(n.value,r))}return t.filter(n=>!e.has(n))}function r5(i){return i.data||{}}function o5(i){return i.resolve||{}}function hle(i,t){return yi(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ie(e);let o=0;return B(r).pipe(Sf(s=>function mle(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!s5(r)&&(o[db]=r.title),function ple(i,t,e,n){const r=function fle(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return ie({});const o={};return B(r).pipe(yi(s=>function gle(i,t,e,n){const r=wb(t)??n,o=Lf(i,r);return nu(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(i[s],t,e,n).pipe(tu(),Jn(a=>{o[s]=a}))),h1(1),function _H(i){return Ie(()=>i)}(o),iu(s=>QH(s)?mn:If(s)))}(o,i,t,n).pipe(Ie(s=>(i._resolvedData=s,i.data=UH(i,e).resolve,r&&s5(r)&&(i.data[db]=r.title),null)))}(s.route,n,i,t)),Jn(()=>o++),h1(1),yi(s=>o===r.length?ie(e):mn))})}function s5(i){return"string"==typeof i.title||null===i.title}function S1(i){return gt(t=>{const e=i(t);return e?B(e).pipe(Ie(()=>t)):ie(t)})}const zf=new W("ROUTES");let M1=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ye(z4)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ie(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=nu(e.loadComponent()).pipe(Ie(a5),Jn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Af(()=>{this.componentLoaders.delete(e)})),r=new u1(n,()=>new G).pipe(d1());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ie({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function _le(i,t,e,n){return nu(i.loadChildren()).pipe(Ie(a5),yi(r=>r instanceof q3||Array.isArray(r)?ie(r):B(t.compileModuleAsync(r))),Ie(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(zf,[],{optional:!0,self:!0}).flat()),{routes:s.map(k1),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Af(()=>{this.childrenLoaders.delete(n)})),s=new u1(o,()=>new G).pipe(d1());return this.childrenLoaders.set(n,s),s}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function a5(i){return function vle(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let GC=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new G,this.transitionAbortSubject=new G,this.configLoader=ye(M1),this.environmentInjector=ye(zs),this.urlSerializer=ye(hb),this.rootContexts=ye(vb),this.inputBindingEnabled=null!==ye(HC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new dce(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new lce(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new $({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gb,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jn(o=>0!==o.id),Ie(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),gt(o=>{this.currentTransition=o;let s=!1,a=!1;return ie(o).pipe(Jn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gt(c=>{const l=c.currentBrowserUrl.toString(),u=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _="";return this.events.next(new Of(c.id,this.urlSerializer.serialize(c.rawUrl),_,0)),c.resolve(null),mn}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ie(c).pipe(gt(_=>{const v=this.transitions?.getValue();return this.events.next(new VC(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),v!==this.transitions?.getValue()?mn:Promise.resolve(_)}),function ule(i,t,e,n,r,o){return yi(s=>function ale(i,t,e,n,r,o,s="emptyOnly"){return new cle(i,t,e,n,r,s,o).recognize()}(i,t,e,n,s.extractedUrl,r,o).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Jn(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const v=new LH(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(v)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:_,extractedUrl:v,source:x,restoredState:E,extras:k}=c,O=new VC(_,this.urlSerializer.serialize(v),x,E);this.events.next(O);const R=HH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:R,urlAfterRedirects:v,extras:{...k,skipLocationChange:!1,replaceUrl:!1}},ie(o)}{const _="";return this.events.next(new Of(c.id,this.urlSerializer.serialize(c.extractedUrl),_,1)),c.resolve(null),mn}}),Jn(c=>{const l=new oce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ie(c=>(this.currentTransition=o={...c,guards:Mce(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Hce(i,t){return yi(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ie({...e,guardsResult:!0}):function Uce(i,t,e,n){return B(i).pipe(yi(r=>function Yce(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ie(o.map(a=>{const c=wb(t)??r,l=Lf(a,c);return nu(function Vce(i){return i&&Eb(i.canDeactivate)}(l)?l.canDeactivate(i,t,e,n):c.runInContext(()=>l(i,t,e,n))).pipe(tu())})).pipe(Vf()):ie(!0)}(r.component,r.route,e,t,n)),tu(r=>!0!==r,!0))}(s,n,r,i).pipe(yi(a=>a&&function Oce(i){return"boolean"==typeof i}(a)?function jce(i,t,e,n){return B(t).pipe(Sf(r=>cb(function Wce(i,t){return null!==i&&t&&t(new uce(i)),ie(!0)}(r.route.parent,n),function $ce(i,t){return null!==i&&t&&t(new mce(i)),ie(!0)}(r.route,n),function qce(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Ace(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(s)).filter(s=>null!==s).map(s=>lb(()=>ie(s.guards.map(c=>{const l=wb(s.node)??e,u=Lf(c,l);return nu(function Lce(i){return i&&Eb(i.canActivateChild)}(u)?u.canActivateChild(n,i):l.runInContext(()=>u(n,i))).pipe(tu())})).pipe(Vf())));return ie(o).pipe(Vf())}(i,r.path,e),function Gce(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return ie(!0);const r=n.map(o=>lb(()=>{const s=wb(t)??e,a=Lf(o,s);return nu(function Fce(i){return i&&Eb(i.canActivate)}(a)?a.canActivate(t,i):s.runInContext(()=>a(t,i))).pipe(tu())}));return ie(r).pipe(Vf())}(i,r.route,e))),tu(r=>!0!==r,!0))}(n,o,i,t):ie(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Jn(c=>{if(o.guardsResult=c.guardsResult,Kh(c.guardsResult))throw GH(0,c.guardsResult);const l=new sce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),jn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),S1(c=>{if(c.guards.canActivateChecks.length)return ie(c).pipe(Jn(l=>{const u=new ace(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),gt(l=>{let u=!1;return ie(l).pipe(hle(e.paramsInheritanceStrategy,this.environmentInjector),Jn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),Jn(l=>{const u=new cce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),S1(c=>{const l=u=>{const m=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(u.routeConfig).pipe(Jn(_=>{u.component=_}),Ie(()=>{})));for(const _ of u.children)m.push(...l(_));return m};return SC(l(c.targetSnapshot.root)).pipe(AC(),Xn(1))}),S1(()=>this.afterPreactivation()),Ie(c=>{const l=function bce(i,t,e){const n=yb(i,t._root,e?e._root:void 0);return new zH(n,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),Jn(()=>{this.events.next(new v1)}),((i,t,e,n)=>Ie(r=>(new Sce(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xn(1),Jn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ru(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Cn(this.transitionAbortSubject.pipe(Jn(c=>{throw c}))),Af(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),iu(c=>{if(a=!0,YH(c))this.events.next(new _b(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function xce(i){return YH(i)&&Kh(i.url)}(c)?this.events.next(new b1(c.url)):o.resolve(!1);else{this.events.next(new BC(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return mn}))}))}cancelNavigationTransition(e,n,r){const o=new _b(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function c5(i){return i!==gb}let l5=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Qt);return n}getResolvedTitleForRoute(e){return e.data[db]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return ye(ble)},providedIn:"root"})}return i})(),ble=(()=>{class i extends l5{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(H(cH))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),yle=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return ye(xle)},providedIn:"root"})}return i})();class wle{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let xle=(()=>{class i extends wle{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(i)))(r||i)}}();static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const qC=new W("",{providedIn:"root",factory:()=>({})});let Cle=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:function(){return ye(Ele)},providedIn:"root"})}return i})(),Ele=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Tb=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Tb||{});function d5(i,t){i.events.pipe(jn(e=>e instanceof ru||e instanceof _b||e instanceof BC||e instanceof Of),Ie(e=>e instanceof ru||e instanceof Of?Tb.COMPLETE:e instanceof _b&&(0===e.code||1===e.code)?Tb.REDIRECTING:Tb.FAILED),jn(e=>e!==Tb.REDIRECTING),Xn(1)).subscribe(()=>{t()})}function Tle(i){throw i}function kle(i,t,e){return t.parse("/")}const Dle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ile={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ye(B4),this.isNgZoneEnabled=!1,this._events=new G,this.options=ye(qC,{optional:!0})||{},this.pendingTasks=ye(oC),this.errorHandler=this.options.errorHandler||Tle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ye(Cle),this.routeReuseStrategy=ye(yle),this.titleStrategy=ye(l5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ye(zf,{optional:!0})?.flat()??[],this.navigationTransitions=ye(GC),this.urlSerializer=ye(hb),this.location=ye(nb),this.componentInputBindingEnabled=!!ye(HC,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=ye(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(u5(n)&&this._events.next(n));if(n instanceof VC)c5(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof Of)this.rawUrlTree=r.rawUrl;else if(n instanceof LH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof v1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof _b)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof b1){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||c5(r.source)};this.scheduleNavigation(o,gb,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof BC&&this.restoreHistory(r,!0),n instanceof ru&&(this.navigated=!0),u5(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gb,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(k1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s;let m,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{m=MH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),m=this.currentUrlTree.root}return AH(m,e,u,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=Kh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,gb,null,n)}navigate(e,n={skipLocationChange:!1}){return function Sle(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new Z(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...Dle}:!1===n?{...Ile}:n,Kh(e))return wH(this.currentUrlTree,e,r);const o=this.parseUrl(e);return wH(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((m,_)=>{a=m,c=_});const u=this.pendingTasks.add();return d5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(m=>Promise.reject(m))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function u5(i){return!(i instanceof v1||i instanceof b1)}let YC=(()=>{class i{constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new G,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof ru&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function XL(i,t,e){return function mX(i,t){return"src"===t&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===t&&("base"===i||"link"===i)?QL:KL}(t,e)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(D(es),D(Ff),ko("tabindex"),D(Ol),D(ot),D(Yh))};static#t=this.\u0275dir=re({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&we("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Gt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Tf],skipLocationChange:["skipLocationChange","skipLocationChange",Tf],replaceUrl:["replaceUrl","replaceUrl",Tf],routerLink:"routerLink"},standalone:!0,features:[lB,Kn]})}return i})(),h5=(()=>{class i{get isActive(){return this._isActive}constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new wt,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ru&&this.update()})}ngAfterContentInit(){ie(this.links.changes,ie(null)).pipe(ro()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=B(e).pipe(ro()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function Mle(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||i)(D(es),D(ot),D(Ol),D(Tr),D(YC,8))};static#t=this.\u0275dir=re({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&Li(o,YC,5),2&n){let s;Tt(s=kt())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Kn]})}return i})();class m5{}let Ale=(()=>{class i{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jn(e=>e instanceof ru),Sf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=oM(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return B(r).pipe(ro())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):ie(null);const o=r.pipe(yi(s=>null===s?ie(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return n.loadComponent&&!n._loadedComponent?B([o,this.loader.loadComponent(n)]).pipe(ro()):o})}static#e=this.\u0275fac=function(n){return new(n||i)(H(es),H(z4),H(zs),H(m5),H(M1))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const A1=new W("");let p5=(()=>{class i{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof VC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ru?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Of&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof VH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new VH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){Zd()};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function Ul(i,t){return{\u0275kind:i,\u0275providers:t}}function g5(){const i=ye(xr);return t=>{const e=i.get(Xd);if(t!==e.components[0])return;const n=i.get(es),r=i.get(_5);1===i.get(R1)&&n.initialNavigation(),i.get(v5,null,ii.Optional)?.setUpPreloading(),i.get(A1,null,ii.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const _5=new W("",{factory:()=>new G}),R1=new W("",{providedIn:"root",factory:()=>1}),v5=new W("");function Nle(i){return Ul(0,[{provide:v5,useExisting:Ale},{provide:m5,useExisting:i}])}const b5=new W("ROUTER_FORROOT_GUARD"),Lle=[nb,{provide:hb,useClass:m1},es,vb,{provide:Ff,useFactory:function f5(i){return i.routerState.root},deps:[es]},M1,[]];function Vle(){return new q4("Router",es)}let y5=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[Lle,[],{provide:zf,multi:!0,useValue:e},{provide:b5,useFactory:Ule,deps:[[es,new Do,new Ls]]},{provide:qC,useValue:n||{}},n?.useHash?{provide:Yh,useClass:toe}:{provide:Yh,useClass:Ez},{provide:A1,useFactory:()=>{const i=ye(yse),t=ye(tt),e=ye(qC),n=ye(GC),r=ye(hb);return e.scrollOffset&&i.setOffset(e.scrollOffset),new p5(r,n,i,t,e)}},n?.preloadingStrategy?Nle(n.preloadingStrategy).\u0275providers:[],{provide:q4,multi:!0,useFactory:Vle},n?.initialNavigation?jle(n):[],n?.bindToComponentInputs?Ul(8,[WH,{provide:HC,useExisting:WH}]).\u0275providers:[],[{provide:w5,useFactory:g5},{provide:kM,multi:!0,useExisting:w5}]]}}static forChild(e){return{ngModule:i,providers:[{provide:zf,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(H(b5,8))};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})();function Ule(i){return"guarded"}function jle(i){return["disabled"===i.initialNavigation?Ul(3,[{provide:vM,multi:!0,useFactory:()=>{const t=ye(es);return()=>{t.setUpLocationChangeListener()}}},{provide:R1,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Ul(2,[{provide:R1,useValue:0},{provide:vM,multi:!0,deps:[xr],useFactory:t=>{const e=t.get(Jre,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get(es),o=t.get(_5);d5(r,()=>{n(!0)}),t.get(GC).afterPreactivation=()=>(n(!0),o.closed?ie(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const w5=new W("");var te=dt(861);var Wle=dt(519),Gle=dt.n(Wle),Hc=(dt(191),dt(823));(0,Hc.registerVersion)("firebase","10.7.2","app");class Zle extends Mt{constructor(t,e){super()}schedule(t,e=0){return this}}const ZC={setInterval(i,t,...e){const{delegate:n}=ZC;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=ZC;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class KC extends Zle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return ZC.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&ZC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ft(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const P1={now:()=>(P1.delegate||Date).now(),delegate:void 0};class kb{constructor(t,e=kb.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}kb.now=P1.now;class QC extends kb{constructor(t,e=kb.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Xle=new class Qle extends QC{}(class Kle extends KC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,e,n):(t.flush(this),0)}}),Qh=new QC(KC),Jle=Qh,O1=new Yd("ANGULARFIRE2_VERSION");class N1{constructor(){return((i,t)=>{const e=(0,Hc.getApps)(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n})(tde)}}const tde="app-check";function Hf(){}class C5{zone;delegate;constructor(t,e=Xle){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,n)}}class ide{zone;task=null;constructor(t){this.zone=t}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hf,{},Hf,Hf)),e.pipe(Jn({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let F1=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new C5(Zone.current)),this.insideAngular=e.run(()=>new C5(Zone.current,Qh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(H(tt))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function zr(i){return function rde(i){return function(e){return(e=e.lift(new ide(i.ngZone))).pipe(qr(i.outsideAngular),rn(i.insideAngular))}}(function Uf(){const i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return i}())(i)}var jl=dt(399);jl.Z.registerVersion("firebase","10.7.2","app-compat");const cde=["ngOnDestroy"];class E5{constructor(t){return t}}const Db=new W("angularfire2.app.options"),Ib=new W("angularfire2.app.name");function XC(i,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=jl.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>jl.Z.initializeApp(i,r));try{if(JSON.stringify(i)!==JSON.stringify(s.options)){const a=!!module.hot;ude("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new E5(s)}const ude=(i,...t)=>{},hde={provide:E5,useFactory:XC,deps:[Db,tt,[new Do,Ib]]};let mde=(()=>{class i{static initializeApp(e,n){return{ngModule:i,providers:[{provide:Db,useValue:e},{provide:Ib,useValue:n}]}}constructor(e){jl.Z.registerVersion("angularfire",O1.full,"core"),jl.Z.registerVersion("angularfire",O1.full,"app-compat"),jl.Z.registerVersion("angular",hV.full,e.toString())}static \u0275fac=function(n){return new(n||i)(H(ma))};static \u0275mod=Ee({type:i});static \u0275inj=De({providers:[hde]})}return i})();function L1(i,t,e,n,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===i)||[];if(o)return function pde(i,t){try{return i.toString()===t.toString()}catch{return i===t}}(r,s)||(T5("error",`${t} was already initialized on the ${e} Firebase App with different settings.${fde?" You may need to reload as Firebase is not HMR aware.":""}`),T5("warn",{is:r,was:s})),o;{const a=n();return globalThis.\u0275AngularfireInstanceCache.push([i,a,r]),a}}const fde=typeof module<"u"&&!!module.hot,T5=(i,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class gde extends G{constructor(t=1/0,e=1/0,n=P1){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const s=e.now();let a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}}function k5(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,mt({connector:()=>new gde(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function D5(i,t){return S(t)?gt(()=>i,t):gt(()=>i)}const V1=new W("angularfire2.auth.use-emulator"),B1=new W("angularfire2.auth.settings"),z1=new W("angularfire2.auth.tenant-id"),H1=new W("angularfire2.auth.langugage-code"),U1=new W("angularfire2.auth.use-device-language"),j1=new W("angularfire.auth.persistence"),$1=(i,t,e,n,r,o,s,a)=>L1(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const c=t.runOutsideAngular(()=>i.auth());if(e&&c.useEmulator(...e),n&&(c.tenantId=n),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[e,n,r,o,s,a]);let JC=(()=>{class i{authState;idToken;user;idTokenResult;credential;constructor(e,n,r,o,s,a,c,l,u,m,_,v){const x=new G,E=ie(void 0).pipe(rn(s.outsideAngular),gt(()=>o.runOutsideAngular(()=>Promise.resolve().then(dt.bind(dt,191)))),Ie(()=>XC(e,o,n)),Ie(k=>$1(k,o,a,l,u,m,c,_)),k5({bufferSize:1,refCount:!1}));if(EC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ie(null);else{E.pipe(tu()).subscribe();const k=E.pipe(gt(z=>z.getRedirectResult().then(K=>K,()=>null)),zr,k5({bufferSize:1,refCount:!1})),O=E.pipe(gt(z=>new Lt(K=>({unsubscribe:o.runOutsideAngular(()=>z.onAuthStateChanged(le=>K.next(le),le=>K.error(le),()=>K.complete()))})))),R=E.pipe(gt(z=>new Lt(K=>({unsubscribe:o.runOutsideAngular(()=>z.onIdTokenChanged(le=>K.next(le),le=>K.error(le),()=>K.complete()))}))));this.authState=k.pipe(D5(O),qr(s.outsideAngular),rn(s.insideAngular)),this.user=k.pipe(D5(R),qr(s.outsideAngular),rn(s.insideAngular)),this.idToken=this.user.pipe(gt(z=>z?B(z.getIdToken()):ie(null))),this.idTokenResult=this.user.pipe(gt(z=>z?B(z.getIdTokenResult()):ie(null))),this.credential=J(k,x,this.authState.pipe(jn(z=>!z))).pipe(Ie(z=>z?.user?z:null),qr(s.outsideAngular),rn(s.insideAngular))}return((i,t,e,n={})=>new Proxy(i,{get:(r,o)=>e.runOutsideAngular(()=>{if(i[o])return n?.spy?.get&&n.spy.get(o,i[o]),i[o];if(cde.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{const m=u?.(...l);return n?.spy?.apply&&n.spy.apply(o,l,m),m})})})}))(this,E,o,{spy:{apply:(k,O,R)=>{(k.startsWith("signIn")||k.startsWith("createUser"))&&R.then(z=>x.next(z))}}})}static \u0275fac=function(n){return new(n||i)(H(Db),H(Ib,8),H(ma),H(tt),H(F1),H(V1,8),H(B1,8),H(z1,8),H(H1,8),H(U1,8),H(j1,8),H(N1,8))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();var $l=dt(537),I=dt(58),js=dt(879);const I5="@firebase/database";let W1="";function G1(i){W1=i}class yde{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,I.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,I.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class wde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,I.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const M5=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yde(t)}}catch{}return new wde},Jh=M5("localStorage"),q1=M5("sessionStorage"),jf=new js.Yd("@firebase/database"),A5=function(){let i=1;return function(){return i++}}(),R5=function(i){const t=(0,I.dS)(i),e=new I.gQ;e.update(t);const n=e.digest();return I.US.encodeByteArray(n)},Sb=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=Sb.apply(null,n):t+="object"==typeof n?(0,I.Wl)(n):n,t+=" "}return t};let em=null,P5=!0;const O5=function(i,t){(0,I.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(jf.logLevel=js.in.VERBOSE,em=jf.log.bind(jf),t&&q1.set("logging_enabled",!0)):"function"==typeof i?em=i:(em=null,q1.remove("logging_enabled"))},Kr=function(...i){if(!0===P5&&(P5=!1,null===em&&!0===q1.get("logging_enabled")&&O5(!0)),em){const t=Sb.apply(null,i);em(t)}},Mb=function(i){return function(...t){Kr(i,...t)}},Y1=function(...i){const t="FIREBASE INTERNAL ERROR: "+Sb(...i);jf.error(t)},Uc=function(...i){const t=`FIREBASE FATAL ERROR: ${Sb(...i)}`;throw jf.error(t),new Error(t)},Mo=function(...i){const t="FIREBASE WARNING: "+Sb(...i);jf.warn(t)},eE=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},ou="[MIN_NAME]",Wl="[MAX_NAME]",tm=function(i,t){if(i===t)return 0;if(i===ou||t===Wl)return-1;if(t===ou||i===Wl)return 1;{const e=L5(i),n=L5(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},Ede=function(i,t){return i===t?0:i<t?-1:1},Ab=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,I.Wl)(t))},Z1=function(i){if("object"!=typeof i||null===i)return(0,I.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,I.Wl)(t[n]),e+=":",e+=Z1(i[t[n]]);return e+="}",e},N5=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function Qr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const F5=function(i){(0,I.hu)(!eE(i),"Invalid JSON number");const n=1023;let r,o,s,a,c;0===i?(o=0,s=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(i)/Math.LN2),n),o=a+n,s=Math.round(i*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(i/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let m="";for(c=0;c<64;c+=8){let _=parseInt(u.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),m+=_}return m.toLowerCase()},Ide=new RegExp("^-?(0*)\\d{1,10}$"),L5=function(i){if(Ide.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},$f=function(i){try{i()}catch(t){setTimeout(()=>{throw Mo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Rb=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Rde{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Mo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Pde{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Kr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mo(t)}}let Pb=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const U5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W5="websocket",G5="long_polling";class Q1{constructor(t,e,n,r,o=!1,s="",a=!1,c=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Jh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function q5(i,t,e){let n;if((0,I.hu)("string"==typeof t,"typeof type must == string"),(0,I.hu)("object"==typeof e,"typeof params must == object"),t===W5)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==G5)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Ode(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return Qr(e,(o,s)=>{r.push(o+"="+s)}),n+r.join("&")}class Nde{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,I.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,I.p$)(this.counters_)}}const X1={},J1={};function eA(i){const t=i.toString();return X1[t]||(X1[t]=new Nde),X1[t]}class Lde{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&$f(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class su{constructor(t,e,n,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mb(t),this.stats_=eA(e),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),q5(e,G5,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Lde(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,I.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tA((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&U5.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){su.forceAllow_=!0}static forceDisallow(){su.forceDisallow_=!0}static isAvailable(){return!((0,I.Yr)()||!su.forceAllow_&&(su.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,I.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,I.h$)(e),r=N5(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,I.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,I.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class tA{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=A5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=tA.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Kr("frame writing exception"),a.stack&&Kr(a.stack),Kr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Kr("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const s=this.pendingSegs.shift();n=n+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,I.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{Kr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let iE=null;typeof MozWebSocket<"u"?iE=MozWebSocket:typeof WebSocket<"u"&&(iE=WebSocket);let Wf=(()=>{class i{constructor(e,n,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mb(this.connId),this.stats_=eA(n),this.connURL=i.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,s){const a={v:"5"};return!(0,I.Yr)()&&typeof location<"u"&&location.hostname&&U5.test(location.hostname)&&(a.r="f"),n&&(a.s=n),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),q5(e,W5,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jh.set("previous_websocket_failure",!0);try{let r;if((0,I.Yr)()){r={headers:{"User-Agent":`Firebase/5/${W1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new iE(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==iE&&!i.forceDisallow_}static previouslyFailed(){return Jh.isInMemoryStorage||!0===Jh.get("previous_websocket_failure")}markConnectionHealthy(){Jh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,I.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,I.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,I.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N5(n,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),eU=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[su,Wf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Wf&&Wf.isAvailable();let r=n&&!Wf.previouslyFailed();if(e.webSocketOnly&&(n||Mo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wf];else{const o=this.transports_=[];for(const s of i.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class aU{constructor(t,e,n,r,o,s,a,c,l,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mb("c:"+this.id+":"),this.transportManager_=new eU(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Rb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ab("t",t),n=Ab("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ab("t",t),n=Ab("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ab("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Y1("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Y1("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Mo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Rb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cU{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class lU{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,I.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,I.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class nE extends lU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,I.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nE}getInitialEvent(t){return(0,I.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Bi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ki(){return new Bi("")}function ci(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function au(i){return i.pieces_.length-i.pieceNum_}function ln(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Bi(i.pieces_,t)}function nA(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Ob(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function hU(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Bi(t,0)}function On(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Bi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Bi(e,0)}function li(i){return i.pieceNum_>=i.pieces_.length}function ts(i,t){const e=ci(i),n=ci(t);if(null===e)return t;if(e===n)return ts(ln(i),ln(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function oue(i,t){const e=Ob(i,0),n=Ob(t,0);for(let r=0;r<e.length&&r<n.length;r++){const o=tm(e[r],n[r]);if(0!==o)return o}return e.length===n.length?0:e.length<n.length?-1:1}function rA(i,t){if(au(i)!==au(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function Ca(i,t){let e=i.pieceNum_,n=t.pieceNum_;if(au(i)>au(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class sue{constructor(t,e){this.errorPrefix_=e,this.parts_=Ob(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,I.ug)(this.parts_[n]);mU(this)}}function mU(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+im(i))}function im(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class oA extends lU{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new oA}getInitialEvent(t){return(0,I.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Nb=1e3;let oE,nm=(()=>{class i extends cU{constructor(e,n,r,o,s,a,c,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=i.nextPersistentConnectionId_++,this.log_=Mb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,I.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oA.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&nE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,s={r:o,a:e,b:n};this.log_((0,I.Wl)(s)),(0,I.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new I.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?n.resolve(c):n.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,I.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;i.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,I.r3)(e,"w")){const r=(0,I.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Mo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,I.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,I.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,I.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,s){this.initConnection_();const a={p:n,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,I.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):Y1("Unrecognized action received from server: "+(0,I.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,I.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+i.nextConnectionId_++,a=e.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};e.realtime_={close:u,sendRequest:function(v){(0,I.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(v)}};const _=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[v,x]=yield Promise.all([e.authTokenProvider_.getToken(_),e.appCheckTokenProvider_.getToken(_)]);c?Kr("getToken() completed but was canceled"):(Kr("getToken() completed. Creating connection."),e.authToken_=v&&v.accessToken,e.appCheckToken_=x&&x.token,l=new aU(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,o,E=>{Mo(E+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(v){e.log_("Failed to get token: "+v),c||(e.repoInfo_.nodeAdmin&&Mo(v),u())}}})()}interrupt(e){Kr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,I.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Nb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(s=>Z1(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Bi(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Kr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Kr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,I.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+W1.replace(/\./g,"-")]=1,(0,I.uI)()?e["framework.cordova"]=1:(0,I.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nE.getInstance().currentlyOnline();return(0,I.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class hi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hi(t,e)}}class rE{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new hi(ou,t),r=new hi(ou,e);return 0!==this.compare(n,r)}minPost(){return hi.MIN}}class gU extends rE{static get __EMPTY_NODE(){return oE}static set __EMPTY_NODE(t){oE=t}compare(t,e){return tm(t.name,e.name)}isDefinedOn(t){throw(0,I.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hi.MIN}maxPost(){return new hi(Wl,oE)}makePost(t,e){return(0,I.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hi(t,oE)}toString(){return".key"}}const jc=new gU;class sE{constructor(t,e,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let aA,Wa=(()=>{class i{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??i.RED,this.left=o??Cs.EMPTY_NODE,this.right=s??Cs.EMPTY_NODE}copy(e,n,r,o,s){return new i(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===s?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return Cs.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Cs{constructor(t,e=Cs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Cs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wa.BLACK,null,null))}remove(t){return new Cs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new sE(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new sE(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new sE(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new sE(this.root_,null,this.comparator_,!0,t)}}function pue(i,t){return tm(i.name,t.name)}function sA(i,t){return tm(i,t)}Cs.EMPTY_NODE=new class mue{copy(t,e,n,r,o){return this}insert(t,e,n){return new Wa(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _U=function(i){return"number"==typeof i?"number:"+F5(i):"string:"+i},vU=function(i){if(i.isLeafNode()){const t=i.val();(0,I.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,I.r3)(t,".sv"),"Priority must be a string or number.")}else(0,I.hu)(i===aA||i.isEmpty(),"priority of unexpected type.");(0,I.hu)(i===aA||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bU,yU,wU,Gf=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,I.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vU(this.priorityNode_)}static set __childrenNodeConstructor(e){bU=e}static get __childrenNodeConstructor(){return bU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return li(e)?this:".priority"===ci(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ci(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,I.hu)(".priority"!==r||1===au(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(ln(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_U(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?F5(this.value_):this.value_,this.lazyHash_=R5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,I.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=i.VALUE_TYPE_ORDER.indexOf(n),s=i.VALUE_TYPE_ORDER.indexOf(r);return(0,I.hu)(o>=0,"Unknown leaf type: "+n),(0,I.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const _n=new class vue extends rE{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?tm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hi.MIN}maxPost(){return new hi(Wl,new Gf("[PRIORITY-POST]",wU))}makePost(t,e){const n=yU(t);return new hi(e,new Gf("[PRIORITY-POST]",n))}toString(){return".priority"}},bue=Math.log(2);class yue{constructor(t){this.count=parseInt(Math.log(t+1)/bue,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const aE=function(i,t,e,n){i.sort(t);const r=function(c,l){const u=l-c;let m,_;if(0===u)return null;if(1===u)return m=i[c],_=e?e(m):m,new Wa(_,m.node,Wa.BLACK,null,null);{const v=parseInt(u/2,10)+c,x=r(c,v),E=r(v+1,l);return m=i[v],_=e?e(m):m,new Wa(_,m.node,Wa.BLACK,x,E)}},a=function(c){let l=null,u=null,m=i.length;const _=function(x,E){const k=m-x,O=m;m-=x;const R=r(k+1,O),z=i[k],K=e?e(z):z;v(new Wa(K,z.node,E,null,R))},v=function(x){l?(l.left=x,l=x):(u=x,l=x)};for(let x=0;x<c.count;++x){const E=c.nextBitIsOne(),k=Math.pow(2,c.count-(x+1));E?_(k,Wa.BLACK):(_(k,Wa.BLACK),_(k,Wa.RED))}return u}(new yue(i.length));return new Cs(n||t,a)};let cA;const qf={};class Gl{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,I.hu)(qf&&_n,"ChildrenNode.ts has not been loaded"),cA=cA||new Gl({".priority":qf},{".priority":_n}),cA}get(t){const e=(0,I.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Cs?e:null}hasIndex(t){return(0,I.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,I.hu)(t!==jc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=e.getIterator(hi.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),n.push(s),s=o.getNext();a=r?aE(n,t.getCompare()):qf;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=a,new Gl(u,l)}addToIndexes(t,e){const n=(0,I.UI)(this.indexes_,(r,o)=>{const s=(0,I.DV)(this.indexSet_,o);if((0,I.hu)(s,"Missing index implementation for "+o),r===qf){if(s.isDefinedOn(t.node)){const a=[],c=e.getIterator(hi.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),aE(a,s.getCompare())}return qf}{const a=e.get(t.name);let c=r;return a&&(c=c.remove(new hi(t.name,a))),c.insert(t,t.node)}});return new Gl(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,I.UI)(this.indexes_,r=>{if(r===qf)return r;{const o=e.get(t.name);return o?r.remove(new hi(t.name,o)):r}});return new Gl(n,this.indexSet_)}}let Fb,qt=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vU(this.priorityNode_),this.children_.isEmpty()&&(0,I.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fb||(Fb=new i(new Cs(sA),null,Gl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fb}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?Fb:n}}getChild(e){const n=ci(e);return null===n?this:this.getImmediateChild(n).getChild(ln(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,I.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new hi(e,n);let o,s;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Fb:this.priorityNode_;return new i(o,a,s)}}updateChild(e,n){const r=ci(e);if(null===r)return n;{(0,I.hu)(".priority"!==ci(e)||1===au(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ln(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(_n,(a,c)=>{n[a]=c.val(e),r++,s&&i.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const c in n)a[c]=n[c];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_U(this.getPriority().val())+":"),this.forEachChild(_n,(n,r)=>{const o=r.hash();""!==o&&(e+=":"+n+":"+o)}),this.lazyHash_=""===e?"":R5(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new hi(e,n));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new hi(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new hi(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,hi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,hi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lb?-1:0}withIndex(e){if(e===jc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===jc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(_n),o=n.getIterator(_n);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===jc?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Lb=new class wue extends qt{constructor(){super(new Cs(sA),qt.EMPTY_NODE,Gl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(hi,{MIN:{value:new hi(ou,qt.EMPTY_NODE)},MAX:{value:new hi(Wl,Lb)}}),gU.__EMPTY_NODE=qt.EMPTY_NODE,Gf.__childrenNodeConstructor=qt,function fue(i){aA=i}(Lb),function _ue(i){wU=i}(Lb);const xue=!0;function $n(i,t=null){if(null===i)return qt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,I.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Gf(i,$n(t));if(i instanceof Array||!xue){let e=qt.EMPTY_NODE;return Qr(i,(n,r)=>{if((0,I.r3)(i,n)&&"."!==n.substring(0,1)){const o=$n(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(n,o))}}),e.updatePriority($n(t))}{const e=[];let n=!1;if(Qr(i,(s,a)=>{if("."!==s.substring(0,1)){const c=$n(a);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),e.push(new hi(s,c)))}}),0===e.length)return qt.EMPTY_NODE;const o=aE(e,pue,s=>s.name,sA);if(n){const s=aE(e,_n.getCompare());return new qt(o,$n(t),new Gl({".priority":s},{".priority":_n}))}return new qt(o,$n(t),Gl.Default)}}!function gue(i){yU=i}($n);class lA extends rE{constructor(t){super(),this.indexPath_=t,(0,I.hu)(!li(t)&&".priority"!==ci(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?tm(t.name,e.name):o}makePost(t,e){const n=$n(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new hi(e,r)}maxPost(){const t=qt.EMPTY_NODE.updateChild(this.indexPath_,Lb);return new hi(Wl,t)}toString(){return Ob(this.indexPath_,0).join("/")}}const dA=new class Cue extends rE{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?tm(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hi.MIN}maxPost(){return hi.MAX}makePost(t,e){const n=$n(t);return new hi(e,n)}toString(){return".value"}};function xU(i){return{type:"value",snapshotNode:i}}function Yf(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Vb(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Bb(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class uA{constructor(t){this.index_=t}updateChild(t,e,n,r,o,s){(0,I.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()||(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Vb(e,a)):(0,I.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Yf(e,n)):s.trackChildChange(Bb(e,n,a))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(_n,(r,o)=>{e.hasChild(r)||n.trackChildChange(Vb(r,o))}),e.isLeafNode()||e.forEachChild(_n,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||n.trackChildChange(Bb(r,o,s))}else n.trackChildChange(Yf(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zb{constructor(t){this.indexedFilter_=new uA(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zb.getStartPost_(t),this.endPost_=zb.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,o,s){return this.matches(new hi(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);const o=this;return e.forEachChild(_n,(s,a)=>{o.matches(new hi(s,a))||(r=r.updateImmediateChild(s,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Tue{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new zb(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,o,s){return this.rangedFilter_.matches(new hi(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,s):this.fullLimitUpdateChild_(t,e,n,o,s)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=qt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(qt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,o){let s;if(this.reverse_){const m=this.index_.getCompare();s=(_,v)=>m(v,_)}else s=this.index_.getCompare();const a=t;(0,I.hu)(a.numChildren()===this.limit_,"");const c=new hi(e,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(e)){const m=a.getImmediateChild(e);let _=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=_&&(_.name===e||a.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:s(_,c);if(u&&!n.isEmpty()&&v>=0)return o?.trackChildChange(Bb(e,n,m)),a.updateImmediateChild(e,n);{o?.trackChildChange(Vb(e,m));const E=a.updateImmediateChild(e,qt.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(Yf(_.name,_.node)),E.updateImmediateChild(_.name,_.node)):E}}return n.isEmpty()?t:u&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Vb(l.name,l.node)),o.trackChildChange(Yf(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(l.name,qt.EMPTY_NODE)):t}}class cE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_n}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ou}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,I.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_n}copy(){const t=new cE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function hA(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function mA(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function lE(i,t){const e=i.copy();return e.index_=t,e}function CU(i){const t={};if(i.isDefault())return t;let e;if(i.index_===_n?e="$priority":i.index_===dA?e="$value":i.index_===jc?e="$key":((0,I.hu)(i.index_ instanceof lA,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,I.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,I.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,I.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,I.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,I.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function EU(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==_n&&(t.i=i.index_.toString()),t}class dE extends cU{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Mb("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,I.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=dE.getListenId_(t,n),a={};this.listens_[s]=a;const c=CU(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let m=u;if(404===l&&(m=null,l=null),null===l&&this.onDataUpdate_(o,m,!1,n),(0,I.DV)(this.listens_,s)===a){let _;_=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(_,null)}})}unlisten(t,e){const n=dE.getListenId_(t,e);delete this.listens_[n]}get(t){const e=CU(t._queryParams),n=t._path.toString(),r=new I.BH;return this.restRequest_(n+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,I.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,I.cI)(a.responseText)}catch{Mo("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,c)}else 401!==a.status&&404!==a.status&&Mo("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Aue{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function uE(){return{value:null,children:new Map}}function Zf(i,t,e){if(li(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=ci(t);i.children.has(n)||i.children.set(n,uE()),Zf(i.children.get(n),t=ln(t),e)}}function pA(i,t){if(li(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(_n,(n,r)=>{Zf(i,new Bi(n),r)}),pA(i,t)}}if(i.children.size>0){const e=ci(t);return t=ln(t),i.children.has(e)&&pA(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function fA(i,t,e){null!==i.value?e(t,i.value):function Rue(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{fA(r,new Bi(t.toString()+"/"+n),e)})}class Pue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qr(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class Fue{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pue(t);const n=1e4+2e4*Math.random();Rb(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;Qr(t,(r,o)=>{o>0&&(0,I.r3)(this.statsToReport_,r)&&(e[r]=o,n=!0)}),n&&this.server_.reportStats(e),Rb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $c=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}($c||{});function vA(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class hE{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=$c.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(li(this.path)){if(null!=this.affectedTree.value)return(0,I.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Bi(t));return new hE(ki(),e,this.revert)}}return(0,I.hu)(ci(this.path)===t,"operationForChild called for unrelated child."),new hE(ln(this.path),this.affectedTree,this.revert)}}class Hb{constructor(t,e){this.source=t,this.path=e,this.type=$c.LISTEN_COMPLETE}operationForChild(t){return li(this.path)?new Hb(this.source,ki()):new Hb(this.source,ln(this.path))}}class rm{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=$c.OVERWRITE}operationForChild(t){return li(this.path)?new rm(this.source,ki(),this.snap.getImmediateChild(t)):new rm(this.source,ln(this.path),this.snap)}}class Kf{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=$c.MERGE}operationForChild(t){if(li(this.path)){const e=this.children.subtree(new Bi(t));return e.isEmpty()?null:e.value?new rm(this.source,ki(),e.value):new Kf(this.source,ki(),e)}return(0,I.hu)(ci(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Kf(this.source,ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cu{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(li(t))return this.isFullyInitialized()&&!this.filtered_;const e=ci(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Lue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ub(i,t,e,n,r,o){const s=n.filter(a=>a.type===e);s.sort((a,c)=>function zue(i,t,e){if(null==t.childName||null==e.childName)throw(0,I.g5)("Should only compare child_ events.");const n=new hi(t.childName,t.snapshotNode),r=new hi(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,a,c)),s.forEach(a=>{const c=function Bue(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,i.query_))})})}function mE(i,t){return{eventCache:i,serverCache:t}}function jb(i,t,e,n){return mE(new cu(t,e,n),i.serverCache)}function kU(i,t,e,n){return mE(i.eventCache,new cu(t,e,n))}function pE(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function om(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let bA;class vn{constructor(t,e=(()=>(bA||(bA=new Cs(Ede)),bA))()){this.value=t,this.children=e}static fromObject(t){let e=new vn(null);return Qr(t,(n,r)=>{e=e.set(new Bi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ki(),value:this.value};if(li(t))return null;{const n=ci(t),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ln(t),e);return null!=o?{path:On(new Bi(n),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(li(t))return this;{const e=ci(t),n=this.children.get(e);return null!==n?n.subtree(ln(t)):new vn(null)}}set(t,e){if(li(t))return new vn(e,this.children);{const n=ci(t),o=(this.children.get(n)||new vn(null)).set(ln(t),e),s=this.children.insert(n,o);return new vn(this.value,s)}}remove(t){if(li(t))return this.children.isEmpty()?new vn(null):new vn(null,this.children);{const e=ci(t),n=this.children.get(e);if(n){const r=n.remove(ln(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new vn(null):new vn(this.value,o)}return this}}get(t){if(li(t))return this.value;{const e=ci(t),n=this.children.get(e);return n?n.get(ln(t)):null}}setTree(t,e){if(li(t))return e;{const n=ci(t),o=(this.children.get(n)||new vn(null)).setTree(ln(t),e);let s;return s=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),new vn(this.value,s)}}fold(t){return this.fold_(ki(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(On(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,ki(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(li(t))return null;{const o=ci(t),s=this.children.get(o);return s?s.findOnPath_(ln(t),On(e,o),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ki(),e)}foreachOnPath_(t,e,n){if(li(t))return this;{this.value&&n(e,this.value);const r=ci(t),o=this.children.get(r);return o?o.foreachOnPath_(ln(t),On(e,r),n):new vn(null)}}foreach(t){this.foreach_(ki(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(On(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class Ga{constructor(t){this.writeTree_=t}static empty(){return new Ga(new vn(null))}}function $b(i,t,e){if(li(t))return new Ga(new vn(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let o=n.value;const s=ts(r,t);return o=o.updateChild(s,e),new Ga(i.writeTree_.set(r,o))}{const r=new vn(e),o=i.writeTree_.setTree(t,r);return new Ga(o)}}}function yA(i,t,e){let n=i;return Qr(e,(r,o)=>{n=$b(n,On(t,r),o)}),n}function DU(i,t){if(li(t))return Ga.empty();{const e=i.writeTree_.setTree(t,new vn(null));return new Ga(e)}}function wA(i,t){return null!=sm(i,t)}function sm(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(ts(e.path,t)):null}function IU(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(_n,(n,r)=>{t.push(new hi(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new hi(n,r.value))}),t}function lu(i,t){if(li(t))return i;{const e=sm(i,t);return new Ga(null!=e?new vn(e):i.writeTree_.subtree(t))}}function xA(i){return i.writeTree_.isEmpty()}function Qf(i,t){return SU(ki(),i.writeTree_,t)}function SU(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,I.hu)(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):e=SU(On(i,r),o,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild(On(i,".priority"),n)),e}}function fE(i,t){return OU(t,i)}function Gue(i,t){if(i.snap)return Ca(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Ca(On(i.path,e),t))return!0;return!1}function Yue(i){return i.visible}function MU(i,t,e){let n=Ga.empty();for(let r=0;r<i.length;++r){const o=i[r];if(t(o)){const s=o.path;let a;if(o.snap)Ca(e,s)?(a=ts(e,s),n=$b(n,a,o.snap)):Ca(s,e)&&(a=ts(s,e),n=$b(n,ki(),o.snap.getChild(a)));else{if(!o.children)throw(0,I.g5)("WriteRecord should have .snap or .children");if(Ca(e,s))a=ts(e,s),n=yA(n,a,o.children);else if(Ca(s,e))if(a=ts(s,e),li(a))n=yA(n,ki(),o.children);else{const c=(0,I.DV)(o.children,ci(a));if(c){const l=c.getChild(ln(a));n=$b(n,ki(),l)}}}}}return n}function AU(i,t,e,n,r){if(n||r){const o=lu(i.visibleWrites,t);return!r&&xA(o)?e:r||null!=e||wA(o,ki())?Qf(MU(i.allWrites,function(l){return(l.visible||r)&&(!n||!~n.indexOf(l.writeId))&&(Ca(l.path,t)||Ca(t,l.path))},t),e||qt.EMPTY_NODE):null}{const o=sm(i.visibleWrites,t);if(null!=o)return o;{const s=lu(i.visibleWrites,t);return xA(s)?e:null!=e||wA(s,ki())?Qf(s,e||qt.EMPTY_NODE):null}}}function gE(i,t,e,n){return AU(i.writeTree,i.treePath,t,e,n)}function CA(i,t){return function Zue(i,t,e){let n=qt.EMPTY_NODE;const r=sm(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(_n,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(e){const o=lu(i.visibleWrites,t);return e.forEachChild(_n,(s,a)=>{const c=Qf(lu(o,new Bi(s)),a);n=n.updateImmediateChild(s,c)}),IU(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}return IU(lu(i.visibleWrites,t)).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}(i.writeTree,i.treePath,t)}function RU(i,t,e,n){return function Kue(i,t,e,n,r){(0,I.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const o=On(t,e);if(wA(i.visibleWrites,o))return null;{const s=lu(i.visibleWrites,o);return xA(s)?r.getChild(e):Qf(s,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function _E(i,t){return function Xue(i,t){return sm(i.visibleWrites,t)}(i.writeTree,On(i.treePath,t))}function EA(i,t,e){return function Que(i,t,e,n){const r=On(t,e),o=sm(i.visibleWrites,r);return null!=o?o:n.isCompleteForChild(e)?Qf(lu(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function PU(i,t){return OU(On(i.treePath,t),i.writeTree)}function OU(i,t){return{treePath:i,writeTree:t}}class ihe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,I.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,I.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,Bb(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,Vb(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,Yf(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,I.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Bb(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const NU=new class nhe{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class TA{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new cu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EA(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:om(this.viewCache_),o=function the(i,t,e,n,r,o){return function Jue(i,t,e,n,r,o,s){let a;const c=lu(i.visibleWrites,t),l=sm(c,ki());if(null!=l)a=l;else{if(null==e)return[];a=Qf(c,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],m=s.getCompare(),_=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let v=_.getNext();for(;v&&u.length<r;)0!==m(v,n)&&u.push(v),v=_.getNext();return u}}(i.writeTree,i.treePath,t,e,n,r,o)}(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]}}function FU(i,t,e,n,r,o){const s=t.eventCache;if(null!=_E(n,e))return t;{let a,c;if(li(e))if((0,I.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=om(t),m=CA(n,l instanceof qt?l:qt.EMPTY_NODE);a=i.filter.updateFullNode(t.eventCache.getNode(),m,o)}else{const l=gE(n,om(t));a=i.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=ci(e);if(".priority"===l){(0,I.hu)(1===au(e),"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const m=RU(n,e,u,c);a=null!=m?i.filter.updatePriority(u,m):s.getNode()}else{const u=ln(e);let m;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const _=RU(n,e,s.getNode(),c);m=null!=_?s.getNode().getImmediateChild(l).updateChild(u,_):s.getNode().getImmediateChild(l)}else m=EA(n,l,t.serverCache);a=null!=m?i.filter.updateChild(s.getNode(),l,m,u,r,o):s.getNode()}}return jb(t,a,s.isFullyInitialized()||li(e),i.filter.filtersNodes())}}function vE(i,t,e,n,r,o,s,a){const c=t.serverCache;let l;const u=s?i.filter:i.filter.getIndexedFilter();if(li(e))l=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(e,n);l=u.updateFullNode(c.getNode(),v,null)}else{const v=ci(e);if(!c.isCompleteForPath(e)&&au(e)>1)return t;const x=ln(e),k=c.getNode().getImmediateChild(v).updateChild(x,n);l=".priority"===v?u.updatePriority(c.getNode(),k):u.updateChild(c.getNode(),v,k,x,NU,null)}const m=kU(t,l,c.isFullyInitialized()||li(e),u.filtersNodes());return FU(i,m,e,r,new TA(r,m,o),a)}function kA(i,t,e,n,r,o,s){const a=t.eventCache;let c,l;const u=new TA(r,t,o);if(li(e))l=i.filter.updateFullNode(t.eventCache.getNode(),n,s),c=jb(t,l,!0,i.filter.filtersNodes());else{const m=ci(e);if(".priority"===m)l=i.filter.updatePriority(t.eventCache.getNode(),n),c=jb(t,l,a.isFullyInitialized(),a.isFiltered());else{const _=ln(e),v=a.getNode().getImmediateChild(m);let x;if(li(_))x=n;else{const E=u.getCompleteChild(m);x=null!=E?".priority"===nA(_)&&E.getChild(hU(_)).isEmpty()?E:E.updateChild(_,n):qt.EMPTY_NODE}c=v.equals(x)?t:jb(t,i.filter.updateChild(a.getNode(),m,x,_,u,s),a.isFullyInitialized(),i.filter.filtersNodes())}}return c}function LU(i,t){return i.eventCache.isCompleteForChild(t)}function VU(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function DA(i,t,e,n,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=li(e)?n:new vn(null).setTree(e,n);const u=t.serverCache.getNode();return l.children.inorderTraversal((m,_)=>{if(u.hasChild(m)){const x=VU(0,t.serverCache.getNode().getImmediateChild(m),_);c=vE(i,c,new Bi(m),x,r,o,s,a)}}),l.children.inorderTraversal((m,_)=>{const v=!t.serverCache.isCompleteForChild(m)&&null===_.value;if(!u.hasChild(m)&&!v){const E=VU(0,t.serverCache.getNode().getImmediateChild(m),_);c=vE(i,c,new Bi(m),E,r,o,s,a)}}),c}class hhe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new uA(n.getIndex()),o=function kue(i){return i.loadsAllData()?new uA(i.getIndex()):i.hasLimit()?new Tue(i):new zb(i)}(n);this.processor_=function rhe(i){return{filter:i}}(o);const s=e.serverCache,a=e.eventCache,c=r.updateFullNode(qt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),u=new cu(c,s.isFullyInitialized(),r.filtersNodes()),m=new cu(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=mE(m,u),this.eventGenerator_=new Lue(this.query_)}get query(){return this.query_}}function fhe(i,t){const e=om(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!li(t)&&!e.getImmediateChild(ci(t)).isEmpty())?e.getChild(t):null}function BU(i){return 0===i.eventRegistrations_.length}function zU(i,t,e){const n=[];if(e){(0,I.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&n.push(s)})}if(t){let r=[];for(let o=0;o<i.eventRegistrations_.length;++o){const s=i.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(o+1));break}}else r.push(s)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function HU(i,t,e,n){t.type===$c.MERGE&&null!==t.source.queryId&&((0,I.hu)(om(i.viewCache_),"We should always have a full cache before handling merges"),(0,I.hu)(pE(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,o=function she(i,t,e,n,r){const o=new ihe;let s,a;if(e.type===$c.OVERWRITE){const l=e;l.source.fromUser?s=kA(i,t,l.path,l.snap,n,r,o):((0,I.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!li(l.path),s=vE(i,t,l.path,l.snap,n,r,a,o))}else if(e.type===$c.MERGE){const l=e;l.source.fromUser?s=function che(i,t,e,n,r,o,s){let a=t;return n.foreach((c,l)=>{const u=On(e,c);LU(t,ci(u))&&(a=kA(i,a,u,l,r,o,s))}),n.foreach((c,l)=>{const u=On(e,c);LU(t,ci(u))||(a=kA(i,a,u,l,r,o,s))}),a}(i,t,l.path,l.children,n,r,o):((0,I.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=DA(i,t,l.path,l.children,n,r,a,o))}else if(e.type===$c.ACK_USER_WRITE){const l=e;s=l.revert?function uhe(i,t,e,n,r,o){let s;if(null!=_E(n,e))return t;{const a=new TA(n,t,r),c=t.eventCache.getNode();let l;if(li(e)||".priority"===ci(e)){let u;if(t.serverCache.isFullyInitialized())u=gE(n,om(t));else{const m=t.serverCache.getNode();(0,I.hu)(m instanceof qt,"serverChildren would be complete if leaf node"),u=CA(n,m)}l=i.filter.updateFullNode(c,u,o)}else{const u=ci(e);let m=EA(n,u,t.serverCache);null==m&&t.serverCache.isCompleteForChild(u)&&(m=c.getImmediateChild(u)),l=null!=m?i.filter.updateChild(c,u,m,ln(e),a,o):t.eventCache.getNode().hasChild(u)?i.filter.updateChild(c,u,qt.EMPTY_NODE,ln(e),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gE(n,om(t)),s.isLeafNode()&&(l=i.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=_E(n,ki()),jb(t,l,s,i.filter.filtersNodes())}}(i,t,l.path,n,r,o):function lhe(i,t,e,n,r,o,s){if(null!=_E(r,e))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=n.value){if(li(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return vE(i,t,e,c.getNode().getChild(e),r,o,a,s);if(li(e)){let l=new vn(null);return c.getNode().forEachChild(jc,(u,m)=>{l=l.set(new Bi(u),m)}),DA(i,t,e,l,r,o,a,s)}return t}{let l=new vn(null);return n.foreach((u,m)=>{const _=On(e,u);c.isCompleteForPath(_)&&(l=l.set(u,c.getNode().getChild(_)))}),DA(i,t,e,l,r,o,a,s)}}(i,t,l.path,l.affectedTree,n,r,o)}else{if(e.type!==$c.LISTEN_COMPLETE)throw(0,I.g5)("Unknown operation type: "+e.type);s=function dhe(i,t,e,n,r){const o=t.serverCache;return FU(i,kU(t,o.getNode(),o.isFullyInitialized()||li(e),o.isFiltered()),e,n,NU,r)}(i,t,e.path,n,o)}const c=o.getChanges();return function ahe(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=pE(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&e.push(xU(pE(t)))}}(t,s,c),{viewCache:s,changes:c}}(i.processor_,r,t,e,n);return function ohe(i,t){(0,I.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,I.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,o.viewCache),(0,I.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=o.viewCache,UU(i,o.changes,o.viewCache.eventCache.getNode(),null)}function UU(i,t,e,n){return function Vue(i,t,e,n){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&i.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Eue(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(s.childName,s.snapshotNode))}),Ub(i,r,"child_removed",t,n,e),Ub(i,r,"child_added",t,n,e),Ub(i,r,"child_moved",o,n,e),Ub(i,r,"child_changed",t,n,e),Ub(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let bE,wE;class jU{constructor(){this.views=new Map}}function IA(i,t,e,n){const r=t.source.queryId;if(null!==r){const o=i.views.get(r);return(0,I.hu)(null!=o,"SyncTree gave us an op for an invalid query."),HU(o,t,e,n)}{let o=[];for(const s of i.views.values())o=o.concat(HU(s,t,e,n));return o}}function $U(i,t,e,n,r){const s=i.views.get(t._queryIdentifier);if(!s){let a=gE(e,r?n:null),c=!1;a?c=!0:n instanceof qt?(a=CA(e,n),c=!1):(a=qt.EMPTY_NODE,c=!1);const l=mE(new cu(a,c,!1),new cu(n,r,!1));return new hhe(t,l)}return s}function WU(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function du(i,t){let e=null;for(const n of i.views.values())e=e||fhe(n,t);return e}function GU(i,t){return t._queryParams.loadsAllData()?yE(i):i.views.get(t._queryIdentifier)}function qU(i,t){return null!=GU(i,t)}function uu(i){return null!=yE(i)}function yE(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let The=1;class YU{constructor(t){this.listenProvider_=t,this.syncPointTree_=new vn(null),this.pendingWriteTree_=function ehe(){return{visibleWrites:Ga.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SA(i,t,e,n,r){return function Uue(i,t,e,n,r){(0,I.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=$b(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?Xf(i,new rm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function hu(i,t,e=!1){const n=function $ue(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function Wue(i,t){const e=i.allWrites.findIndex(a=>a.writeId===t);(0,I.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,o=!1,s=i.allWrites.length-1;for(;r&&s>=0;){const a=i.allWrites[s];a.visible&&(s>=e&&Gue(a,n.path)?r=!1:Ca(n.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function que(i){i.visibleWrites=MU(i.allWrites,Yue,ki()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=DU(i.visibleWrites,n.path):Qr(n.children,c=>{i.visibleWrites=DU(i.visibleWrites,On(n.path,c))}),!0))}(i.pendingWriteTree_,t)){let o=new vn(null);return null!=n.snap?o=o.set(ki(),!0):Qr(n.children,s=>{o=o.set(new Bi(s),!0)}),Xf(i,new hE(n.path,o,e))}return[]}function Wb(i,t,e){return Xf(i,new rm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function xE(i,t,e,n,r=!1){const o=t._path,s=i.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||qU(s,t))){const c=function xhe(i,t,e,n){const r=t._queryIdentifier,o=[];let s=[];const a=uu(i);if("default"===r)for(const[c,l]of i.views.entries())s=s.concat(zU(l,e,n)),BU(l)&&(i.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=i.views.get(r);c&&(s=s.concat(zU(c,e,n)),BU(c)&&(i.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!uu(i)&&o.push(new(function bhe(){return(0,I.hu)(bE,"Reference.ts has not been loaded"),bE}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,n);(function yhe(i){return 0===i.views.size})(s)&&(i.syncPointTree_=i.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!r){const u=-1!==l.findIndex(_=>_._queryParams.loadsAllData()),m=i.syncPointTree_.findOnPath(o,(_,v)=>uu(v));if(u&&!m){const _=i.syncPointTree_.subtree(o);if(!_.isEmpty()){const v=function Rhe(i){return i.fold((t,e,n)=>{if(e&&uu(e))return[yE(e)];{let r=[];return e&&(r=WU(e)),Qr(n,(o,s)=>{r=r.concat(s)}),r}})}(_);for(let x=0;x<v.length;++x){const E=v[x],k=E.query,O=XU(i,E);i.listenProvider_.startListening(qb(k),Gb(i,k),O.hashFn,O.onComplete)}}}!m&&l.length>0&&!n&&(u?i.listenProvider_.stopListening(qb(t),null):l.forEach(_=>{const v=i.queryToTagMap.get(EE(_));i.listenProvider_.stopListening(qb(_),v)}))}!function Phe(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=EE(n),o=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(o)}}}(i,l)}return a}function ZU(i,t,e,n){const r=AA(i,n);if(null!=r){const o=RA(r),s=o.path,a=o.queryId,c=ts(s,t);return PA(i,s,new rm(vA(a),c,e))}return[]}function MA(i,t,e,n=!1){const r=t._path;let o=null,s=!1;i.syncPointTree_.foreachOnPath(r,(_,v)=>{const x=ts(_,r);o=o||du(v,x),s=s||uu(v)});let c,a=i.syncPointTree_.get(r);a?(s=s||uu(a),o=o||du(a,ki())):(a=new jU,i.syncPointTree_=i.syncPointTree_.set(r,a)),null!=o?c=!0:(c=!1,o=qt.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((v,x)=>{const E=du(x,ki());E&&(o=o.updateImmediateChild(v,E))}));const l=qU(a,t);if(!l&&!t._queryParams.loadsAllData()){const _=EE(t);(0,I.hu)(!i.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function Ohe(){return The++}();i.queryToTagMap.set(_,v),i.tagToQueryMap.set(v,_)}let m=function whe(i,t,e,n,r,o){const s=$U(i,t,n,r,o);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,s),function ghe(i,t){i.eventRegistrations_.push(t)}(s,e),function _he(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(_n,(o,s)=>{n.push(Yf(o,s))}),e.isFullyInitialized()&&n.push(xU(e.getNode())),UU(i,n,e.getNode(),t)}(s,e)}(a,t,e,fE(i.pendingWriteTree_,r),o,c);if(!l&&!s&&!n){const _=GU(a,t);m=m.concat(function Nhe(i,t,e){const n=t._path,r=Gb(i,t),o=XU(i,e),s=i.listenProvider_.startListening(qb(t),r,o.hashFn,o.onComplete),a=i.syncPointTree_.subtree(n);if(r)(0,I.hu)(!uu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,m)=>{if(!li(l)&&u&&uu(u))return[yE(u).query];{let _=[];return u&&(_=_.concat(WU(u).map(v=>v.query))),Qr(m,(v,x)=>{_=_.concat(x)}),_}});for(let l=0;l<c.length;++l){const u=c[l];i.listenProvider_.stopListening(qb(u),Gb(i,u))}}return s}(i,t,_))}return m}function CE(i,t,e){const r=i.pendingWriteTree_,o=i.syncPointTree_.findOnPath(t,(s,a)=>{const l=du(a,ts(s,t));if(l)return l});return AU(r,t,o,e,!0)}function Xf(i,t){return KU(t,i.syncPointTree_,null,fE(i.pendingWriteTree_,ki()))}function KU(i,t,e,n){if(li(i.path))return QU(i,t,e,n);{const r=t.get(ki());null==e&&null!=r&&(e=du(r,ki()));let o=[];const s=ci(i.path),a=i.operationForChild(s),c=t.children.get(s);if(c&&a){const l=e?e.getImmediateChild(s):null,u=PU(n,s);o=o.concat(KU(a,c,l,u))}return r&&(o=o.concat(IA(r,i,n,e))),o}}function QU(i,t,e,n){const r=t.get(ki());null==e&&null!=r&&(e=du(r,ki()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=e?e.getImmediateChild(s):null,l=PU(n,s),u=i.operationForChild(s);u&&(o=o.concat(QU(u,a,c,l)))}),r&&(o=o.concat(IA(r,i,n,e))),o}function XU(i,t){const e=t.query,n=Gb(i,e);return{hashFn:()=>(function mhe(i){return i.viewCache_.serverCache.getNode()}(t)||qt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function She(i,t,e){const n=AA(i,e);if(n){const r=RA(n),o=r.path,s=r.queryId,a=ts(o,t);return PA(i,o,new Hb(vA(s),a))}return[]}(i,e._path,n):function Ihe(i,t){return Xf(i,new Hb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const o=function Dde(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return xE(i,e,null,o)}}}}function Gb(i,t){const e=EE(t);return i.queryToTagMap.get(e)}function EE(i){return i._path.toString()+"$"+i._queryIdentifier}function AA(i,t){return i.tagToQueryMap.get(t)}function RA(i){const t=i.indexOf("$");return(0,I.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Bi(i.substr(0,t))}}function PA(i,t,e){const n=i.syncPointTree_.get(t);return(0,I.hu)(n,"Missing sync point for query tag that we're tracking"),IA(n,e,fE(i.pendingWriteTree_,t),null)}function qb(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function Ehe(){return(0,I.hu)(wE,"Reference.ts has not been loaded"),wE}())(i._repo,i._path):i}class OA{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new OA(e)}node(){return this.node_}}class NA{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=On(this.path_,t);return new NA(this.syncTree_,e)}node(){return CE(this.syncTree_,this.path_)}}const Fhe=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},JU=function(i,t,e){return i&&"object"==typeof i?((0,I.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Lhe(i[".sv"],t,e):"object"==typeof i[".sv"]?Vhe(i[".sv"],t):void(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Lhe=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,I.hu)(!1,"Unexpected server value: "+i)},Vhe=function(i,t,e){i.hasOwnProperty("increment")||(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,I.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,I.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const s=r.getValue();return"number"!=typeof s?n:s+n},ej=function(i,t,e,n){return LA(t,new NA(e,i),n)},FA=function(i,t,e){return LA(i,new OA(t),e)};function LA(i,t,e){const n=i.getPriority().val(),r=JU(n,t.getImmediateChild(".priority"),e);let o;if(i.isLeafNode()){const s=i,a=JU(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Gf(a,$n(r)):i}{const s=i;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Gf(r))),s.forEachChild(_n,(a,c)=>{const l=LA(c,t.getImmediateChild(a),e);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class VA{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function TE(i,t){let e=t instanceof Bi?t:new Bi(t),n=i,r=ci(e);for(;null!==r;){const o=(0,I.DV)(n.node.children,r)||{children:{},childCount:0};n=new VA(r,n,o),e=ln(e),r=ci(e)}return n}function am(i){return i.node.value}function BA(i,t){i.node.value=t,zA(i)}function tj(i){return i.node.childCount>0}function kE(i,t){Qr(i.node.children,(e,n)=>{t(new VA(e,i,n))})}function ij(i,t,e,n){e&&!n&&t(i),kE(i,r=>{ij(r,t,!0,n)}),e&&n&&t(i)}function Yb(i){return new Bi(null===i.parent?i.name:Yb(i.parent)+"/"+i.name)}function zA(i){null!==i.parent&&function Hhe(i,t,e){const n=function Bhe(i){return void 0===am(i)&&!tj(i)}(e),r=(0,I.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,zA(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,zA(i))}(i.parent,i.name,i)}const Uhe=/[\[\].#$\/\u0000-\u001F\u007F]/,jhe=/[\[\].#$\u0000-\u001F\u007F]/,HA=10485760,DE=function(i){return"string"==typeof i&&0!==i.length&&!Uhe.test(i)},nj=function(i){return"string"==typeof i&&0!==i.length&&!jhe.test(i)},Zb=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!eE(i)||i&&"object"==typeof i&&(0,I.r3)(i,".sv")},Wc=function(i,t,e,n){n&&void 0===t||Kb((0,I.gK)(i,"value"),t,e)},Kb=function(i,t,e){const n=e instanceof Bi?new sue(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+im(n));if("function"==typeof t)throw new Error(i+"contains a function "+im(n)+" with contents = "+t.toString());if(eE(t))throw new Error(i+"contains "+t.toString()+" "+im(n));if("string"==typeof t&&t.length>HA/3&&(0,I.ug)(t)>HA)throw new Error(i+"contains a string greater than "+HA+" utf8 bytes "+im(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Qr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!DE(s)))throw new Error(i+" contains an invalid key ("+s+") "+im(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aue(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,I.ug)(t),mU(i)})(n,s),Kb(i,a,n),function cue(i){const t=i.parts_.pop();i.byteLength_-=(0,I.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&o)throw new Error(i+' contains ".value" child '+im(n)+" in addition to actual children.")}},rj=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,I.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Qr(t,(s,a)=>{const c=new Bi(s);if(Kb(r,a,On(e,c)),".priority"===nA(c)&&!Zb(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const o=Ob(n);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!DE(o[s]))throw new Error(i+"contains an invalid key ("+o[s]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(oue);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&Ca(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,o)},UA=function(i,t,e){if(!e||void 0!==t){if(eE(t))throw new Error((0,I.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zb(t))throw new Error((0,I.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qb=function(i,t,e,n){if(!(n&&void 0===e||DE(e)))throw new Error((0,I.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xb=function(i,t,e,n){if(!(n&&void 0===e||nj(e)))throw new Error((0,I.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ghe=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xb(i,t,e,n)},Ea=function(i,t){if(".info"===ci(t))throw new Error(i+" failed = Can't modify data under /.info/")},oj=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!DE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nj(i)}(e))throw new Error((0,I.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function IE(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],o=r.getPath();null!==e&&!rA(o,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&i.eventLists_.push(e)}function sj(i,t,e){IE(i,e),aj(i,n=>rA(n,t))}function $s(i,t,e){IE(i,e),aj(i,n=>Ca(n,t)||Ca(t,n))}function aj(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(Yhe(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function Yhe(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();em&&Kr("event: "+e.toString()),$f(n)}}}const cj="repo_interrupt",Zhe=25;class Khe{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uE(),this.transactionQueueTree_=new VA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lj(i){const e=i.infoData_.getNode(new Bi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jb(i){return Fhe({timestamp:lj(i)})}function dj(i,t,e,n,r){i.dataUpdateCount++;const o=new Bi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(n){const c=(0,I.UI)(e,l=>$n(l));s=function Mhe(i,t,e,n){const r=AA(i,n);if(r){const o=RA(r),s=o.path,a=o.queryId,c=ts(s,t),l=vn.fromObject(e);return PA(i,s,new Kf(vA(a),c,l))}return[]}(i.serverSyncTree_,o,c,r)}else{const c=$n(e);s=ZU(i.serverSyncTree_,o,c,r)}else if(n){const c=(0,I.UI)(e,l=>$n(l));s=function Dhe(i,t,e){const n=vn.fromObject(e);return Xf(i,new Kf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,o,c)}else{const c=$n(e);s=Wb(i.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=eg(i,o)),$s(i.eventQueue_,a,s)}function uj(i,t){jA(i,"connected",t),!1===t&&function tme(i){Jf(i,"onDisconnectEvents");const t=Jb(i),e=uE();fA(i.onDisconnect_,ki(),(r,o)=>{const s=ej(r,o,i.serverSyncTree_,t);Zf(e,r,s)});let n=[];fA(e,ki(),(r,o)=>{n=n.concat(Wb(i.serverSyncTree_,r,o));const s=qA(i,r);eg(i,s)}),i.onDisconnect_=uE(),$s(i.eventQueue_,ki(),n)}(i)}function jA(i,t,e){const n=new Bi("/.info/"+t),r=$n(e);i.infoData_.updateSnapshot(n,r);const o=Wb(i.infoSyncTree_,n,r);$s(i.eventQueue_,n,o)}function SE(i){return i.nextWriteId_++}function $A(i,t,e,n,r){Jf(i,"set",{path:t.toString(),value:e,priority:n});const o=Jb(i),s=$n(e,n),a=CE(i.serverSyncTree_,t),c=FA(s,a,o),l=SE(i),u=SA(i.serverSyncTree_,t,c,l,!0);IE(i.eventQueue_,u),i.server_.put(t.toString(),s.val(!0),(_,v)=>{const x="ok"===_;x||Mo("set at "+t+" failed: "+_);const E=hu(i.serverSyncTree_,l,!x);$s(i.eventQueue_,t,E),mu(0,r,_,v)});const m=qA(i,t);eg(i,m),$s(i.eventQueue_,m,[])}function ime(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&pA(i.onDisconnect_,t),mu(0,e,n,r)})}function hj(i,t,e,n){const r=$n(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Zf(i.onDisconnect_,t,r),mu(0,n,o,s)})}function WA(i,t,e){let n;n=".info"===ci(t._path)?xE(i.infoSyncTree_,t,e):xE(i.serverSyncTree_,t,e),sj(i.eventQueue_,t._path,n)}function mj(i){i.persistentConnection_&&i.persistentConnection_.interrupt(cj)}function Jf(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Kr(e,...t)}function mu(i,t,e,n){t&&$f(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;n&&(o+=": "+n);const s=new Error(o);s.code=r,t(s)}})}function GA(i,t,e){return CE(i.serverSyncTree_,t,e)||qt.EMPTY_NODE}function ME(i,t=i.transactionQueueTree_){if(t||AE(i,t),am(t)){const e=fj(i,t);(0,I.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function cme(i,t,e){const n=e.map(l=>l.currentWriteId),r=GA(i,t,n);let o=r;const s=r.hash();for(let l=0;l<e.length;l++){const u=e[l];(0,I.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const m=ts(t,u.path);o=o.updateChild(m,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;i.server_.put(c.toString(),a,l=>{Jf(i,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const m=[];for(let _=0;_<e.length;_++)e[_].status=2,u=u.concat(hu(i.serverSyncTree_,e[_].currentWriteId)),e[_].onComplete&&m.push(()=>e[_].onComplete(null,!0,e[_].currentOutputSnapshotResolved)),e[_].unwatcher();AE(i,TE(i.transactionQueueTree_,t)),ME(i,i.transactionQueueTree_),$s(i.eventQueue_,t,u);for(let _=0;_<m.length;_++)$f(m[_])}else{if("datastale"===l)for(let m=0;m<e.length;m++)e[m].status=3===e[m].status?4:0;else{Mo("transaction at "+c.toString()+" failed: "+l);for(let m=0;m<e.length;m++)e[m].status=4,e[m].abortReason=l}eg(i,t)}},s)}(i,Yb(t),e)}else tj(t)&&kE(t,e=>{ME(i,e)})}function eg(i,t){const e=pj(i,t),n=Yb(e);return function lme(i,t,e){if(0===t.length)return;const n=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=ts(e,c.path);let m,u=!1;if((0,I.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,m=c.abortReason,r=r.concat(hu(i.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Zhe)u=!0,m="maxretry",r=r.concat(hu(i.serverSyncTree_,c.currentWriteId,!0));else{const _=GA(i,c.path,s);c.currentInputSnapshot=_;const v=t[a].update(_.val());if(void 0!==v){Kb("transaction failed: Data returned ",v,c.path);let x=$n(v);"object"==typeof v&&null!=v&&(0,I.r3)(v,".priority")||(x=x.updatePriority(_.getPriority()));const k=c.currentWriteId,O=Jb(i),R=FA(x,_,O);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=R,c.currentWriteId=SE(i),s.splice(s.indexOf(k),1),r=r.concat(SA(i.serverSyncTree_,c.path,R,c.currentWriteId,c.applyLocally)),r=r.concat(hu(i.serverSyncTree_,k,!0))}else u=!0,m="nodata",r=r.concat(hu(i.serverSyncTree_,c.currentWriteId,!0))}$s(i.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&n.push("nodata"===m?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(m),!1,null)))}AE(i,i.transactionQueueTree_);for(let a=0;a<n.length;a++)$f(n[a]);ME(i,i.transactionQueueTree_)}(i,fj(i,e),n),n}function pj(i,t){let e,n=i.transactionQueueTree_;for(e=ci(t);null!==e&&void 0===am(n);)n=TE(n,e),e=ci(t=ln(t));return n}function fj(i,t){const e=[];return gj(i,t,e),e.sort((n,r)=>n.order-r.order),e}function gj(i,t,e){const n=am(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);kE(t,r=>{gj(i,r,e)})}function AE(i,t){const e=am(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,BA(t,e.length>0?e:void 0)}kE(t,n=>{AE(i,n)})}function qA(i,t){const e=Yb(pj(i,t)),n=TE(i.transactionQueueTree_,t);return function zhe(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{YA(i,r)}),YA(i,n),ij(n,r=>{YA(i,r)}),e}function YA(i,t){const e=am(t);if(e){const n=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,I.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,I.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(hu(i.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?BA(t,void 0):e.length=o+1,$s(i.eventQueue_,Yb(t),r);for(let s=0;s<n.length;s++)$f(n[s])}}const ZA=function(i,t){const e=hme(i),n=e.namespace;return"firebase.com"===e.domain&&Uc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&Uc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Q1(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Bi(e.pathString)}},hme=function(i){let t="",e="",n="",r="",o="",s=!0,a="https",c=443;if("string"==typeof i){let l=i.indexOf("//");l>=0&&(a=i.substring(0,l-1),i=i.substring(l+2));let u=i.indexOf("/");-1===u&&(u=i.length);let m=i.indexOf("?");-1===m&&(m=i.length),t=i.substring(0,Math.min(u,m)),u<m&&(r=function dme(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(u,m)));const _=function ume(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Mo(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,m)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const v=t.slice(0,l);if("localhost"===v.toLowerCase())e="localhost";else if(v.split(".").length<=2)e=v;else{const x=t.indexOf(".");n=t.substring(0,x).toLowerCase(),e=t.substring(x+1),o=n}"ns"in _&&(o=_.ns)}return{host:t,port:c,domain:e,subdomain:n,secure:s,scheme:a,pathString:r,namespace:o}},_j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mme=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=_j.charAt(e%64),e=Math.floor(e/64);(0,I.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=_j.charAt(t[r]);return(0,I.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class vj{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.Wl)(this.snapshot.exportVal())}}class bj{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KA{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,I.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class yj{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new I.BH;return ime(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ea("OnDisconnect.remove",this._path);const t=new I.BH;return hj(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ea("OnDisconnect.set",this._path),Wc("OnDisconnect.set",t,this._path,!1);const e=new I.BH;return hj(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ea("OnDisconnect.setWithPriority",this._path),Wc("OnDisconnect.setWithPriority",t,this._path,!1),UA("OnDisconnect.setWithPriority",e,!1);const n=new I.BH;return function nme(i,t,e,n,r){const o=$n(e,n);i.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&Zf(i.onDisconnect_,t,o),mu(0,r,s,a)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Ea("OnDisconnect.update",this._path),rj("OnDisconnect.update",t,this._path,!1);const e=new I.BH;return function rme(i,t,e,n){if((0,I.xb)(e))return Kr("onDisconnect().update() called with empty data.  Don't do anything."),void mu(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Qr(e,(s,a)=>{const c=$n(a);Zf(i.onDisconnect_,On(t,s),c)}),mu(0,n,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Es{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return li(this._path)?null:nA(this._path)}get ref(){return new Ta(this._repo,this._path)}get _queryIdentifier(){const t=EU(this._queryParams),e=Z1(t);return"{}"===e?"default":e}get _queryObject(){return EU(this._queryParams)}isEqual(t){if(!((t=(0,I.m9)(t))instanceof Es))return!1;const e=this._repo===t._repo,n=rA(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rue(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function RE(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function pu(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===jc){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==ou)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==Wl)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===_n){if(null!=t&&!Zb(t)||null!=e&&!Zb(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.hu)(i.getIndex()instanceof lA||i.getIndex()===dA,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PE(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ta extends Es{constructor(t,e){super(t,e,new cE,!1)}get parent(){const t=hU(this._path);return null===t?null:new Ta(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cm{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Bi(t),n=lm(this.ref,t);return new cm(this._node.getChild(e),n,_n)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new cm(r,lm(this.ref,n),_n)))}hasChild(t){const e=new Bi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wj(i,t){return(i=(0,I.m9)(i))._checkNotDeleted("ref"),void 0!==t?lm(i._root,t):i._root}function xj(i,t){(i=(0,I.m9)(i))._checkNotDeleted("refFromURL");const e=ZA(t,i._repo.repoInfo_.nodeAdmin);oj("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&Uc("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),wj(i,e.path.toString())}function lm(i,t){return null===ci((i=(0,I.m9)(i))._path)?Ghe("child","path",t,!1):Xb("child","path",t,!1),new Ta(i._repo,On(i._path,t))}function QA(i,t){i=(0,I.m9)(i),Ea("set",i._path),Wc("set",t,i._path,!1);const e=new I.BH;return $A(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function vme(i,t){rj("update",t,i._path,!1);const e=new I.BH;return function eme(i,t,e,n){Jf(i,"update",{path:t.toString(),value:e});let r=!0;const o=Jb(i),s={};if(Qr(e,(a,c)=>{r=!1,s[a]=ej(On(t,a),$n(c),i.serverSyncTree_,o)}),r)Kr("update() called with empty data.  Don't do anything."),mu(0,n,"ok",void 0);else{const a=SE(i),c=function khe(i,t,e,n){!function jue(i,t,e,n){(0,I.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=yA(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=vn.fromObject(e);return Xf(i,new Kf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,s,a);IE(i.eventQueue_,c),i.server_.merge(t.toString(),e,(l,u)=>{const m="ok"===l;m||Mo("update at "+t+" failed: "+l);const _=hu(i.serverSyncTree_,a,!m),v=_.length>0?eg(i,t):t;$s(i.eventQueue_,v,_),mu(0,n,l,u)}),Qr(e,l=>{const u=qA(i,On(t,l));eg(i,u)}),$s(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function bme(i){i=(0,I.m9)(i);const t=new KA(()=>{}),e=new ey(t);return function Jhe(i,t,e){const n=function Ahe(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(l,u)=>{const m=ts(l,e);n=n||du(u,m)});let r=i.syncPointTree_.get(e);r?n=n||du(r,ki()):(r=new jU,i.syncPointTree_=i.syncPointTree_.set(e,r));const o=null!=n,s=o?new cu(n,!0,!1):null;return function phe(i){return pE(i.viewCache_)}($U(r,t,fE(i.pendingWriteTree_,t._path),o?s.getNode():qt.EMPTY_NODE,o))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const o=$n(r).withIndex(t._queryParams.getIndex());let s;if(MA(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=Wb(i.serverSyncTree_,t._path,o);else{const a=Gb(i.serverSyncTree_,t);s=ZU(i.serverSyncTree_,t._path,o,a)}return $s(i.eventQueue_,t._path,s),xE(i.serverSyncTree_,t,e,null,!0),o},r=>(Jf(i,"get for query "+(0,I.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new cm(n,new Ta(i._repo,i._path),i._queryParams.getIndex()))}class ey{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new vj("value",this,new cm(t.snapshotNode,new Ta(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bj(this,t,e):null}matches(t){return t instanceof ey&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class OE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bj(this,t,e):null}createEvent(t,e){(0,I.hu)(null!=t.childName,"Child events should have a childName.");const n=lm(new Ta(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new vj(t.type,this,new cm(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof OE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ty(i,t,e,n,r){let o;if("object"==typeof n&&(o=void 0,r=n),"function"==typeof n&&(o=n),r&&r.onlyOnce){const c=e,l=(u,m)=>{WA(i._repo,i,a),c(u,m)};l.userCallback=e.userCallback,l.context=e.context,e=l}const s=new KA(e,o||void 0),a="value"===t?new ey(s):new OE(t,s);return function ome(i,t,e){let n;n=".info"===ci(t._path)?MA(i.infoSyncTree_,t,e):MA(i.serverSyncTree_,t,e),sj(i.eventQueue_,t._path,n)}(i._repo,i,a),()=>WA(i._repo,i,a)}function XA(i,t,e,n){return ty(i,"value",t,e,n)}function Cj(i,t,e,n){return ty(i,"child_added",t,e,n)}function Ej(i,t,e,n){return ty(i,"child_changed",t,e,n)}function Tj(i,t,e,n){return ty(i,"child_moved",t,e,n)}function kj(i,t,e,n){return ty(i,"child_removed",t,e,n)}function Dj(i,t,e){let n=null;const r=e?new KA(e):null;"value"===t?n=new ey(r):t&&(n=new OE(t,r)),WA(i._repo,i,n)}class qa{}class Ij extends qa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("endAt",this._value,t._path,!0);const e=mA(t._queryParams,this._value,this._key);if(PE(e),pu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class wme extends qa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("endBefore",this._value,t._path,!1);const e=function Mue(i,t,e){let n;return n=mA(i,t,i.index_===jc||e?e:ou),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(PE(e),pu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class Sj extends qa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("startAt",this._value,t._path,!0);const e=hA(t._queryParams,this._value,this._key);if(PE(e),pu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class Eme extends qa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wc("startAfter",this._value,t._path,!1);const e=function Sue(i,t,e){let n;return n=hA(i,t,i.index_===jc||e?e:Wl),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(PE(e),pu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class kme extends qa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function Due(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Ime extends qa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function Iue(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Mme extends qa{constructor(t){super(),this._path=t}_apply(t){RE(t,"orderByChild");const e=new Bi(this._path);if(li(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new lA(e),r=lE(t._queryParams,n);return pu(r),new Es(t._repo,t._path,r,!0)}}class Rme extends qa{_apply(t){RE(t,"orderByKey");const e=lE(t._queryParams,jc);return pu(e),new Es(t._repo,t._path,e,!0)}}class Ome extends qa{_apply(t){RE(t,"orderByPriority");const e=lE(t._queryParams,_n);return pu(e),new Es(t._repo,t._path,e,!0)}}class Fme extends qa{_apply(t){RE(t,"orderByValue");const e=lE(t._queryParams,dA);return pu(e),new Es(t._repo,t._path,e,!0)}}class Vme extends qa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Wc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ij(this._value,this._key)._apply(new Sj(this._value,this._key)._apply(t))}}function Ya(i,...t){let e=(0,I.m9)(i);for(const n of t)e=n._apply(e);return e}(function vhe(i){(0,I.hu)(!bE,"__referenceConstructor has already been defined"),bE=i})(Ta),function Che(i){(0,I.hu)(!wE,"__referenceConstructor has already been defined"),wE=i}(Ta);const JA={};function eR(i,t,e,n,r){let o=n||i.options.databaseURL;void 0===o&&(i.options.projectId||Uc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kr("Using default host for project ",i.options.projectId),o=`${i.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=ZA(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=ZA(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Pb(Pb.OWNER):new Pde(i.name,i.options,t);oj("Invalid Firebase Database URL",s),li(s.path)||Uc("Database URL must point to the root of a Firebase Database (not including a child path).");const m=function jme(i,t,e,n){let r=JA[t.name];r||(r={},JA[t.name]=r);let o=r[i.toURLString()];return o&&Uc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Khe(i,false,e,n),r[i.toURLString()]=o,o}(a,i,u,new Rde(i.name,e));return new Wme(m,i)}class Wme{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Qhe(i,t,e){if(i.stats_=eA(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new dE(i.repoInfo_,(n,r,o,s)=>{dj(i,n,r,o,s)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>uj(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new nm(i.repoInfo_,t,(n,r,o,s)=>{dj(i,n,r,o,s)},n=>{uj(i,n)},n=>{!function Xhe(i,t){Qr(t,(e,n)=>{jA(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function Fde(i,t){const e=i.toString();return J1[e]||(J1[e]=t()),J1[e]}(i.repoInfo_,()=>new Fue(i.stats_,i.server_)),i.infoData_=new Aue,i.infoSyncTree_=new YU({startListening:(n,r,o,s)=>{let a=[];const c=i.infoData_.getNode(n._path);return c.isEmpty()||(a=Wb(i.infoSyncTree_,n._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),jA(i,"connected",!1),i.serverSyncTree_=new YU({startListening:(n,r,o,s)=>(i.server_.listen(n,o,r,(a,c)=>{const l=s(a,c);$s(i.eventQueue_,n._path,l)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ta(this._repo,ki())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ume(i,t){const e=JA[t];(!e||e[i.key]!==i)&&Uc(`Database ${t}(${i.repoInfo_}) has already been deleted.`),mj(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Uc("Cannot call "+t+" on a deleted database.")}}function Aj(){eU.IS_TRANSPORT_INITIALIZED&&Mo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Gme(){Aj(),su.forceDisallow()}function qme(){Aj(),Wf.forceDisallow(),su.forceAllow()}function Kme(i,t){O5(i,t)}const Xme={".sv":"timestamp"};class tpe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}nm.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},nm.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function Qme(i){G1(Hc.SDK_VERSION),(0,Hc._registerComponent)(new $l.wA("database",(t,{instanceIdentifier:e})=>eR(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Hc.registerVersion)(I5,"1.0.2",i),(0,Hc.registerVersion)(I5,"1.0.2","esm2017")}();const ope=new js.Yd("@firebase/database-compat"),Pj=function(i){ope.warn("FIREBASE WARNING: "+i)};class cpe{constructor(t){this._delegate=t}cancel(t){(0,I.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,I.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,I.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,I.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,I.Dv)("OnDisconnect.set",1,2,arguments.length),(0,I.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,I.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),o=>n(o)),r}update(t,e){if((0,I.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Pj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class lpe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,I.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,I.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,I.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,I.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,I.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,I.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Xb("DataSnapshot.child","path",t,!1),new fu(this._database,this._delegate.child(t))}hasChild(t){return(0,I.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xb("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,I.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,I.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,I.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new fu(this._database,e)))}hasChildren(){return(0,I.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,I.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,I.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ws(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var o;(0,I.Dv)("Query.on",2,4,arguments.length),(0,I.Wj)("Query.on","callback",e,!1);const s=fo.getCancelAndContextArgs_("Query.on",n,r),a=(l,u)=>{e.call(s.context,new fu(this.database,l),u)};a.userCallback=e,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return XA(this._delegate,a,c),e;case"child_added":return Cj(this._delegate,a,c),e;case"child_removed":return kj(this._delegate,a,c),e;case"child_changed":return Ej(this._delegate,a,c),e;case"child_moved":return Tj(this._delegate,a,c),e;default:throw new Error((0,I.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,I.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,I.Wj)("Query.off","callback",e,!0),(0,I.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,Dj(this._delegate,t,r)}else Dj(this._delegate,t)}get(){return bme(this._delegate).then(t=>new fu(this.database,t))}once(t,e,n,r){(0,I.Dv)("Query.once",1,4,arguments.length),(0,I.Wj)("Query.once","callback",e,!0);const o=fo.getCancelAndContextArgs_("Query.once",n,r),s=new I.BH,a=(l,u)=>{const m=new fu(this.database,l);e&&e.call(o.context,m,u),s.resolve(m)};a.userCallback=e,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(t){case"value":XA(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":Cj(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":kj(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":Ej(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Tj(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,I.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,I.Dv)("Query.limitToFirst",1,1,arguments.length),new fo(this.database,Ya(this._delegate,function Dme(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kme(i)}(t)))}limitToLast(t){return(0,I.Dv)("Query.limitToLast",1,1,arguments.length),new fo(this.database,Ya(this._delegate,function Sme(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ime(i)}(t)))}orderByChild(t){return(0,I.Dv)("Query.orderByChild",1,1,arguments.length),new fo(this.database,Ya(this._delegate,function Ame(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xb("orderByChild","path",i,!1),new Mme(i)}(t)))}orderByKey(){return(0,I.Dv)("Query.orderByKey",0,0,arguments.length),new fo(this.database,Ya(this._delegate,function Pme(){return new Rme}()))}orderByPriority(){return(0,I.Dv)("Query.orderByPriority",0,0,arguments.length),new fo(this.database,Ya(this._delegate,function Nme(){return new Ome}()))}orderByValue(){return(0,I.Dv)("Query.orderByValue",0,0,arguments.length),new fo(this.database,Ya(this._delegate,function Lme(){return new Fme}()))}startAt(t=null,e){return(0,I.Dv)("Query.startAt",0,2,arguments.length),new fo(this.database,Ya(this._delegate,function Cme(i=null,t){return Qb("startAt","key",t,!0),new Sj(i,t)}(t,e)))}startAfter(t=null,e){return(0,I.Dv)("Query.startAfter",0,2,arguments.length),new fo(this.database,Ya(this._delegate,function Tme(i,t){return Qb("startAfter","key",t,!0),new Eme(i,t)}(t,e)))}endAt(t=null,e){return(0,I.Dv)("Query.endAt",0,2,arguments.length),new fo(this.database,Ya(this._delegate,function yme(i,t){return Qb("endAt","key",t,!0),new Ij(i,t)}(t,e)))}endBefore(t=null,e){return(0,I.Dv)("Query.endBefore",0,2,arguments.length),new fo(this.database,Ya(this._delegate,function xme(i,t){return Qb("endBefore","key",t,!0),new wme(i,t)}(t,e)))}equalTo(t,e){return(0,I.Dv)("Query.equalTo",1,2,arguments.length),new fo(this.database,Ya(this._delegate,function Bme(i,t){return Qb("equalTo","key",t,!0),new Vme(i,t)}(t,e)))}toString(){return(0,I.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,I.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,I.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof fo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,I.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,I.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,I.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ws(this.database,new Ta(this._delegate._repo,this._delegate._path))}}class Ws extends fo{constructor(t,e){super(t,new Es(e._repo,e._path,new cE,!1)),this.database=t,this._delegate=e}getKey(){return(0,I.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,I.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ws(this.database,lm(this._delegate,t))}getParent(){(0,I.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ws(this.database,t):null}getRoot(){return(0,I.Dv)("Reference.root",0,0,arguments.length),new Ws(this.database,this._delegate.root)}set(t,e){(0,I.Dv)("Reference.set",1,2,arguments.length),(0,I.Wj)("Reference.set","onComplete",e,!0);const n=QA(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,I.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Pj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ea("Reference.update",this._delegate._path),(0,I.Wj)("Reference.update","onComplete",e,!0);const n=vme(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,I.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,I.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function _me(i,t,e){if(Ea("setWithPriority",i._path),Wc("setWithPriority",t,i._path,!1),UA("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new I.BH;return $A(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),o=>n(o)),r}remove(t){(0,I.Dv)("Reference.remove",0,1,arguments.length),(0,I.Wj)("Reference.remove","onComplete",t,!0);const e=function fme(i){return Ea("remove",i._path),QA(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,I.Dv)("Reference.transaction",1,3,arguments.length),(0,I.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,I.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,I.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function ipe(i,t,e){var n;if(i=(0,I.m9)(i),Ea("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,o=new I.BH,a=XA(i,()=>{});return function ame(i,t,e,n,r,o){Jf(i,"transaction on "+t);const s={path:t,update:e,onComplete:n,status:null,order:A5(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=GA(i,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Kb("transaction failed: Data returned ",c,s.path),s.status=0;const l=TE(i.transactionQueueTree_,t),u=am(l)||[];let m;u.push(s),BA(l,u),"object"==typeof c&&null!==c&&(0,I.r3)(c,".priority")?(m=(0,I.DV)(c,".priority"),(0,I.hu)(Zb(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(CE(i.serverSyncTree_,t)||qt.EMPTY_NODE).getPriority().val();const _=Jb(i),v=$n(c,m),x=FA(v,a,_);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=x,s.currentWriteId=SE(i);const E=SA(i.serverSyncTree_,t,x,s.currentWriteId,s.applyLocally);$s(i.eventQueue_,t,E),ME(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(c,l,u)=>{let m=null;c?o.reject(c):(m=new cm(u,new Ta(i._repo,i._path),_n),o.resolve(new tpe(l,m)))},a,r),o.promise}(this._delegate,t,{applyLocally:n}).then(o=>new lpe(o.committed,new fu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,I.Dv)("Reference.setPriority",1,2,arguments.length),(0,I.Wj)("Reference.setPriority","onComplete",e,!0);const n=function gme(i,t){i=(0,I.m9)(i),Ea("setPriority",i._path),UA("setPriority",t,!1);const e=new I.BH;return $A(i._repo,On(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,I.Dv)("Reference.push",0,2,arguments.length),(0,I.Wj)("Reference.push","onComplete",e,!0);const n=function pme(i,t){i=(0,I.m9)(i),Ea("push",i._path),Wc("push",t,i._path,!0);const e=lj(i._repo),n=mme(e),r=lm(i,n),o=lm(i,n);let s;return s=null!=t?QA(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=n.then(s=>new Ws(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new Ws(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ea("Reference.onDisconnect",this._delegate._path),new cpe(new yj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class iy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Gme,forceLongPolling:qme}}useEmulator(t,e,n={}){!function Rj(i,t,e,n={}){(i=(0,I.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Uc("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let o;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&Uc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Pb(Pb.OWNER);else if(n.mockUserToken){const s="string"==typeof n.mockUserToken?n.mockUserToken:(0,I.Sg)(n.mockUserToken,i.app.options.projectId);o=new Pb(s)}!function Hme(i,t,e,n){i.repoInfo_=new Q1(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,o)}(this._delegate,t,e,n)}ref(t){if((0,I.Dv)("database.ref",0,1,arguments.length),t instanceof Ws){const e=xj(this._delegate,t.toString());return new Ws(this,e)}{const e=wj(this._delegate,t);return new Ws(this,e)}}refFromURL(t){(0,I.Dv)("database.refFromURL",1,1,arguments.length);const n=xj(this._delegate,t);return new Ws(this,n)}goOffline(){return(0,I.Dv)("database.goOffline",0,0,arguments.length),function Yme(i){(i=(0,I.m9)(i))._checkNotDeleted("goOffline"),mj(i._repo)}(this._delegate)}goOnline(){return(0,I.Dv)("database.goOnline",0,0,arguments.length),function Zme(i){(i=(0,I.m9)(i))._checkNotDeleted("goOnline"),function sme(i){i.persistentConnection_&&i.persistentConnection_.resume(cj)}(i._repo)}(this._delegate)}}iy.ServerValue={TIMESTAMP:function Jme(){return Xme}(),increment:i=>function epe(i){return{".sv":{increment:i}}}(i)};var upe=Object.freeze({__proto__:null,initStandalone:function dpe({app:i,url:t,version:e,customAuthImpl:n,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){G1(e);const a=new $l.H0("database-standalone"),c=new $l.zt("auth-internal",a);let l;return c.setComponent(new $l.wA("auth-internal",()=>n,"PRIVATE")),r&&(l=new $l.zt("app-check-internal",a),l.setComponent(new $l.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new iy(eR(i,c,l,t,s),i),namespace:o}}});const hpe=iy.ServerValue;function ny(i,t,e="on",n=Qh){return new Lt(r=>{let o=null;return o=i[e](t,(s,a)=>{n.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&n.schedule(()=>r.complete())},s=>{n.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&i.off(t,o)}}:{unsubscribe(){}}}).pipe(Ie(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),mt())}function Oj(i){return null==i}function Nj(i){return"function"==typeof i.set}function Fj(i,t){return Nj(t)?t:i.ref(t)}function Lj(i,t){if(function ppe(i){return"string"==typeof i}(i))return t.stringCase();if(Nj(i))return t.firebaseCase();if(function fpe(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Vj(i){return(Oj(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function Bj(i,t,e){return J(...(t=Vj(t)).map(r=>ny(i,r,"on",e)))}function zj(i,t){return function(n,r){return Lj(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function bpe(i){return function(e){return e?Lj(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function Hj(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function xpe(i,t){const{payload:e,prevKey:n,key:r}=t,o=Hj(i,r),s=function wpe(i,t){if(Oj(t))return 0;{const e=Hj(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,i=[...i,l],!1})}return i;case"child_added":if(o>-1)(i[o-1]?.key||null)!==n&&(i=i.filter(c=>c.payload.key!==e.key)).splice(s,0,t);else{if(null==n)return[t,...i];(i=i.slice()).splice(s,0,t)}return i;case"child_removed":return i.filter(a=>a.payload.key!==e.key);case"child_changed":return i.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=i.splice(o,1)[0];return(i=i.slice()).splice(s,0,a),i}return i;default:return i}}function Uj(i,t,e){return function ype(i,t,e){return ny(i,"value","once",e).pipe(gt(n=>{const r=[ie(n)];return t.forEach(o=>r.push(ny(i,o,"on",e))),J(...r).pipe(Mf(xpe,[]))}),Hi())}(i,t=Vj(t),e)}function jj(i,t){return function(){return ny(i,"value","on",t)}}!function mpe(i){i.INTERNAL.registerComponent(new $l.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new iy(r,n)},"PUBLIC").setServiceProps({Reference:Ws,Query:fo,Database:iy,DataSnapshot:fu,enableLogging:Kme,INTERNAL:upe,ServerValue:hpe}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","1.0.2")}(jl.Z);const Tpe=new W("angularfire2.realtimeDatabaseURL"),kpe=new W("angularfire2.database.use-emulator");let tg=(()=>{class i{schedulers;database;constructor(e,n,r,o,s,a,c,l,u,m,_,v,x,E,k){this.schedulers=a;const O=c,R=XC(e,s,n);l&&$1(R,s,u,_,v,x,m,E),this.database=L1(`${R.name}.database.${r}`,"AngularFireDatabase",R.name,()=>{const z=s.runOutsideAngular(()=>R.database(r||void 0));return O&&z.useEmulator(...O),z},[O])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>Fj(this.database,e));let o=r;return n&&(o=n(r)),function Cpe(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:zj(n,"update"),set:zj(n,"set"),push:r=>n.push(r),remove:bpe(n),snapshotChanges:r=>Uj(i,r,e).pipe(zr),stateChanges:r=>Bj(i,r,e).pipe(zr),auditTrail:r=>function gpe(i,t,e){return function vpe(i,t,e){return function _pe(i,t){return ny(i,"value","on",t).pipe(Ie(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function vde(...i){const t=Bo(i);return X((e,n)=>{const r=i.length,o=new Array(r);let s=i.map(()=>!1),a=!1;for(let c=0;c<r;c++)Ki(i[c]).subscribe(Te(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Mn))&&(s=null))},ze));e.subscribe(Te(n,c=>{if(a){const l=[c,...o];n.next(t?t(...l):l)}}))})}(t),Ie(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function bde(i){return X((t,e)=>{let n=!1,r=0;t.subscribe(Te(e,o=>(n||(n=!i(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ie(r=>r.actions))}(i,Bj(i,t).pipe(Mf((r,o)=>[...r,o],[])),e)}(i,r,e).pipe(zr),valueChanges:(r,o)=>Uj(i,r,e).pipe(Ie(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),zr)}}(o,this)}object(e){return function Epe(i,t){return{query:i,snapshotChanges:()=>jj(i,t.schedulers.outsideAngular)().pipe(zr),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>jj(i,t.schedulers.outsideAngular)().pipe(zr,Ie(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Fj(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(n){return new(n||i)(H(Db),H(Ib,8),H(Tpe,8),H(ma),H(tt),H(F1),H(kpe,8),H(JC,8),H(V1,8),H(B1,8),H(z1,8),H(H1,8),H(U1,8),H(j1,8),H(N1,8))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();function ut(i){return null!=i&&"false"!=`${i}`}function go(i,t=0){return function Dpe(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function NE(i){return Array.isArray(i)?i:[i]}function Dr(i){return null==i?"":"string"==typeof i?i:`${i}px`}function dm(i){return i instanceof ot?i.nativeElement:i}const Ipe=["addListener","removeListener"],Spe=["addEventListener","removeEventListener"],Mpe=["on","off"];function ig(i,t,e,n){if(S(e)&&(n=e,e=void 0),n)return ig(i,t,e).pipe(l1(n));const[r,o]=function Ppe(i){return S(i.addEventListener)&&S(i.removeEventListener)}(i)?Spe.map(s=>a=>i[s](t,a,e)):function Ape(i){return S(i.addListener)&&S(i.removeListener)}(i)?Ipe.map($j(i,t)):function Rpe(i){return S(i.on)&&S(i.off)}(i)?Mpe.map($j(i,t)):[];if(!r&&ei(i))return yi(s=>ig(s,t,e))(Ki(i));if(!r)throw new TypeError("Invalid event target");return new Lt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function $j(i,t){return e=>n=>i[e](t,n)}const ry={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=ry;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new Mt(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=ry;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=ry;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class Npe extends QC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Ope extends KC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=ry.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(ry.cancelAnimationFrame(e),t._scheduled=void 0)}});let tR,Lpe=1;const FE={};function Wj(i){return i in FE&&(delete FE[i],!0)}const Vpe={setImmediate(i){const t=Lpe++;return FE[t]=!0,tR||(tR=Promise.resolve()),tR.then(()=>Wj(t)&&i()),t},clearImmediate(i){Wj(i)}},{setImmediate:Bpe,clearImmediate:zpe}=Vpe,LE={setImmediate(...i){const{delegate:t}=LE;return(t?.setImmediate||Bpe)(...i)},clearImmediate(i){const{delegate:t}=LE;return(t?.clearImmediate||zpe)(i)},delegate:void 0};new class Upe extends QC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Hpe extends KC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=LE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(LE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function qj(i,t=Qh){return function $pe(i){return X((t,e)=>{let n=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Te(e,l=>{n=!0,r=l,o||Ki(i(l)).subscribe(o=Te(e,a,c))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>function Gj(i=0,t,e=Jle){let n=-1;return null!=t&&(gr(t)?e=t:n=t),new Lt(r=>{let o=function Wpe(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,t))}let iR;try{iR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iR=!1}let oy,um,nR,Hr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function bse(i){return i===jz}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(H(ma))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Za(i){return function Gpe(){if(null==oy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oy=!0}))}finally{oy=oy||!1}return oy}()?i:!!i.capture}function qpe(){if(null==um){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return um=!1,um;if("scrollBehavior"in document.documentElement.style)um=!0;else{const i=Element.prototype.scrollTo;um=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return um}function BE(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function ql(i){return i.composedPath?i.composedPath()[0]:i.target}function rR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Kpe=new W("cdk-dir-doc",{providedIn:"root",factory:function Qpe(){return ye(Ot)}}),Xpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gu=(()=>{class i{constructor(e){this.value="ltr",this.change=new wt,e&&(this.value=function Jpe(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Xpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(H(Kpe,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),rg=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),tfe=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new G,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Lt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(qj(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(jn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=dm(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ig(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(H(tt),H(Hr),H(Ot,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zE=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new G,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qj(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(H(Hr),H(tt),H(Ot,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Yl=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),oR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[rg,Yl,rg,Yl]})}return i})();class sR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class aR extends sR{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class cR extends sR{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class nfe extends sR{constructor(t){super(),this.element=t instanceof ot?t.nativeElement:t}}class lR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof aR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof cR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof nfe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rfe extends lR{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||xr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let dR=(()=>{class i extends lR{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new wt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(D(nf),D(Cr),D(Ot))};static#t=this.\u0275dir=re({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ce]})}return i})(),Gc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})();const Zj=qpe();class ofe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Dr(-this._previousScrollPosition.left),t.style.top=Dr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Zj&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Zj&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class sfe{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(jn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Kj{enable(){}disable(){}attach(){}}function uR(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function Qj(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class afe{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();uR(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cfe=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Kj,this.close=s=>new sfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ofe(this._viewportRuler,this._document),this.reposition=s=>new afe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(n){return new(n||i)(H(tfe),H(zE),H(tt),H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class hR{constructor(t){if(this.scrollStrategy=new Kj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class lfe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Xj=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dfe=(()=>{class i extends Xj{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(tt,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ufe=(()=>{class i extends Xj{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ql(o)},this._clickListener=o=>{const s=ql(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const m=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(Hr),H(tt,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),HE=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||rR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),rR()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(Hr))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class sy{constructor(t,e,n,r,o,s,a,c,l,u=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new G,this._attachments=new G,this._detachments=new G,this._locationChanges=Mt.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new G,this._outsidePointerEvents=new G,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Dr(this._config.width),t.height=Dr(this._config.height),t.minWidth=Dr(this._config.minWidth),t.minHeight=Dr(this._config.minHeight),t.maxWidth=Dr(this._config.maxWidth),t.maxHeight=Dr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=NE(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Cn(J(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Jj="cdk-overlay-connected-position-bounding-box",hfe=/([A-Za-z%]+)$/;class mfe{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new G,this._resizeSubscription=Mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Jj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),u=this._getOverlayFit(l,e,n,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,n)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?s:a}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=t6(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let _=0-a,v=a+o.height-n.height,x=this._subtractOverflows(o.width,0-s,s+o.width-n.width),E=this._subtractOverflows(o.height,_,v),k=x*E;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:E===o.height,fitsInViewportHorizontally:x==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=e6(this._overlayRef.getConfig().minHeight),a=e6(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=t6(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);let u=0,m=0;return u=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,m=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:u,y:m},{x:t.x+u,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new lfe(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,s,a,u,m,_;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,o=n.height-a+this._viewportMargin;else{const v=Math.min(n.bottom-t.y+n.top,t.y),x=this._lastBoundingBoxSize.height;o=2*v,s=t.y-v,o>x&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-x/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)_=n.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)m=t.x,u=n.right-t.x;else{const v=Math.min(n.right-t.x+n.left,t.x),x=this._lastBoundingBoxSize.width;u=2*v,m=t.x-v,u>x&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-x/2)}return{top:s,left:m,bottom:a,right:_,width:u,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Dr(n.height),r.top=Dr(n.top),r.bottom=Dr(n.bottom),r.width=Dr(n.width),r.left=Dr(n.left),r.right=Dr(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Dr(o)),s&&(r.maxWidth=Dr(s))}this._lastBoundingBoxSize=n,hm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();hm(n,this._getExactOverlayY(e,t,u)),hm(n,this._getExactOverlayX(e,t,u))}else n.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Dr(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Dr(s.maxWidth):o&&(n.maxWidth="")),hm(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Dr(o.y),r}_getExactOverlayX(t,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Dr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Qj(t,n),isOriginOutsideView:uR(t,n),isOverlayClipped:Qj(e,n),isOverlayOutsideView:uR(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&NE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ot)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function hm(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function e6(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(hfe);return e&&"px"!==e?null:parseFloat(t)}return i||null}function t6(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const n6="cdk-global-overlay-wrapper";class pfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(n6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,m=this._xOffset,_="rtl"===this._overlayRef.getConfig().direction;let v="",x="",E="";c?E="flex-start":"center"===u?(E="center",_?x=m:v=m):_?"left"===u||"end"===u?(E="flex-end",v=m):("right"===u||"start"===u)&&(E="flex-start",x=m):"left"===u||"start"===u?(E="flex-start",v=m):("right"===u||"end"===u)&&(E="flex-end",x=m),t.position=this._cssPosition,t.marginLeft=c?"0":v,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":x,e.justifyContent=E,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(n6),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ffe=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new pfe}flexibleConnectedTo(e){return new mfe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(H(zE),H(Ot),H(Hr),H(HE))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gfe=0,ka=(()=>{class i{constructor(e,n,r,o,s,a,c,l,u,m,_,v){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=m,this._outsideClickDispatcher=_,this._animationsModuleType=v}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new hR(e);return s.direction=s.direction||this._directionality.value,new sy(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+gfe++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Xd)),new rfe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(H(cfe),H(HE),H(nf),H(ffe),H(dfe),H(xr),H(tt),H(Ot),H(gu),H(nb),H(ufe),H(Ko,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const bfe={provide:new W("cdk-connected-overlay-scroll-strategy"),deps:[ka],useFactory:function vfe(i){return()=>i.scrollStrategies.reposition()}};let _u=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[ka,bfe],imports:[rg,Gc,oR,oR]})}return i})();function Ka(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function o6(i){return jn((t,e)=>i<=e)}let s6=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$E=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[s6]})}return i})();const a6=new Set;let mm,Lfe=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Bfe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vfe(i,t){if(!a6.has(i))try{mm||(mm=document.createElement("style"),t&&(mm.nonce=t),mm.setAttribute("type","text/css"),document.head.appendChild(mm)),mm.sheet&&(mm.sheet.insertRule(`@media ${i} {body{ }}`,0),a6.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Hr),H(lS,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Bfe(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let zfe=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new G}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return c6(NE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=SC(c6(NE(e)).map(s=>this._registerQuery(s).observable));return o=cb(o.pipe(Xn(1)),o.pipe(o6(1),function _R(i,t=Qh){return X((e,n)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,n.next(l)}};function c(){const l=s+i,u=t.now();if(u<l)return r=this.schedule(void 0,l-u),void n.add(r);a()}e.subscribe(Te(n,l=>{o=l,s=t.now(),r||(r=t.schedule(c,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new Lt(s=>{const a=c=>this._zone.run(()=>s.next(c));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(xa(n),Ie(({matches:s})=>({query:e,matches:s})),Cn(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||i)(H(Lfe),H(tt))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function c6(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let WE=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Wfe(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function $fe(i){try{return i.frameElement}catch{return null}}(function Jfe(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===p6(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=p6(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Qfe(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function Xfe(i){return!function qfe(i){return function Zfe(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function Gfe(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function Yfe(i){return function Kfe(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||m6(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(H(Hr))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function m6(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function p6(i){if(!m6(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ege{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Xn(1)).subscribe(t)}}let bR=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new ege(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(H(WE),H(tt),H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function f6(i){return 0===i.buttons||0===i.detail}function g6(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const tge=new W("cdk-input-modality-detector-options"),ige={ignoreKeys:[18,17,224,91,16]},sg=Za({passive:!0,capture:!0});let nge=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new $(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ql(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(f6(s)?"keyboard":"mouse"),this._mostRecentTarget=ql(s))},this._onTouchstart=s=>{g6(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ql(s))},this._options={...ige,...o},this.modalityDetected=this._modality.pipe(o6(1)),this.modalityChanged=this.modalityDetected.pipe(Hi()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sg),r.addEventListener("mousedown",this._onMousedown,sg),r.addEventListener("touchstart",this._onTouchstart,sg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sg),document.removeEventListener("mousedown",this._onMousedown,sg),document.removeEventListener("touchstart",this._onTouchstart,sg))}static#e=this.\u0275fac=function(n){return new(n||i)(H(Hr),H(tt),H(Ot),H(tge,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const oge=new W("cdk-focus-monitor-default-options"),GE=Za({passive:!0,capture:!0});let Zl=(()=>{class i{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new G,this._rootNodeFocusAndBlurListener=a=>{for(let l=ql(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const r=dm(e);if(!this._platform.isBrowser||1!==r.nodeType)return ie();const o=function Zpe(i){if(function Ype(){if(null==nR){const i=typeof document<"u"?document.head:null;nR=!(!i||!i.createShadowRoot&&!i.attachShadow)}return nR}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;const a={checkChildren:n,subject:new G,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const n=dm(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=dm(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,n,c)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=ql(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,GE),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,GE)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GE),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GE),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(H(tt),H(Hr),H(nge),H(Ot,8),H(oge,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const v6="cdk-high-contrast-black-on-white",b6="cdk-high-contrast-white-on-black",yR="cdk-high-contrast-active";let y6=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ye(zfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yR,v6,b6),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(yR,v6):2===n&&e.add(yR,b6)}}static#e=this.\u0275fac=function(n){return new(n||i)(H(Hr),H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ay=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(H(y6))};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[$E]})}return i})();function sge(i,t){}class qE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let w6=(()=>{class i extends lR{constructor(e,n,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const m=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),m},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=BE(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=BE();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=BE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(bR),D(Ot,8),D(qE),D(WE),D(tt),D(sy),D(Zl))};static#t=this.\u0275cmp=pt({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&function Er(i,t,e){const n=ui();n.firstCreatePass&&(w4(n,new v4(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),y4(n,fe(),t)}(dR,7),2&n){let o;Tt(o=kt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&Gt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ce],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&wi(0,sge,0,0,"ng-template",0)},dependencies:[dR],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class wR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new G,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Ka(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const x6=new W("DialogScrollStrategy"),age=new W("DialogData"),cge=new W("DefaultDialogConfig"),dge={provide:x6,deps:[ka],useFactory:function lge(i){return()=>i.scrollStrategies.block()}};let uge=0,C6=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,s,a){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new G,this._afterOpenedAtThisLevel=new G,this._ariaHiddenElements=new Map,this.afterAllClosed=lb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xa(void 0))),this._scrollStrategy=a}open(e,n){(n={...this._defaultOptions||new qE,...n}).id=n.id||"cdk-dialog-"+uge++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),s=this._overlay.create(o),a=new wR(s,n),c=this._attachContainer(s,a,n);return a.containerInstance=c,this._attachDialogContent(e,a,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){xR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){xR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),xR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new hR({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:qE,useValue:r},{provide:wR,useValue:n},{provide:sy,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=w6;const c=new aR(a,r.viewContainerRef,xr.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,n,r,o){if(e instanceof Vr){const s=this._createInjector(o,n,r,void 0);let a={$implicit:o.data,dialogRef:n};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new cR(e,null,a,s))}else{const s=this._createInjector(o,n,r,this._injector),a=r.attachComponentPortal(new aR(e,o.viewContainerRef,s,o.componentFactoryResolver));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(e,n,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:age,useValue:e.data},{provide:wR,useValue:n}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(n,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(gu,null,{optional:!0}))&&a.push({provide:gu,useValue:{value:e.direction,change:ie()}}),xr.create({parent:s||o,providers:a})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(H(ka),H(xr),H(cge,8),H(i,12),H(HE),H(x6))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function xR(i,t){let e=i.length;for(;e--;)t(i[e])}let E6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[C6,dge],imports:[_u,Gc,ay,Gc]})}return i})();const mge=new W("mat-sanity-checks",{providedIn:"root",factory:function hge(){return!0}});let Je=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!rR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(H(y6),H(mge,8),H(Ot))};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[rg,rg]})}return i})();function cy(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=ut(t)}constructor(...t){super(...t),this._disabled=!1}}}function ag(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function cg(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ut(t)}constructor(...t){super(...t),this._disableRipple=!1}}}const fge=new W("MAT_DATE_LOCALE",{providedIn:"root",factory:function gge(){return ye(Vc)}});class qc{constructor(){this._localeChanges=new G,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const TR=new W("mat-date-formats"),_ge=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function kR(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let vge=(()=>{class i extends qc{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return kR(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return kR(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return kR(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth(),o}today(){return new Date}parse(e,n){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(_ge.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,r){const o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(n){return new(n||i)(H(fge,8),H(Hr))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const bge={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let yge=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[{provide:qc,useClass:vge}]})}return i})(),wge=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[{provide:TR,useValue:bge}],imports:[yge]})}return i})(),DR=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),D6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Je]})}return i})();class xge{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const I6=Za({passive:!0,capture:!0});class Cge{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ql(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,I6)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,I6)))}}const S6={enterDuration:225,exitDuration:150},M6=Za({passive:!0,capture:!0}),A6=["mousedown","touchstart"],R6=["mouseup","mouseleave","touchend","touchcancel"];class dy{static#e=this._eventManager=new Cge;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=dm(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...S6,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function Tge(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const m=window.getComputedStyle(u),v=m.transitionDuration,x="none"===m.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,E=new xge(this,u,n,x);u.style.transform="scale3d(1, 1, 1)",E.state=0,n.persistent||(this._mostRecentTransientRipple=E);let k=null;return!x&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const O=()=>this._finishRippleTransition(E),R=()=>this._destroyRipple(E);u.addEventListener("transitionend",O),u.addEventListener("transitioncancel",R),k={onTransitionEnd:O,onTransitionCancel:R}}),this._activeRipples.set(E,k),(x||!l)&&this._finishRippleTransition(E),E}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...S6,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=dm(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,A6.forEach(n=>{dy._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{R6.forEach(e=>{this._triggerElement.addEventListener(e,this,M6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=f6(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!g6(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(A6.forEach(e=>dy._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&R6.forEach(e=>t.removeEventListener(e,this,M6)))}}const lg=new W("mat-ripple-global-options");let dg=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new dy(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(tt),D(Hr),D(lg,8),D(Ko,8))};static#t=this.\u0275dir=re({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&qe("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),Gs=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Je]})}return i})(),P6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je]})}return i})(),YE=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Gs,Vi,Je,P6]})}return i})();const O6={capture:!0},N6=["focus","click","mouseenter","touchstart"],IR="mat-ripple-loader-uninitialized",SR="mat-ripple-loader-class-name",F6="mat-ripple-loader-centered",ZE="mat-ripple-loader-disabled";let L6=(()=>{class i{constructor(){this._document=ye(Ot,{optional:!0}),this._animationMode=ye(Ko,{optional:!0}),this._globalRippleOptions=ye(lg,{optional:!0}),this._platform=ye(Hr),this._ngZone=ye(tt),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${IR}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of N6)this._document?.addEventListener(e,this._onInteraction,O6)})}ngOnDestroy(){const e=this._hosts.keys();for(const n of e)this.destroyRipple(n);for(const n of N6)this._document?.removeEventListener(n,this._onInteraction,O6)}configureRipple(e,n){e.setAttribute(IR,""),(n.className||!e.hasAttribute(SR))&&e.setAttribute(SR,n.className||""),n.centered&&e.setAttribute(F6,""),n.disabled&&e.setAttribute(ZE,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,n){const r=this._hosts.get(e);r?r.disabled=n:n?e.setAttribute(ZE,""):e.removeAttribute(ZE)}_createRipple(e){if(!this._document)return;const n=this._hosts.get(e);if(n)return n;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(SR)),e.append(r);const o=new dg(new ot(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(F6),o.disabled=e.hasAttribute(ZE),this.attachRipple(e,o),o}attachRipple(e,n){e.removeAttribute(IR),this._hosts.set(e,n)}destroyRipple(e){const n=this._hosts.get(e);n&&(n.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class V6{}class Sge{}const Kl="*";function ri(i,t=null){return{type:4,styles:t,timings:i}}function B6(i,t=null){return{type:2,steps:i,options:t}}function Le(i){return{type:6,styles:i,offset:null}}function Ut(i,t,e){return{type:0,name:i,styles:t,options:e}}function Xt(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}class uy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class z6{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function Mge(i,t){}class KE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const AR="mdc-dialog--open",H6="mdc-dialog--opening",U6="mdc-dialog--closing";let Pge=(()=>{class i extends w6{constructor(e,n,r,o,s,a,c,l){super(e,n,r,o,s,a,c,l),this._animationStateChanged=new wt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(bR),D(Ot,8),D(KE),D(WE),D(tt),D(sy),D(Zl))};static#t=this.\u0275cmp=pt({type:i,selectors:[["ng-component"]],features:[Ce],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const j6="--mat-dialog-transition-duration";function $6(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?go(i.substring(0,i.length-2)):i.endsWith("s")?1e3*go(i.substring(0,i.length-1)):"0"===i?0:null}let Oge=(()=>{class i extends Pge{constructor(e,n,r,o,s,a,c,l,u){super(e,n,r,o,s,a,c,u),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?$6(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?$6(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(j6,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(H6,AR)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(AR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(AR),this._animationsEnabled?(this._hostElement.style.setProperty(j6,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(U6)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(H6,U6)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(bR),D(Ot,8),D(KE),D(WE),D(tt),D(sy),D(Ko,8),D(Zl))};static#t=this.\u0275cmp=pt({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(va("id",r._config.id),Gt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),qe("_mat-animation-noopable",!r._animationsEnabled))},features:[Ce],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1),wi(2,Mge,0,0,"ng-template",2),U()())},dependencies:[dR],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class Nge{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new G,this._beforeClosed=new G,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(jn(r=>"opened"===r.state),Xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(jn(r=>"closed"===r.state),Xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),J(this.backdropClick(),this.keydownEvents().pipe(jn(r=>27===r.keyCode&&!this.disableClose&&!Ka(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Fge(i,t,e){i._closeInteractionType=t,i.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(jn(e=>"closing"===e.state),Xn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Lge=new W("MatMdcDialogData"),Vge=new W("mat-mdc-dialog-default-options"),W6=new W("mat-mdc-dialog-scroll-strategy"),zge={provide:W6,deps:[ka],useFactory:function Bge(i){return()=>i.scrollStrategies.block()}};let Hge=0,Uge=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,s,a,c,l,u,m){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new G,this._afterOpenedAtThisLevel=new G,this._idPrefix="mat-dialog-",this.dialogConfigClass=KE,this.afterAllClosed=lb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xa(void 0))),this._scrollStrategy=a,this._dialog=n.get(C6)}open(e,n){let r;(n={...this._defaultOptions||new KE,...n}).id=n.id||`${this._idPrefix}${Hge++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:qE,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){Zd()};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})(),G6=(()=>{class i extends Uge{constructor(e,n,r,o,s,a,c,l){super(e,n,o,a,c,s,Nge,Oge,Lge,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(H(ka),H(xr),H(nb,8),H(Vge,8),H(W6),H(i,12),H(HE),H(Ko,8))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})(),jge=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[G6,zge],imports:[E6,_u,Gc,Je,Je]})}return i})();class QE{}class XE{}class Yc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $ge{encodeKey(t){return Y6(t)}encodeValue(t){return Y6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gge=/%(\d[a-f0-9])/gi,qge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y6(i){return encodeURIComponent(i).replace(Gge,(t,e)=>qge[e]??t)}function JE(i){return`${i}`}class yu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $ge,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wge(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(JE):[JE(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new yu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(JE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(JE(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Yge{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Z6(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function K6(i){return typeof Blob<"u"&&i instanceof Blob}function Q6(i){return typeof FormData<"u"&&i instanceof FormData}class hy{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Zge(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Yc),this.context||(this.context=new Yge),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new yu,this.urlWithParams=e}serializeBody(){return null===this.body?null:Z6(this.body)||K6(this.body)||Q6(this.body)||function Kge(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q6(this.body)?null:K6(this.body)?this.body.type||null:Z6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((m,_)=>m.set(_,t.setHeaders[_]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((m,_)=>m.set(_,t.setParams[_]),l)),new hy(e,n,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var hg=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(hg||{});class RR{constructor(t,e=200,n="OK"){this.headers=t.headers||new Yc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class PR extends RR{constructor(t={}){super(t),this.type=hg.ResponseHeader}clone(t={}){return new PR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mg extends RR{constructor(t={}){super(t),this.type=hg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new mg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class X6 extends RR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function OR(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let eT=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof hy)o=e;else{let c,l;c=r.headers instanceof Yc?r.headers:new Yc(r.headers),r.params&&(l=r.params instanceof yu?r.params:new yu({fromObject:r.params})),o=new hy(e,n,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ie(o).pipe(Sf(c=>this.handler.handle(c)));if(e instanceof hy||"events"===r.observe)return s;const a=s.pipe(jn(c=>c instanceof mg));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new yu).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,OR(r,n))}post(e,n,r={}){return this.request("POST",e,OR(r,n))}put(e,n,r={}){return this.request("PUT",e,OR(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(H(QE))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function t$(i,t){return t(i)}function Xge(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const e_e=new W(""),my=new W(""),i$=new W("");function t_e(){let i=null;return(t,e)=>{null===i&&(i=(ye(e_e,{optional:!0})??[]).reduceRight(Xge,t$));const n=ye(oC),r=n.add();return i(t,e).pipe(Af(()=>n.remove(r)))}}let n$=(()=>{class i extends QE{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=ye(oC)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(my),...this.injector.get(i$,[])]));this.chain=r.reduceRight((o,s)=>function Jge(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(o,s,this.injector),t$)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Af(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(H(XE),H(zs))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const o_e=/^\)\]\}',?\n/;let o$=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Z(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?B(n.\u0275loadImpl()):ie(null)).pipe(gt(()=>new Lt(o=>{const s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((E,k)=>s.setRequestHeader(E,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const E=e.detectContentTypeHeader();null!==E&&s.setRequestHeader("Content-Type",E)}if(e.responseType){const E=e.responseType.toLowerCase();s.responseType="json"!==E?E:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const E=s.statusText||"OK",k=new Yc(s.getAllResponseHeaders()),O=function s_e(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new PR({headers:k,status:s.status,statusText:E,url:O}),c},u=()=>{let{headers:E,status:k,statusText:O,url:R}=l(),z=null;204!==k&&(z=typeof s.response>"u"?s.responseText:s.response),0===k&&(k=z?200:0);let K=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof z){const le=z;z=z.replace(o_e,"");try{z=""!==z?JSON.parse(z):null}catch(ke){z=le,K&&(K=!1,z={error:ke,text:z})}}K?(o.next(new mg({body:z,headers:E,status:k,statusText:O,url:R||void 0})),o.complete()):o.error(new X6({error:z,headers:E,status:k,statusText:O,url:R||void 0}))},m=E=>{const{url:k}=l(),O=new X6({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(O)};let _=!1;const v=E=>{_||(o.next(l()),_=!0);let k={type:hg.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),"text"===e.responseType&&s.responseText&&(k.partialText=s.responseText),o.next(k)},x=E=>{let k={type:hg.UploadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),o.next(k)};return s.addEventListener("load",u),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),e.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:hg.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",u),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(H($z))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const NR=new W("XSRF_ENABLED"),s$=new W("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),a$=new W("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class c${}let l_e=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oz(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(ma),H(s$))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();function d_e(i,t){const e=i.url.toLowerCase();if(!ye(NR)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=ye(c$).getToken(),r=ye(a$);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var wu=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(wu||{});function u_e(...i){const t=[eT,o$,n$,{provide:QE,useExisting:n$},{provide:XE,useExisting:o$},{provide:my,useValue:d_e,multi:!0},{provide:NR,useValue:!0},{provide:c$,useClass:l_e}];for(const e of i)t.push(...e.\u0275providers);return function iS(i){return{\u0275providers:i}}(t)}const l$=new W("LEGACY_INTERCEPTOR_FN");function h_e(){return function gm(i,t){return{\u0275kind:i,\u0275providers:t}}(wu.LegacyInterceptors,[{provide:l$,useFactory:t_e},{provide:my,useExisting:l$,multi:!0}])}let m_e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[u_e(h_e())]})}return i})(),Qa=(()=>{class i{constructor(e,n,r,o,s){this.fireauth=e,this.router=n,this.db=r,this.dialog=o,this.http=s,this.loggedIn=!1,this.sidebarVisibilitySubject=new $(!1),this.sidebarVisibility$=this.sidebarVisibilitySubject.asObservable()}login(e,n){this.fireauth.signInWithEmailAndPassword(e,n).then(r=>{const o=r.user;this.router.navigate(["/home"]),console.log(o),this.loggedIn=!0,localStorage.setItem("loggedIn","true"),localStorage.setItem("user",JSON.stringify(o))}).catch(r=>{this.loggedIn=!1;const s=r.message;console.error(s),"Firebase: Error (auth/missing-email)."==s||"Firebase: The email address is badly formatted. (auth/invalid-email)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: The supplied auth credential is incorrect, malformed or has expired. (auth/invalid-credential)."==s?this.Swal("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==s&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/login"])})}register(e,n){this.fireauth.createUserWithEmailAndPassword(e,n).then(()=>{this.Swal("\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"),this.router.navigate(["/login"])},r=>{let o=r.message;console.log(o),"Firebase: Error (auth/missing-email)."==o||"Firebase: The email address is badly formatted. (auth/invalid-email)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: Password should be at least 6 characters (auth/weak-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 6 \u0e15\u0e31\u0e27","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==o&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{this.loggedIn=!1,localStorage.removeItem("loggedIn"),localStorage.removeItem("user"),this.router.navigate(["/login"])},e=>{alert(e.message)})}isLoggedIn(){return"true"===localStorage.getItem("loggedIn")}humidityValue(){return this.db.object("Humidity").valueChanges()}temperatureValue(){return this.db.object("Temperature").valueChanges()}pHValue(){return this.db.object("pHValue").valueChanges()}waterStateLow(){return this.db.object("waterstatelow").valueChanges()}waterStateHigh(){return this.db.object("waterstatehigh").valueChanges()}timeSFT(){return this.db.object("timeSFT").valueChanges()}timeSWT(){return this.db.object("timeSWT").valueChanges()}timeFT(){return this.db.object("timeFT").valueChanges()}timeMB(){return this.db.object("timeMB").valueChanges()}timePHU(){return this.db.object("timePHU").valueChanges()}timePHD(){return this.db.object("timePHD").valueChanges()}Swal(e,n,r="",o="",s=""){return(0,te.Z)(function*(){yield Gle().fire({title:`<b style="color:${s};" class="fs-3">${e}</b>`,text:r,reverseButtons:!0,showCloseButton:!0,confirmButtonColor:"#00C514",icon:n,confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",customClass:{confirmButton:"alert-btn-confirm"}}).then(function(){var a=(0,te.Z)(function*(c){o&&(window.location.href=`./${o}`)});return function(c){return a.apply(this,arguments)}}())})()}Post(e,n,r=null){var o=this;return(0,te.Z)(function*(){const s=n;try{return yield o.http.post(`${e}`,s).subscribe()}catch(a){return console.error("An error occurred:",a),!1}})()}Get(e){var n=this;return(0,te.Z)(function*(){return new Promise((r,o)=>{n.http.get(`${e}`).subscribe(s=>{r(s)},s=>{r(!1)})})})()}toggleSidebar(){this.sidebarVisibilitySubject.next(!this.sidebarVisibilitySubject.value)}static#e=this.\u0275fac=function(n){return new(n||i)(H(JC),H(es),H(tg),H(G6),H(eT))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function d$(...i){const t=Bo(i),{args:e,keys:n}=mH(i),r=new Lt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let m=!1;Ki(e[u]).subscribe(Te(o,_=>{m||(m=!0,l--),a[u]=_},()=>c--,void 0,()=>{(!c||!m)&&(l||o.next(n?pH(n,a):a),o.complete())}))}});return t?r.pipe(l1(t)):r}let u$=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Ol),D(ot))};static#t=this.\u0275dir=re({type:i})}return i})(),_m=(()=>{class i extends u${static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(i)))(r||i)}}();static#t=this.\u0275dir=re({type:i,features:[Ce]})}return i})();const Ir=new W("NgValueAccessor"),y_e={provide:Ir,useExisting:Y(()=>vm),multi:!0},x_e=new W("CompositionEventMode");let vm=(()=>{class i extends u${constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w_e(){const i=Jd()?Jd().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Ol),D(ot),D(x_e,8))};static#t=this.\u0275dir=re({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&we("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ye([y_e]),Ce]})}return i})();const Ur=new W("NgValidators"),Cu=new W("NgAsyncValidators");function C$(i){return null!=i}function E$(i){return jv(i)?B(i):i}function T$(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function k$(i,t){return t.map(e=>e(i))}function D$(i){return i.map(t=>function E_e(i){return!i.validate}(t)?t:e=>t.validate(e))}function FR(i){return null!=i?function I$(i){if(!i)return null;const t=i.filter(C$);return 0==t.length?null:function(e){return T$(k$(e,t))}}(D$(i)):null}function LR(i){return null!=i?function S$(i){if(!i)return null;const t=i.filter(C$);return 0==t.length?null:function(e){return d$(k$(e,t).map(E$)).pipe(Ie(T$))}}(D$(i)):null}function M$(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function VR(i){return i?Array.isArray(i)?i:[i]:[]}function nT(i,t){return Array.isArray(i)?i.includes(t):i===t}function P$(i,t){const e=VR(t);return VR(i).forEach(r=>{nT(e,r)||e.push(r)}),e}function O$(i,t){return VR(t).filter(e=>!nT(i,e))}class N${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class is extends N${get formDirective(){return null}get path(){return null}}class Ql extends N${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class F${constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let py=(()=>{class i extends F${constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Ql,2))};static#t=this.\u0275dir=re({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]})}return i})(),BR=(()=>{class i extends F${constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(D(is,10))};static#t=this.\u0275dir=re({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]})}return i})();const fy="VALID",oT="INVALID",pg="PENDING",gy="DISABLED";function UR(i){return(sT(i)?i.validators:i)||null}function jR(i,t){return(sT(t)?t.asyncValidators:i)||null}function sT(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class z${constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fy}get invalid(){return this.status===oT}get pending(){return this.status==pg}get disabled(){return this.status===gy}get enabled(){return this.status!==gy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(P$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(P$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(O$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(O$(t,this._rawAsyncValidators))}hasValidator(t){return nT(this._rawValidators,t)}hasAsyncValidator(t){return nT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gy,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fy,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fy||this.status===pg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gy:fy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pg,this._hasOwnPendingAsyncValidator=!0;const e=E$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?gy:this.errors?oT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pg)?pg:this._anyControlsHaveStatus(oT)?oT:fy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function I_e(i){return Array.isArray(i)?FR(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function S_e(i){return Array.isArray(i)?LR(i):i||null}(this._rawAsyncValidators)}}class $R extends z${constructor(t,e,n){super(UR(e),jR(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function B$(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new Z(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function V$(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new Z(1e3,"");if(!n[e])throw new Z(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const bm=new W("CallSetDisabledState",{providedIn:"root",factory:()=>_y}),_y="always";function vy(i,t,e=_y){WR(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function R_e(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&H$(i,t)})}(i,t),function O_e(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function P_e(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&H$(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function A_e(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function lT(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function WR(i,t){const e=function A$(i){return i._rawValidators}(i);null!==t.validator?i.setValidators(M$(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=function R$(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators(M$(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();lT(t._rawValidators,r),lT(t._rawAsyncValidators,r)}function H$(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}const B_e={provide:is,useExisting:Y(()=>fg)},by=(()=>Promise.resolve())();let fg=(()=>{class i extends is{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new wt,this.form=new $R({},FR(e),LR(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){by.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),vy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){by.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){by.then(()=>{const n=this._findContainer(e.path),r=new $R({});(function U$(i,t){WR(i,t)})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){by.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){by.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function j$(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(D(Ur,10),D(Cu,10),D(bm,8))};static#t=this.\u0275dir=re({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&we("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([B_e]),Ce]})}return i})();function $$(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function W$(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const G$=class extends z${constructor(t=null,e,n){super(UR(e),jR(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sT(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=W$(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$$(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$$(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){W$(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},U_e={provide:Ql,useExisting:Y(()=>gg)},Z$=(()=>Promise.resolve())();let gg=(()=>{class i extends Ql{constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new G$,this._registered=!1,this.name="",this.update=new wt,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function YR(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vm?e=o:function L_e(i){return Object.getPrototypeOf(i.constructor)===_m}(o)?n=o:r=o}),r||n||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function qR(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Z$.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&Tf(n);Z$.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function aT(i,t){return[...t.path,i]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||i)(D(is,9),D(Ur,10),D(Cu,10),D(Ir,10),D(Tr,8),D(bm,8))};static#t=this.\u0275dir=re({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([U_e]),Ce,Kn]})}return i})(),ZR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=re({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),Q$=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})();const KR=new W("NgModelWithFormControlWarning");let p8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Q$]})}return i})(),f8=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:bm,useValue:e.callSetDisabledState??_y}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[p8]})}return i})(),g8=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:KR,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:bm,useValue:e.callSetDisabledState??_y}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[p8]})}return i})(),mve=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}login(){this.auth.login(this.email,this.password)}GoRegister(){window.location.href="register"}switch(){const e=Array.from(document.querySelectorAll(".switcher"));e.forEach(n=>{n.addEventListener("click",function(){e.forEach(r=>r.parentElement?.classList.remove("is-active")),this.parentElement?.classList.add("is-active")})})}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","register",1,"c-g","fw-500"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),ae(4,"Login"),U(),Pc(5),V(6,"form",4)(7,"input",5),we("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.login()}),U(),V(8,"label",6),ae(9,"Email"),U()(),V(10,"form",4)(11,"input",7),we("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.login()}),U(),V(12,"label",6),ae(13,"Password"),U()(),V(14,"div",8)(15,"div",9)(16,"button",10),we("click",function(){return r.login()}),ae(17," Login "),U()()(),V(18,"div",11)(19,"div",12)(20,"span"),ae(21,"Already have an account?"),U(),ae(22," \xa0 "),V(23,"a",13),ae(24,"Register"),U()()(),Oc(),U()()()),2&n&&(xe(7),et("ngModel",r.email),xe(4),et("ngModel",r.password))},dependencies:[ZR,vm,py,BR,gg,fg],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})(),pve=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}register(){this.auth.register(this.email,this.password)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-register"]],decls:26,vars:2,consts:[[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","container","mb-4"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","login",1,"c-g","fw-500"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),ae(5,"Register"),U(),Pc(6),V(7,"form",5)(8,"input",6),we("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.register()}),U(),V(9,"label",7),ae(10,"Email"),U()(),V(11,"form",5)(12,"input",8),we("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.register()}),U(),V(13,"label",7),ae(14,"Password"),U()(),V(15,"div",9)(16,"div",10)(17,"button",11),we("click",function(){return r.register()}),ae(18," Register "),U()()(),V(19,"div",12)(20,"div",13)(21,"span"),ae(22,"Already have an account?"),U(),ae(23," \xa0 "),V(24,"a",14),ae(25,"Login"),U()()(),Oc(),U()()()()),2&n&&(xe(8),et("ngModel",r.email),xe(4),et("ngModel",r.password))},dependencies:[ZR,vm,py,BR,gg,fg],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})(),fve=(()=>{class i{constructor(e,n){this.auth=e,this.db=n}ngOnInit(){var e=this;return(0,te.Z)(function*(){yield e.getdata()})()}logout(){this.auth.logout()}getdata(){var e=this;return(0,te.Z)(function*(){yield e.auth.humidityValue().subscribe(n=>{e.humidityValue=parseFloat(n.toFixed(2))}),yield e.auth.temperatureValue().subscribe(n=>{e.temperatureValue=parseFloat(n.toFixed(2))}),yield e.auth.pHValue().subscribe(n=>{e.pHValue=n}),yield e.auth.waterStateHigh().subscribe(n=>{e.waterStateHigh=n}),yield e.auth.waterStateLow().subscribe(n=>{e.waterStateLow=n})})()}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}openRelay(){window.location.href="/relay"}openQuantity(){window.location.href="/quantity"}openSprinker(){window.location.href="/sprinker"}openSetTime(){window.location.href="/set-time"}addgroup(){window.location.href="/set-time"}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa),D(tg))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-home"]],decls:79,vars:10,consts:[[1,"row","justify-content-center","mt-4"],[1,"cardContainer","mb-4"],[1,"card"],[1,"city"],["version","1.1","id","Layer_1","x","0px","y","0px","width","50px","height","50px","viewBox","0 0 100 100",0,"xml","space","preserve",1,"weather"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\hot_1684426.png"],[1,"temp"],[1,"minmaxContainer"],[1,"min"],[1,"minHeading"],[1,"minTemp"],[1,"max"],[1,"maxHeading"],[1,"maxTemp"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\humidity_4181405.png"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\drop_3335624.png"],[1,"row","mb-4","justify-content-center"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-12","d-flex","justify-content-center"],[1,"space-card"],[1,"card3"],[1,"slide","slide1"],[1,"content"],[1,"icon"],["src","assets\\icon\\3.png",2,"width","100%"],[1,"slide","slide2"],[1,"row","mb-2"],[1,"col-12","justify-content-center","d-flex"],[1,"title-web","l-h3"],[1,"row","mb-4"],["src","assets\\image\\join_line.jpg",2,"width","250px","height","250px"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"span",1)(2,"div",2)(3,"p",3),ae(4,"Temperature"),U(),Tc(),V(5,"svg",4),Ke(6,"image",5),U(),Vd(),V(7,"p",6),ae(8),U(),V(9,"div",7)(10,"div",8)(11,"p",9),ae(12,"Min"),U(),V(13,"p",10),ae(14,"15\xb0"),U()(),V(15,"div",11)(16,"p",12),ae(17,"Max"),U(),V(18,"p",13),ae(19,"35\xb0"),U()()()()(),V(20,"span",1)(21,"div",2)(22,"p",3),ae(23,"Humidity"),U(),Tc(),V(24,"svg",4),Ke(25,"image",14),U(),Vd(),V(26,"p",6),ae(27),U(),V(28,"div",7)(29,"div",8)(30,"p",9),ae(31,"Min"),U(),V(32,"p",10),ae(33,"40%"),U()(),V(34,"div",11)(35,"p",12),ae(36,"Max"),U(),V(37,"p",13),ae(38,"80%"),U()()()()(),V(39,"span",1)(40,"div",2)(41,"p",3),ae(42,"pH"),U(),Tc(),V(43,"svg",4),Ke(44,"image",15),U(),Vd(),V(45,"p",6),ae(46),U(),V(47,"div",7)(48,"div",8)(49,"p",9),ae(50,"Min"),U(),V(51,"p",10),ae(52,"3"),U()(),V(53,"div",11)(54,"p",12),ae(55,"Max"),U(),V(56,"p",13),ae(57,"8"),U()()()()()(),V(58,"div",16)(59,"div",17)(60,"div",18)(61,"div",19)(62,"div",20)(63,"div",21)(64,"div",22),Ke(65,"img",23),U()()(),V(66,"div",24)(67,"div",21)(68,"h3"),ae(69,"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07"),U(),V(70,"h1"),ae(71),U()()()()()()(),V(72,"div",25)(73,"div",26)(74,"p",27),ae(75," Scan Qr Code \u0e40\u0e02\u0e49\u0e32\u0e01\u0e25\u0e38\u0e48\u0e21 Line \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 "),U()()(),V(76,"div",28)(77,"div",26),Ke(78,"img",29),U()()),2&n&&(xe(8),Lc("",r.temperatureValue,"\xb0"),xe(19),Lc("",r.humidityValue,"%"),xe(19),Wv(r.pHValue),xe(24),qe("c-red",0==r.waterStateHigh&&0==r.waterStateLow)("c-orange",0==r.waterStateHigh&&1==r.waterStateLow)("c-green",1==r.waterStateHigh&&1==r.waterStateLow),xe(1),Lc(" ",1==r.waterStateHigh&&1==r.waterStateLow?"\u0e21\u0e32\u0e01\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&1==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&0==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 10%":" "," "))},styles:['.l-h3[_ngcontent-%COMP%]{line-height:1.5}.button[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#141e47;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.button2[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button2[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#02bb33;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button2.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button2.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:500px;height:250px;transition:.5s}@media screen and (max-width: 450px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}@media screen and (max-width: 400px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide1[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;z-index:1;transition:.7s;transform:translateY(100px)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide1[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:20px;box-sizing:border-box;transition:.8s;transform:translateY(-100px);background-color:#fff;box-shadow:0 20px 40px #0006}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide2[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:4px;bottom:15px;left:50%;transform:translate(-50%);background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0;text-align:center;font-size:42px;font-weight:700}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;padding:0;font-size:24px;text-align:center;color:#414141}.title-web[_ngcontent-%COMP%]{color:#000;font-size:30px;font-weight:900}@media screen and (max-width: 440px){.title-web[_ngcontent-%COMP%]{font-size:15px}}.box-title[_ngcontent-%COMP%]{color:#fff;background-color:#fff;box-shadow:0 4px 20px #00000040;height:700px}.farm[_ngcontent-%COMP%]{width:100%}.sub-web[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:500}.cardContainer[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;position:relative;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{position:relative;width:370px;height:350px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:40px 10px;border-radius:10px;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);background-color:#ffffffa3;border:1px solid rgba(255,255,255,.089);cursor:pointer}.city[_ngcontent-%COMP%]{font-weight:700;font-size:35px;letter-spacing:1.2px;color:#000}.weather[_ngcontent-%COMP%]{font-weight:500;font-size:.7em;letter-spacing:1.2px;color:#000}.temp[_ngcontent-%COMP%]{font-size:1.8em;color:#000}.minmaxContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.min[_ngcontent-%COMP%], .max[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;padding:0 20px;gap:4px}.max[_ngcontent-%COMP%]{align-items:flex-start;border-left:2px solid rgb(0,0,0)}.maxHeading[_ngcontent-%COMP%], .minHeading[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#000}.maxTemp[_ngcontent-%COMP%], .minTemp[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#000}.cardContainer[_ngcontent-%COMP%]:before{width:100px;height:100px;content:"";position:absolute;background-color:#90a1ff;z-index:-1;border-radius:50%;left:100px;top:50px;transition:all 1s}.cardContainer[_ngcontent-%COMP%]:hover:before{transform:translate(-50px,50px)}']})}return i})(),_8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-login-outlet"]],decls:2,vars:0,consts:[[1,"content"]],template:function(n,r){1&n&&(V(0,"div",0),Ke(1,"router-outlet"),U())},dependencies:[bb],styles:[".bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}"]})}return i})();const Eu=function(i){return{"btn-dis":i}};let gve=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}ngOnInit(){this.getdata()}getdata(){this.db.object("quantityFT").valueChanges().subscribe(s=>{this.Fer=s}),this.db.object("quantityMB").valueChanges().subscribe(s=>{this.Mb=s}),this.db.object("quantityphup").valueChanges().subscribe(s=>{this.phUp=s}),this.db.object("quantityphdown").valueChanges().subscribe(s=>{this.phD=s})}reset(){this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}submit(){var e=this;return(0,te.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e31\u0e07\u0e19\u0e49\u0e33","success"),e.db.object("quantityFT").set(e.Fer).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityMB").set(e.Mb).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphup").set(e.phUp).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphdown").set(e.phD).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}FT(e){this.Fer=250===e?13:500===e?26:0,console.log(this.Fer)}MB(e){this.Mb=250===e?13:500===e?26:0,console.log(this.Mb)}PhUp(e){this.phUp=250===e?13:500===e?26:0,console.log(this.phUp)}PhD(e){this.phD=250===e?13:500===e?26:0,console.log(this.phD)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa),D(tg))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-quantity"]],decls:67,vars:48,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fertilizer_2674327.png",1,"img1"],[1,"contentBx"],[1,"col"],[1,"btn",3,"disabled","ngClass","click"],["src","assets\\icon\\microbial-culture_9851909.png",1,"img2"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img4"],[1,"col","justify-content-end","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"col","justify-content-start","d-flex"],[1,"btn-confirm","submit",3,"click"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"p",2),ae(3,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),U()(),V(4,"div",3)(5,"p",4),ae(6,"*\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e15\u0e34\u0e21\u0e44\u0e14\u0e49\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14 3 \u0e0a\u0e19\u0e34\u0e14"),U()()(),V(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Ke(11,"img",9),U(),V(12,"div",10)(13,"h2"),ae(14,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e1b\u0e38\u0e4b\u0e22"),U(),V(15,"div",11)(16,"button",12),we("click",function(){return r.FT(250)}),ae(17," 250 ml "),U()(),V(18,"div",11)(19,"button",12),we("click",function(){return r.FT(500)}),ae(20," 500 ml "),U()()()()(),V(21,"div",6)(22,"div",7)(23,"div",8),Ke(24,"img",13),U(),V(25,"div",10)(26,"h2"),ae(27,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),U(),V(28,"div",11)(29,"button",12),we("click",function(){return r.MB(250)}),ae(30," 250 ml "),U()(),V(31,"div",11)(32,"button",12),we("click",function(){return r.MB(500)}),ae(33," 500 ml "),U()()()()(),V(34,"div",6)(35,"div",7)(36,"div",8),Ke(37,"img",14),U(),V(38,"div",10)(39,"h2"),ae(40,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH"),U(),V(41,"div",11)(42,"button",12),we("click",function(){return r.PhUp(250)}),ae(43," 250 ml "),U()(),V(44,"div",11)(45,"button",12),we("click",function(){return r.PhUp(500)}),ae(46," 500 ml "),U()()()()(),V(47,"div",6)(48,"div",7)(49,"div",8),Ke(50,"img",15),U(),V(51,"div",10)(52,"h2"),ae(53,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH"),U(),V(54,"div",11)(55,"button",12),we("click",function(){return r.PhD(250)}),ae(56," 250 ml "),U()(),V(57,"div",11)(58,"button",12),we("click",function(){return r.PhD(500)}),ae(59," 500 ml "),U()()()()()(),V(60,"div",5)(61,"div",16)(62,"button",17),we("click",function(){return r.reset()}),ae(63,"reset"),U()(),V(64,"div",18)(65,"button",19),we("click",function(){return r.submit()}),ae(66,"submit"),U()()()),2&n&&(xe(16),qe("active",13==r.Fer),et("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",Ll(32,Eu,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),xe(3),qe("active",26==r.Fer),et("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",Ll(34,Eu,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),xe(10),qe("active",13==r.Mb),et("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",Ll(36,Eu,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),xe(3),qe("active",26==r.Mb),et("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",Ll(38,Eu,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),xe(10),qe("active",13==r.phUp),et("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",Ll(40,Eu,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),xe(3),qe("active",26==r.phUp),et("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",Ll(42,Eu,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),xe(10),qe("active",13==r.phD),et("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",Ll(44,Eu,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)),xe(3),qe("active",26==r.phD),et("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",Ll(46,Eu,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)))},dependencies:[xC],styles:['@media (max-width: 400px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active{background-color:#eecf06}.btn-dis[_ngcontent-%COMP%]{background-color:#c3c3c3;color:#000}.active[_ngcontent-%COMP%]{background-color:#eecf06}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#ffb414;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}']})}return i})(),_ve=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.data={sft:"",swt:"",ft:"",mb:"",phU:"",phD:""},this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){var e=this;return(0,te.Z)(function*(){e.getData(),e.getDataFromRD()})()}getData(){this.db.object("relaystate/pumpStirring").valueChanges().subscribe(r=>{this.updateSwitchState("pumpStirring",r)}),this.db.object("relaystate/pumpUP").valueChanges().subscribe(r=>{this.updateSwitchState("pumpUP",r)})}getDataFromRD(){this.db.object("relaystate/fan").valueChanges().subscribe(u=>{this.Fan=u}),this.db.object("relaystate/led").valueChanges().subscribe(u=>{this.Led=u}),this.db.object("relaystate/pumpwater").valueChanges().subscribe(u=>{this.Pwater=u}),this.db.object("relaystate/pumpphDown").valueChanges().subscribe(u=>{this.PhD=u}),this.db.object("relaystate/pumpphUP").valueChanges().subscribe(u=>{this.PhU=u}),this.db.object("relaystate/fertilizers").valueChanges().subscribe(u=>{this.FT=u}),this.db.object("relaystate/microbial").valueChanges().subscribe(u=>{this.MB=u}),this.db.object("relaystate/valve").valueChanges().subscribe(u=>{this.Valve=u})}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}sendTime(){var e=this;return(0,te.Z)(function*(){e.data.ft=e.time_FT,e.data.mb=e.time_MB,e.data.phU=e.time_PHU,e.data.phD=e.time_PHD,200==(yield e.auth.Post("updateByTime",e.data)).status?e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"):e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","error"),console.log(e.data)})()}openPwater(e){this.Pwater=e,this.db.object("relaystate/pumpwater").set(this.Pwater)}openFan(e){this.Fan=e,this.db.object("relaystate/fan").set(this.Fan)}openLed(e){this.Led=e,this.db.object("relaystate/led").set(this.Led)}openFT(e){this.FT=e,this.db.object("relaystate/fertilizers").set(this.FT)}openMB(e){this.MB=e,this.db.object("relaystate/microbial").set(this.MB)}openPhU(e){this.PhU=e,this.db.object("relaystate/pumpphUP").set(this.PhU)}openPhD(e){this.PhD=e,this.db.object("relaystate/pumpphDown").set(this.PhD)}openValve(e){this.Valve=e,this.db.object("relaystate/valve").set(this.Valve)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa),D(tg))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-relay"]],decls:106,vars:32,consts:[[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fan_2976070.png",1,"img3"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn",3,"click"],["src","assets\\icon\\led-light_6357876.png",1,"img3"],["src","assets/icon/pump_2299254.png",1,"img3"],["src","assets\\icon\\aquarius_7244962.png",1,"img4"],["src","assets\\icon\\fertilizer_2674327.png",1,"img3"],["src","assets\\icon\\microbial-culture_9851909.png",1,"img3"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img3"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ke(4,"img",4),U(),V(5,"div",5)(6,"h2",6),ae(7,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1e\u0e31\u0e14\u0e25\u0e21\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(8,"div",7)(9,"button",8),we("click",function(){return r.openFan(!0)}),ae(10," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(11,"div",7)(12,"button",8),we("click",function(){return r.openFan(!1)}),ae(13," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(14,"div",1)(15,"div",2)(16,"div",3),Ke(17,"img",9),U(),V(18,"div",5)(19,"h2",6),ae(20,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e44\u0e1f\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(21,"div",7)(22,"button",8),we("click",function(){return r.openLed(!0)}),ae(23," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(24,"div",7)(25,"button",8),we("click",function(){return r.openLed(!1)}),ae(26," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(27,"div",1)(28,"div",2)(29,"div",3),Ke(30,"img",10),U(),V(31,"div",5)(32,"h2",6),ae(33,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1b\u0e31\u0e4a\u0e21\u0e19\u0e49\u0e33\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(34,"div",7)(35,"button",8),we("click",function(){return r.openPwater(!0)}),ae(36," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(37,"div",7)(38,"button",8),we("click",function(){return r.openPwater(!1)}),ae(39," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(40,"div",1)(41,"div",2)(42,"div",3),Ke(43,"img",11),U(),V(44,"div",5)(45,"h2",6),ae(46,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e17\u0e34\u0e49\u0e07\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(47,"div",7)(48,"button",8),we("click",function(){return r.openValve(!0)}),ae(49," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(50,"div",7)(51,"button",8),we("click",function(){return r.openValve(!1)}),ae(52," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()()(),V(53,"div",0)(54,"div",1)(55,"div",2)(56,"div",3),Ke(57,"img",12),U(),V(58,"div",5)(59,"h2",6),ae(60,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(61,"div",7)(62,"button",8),we("click",function(){return r.openFT(!0)}),ae(63," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(64,"div",7)(65,"button",8),we("click",function(){return r.openFT(!1)}),ae(66," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(67,"div",1)(68,"div",2)(69,"div",3),Ke(70,"img",13),U(),V(71,"div",5)(72,"h2",6),ae(73,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(74,"div",7)(75,"button",8),we("click",function(){return r.openMB(!0)}),ae(76," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(77,"div",7)(78,"button",8),we("click",function(){return r.openMB(!1)}),ae(79," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(80,"div",1)(81,"div",2)(82,"div",3),Ke(83,"img",14),U(),V(84,"div",5)(85,"h2",6),ae(86,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(87,"div",7)(88,"button",8),we("click",function(){return r.openPhU(!0)}),ae(89," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(90,"div",7)(91,"button",8),we("click",function(){return r.openPhU(!1)}),ae(92," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(93,"div",1)(94,"div",2)(95,"div",3),Ke(96,"img",15),U(),V(97,"div",5)(98,"h2",6),ae(99,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),U(),V(100,"div",7)(101,"button",8),we("click",function(){return r.openPhD(!0)}),ae(102," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(103,"div",7)(104,"button",8),we("click",function(){return r.openPhD(!1)}),ae(105," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()()()),2&n&&(xe(9),qe("active",1==r.Fan),xe(3),qe("active",0==r.Fan),xe(10),qe("active",1==r.Led),xe(3),qe("active",0==r.Led),xe(10),qe("active",1==r.Pwater),xe(3),qe("active",0==r.Pwater),xe(10),qe("active",1==r.Valve),xe(3),qe("active",0==r.Valve),xe(11),qe("active",1==r.FT),xe(3),qe("active",0==r.FT),xe(10),qe("active",1==r.MB),xe(3),qe("active",0==r.MB),xe(10),qe("active",1==r.PhU),xe(3),qe("active",0==r.PhU),xe(10),qe("active",1==r.PhD),xe(3),qe("active",0==r.PhD))},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#141e47;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}']})}return i})(),vve=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.sf=0,this.sw=0,this.time_FT="",this.time_WT=""}ngOnInit(){var e=this;return(0,te.Z)(function*(){yield e.getdata(),yield e.getTime(),console.log(e.sw),console.log(e.sf)})()}reset(){this.sf=0,this.sw=0}resetWT(){var e=this;return(0,te.Z)(function*(){e.time_WT="",e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSWT")})()}resetFT(){var e=this;return(0,te.Z)(function*(){e.time_FT="",e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSFT")})()}sendTimeSFT(){var e=this;return(0,te.Z)(function*(){let n={sft:""};n.sft=e.time_FT,e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSFT",n)})()}sendTimeSWT(){var e=this;return(0,te.Z)(function*(){let n={swt:""};n.swt=e.time_WT,e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSWT",n)})()}getdata(){this.db.object("relaystate/sprinklerfertilizers").valueChanges().subscribe(s=>{this.openFT=s}),this.db.object("relaystate/sprinklerwater").valueChanges().subscribe(s=>{this.openWT=s}),this.db.object("quantitysprinklerwater").valueChanges().subscribe(s=>{this.sw=s}),this.db.object("quantitysprinklerfertilizers").valueChanges().subscribe(s=>{this.sf=s})}getTime(){this.auth.timeSFT().subscribe(e=>{this.time_FT=e}),this.auth.timeSWT().subscribe(e=>{this.time_WT=e})}submit(){var e=this;return(0,te.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19","success"),e.db.object("quantitysprinklerfertilizers").set(e.sf).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantitysprinklerwater").set(e.sw).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}SF(e){this.sf=250===e?13:500===e?26:0}SW(e){this.sw=250===e?13:500===e?26:0}openWater(e){this.openWT=e,this.db.object("relaystate/sprinklerwater").set(this.openWT)}openFer(e){this.openFT=e,this.db.object("relaystate/sprinklerfertilizers").set(this.openFT)}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa),D(tg))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-sprinker"]],decls:104,vars:18,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row","mt-5"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\water-hose_5601403.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn-time",3,"click"],["src","assets\\icon\\spray_13327187.png",1,"img2"],["src","assets\\icon\\sprinkler_4175992.png",1,"img3"],[1,"btn",3,"click"],["src","assets\\icon\\fertilizer_3319199.png",1,"img4"],[1,"row","mt-3","mb-4"],[1,"col-6"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","justify-content-center","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"btn-confirm","submit",3,"click"],[1,"row","mt-4","mb-3"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12"],["src","assets\\icon\\hourglass_6290515.png",1,"img5"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\clock_2997985.png",1,"img6"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"p",2),ae(3,"Sprinker"),U()(),V(4,"div",3)(5,"p",4),ae(6," *\u0e2b\u0e32\u0e01\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1e\u0e48\u0e19\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e43\u0e2b\u0e49\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 Submit \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22 "),U()()(),V(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Ke(11,"img",9),U(),V(12,"div",10)(13,"h2",11),ae(14,"Sprinker Water"),U(),V(15,"div",12)(16,"button",13),we("click",function(){return r.openWater(!0)}),ae(17," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(18,"div",12)(19,"button",13),we("click",function(){return r.openWater(!1)}),ae(20," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(21,"div",6)(22,"div",7)(23,"div",8),Ke(24,"img",14),U(),V(25,"div",10)(26,"h2",11),ae(27,"Sprinker fertilizer"),U(),V(28,"div",12)(29,"button",13),we("click",function(){return r.openFer(!0)}),ae(30," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()(),V(31,"div",12)(32,"button",13),we("click",function(){return r.openFer(!1)}),ae(33," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),U()()()()(),V(34,"div",6)(35,"div",7)(36,"div",8),Ke(37,"img",15),U(),V(38,"div",10)(39,"h2",11),ae(40,"Sprinker Water"),U(),V(41,"div",12)(42,"button",16),we("click",function(){return r.SW(250)}),ae(43," 250 ml "),U()(),V(44,"div",12)(45,"button",16),we("click",function(){return r.SW(500)}),ae(46," 500 ml "),U()()()()(),V(47,"div",6)(48,"div",7)(49,"div",8),Ke(50,"img",17),U(),V(51,"div",10)(52,"h2",11),ae(53,"Sprinker fertilizer"),U(),V(54,"div",12)(55,"button",16),we("click",function(){return r.SF(250)}),ae(56," 250 ml "),U()(),V(57,"div",12)(58,"button",16),we("click",function(){return r.SF(500)}),ae(59," 500 ml "),U()()()()()(),V(60,"div",18),Ke(61,"div",19),V(62,"div",20)(63,"button",21),we("click",function(){return r.reset()}),ae(64,"reset"),U(),V(65,"button",22),we("click",function(){return r.submit()}),ae(66,"submit"),U()()(),V(67,"div",23)(68,"div",1)(69,"p",2),ae(70,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14 Sprinker"),U()()(),V(71,"div",24),Ke(72,"div",25),V(73,"div",6)(74,"div",7)(75,"div",8),Ke(76,"img",26),U(),V(77,"div",10)(78,"h2",11),ae(79,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e19\u0e49\u0e33"),U(),V(80,"div",27)(81,"input",28),we("ngModelChange",function(s){return r.time_WT=s}),U()(),V(82,"div",27)(83,"button",29),we("click",function(){return r.sendTimeSWT()}),ae(84," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(85,"div",12)(86,"button",30),we("click",function(){return r.resetWT()}),ae(87,"reset"),U()()()()(),V(88,"div",6)(89,"div",7)(90,"div",8),Ke(91,"img",31),U(),V(92,"div",10)(93,"h2",11),ae(94,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e1b\u0e38\u0e4b\u0e22"),U(),V(95,"div",27)(96,"input",28),we("ngModelChange",function(s){return r.time_FT=s}),U()(),V(97,"div",27)(98,"button",29),we("click",function(){return r.sendTimeSFT()}),ae(99," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(100,"div",12)(101,"button",30),we("click",function(){return r.resetFT()}),ae(102,"reset"),U()()()()(),Ke(103,"div",32),U()),2&n&&(xe(16),qe("active-y",1==r.openWT),xe(3),qe("active-y",0==r.openWT),xe(10),qe("active-y",1==r.openFT),xe(3),qe("active-y",0==r.openFT),xe(10),qe("active",13==r.sw),xe(3),qe("active",26==r.sw),xe(10),qe("active",13==r.sf),xe(3),qe("active",26==r.sf),xe(23),et("ngModel",r.time_WT),xe(15),et("ngModel",r.time_FT))},dependencies:[vm,py,gg],styles:['@media (max-width: 420px){.f-40[_ngcontent-%COMP%]{font-size:30px!important}.f-28[_ngcontent-%COMP%]{font-size:18px!important}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#dcdcdc;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#908cd3;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:1000}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(20deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(15deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img5[_ngcontent-%COMP%]{position:absolute;top:9%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img6[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:205px}.btn[_ngcontent-%COMP%], .btn-time[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn-time[_ngcontent-%COMP%]:hover{background-color:#ee2761;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#eecf06;color:#fff}.active-y[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}.active[_ngcontent-%COMP%]{background-color:#eecf06;color:#fff}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})();const bve=["*",[["mat-toolbar-row"]]],yve=["*","mat-toolbar-row"],wve=ag(class{constructor(i){this._elementRef=i}});let xve=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=re({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Cve=(()=>{class i extends wve{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(Hr),D(Ot))};static#t=this.\u0275cmp=pt({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,o){if(1&n&&Li(o,xve,5),2&n){let s;Tt(s=kt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,r){2&n&&qe("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ce],ngContentSelectors:yve,decls:2,vars:0,template:function(n,r){1&n&&(dr(bve),ai(0),ai(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return i})(),Eve=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Je]})}return i})();const kve=["mat-icon-button",""],Dve=["*"],Ive=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Sve=ag(cy(cg(class{constructor(i){this._elementRef=i}})));let Mve=(()=>{class i extends Sve{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ut(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=ut(e),this._updateRippleDisabled()}constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=ye(Zl),this._rippleLoader=ye(L6),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of Ive)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){Zd()};static#t=this.\u0275dir=re({type:i,features:[Ce]})}return i})(),Pve=(()=>{class i extends Mve{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(Hr),D(tt),D(Ko,8))};static#t=this.\u0275cmp=pt({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(Gt("disabled",r.disabled||null),qe("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ce],attrs:kve,ngContentSelectors:Dve,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(dr(),Ke(0,"span",0),ai(1),Ke(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),mT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Gs,Je]})}return i})();const Ove=["*"];let pT;function yy(i){return function Nve(){if(void 0===pT&&(pT=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(pT=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return pT}()?.createHTML(i)||i}function v8(i){return Error(`Unable to find icon with the name "${i}"`)}function b8(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function y8(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class wm{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let fT=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new wm(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const s=this._sanitizer.sanitize(po.HTML,r);if(!s)throw y8(r);const a=yy(s);return this._addSvgIconConfig(e,n,new wm("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new wm(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(po.HTML,n);if(!o)throw y8(n);const s=yy(o);return this._addSvgIconSetConfig(e,new wm("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(po.RESOURCE_URL,e);if(!n)throw b8(e);const r=this._cachedIconsByUrl.get(n);return r?ie(gT(r)):this._loadSvgIconFromConfig(new wm(e,null)).pipe(Jn(o=>this._cachedIconsByUrl.set(n,o)),Ie(o=>gT(o)))}getNamedSvgIcon(e,n=""){const r=w8(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):If(v8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ie(gT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ie(n=>gT(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?ie(r):d$(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(iu(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(po.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),ie(null)})))).pipe(Ie(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw v8(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Jn(n=>e.svgText=n),Ie(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ie(null):this._fetchIcon(e).pipe(Jn(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(yy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(yy("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Fve(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(po.RESOURCE_URL,n);if(!s)throw b8(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Ie(l=>yy(l)),Af(()=>this._inProgressUrlFetches.delete(s)),mt());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(w8(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return Vve(o)?new wm(o.url,null,o.options):new wm(o,null)}}static#e=this.\u0275fac=function(n){return new(n||i)(H(eT,8),H(c1),H(Ot,8),H(pa))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function gT(i){return i.cloneNode(!0)}function w8(i,t){return i+":"+t}function Vve(i){return!(!i.url||!i.options)}const Bve=ag(class{constructor(i){this._elementRef=i}}),zve=new W("MAT_ICON_DEFAULT_OPTIONS"),Hve=new W("mat-icon-location",{providedIn:"root",factory:function Uve(){const i=ye(Ot),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),x8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jve=x8.map(i=>`[${i}]`).join(", "),$ve=/^url\(['"]?#(.*?)['"]?\)$/;let Wve=(()=>{class i extends Bve{get inline(){return this._inline}set inline(e){this._inline=ut(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,a){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Mt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(jve),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)x8.forEach(s=>{const a=n[o],c=a.getAttribute(s),l=c?c.match($ve):null;if(l){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Xn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||i)(D(ot),D(fT),ko("aria-hidden"),D(Hve),D(pa),D(zve,8))};static#t=this.\u0275cmp=pt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,r){2&n&&(Gt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),qe("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ce],ngContentSelectors:Ove,decls:1,vars:0,template:function(n,r){1&n&&(dr(),ai(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return i})(),C8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Je]})}return i})(),Gve=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}logout(){this.auth.logout()}toggleSidebar(){this.auth.toggleSidebar()}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-outlet"]],decls:12,vars:0,consts:[[1,"custom-toolbar"],["mat-icon-button","","aria-label","Toggle Sidebar",1,"example-icon",3,"click"],["href","/home"],[1,"space"],["mat-icon-button","","aria-label","logout icon button",1,"logout-icon",3,"click"]],template:function(n,r){1&n&&(V(0,"mat-toolbar",0)(1,"button",1),we("click",function(){return r.toggleSidebar()}),V(2,"mat-icon"),ae(3,"menu"),U()(),ae(4," \xa0 "),V(5,"a",2),ae(6,"Hydroponic Farm"),U(),Ke(7,"span",3),V(8,"button",4),we("click",function(){return r.logout()}),V(9,"mat-icon"),ae(10,"logout"),U()(),ae(11," \xa0 "),U())},dependencies:[Cve,Pve,Wve],styles:[".space[_ngcontent-%COMP%]{flex:1 1 auto}.mat-icon-button[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px}.custom-toolbar[_ngcontent-%COMP%]{background-color:#141e47}.mat-toolbar[_ngcontent-%COMP%]{color:#f0f0f0!important}.mat-icon-button[_ngcontent-%COMP%]{color:#f0f0f0!important;background-color:#f0f0f0;border-radius:50%;width:40px;height:40px;transition:box-shadow .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]{color:#fff;border-radius:10px;transition:transform .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]   .neumorphic-button[_ngcontent-%COMP%]{color:#fff!important}.custom-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.logout-icon[_ngcontent-%COMP%]{color:#f0f0f0!important;transition:transform .2s ease}.logout-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%], .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]{color:#fff;transition:transform .2s ease}a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]})}return i})();const qve=function(i,t){return{showSidebar:i,hideSidebar:t}};let Yve=(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0,this.isSubmenuOpen=!1,this.isDashboardSelected=!1}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,this.auth.toggleSidebar()}toggleSubmenu(){this.isSubmenuOpen=!this.isSubmenuOpen}selectDashboard(){this.isDashboardSelected=!0}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-side-nav"]],decls:32,vars:4,consts:[[1,"sidebar",3,"ngClass"],["routerLink","/home","routerLinkActive","active"],[1,"menu-icon","material-icons"],[1,"menu-text"],["routerLink","/relay","routerLinkActive","active"],["routerLink","/sprinker","routerLinkActive","active"],["routerLink","/quantity","routerLinkActive","active"],["routerLink","/set-time","routerLinkActive","active"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"ul")(2,"li")(3,"a",1)(4,"span",2),ae(5,"home"),U(),V(6,"span",3),ae(7,"Home"),U()()(),V(8,"li")(9,"a",4)(10,"span",2),ae(11,"toggle_on"),U(),V(12,"span",3),ae(13,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),U()()(),V(14,"li")(15,"a",5)(16,"span",2),ae(17,"shower"),U(),V(18,"span",3),ae(19,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2a\u0e1b\u0e23\u0e34\u0e07\u0e40\u0e01\u0e2d\u0e23\u0e4c"),U()()(),V(20,"li")(21,"a",6)(22,"span",2),ae(23,"science"),U(),V(24,"span",3),ae(25,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),U()()(),V(26,"li")(27,"a",7)(28,"span",2),ae(29,"timer"),U(),V(30,"span",3),ae(31,"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e27\u0e25\u0e32\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),U()()()()()),2&n&&et("ngClass",n4(1,qve,r.isSidebarVisible,!r.isSidebarVisible))},dependencies:[xC,YC,h5],styles:[".menu-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px;border-radius:10px;transition:all .3s}.menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]{box-shadow:0 0 10px #0003;background-color:#141e47;width:200px;padding:10px;position:fixed;height:100%;top:0;left:0;overflow-x:hidden;margin-top:48px;z-index:999}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:20px 0 0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px 0 10px 15px;border-radius:20px;transition:all .3s}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#6c6c6c}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#000;background-color:#f1f1f1}.sub-menu[_ngcontent-%COMP%]{padding-left:20px}.hideSidebar[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0;transition:transform .3s,opacity .3s}.showSidebar[_ngcontent-%COMP%]{transform:translate(0);opacity:1;transition:transform .3s,opacity .3s}"]})}return i})();const Zve=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:_8,children:[{path:"",component:mve}]},{path:"register",component:_8,children:[{path:"",component:pve}]},{path:"",component:(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-main"]],decls:6,vars:1,consts:[[1,"app-header"],[1,"container"],[1,"content",3,"ngClass"]],template:function(n,r){1&n&&(V(0,"div",0),Ke(1,"app-outlet"),U(),V(2,"div",1),Ke(3,"app-side-nav"),U(),V(4,"div",2),Ke(5,"router-outlet"),U()),2&n&&(xe(4),et("ngClass",r.isSidebarVisible?"with-sidebar":"without-sidebar"))},dependencies:[xC,bb,Gve,Yve],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100vh}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}.content.content-with-sidebar[_ngcontent-%COMP%]{margin-left:0}.with-sidebar[_ngcontent-%COMP%], .without-sidebar[_ngcontent-%COMP%]{padding:3px;transition:left .3s ease,padding-left .3s ease}"]})}return i})(),canActivate:[(()=>{class i{constructor(e,n){this.auth=e,this.router=n}canActivate(){return"true"===localStorage.getItem("loggedIn")||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Qa),H(es))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()],children:[{path:"home",component:fve},{path:"quantity",component:gve},{path:"relay",component:_ve},{path:"sprinker",component:vve},{path:"set-time",component:(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){this.getTime()}resetFT(){var e=this;return(0,te.Z)(function*(){e.time_FT="",e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetFT")})()}resetMB(){var e=this;return(0,te.Z)(function*(){e.time_MB="",e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetMB")})()}resetPHU(){var e=this;return(0,te.Z)(function*(){e.time_PHU="",e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHU")})()}resetPHD(){var e=this;return(0,te.Z)(function*(){e.time_PHD="",e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHD")})()}sendTimeFT(){var e=this;return(0,te.Z)(function*(){let n={ft:""};n.ft=e.time_FT,e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateFT",n)})()}sendTimeMB(){var e=this;return(0,te.Z)(function*(){let n={mb:""};n.mb=e.time_MB,e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateMB",n)})()}sendTimePHU(){var e=this;return(0,te.Z)(function*(){let n={phU:""};n.phU=e.time_PHU,e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhU",n)})()}sendTimePHD(){var e=this;return(0,te.Z)(function*(){let n={phD:""};n.phD=e.time_PHD,e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhD",n)})()}getTime(){this.auth.timeFT().subscribe(e=>{this.time_FT=e}),this.auth.timeMB().subscribe(e=>{this.time_MB=e}),this.auth.timePHU().subscribe(e=>{this.time_PHU=e}),this.auth.timePHD().subscribe(e=>{this.time_PHD=e})}static#e=this.\u0275fac=function(n){return new(n||i)(D(Qa),D(tg))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-setting-time"]],decls:65,vars:4,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\seed-bag_11504622.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"col"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\drug_8461645.png",1,"img2"],["src","assets\\icon\\flask_882980.png",1,"img3"],["src","assets\\icon\\cl_8357130.png",1,"img4"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div",1)(2,"p",2),ae(3,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),U()()(),V(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ke(8,"img",7),U(),V(9,"div",8)(10,"h2",9),ae(11,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22"),U(),V(12,"div",10)(13,"input",11),we("ngModelChange",function(s){return r.time_FT=s}),U()(),V(14,"div",10)(15,"button",12),we("click",function(){return r.sendTimeFT()}),ae(16," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(17,"div",13)(18,"button",14),we("click",function(){return r.resetFT()}),ae(19,"reset"),U()()()()(),V(20,"div",4)(21,"div",5)(22,"div",6),Ke(23,"img",15),U(),V(24,"div",8)(25,"h2",9),ae(26,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),U(),V(27,"div",10)(28,"input",11),we("ngModelChange",function(s){return r.time_MB=s}),U()(),V(29,"div",10)(30,"button",12),we("click",function(){return r.sendTimeMB()}),ae(31," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(32,"div",13)(33,"button",14),we("click",function(){return r.resetMB()}),ae(34,"reset"),U()()()()(),V(35,"div",4)(36,"div",5)(37,"div",6),Ke(38,"img",16),U(),V(39,"div",8)(40,"h2",9),ae(41,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e34\u0e48\u0e21 Ph"),U(),V(42,"div",10)(43,"input",11),we("ngModelChange",function(s){return r.time_PHU=s}),U()(),V(44,"div",10)(45,"button",12),we("click",function(){return r.sendTimePHU()}),ae(46," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(47,"div",13)(48,"button",14),we("click",function(){return r.resetPHU()}),ae(49,"reset"),U()()()()(),V(50,"div",4)(51,"div",5)(52,"div",6),Ke(53,"img",17),U(),V(54,"div",8)(55,"h2",9),ae(56,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e25\u0e14 Ph"),U(),V(57,"div",10)(58,"input",11),we("ngModelChange",function(s){return r.time_PHD=s}),U()(),V(59,"div",10)(60,"button",12),we("click",function(){return r.sendTimePHD()}),ae(61," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),U()(),V(62,"div",13)(63,"button",14),we("click",function(){return r.resetPHD()}),ae(64,"reset"),U()()()()()()),2&n&&(xe(13),et("ngModel",r.time_FT),xe(15),et("ngModel",r.time_MB),xe(15),et("ngModel",r.time_PHU),xe(15),et("ngModel",r.time_PHD))},dependencies:[vm,py,gg],styles:['@media (max-width: 550px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#fef795;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#f6a1af;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:102}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:10%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:15%;left:57%;transform:translate(-50%,-50%) rotate(19deg);width:215px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(-13deg);width:210px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:221px}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})()}]}];let Kve=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[y5.forRoot(Zve),y5]})}return i})(),Qve=(()=>{class i{constructor(e){this.router=e,this.title="hydroponic_application"}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)(D(es))};static#t=this.\u0275cmp=pt({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ke(0,"router-outlet")},dependencies:[bb]})}return i})();function E8(i){return new Z(3e3,!1)}function Tu(i){switch(i.length){case 0:return new uy;case 1:return i[0];default:return new z6(i)}}function T8(i,t,e=new Map,n=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),u=l==s,m=u&&a||new Map;c.forEach((_,v)=>{let x=v,E=_;if("offset"!==v)switch(x=i.normalizePropertyName(x,r),E){case"!":E=e.get(v);break;case Kl:E=n.get(v);break;default:E=i.normalizeStyleValue(v,x,E,r)}m.set(x,E)}),u||o.push(m),a=m,s=l}),r.length)throw function ybe(i){return new Z(3502,!1)}();return o}function iP(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&nP(e,"start",i)));break;case"done":i.onDone(()=>n(e&&nP(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&nP(e,"destroy",i)))}}function nP(i,t,e){const o=rP(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),s=i._data;return null!=s&&(o._data=s),o}function rP(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function qs(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function k8(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const Rbe=(()=>typeof document>"u"?null:document.documentElement)();function oP(i){const t=i.parentNode||i.host||null;return t===Rbe?null:t}let xm=null,D8=!1;function I8(i,t){for(;t;){if(t===i)return!0;t=oP(t)}return!1}function S8(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let M8=(()=>{class i{validateStyleProperty(e){return function Obe(i){xm||(xm=function Nbe(){return typeof document<"u"?document.body:null}()||{},D8=!!xm.style&&"WebkitAppearance"in xm.style);let t=!0;return xm.style&&!function Pbe(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in xm.style,!t&&D8&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in xm.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return I8(e,n)}getParentElement(e){return oP(e)}query(e,n,r){return S8(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],c){return new uy(r,o)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})(),sP=(()=>{class i{static#e=this.NOOP=new M8}return i})();const Fbe=1e3,aP="ng-enter",_T="ng-leave",vT="ng-trigger",bT=".ng-trigger",R8="ng-animating",cP=".ng-animating";function Xl(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lP(parseFloat(t[1]),t[2])}function lP(i,t){return"s"===t?i*Fbe:i}function yT(i,t,e){return i.hasOwnProperty("duration")?i:function Vbe(i,t,e){let r,o=0,s="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(E8()),{duration:0,delay:0,easing:""};r=lP(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=lP(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=i;if(!e){let a=!1,c=t.length;r<0&&(t.push(function Xve(){return new Z(3100,!1)}()),a=!0),o<0&&(t.push(function Jve(){return new Z(3101,!1)}()),a=!0),a&&t.splice(c,0,E8())}return{duration:r,delay:o,easing:s}}(i,t,e)}function wy(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function P8(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function ku(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function Zc(i,t,e){t.forEach((n,r)=>{const o=uP(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Cm(i,t){t.forEach((e,n)=>{const r=uP(n);i.style[r]=""})}function xy(i){return Array.isArray(i)?1==i.length?i[0]:B6(i):i}const dP=new RegExp("{{\\s*(.+?)\\s*}}","g");function N8(i){let t=[];if("string"==typeof i){let e;for(;e=dP.exec(i);)t.push(e[1]);dP.lastIndex=0}return t}function Cy(i,t,e){const n=i.toString(),r=n.replace(dP,(o,s)=>{let a=t[s];return null==a&&(e.push(function tbe(i){return new Z(3003,!1)}()),a=""),a.toString()});return r==n?i:r}function wT(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const Hbe=/-+([a-z0-9])/g;function uP(i){return i.replace(Hbe,(...t)=>t[1].toUpperCase())}function Ys(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function ibe(i){return new Z(3004,!1)}()}}function F8(i,t){return window.getComputedStyle(i)[t]}const xT="*";function $be(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function Wbe(i,t,e){if(":"==i[0]){const c=function Gbe(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function gbe(i){return new Z(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof c)return void t.push(c);i=c}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function fbe(i){return new Z(3015,!1)}()),t;const r=n[1],o=n[2],s=n[3];t.push(L8(r,s));"<"==o[0]&&!(r==xT&&s==xT)&&t.push(L8(s,r))}(n,e,t)):e.push(i),e}const CT=new Set(["true","1"]),ET=new Set(["false","0"]);function L8(i,t){const e=CT.has(i)||ET.has(i),n=CT.has(t)||ET.has(t);return(r,o)=>{let s=i==xT||i==r,a=t==xT||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?CT.has(i):ET.has(i)),!a&&n&&"boolean"==typeof o&&(a=o?CT.has(t):ET.has(t)),s&&a}}const qbe=new RegExp("s*:selfs*,?","g");function hP(i,t,e,n){return new Ybe(i).build(t,e,n)}class Ybe{constructor(t){this._driver=t}build(t,e,n){const r=new Qbe(e);return this._resetContextStyleTimingState(r),Ys(this,xy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function rbe(){return new Z(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function obe(){return new Z(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{N8(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(wT(o.values()),e.errors.push(function sbe(i,t){return new Z(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ys(this,xy(t.animation),e);return{type:1,matchers:$be(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Em(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Ys(this,n,e)),options:Em(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=n;const a=Ys(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Em(t.options)}}visitAnimate(t,e){const n=function Jbe(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return mP(yT(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=yT(e,t);return mP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Le({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};n.easing&&(l.easing=n.easing),s=Le(l)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Kl?n.push(a):e.errors.push(new Z(3002,!1)):n.push(P8(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c);let m=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function cbe(i,t,e,n,r){return new Z(3010,!1)}()),m=!1),o=u.startTime),m&&l.set(c,{startTime:o,endTime:r}),e.options&&function zbe(i,t,e){const n=t.params||{},r=N8(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function ebe(i){return new Z(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function lbe(){return new Z(3011,!1)}()),n;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(O=>{const R=this._makeStyleAst(O,e);let z=null!=R.offset?R.offset:function Xbe(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(R.styles),K=0;return null!=z&&(o++,K=R.offset=z),c=c||K<0||K>1,a=a||K<l,l=K,s.push(K),R});c&&e.errors.push(function dbe(){return new Z(3012,!1)}()),a&&e.errors.push(function ube(){return new Z(3200,!1)}());const m=t.steps.length;let _=0;o>0&&o<m?e.errors.push(function hbe(){return new Z(3202,!1)}()):0==o&&(_=1/(m-1));const v=m-1,x=e.currentTime,E=e.currentAnimateTimings,k=E.duration;return u.forEach((O,R)=>{const z=_>0?R==v?1:_*R:s[R],K=z*k;e.currentTime=x+E.delay+K,E.duration=K,this._validateStyleAst(O,e),O.offset=z,n.styles.push(O)}),n}visitReference(t,e){return{type:8,animation:Ys(this,xy(t.animation),e),options:Em(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Em(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Em(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Zbe(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(qbe,"")),i=i.replace(/@\*/g,bT).replace(/@\w+/g,e=>bT+"-"+e.slice(1)).replace(/:animating/g,cP),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,qs(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ys(this,xy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Em(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function mbe(){return new Z(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:yT(t.timings,e.errors,!0);return{type:12,animation:Ys(this,xy(t.animation),e),timings:n,options:null}}}class Qbe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Em(i){return i?(i=wy(i)).params&&(i.params=function Kbe(i){return i?wy(i):null}(i.params)):i={},i}function mP(i,t,e){return{duration:i,delay:t,easing:e}}function pP(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class TT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iye=new RegExp(":enter","g"),rye=new RegExp(":leave","g");function fP(i,t,e,n,r,o=new Map,s=new Map,a,c,l=[]){return(new oye).buildKeyframes(i,t,e,n,r,o,s,a,c,l)}class oye{buildKeyframes(t,e,n,r,o,s,a,c,l,u=[]){l=l||new TT;const m=new gP(t,e,l,r,o,u,[]);m.options=c;const _=c.delay?Xl(c.delay):0;m.currentTimeline.delayNextStep(_),m.currentTimeline.setStyles([s],null,m.errors,c),Ys(this,n,m);const v=m.timelines.filter(x=>x.containsAnimation());if(v.length&&a.size){let x;for(let E=v.length-1;E>=0;E--){const k=v[E];if(k.element===e){x=k;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([a],null,m.errors,c)}return v.length?v.map(x=>x.buildKeyframes()):[pP(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Xl(Cy(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?Xl(n.duration):null,a=null!=n.delay?Xl(n.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ys(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kT);const s=Xl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ys(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ys(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return yT(e.params?Cy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xl(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kT);let s=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{e.currentQueryIndex=u;const m=e.createSubContext(t.options,l);o&&m.delayNextStep(o),l===e.element&&(c=m.currentTimeline),Ys(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=n.currentStaggerTime}const u=e.currentTimeline;c&&u.delayNextStep(c);const m=u.currentTime;Ys(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-m+(r.startTime-n.currentTimeline.startTime)}}const kT={};class gP{constructor(t,e,n,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new DT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Xl(n.duration)),null!=n.delay&&(r.delay=Xl(n.delay));const o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Cy(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new gP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=kT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new sye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(iye,"."+this._enterClassName)).replace(rye,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),a.push(...l)}return!o&&0==a.length&&s.push(function pbe(i){return new Z(3014,!1)}()),a}}class DT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new DT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Kl),this._currentKeyframe.set(e,Kl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function aye(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,Kl)}else ku(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=Cy(c,o,n);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Kl),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=ku(a,new Map,this._backFill);l.forEach((u,m)=>{"!"===u?t.add(m):u===Kl&&e.add(m)}),n||l.set("offset",c/this.duration),r.push(l)});const o=t.size?wT(t.values()):[],s=e.size?wT(e.values()):[];if(n){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return pP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class sye extends DT{constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,a=e/s,c=ku(t[0]);c.set("offset",0),o.push(c);const l=ku(t[0]);l.set("offset",z8(a)),o.push(l);const u=t.length-1;for(let m=1;m<=u;m++){let _=ku(t[m]);const v=_.get("offset");_.set("offset",z8((e+v*n)/s)),o.push(_)}n=s,e=0,r="",t=o}return pP(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function z8(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class _P{}const cye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lye extends _P{normalizePropertyName(t,e){return uP(t)}normalizeStyleValue(t,e,n,r){let o="";const s=n.toString().trim();if(cye.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function nbe(i,t){return new Z(3005,!1)}())}return s+o}}function H8(i,t,e,n,r,o,s,a,c,l,u,m,_){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:m,errors:_}}const vP={};class U8{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function dye(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,c,l,u){const m=[],_=this.ast.options&&this.ast.options.params||vP,x=this.buildStyles(n,a&&a.params||vP,m),E=c&&c.params||vP,k=this.buildStyles(r,E,m),O=new Set,R=new Map,z=new Map,K="void"===r,le={params:uye(E,_),delay:this.ast.options?.delay},ke=u?[]:fP(t,e,this.ast.animation,o,s,x,k,le,l,m);let We=0;if(ke.forEach(rt=>{We=Math.max(rt.duration+rt.delay,We)}),m.length)return H8(e,this._triggerName,n,r,K,x,k,[],[],R,z,We,m);ke.forEach(rt=>{const ct=rt.element,Fe=qs(R,ct,new Set);rt.preStyleProps.forEach(Di=>Fe.add(Di));const Pe=qs(z,ct,new Set);rt.postStyleProps.forEach(Di=>Pe.add(Di)),ct!==e&&O.add(ct)});const Ze=wT(O.values());return H8(e,this._triggerName,n,r,K,x,k,ke,Ze,R,z,We)}}function uye(i,t){const e=wy(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class hye{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=wy(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Cy(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),n.set(a,s)})}),n}}class pye{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new hye(r.style,r.options&&r.options.params||{},n))}),j8(this.states,"true","1"),j8(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new U8(t,r,this.states))}),this.fallbackTransition=function fye(i,t,e){return new U8(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function j8(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const gye=new TT;class _ye{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=hP(this._driver,e,n,[]);if(n.length)throw function wbe(i){return new Z(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=T8(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=fP(this._driver,e,o,aP,_T,new Map,new Map,n,gye,r),s.forEach(u=>{const m=qs(a,u.element,new Map);u.postStyleProps.forEach(_=>m.set(_,null))})):(r.push(function xbe(){return new Z(3300,!1)}()),s=[]),r.length)throw function Cbe(i){return new Z(3504,!1)}();a.forEach((u,m)=>{u.forEach((_,v)=>{u.set(v,this._driver.computeStyle(m,v,Kl))})});const l=Tu(s.map(u=>{const m=a.get(u.element);return this._buildPlayer(u,new Map,m)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ebe(i){return new Z(3301,!1)}();return e}listen(t,e,n,r){const o=rP(e,"","","");return iP(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $8="ng-animate-queued",bP="ng-animate-disabled",xye=[],W8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xa="__ng_removed";class yP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Dye(i){return i??null}(n?t.value:t),n){const o=wy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const Ey="void",wP=new yP(Ey);class Eye{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Da(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function Tbe(i,t){return new Z(3302,!1)}();if(null==n||0==n.length)throw function kbe(i){return new Z(3303,!1)}();if(!function Iye(i){return"start"==i||"done"==i}(n))throw function Dbe(i,t){return new Z(3400,!1)}();const o=qs(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=qs(this._engine.statesByElement,t,new Map);return a.has(e)||(Da(t,vT),Da(t,vT+"-"+e),a.set(e,wP)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ibe(i){return new Z(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),s=new xP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Da(t,vT),Da(t,vT+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new yP(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=wP),l.value!==Ey&&c.value===l.value){if(!function Aye(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(c.params,l.params)){const E=[],k=o.matchStyles(c.value,c.params,E),O=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Cm(t,k),Zc(t,O)})}return}const _=qs(this._engine.playersByElement,t,[]);_.forEach(E=>{E.namespaceId==this.id&&E.triggerName==e&&E.queued&&E.destroy()});let v=o.matchTransition(c.value,l.value,t,l.params),x=!1;if(!v){if(!r)return;v=o.fallbackTransition,x=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:c,toState:l,player:s,isFallbackTransition:x}),x||(Da(t,$8),s.onStart(()=>{_g(t,$8)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const k=this._engine.playersByElement.get(t);if(k){let O=k.indexOf(s);O>=0&&k.splice(O,1)}}),this.players.push(s),_.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,bT,!0);n.forEach(r=>{if(r[Xa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,Ey,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Tu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=n.get(s)||wP,u=new yP(Ey),m=new xP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Xa];(!o||o===W8)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Da(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const c=rP(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,iP(n.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Tye{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Eye(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=n.indexOf(c);n.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(IT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!IT(e))return;const o=e[Xa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Da(t,bP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_g(t,bP))}removeNode(t,e,n){if(IT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Xa]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return IT(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bT,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cP,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Tu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Xa];if(e&&e.setForRemoval){if(t[Xa]=W8,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(bP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Da(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Tu(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function Sbe(i){return new Z(3402,!1)}()}_flushAnimations(t,e){const n=new TT,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(Qe=>{u.add(Qe);const lt=this.driver.query(Qe,".ng-animate-queued",!0);for(let _t=0;_t<lt.length;_t++)u.add(lt[_t])});const m=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=Y8(_,this.collectedEnterElements),x=new Map;let E=0;v.forEach((Qe,lt)=>{const _t=aP+E++;x.set(lt,_t),Qe.forEach(Et=>Da(Et,_t))});const k=[],O=new Set,R=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const lt=this.collectedLeaveElements[Qe],_t=lt[Xa];_t&&_t.setForRemoval&&(k.push(lt),O.add(lt),_t.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Et=>O.add(Et)):R.add(lt))}const z=new Map,K=Y8(_,Array.from(O));K.forEach((Qe,lt)=>{const _t=_T+E++;z.set(lt,_t),Qe.forEach(Et=>Da(Et,_t))}),t.push(()=>{v.forEach((Qe,lt)=>{const _t=x.get(lt);Qe.forEach(Et=>_g(Et,_t))}),K.forEach((Qe,lt)=>{const _t=z.get(lt);Qe.forEach(Et=>_g(Et,_t))}),k.forEach(Qe=>{this.processLeaveNode(Qe)})});const le=[],ke=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(e).forEach(_t=>{const Et=_t.player,Sn=_t.element;if(le.push(Et),this.collectedEnterElements.length){const Lo=Sn[Xa];if(Lo&&Lo.setForMove){if(Lo.previousTriggersValues&&Lo.previousTriggersValues.has(_t.triggerName)){const rp=Lo.previousTriggersValues.get(_t.triggerName),Na=this.statesByElement.get(_t.element);if(Na&&Na.has(_t.triggerName)){const UD=Na.get(_t.triggerName);UD.value=rp,Na.set(_t.triggerName,UD)}}return void Et.destroy()}}const rr=!m||!this.driver.containsElement(m,Sn),xo=z.get(Sn),sl=x.get(Sn),dn=this._buildInstruction(_t,n,sl,xo,rr);if(dn.errors&&dn.errors.length)return void ke.push(dn);if(rr)return Et.onStart(()=>Cm(Sn,dn.fromStyles)),Et.onDestroy(()=>Zc(Sn,dn.toStyles)),void r.push(Et);if(_t.isFallbackTransition)return Et.onStart(()=>Cm(Sn,dn.fromStyles)),Et.onDestroy(()=>Zc(Sn,dn.toStyles)),void r.push(Et);const nw=[];dn.timelines.forEach(Lo=>{Lo.stretchStartingKeyframe=!0,this.disabledNodes.has(Lo.element)||nw.push(Lo)}),dn.timelines=nw,n.append(Sn,dn.timelines),s.push({instruction:dn,player:Et,element:Sn}),dn.queriedElements.forEach(Lo=>qs(a,Lo,[]).push(Et)),dn.preStyleProps.forEach((Lo,rp)=>{if(Lo.size){let Na=c.get(rp);Na||c.set(rp,Na=new Set),Lo.forEach((UD,ZF)=>Na.add(ZF))}}),dn.postStyleProps.forEach((Lo,rp)=>{let Na=l.get(rp);Na||l.set(rp,Na=new Set),Lo.forEach((UD,ZF)=>Na.add(ZF))})});if(ke.length){const Qe=[];ke.forEach(lt=>{Qe.push(function Mbe(i,t){return new Z(3505,!1)}())}),le.forEach(lt=>lt.destroy()),this.reportError(Qe)}const We=new Map,Ze=new Map;s.forEach(Qe=>{const lt=Qe.element;n.has(lt)&&(Ze.set(lt,lt),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,We))}),r.forEach(Qe=>{const lt=Qe.element;this._getPreviousPlayers(lt,!1,Qe.namespaceId,Qe.triggerName,null).forEach(Et=>{qs(We,lt,[]).push(Et),Et.destroy()})});const rt=k.filter(Qe=>K8(Qe,c,l)),ct=new Map;q8(ct,this.driver,R,l,Kl).forEach(Qe=>{K8(Qe,c,l)&&rt.push(Qe)});const Pe=new Map;v.forEach((Qe,lt)=>{q8(Pe,this.driver,new Set(Qe),c,"!")}),rt.forEach(Qe=>{const lt=ct.get(Qe),_t=Pe.get(Qe);ct.set(Qe,new Map([...lt?.entries()??[],..._t?.entries()??[]]))});const Di=[],Gi=[],S_={};s.forEach(Qe=>{const{element:lt,player:_t,instruction:Et}=Qe;if(n.has(lt)){if(u.has(lt))return _t.onDestroy(()=>Zc(lt,Et.toStyles)),_t.disabled=!0,_t.overrideTotalTime(Et.totalTime),void r.push(_t);let Sn=S_;if(Ze.size>1){let xo=lt;const sl=[];for(;xo=xo.parentNode;){const dn=Ze.get(xo);if(dn){Sn=dn;break}sl.push(xo)}sl.forEach(dn=>Ze.set(dn,Sn))}const rr=this._buildAnimation(_t.namespaceId,Et,We,o,Pe,ct);if(_t.setRealPlayer(rr),Sn===S_)Di.push(_t);else{const xo=this.playersByElement.get(Sn);xo&&xo.length&&(_t.parentPlayer=Tu(xo)),r.push(_t)}}else Cm(lt,Et.fromStyles),_t.onDestroy(()=>Zc(lt,Et.toStyles)),Gi.push(_t),u.has(lt)&&r.push(_t)}),Gi.forEach(Qe=>{const lt=o.get(Qe.element);if(lt&&lt.length){const _t=Tu(lt);Qe.setRealPlayer(_t)}}),r.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<k.length;Qe++){const lt=k[Qe],_t=lt[Xa];if(_g(lt,_T),_t&&_t.hasAnimation)continue;let Et=[];if(a.size){let rr=a.get(lt);rr&&rr.length&&Et.push(...rr);let xo=this.driver.query(lt,cP,!0);for(let sl=0;sl<xo.length;sl++){let dn=a.get(xo[sl]);dn&&dn.length&&Et.push(...dn)}}const Sn=Et.filter(rr=>!rr.destroyed);Sn.length?Sye(this,lt,Sn):this.processLeaveNode(lt)}return k.length=0,Di.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const lt=this.players.indexOf(Qe);this.players.splice(lt,1)}),Qe.play()}),Di}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Ey;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,u=l!==o,m=qs(n,l,[]);this._getPreviousPlayers(l,u,s,a,e.toState).forEach(v=>{const x=v.getRealPlayer();x.beforeDestroy&&x.beforeDestroy(),v.destroy(),m.push(v)})}Cm(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){const a=e.triggerName,c=e.element,l=[],u=new Set,m=new Set,_=e.timelines.map(x=>{const E=x.element;u.add(E);const k=E[Xa];if(k&&k.removedBeforeQueried)return new uy(x.duration,x.delay);const O=E!==c,R=function Mye(i){const t=[];return Z8(i,t),t}((n.get(E)||xye).map(We=>We.getRealPlayer())).filter(We=>!!We.element&&We.element===E),z=o.get(E),K=s.get(E),le=T8(this._normalizer,x.keyframes,z,K),ke=this._buildPlayer(x,le,R);if(x.subTimeline&&r&&m.add(E),O){const We=new xP(t,a,E);We.setRealPlayer(ke),l.push(We)}return ke});l.forEach(x=>{qs(this.playersByQueriedElement,x.element,[]).push(x),x.onDone(()=>function kye(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,x.element,x))}),u.forEach(x=>Da(x,R8));const v=Tu(_);return v.onDestroy(()=>{u.forEach(x=>_g(x,R8)),Zc(c,e.toStyles)}),m.forEach(x=>{qs(r,x,[]).push(v)}),v}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new uy(t.duration,t.delay)}}class xP{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new uy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>iP(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){qs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function IT(i){return i&&1===i.nodeType}function G8(i,t){const e=i.style.display;return i.style.display=t??"none",e}function q8(i,t,e,n,r){const o=[];e.forEach(c=>o.push(G8(c)));const s=[];n.forEach((c,l)=>{const u=new Map;c.forEach(m=>{const _=t.computeStyle(l,m,r);u.set(m,_),(!_||0==_.length)&&(l[Xa]=Cye,s.push(l))}),i.set(l,u)});let a=0;return e.forEach(c=>G8(c,o[a++])),s}function Y8(i,t){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Da(i,t){i.classList?.add(t)}function _g(i,t){i.classList?.remove(t)}function Sye(i,t,e){Tu(e).onDone(()=>i.processLeaveNode(t))}function Z8(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof z6?Z8(n.players,t):t.push(n)}}function K8(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class ST{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Tye(t,e,n),this._timelineEngine=new _ye(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=hP(this._driver,o,c,[]);if(c.length)throw function bbe(i,t){return new Z(3404,!1)}();a=function mye(i,t,e){return new pye(i,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,s]=k8(n);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[s,a]=k8(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Pye=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Cm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cm(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return i})();function CP(i){let t=null;return i.forEach((e,n)=>{(function Oye(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class Q8{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:F8(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Nye{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return I8(t,e)}getParentElement(t){return oP(t)}query(t,e,n){return S8(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,s=[]){const c={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(v=>v instanceof Q8);(function Ube(i,t){return 0===i||0===t})(n,r)&&u.forEach(v=>{v.currentSnapshot.forEach((x,E)=>l.set(E,x))});let m=function Bbe(i){return i.length?i[0]instanceof Map?i:i.map(t=>P8(t)):[]}(e).map(v=>ku(v));m=function jbe(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,F8(i,a)))}}return t}(t,m,l);const _=function Rye(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=CP(t[0]),t.length>1&&(n=CP(t[t.length-1]))):t instanceof Map&&(e=CP(t)),e||n?new Pye(i,e,n):null}(t,m);return new Q8(t,m,c,_)}}let Fye=(()=>{class i extends V6{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:ao.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?B6(e):e;return X8(this._renderer,null,n,"register",[r]),new Lye(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(H(Pv),H(Ot))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();class Lye extends Sge{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vye(this._id,t,e||{},this._renderer)}}class Vye{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return X8(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function X8(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const J8="@.disabled";let Bye=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(o);return u||(u=new eW("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,e,u.name,u)};return n.data.animation.forEach(c),new zye(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(H(Pv),H(ST),H(tt))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();class eW{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==J8?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class zye extends eW{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==J8?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function Hye(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Uye(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}let jye=(()=>{class i extends ST{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(H(Ot),H(sP),H(_P),H(Xd))};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac})}return i})();const tW=[{provide:V6,useClass:Fye},{provide:_P,useFactory:function $ye(){return new lye}},{provide:ST,useClass:jye},{provide:Pv,useFactory:function Wye(i,t,e){return new Bye(i,t,e)},deps:[r1,ST,tt]}],EP=[{provide:sP,useFactory:()=>new Nye},{provide:Ko,useValue:"BrowserAnimations"},...tW],iW=[{provide:sP,useClass:M8},{provide:Ko,useValue:"NoopAnimations"},...tW];let Gye=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?iW:EP}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:EP,imports:[aH]})}return i})();const Kye=new W("NGX_SPINNER_CONFIG");let Qye=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Kye,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Vi]})}return i})();class a0e{constructor(){this.change=new wt,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}let c0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({providers:[a0e],imports:[[Vi]]}),i})();var l0e=function(){function i(){}return i.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},i.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},i.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},i.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},i.prototype.position=function(t,e){void 0===e&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n={top:(n=t.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},i.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r_top,bottom:n.bottom+r_top,left:n.left+r_left,right:n.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},i.prototype.positionElements=function(t,e,n,r){var o=n.split("-"),s=o[0],a=void 0===s?"top":s,c=o[1],l=void 0===c?"center":c,u=r?this.offset(t,!1):this.position(t,!1),m=this.getAllStyles(e),_=parseFloat(m.marginTop),v=parseFloat(m.marginBottom),x=parseFloat(m.marginLeft),E=parseFloat(m.marginRight),k=0,O=0;switch(a){case"top":k=u.top-(e.offsetHeight+_+v);break;case"bottom":k=u.top+u.height;break;case"left":O=u.left-(e.offsetWidth+x+E);break;case"right":O=u.left+u.width}switch(l){case"top":k=u.top;break;case"bottom":k=u.top+u.height-e.offsetHeight;break;case"left":O=u.left;break;case"right":O=u.left+u.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?O=u.left+u.width/2-e.offsetWidth/2:k=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(O)+"px, "+Math.round(k)+"px)";var R=e.getBoundingClientRect(),z=document.documentElement,K=window.innerHeight||z.clientHeight,le=window.innerWidth||z.clientWidth;return R.left>=0&&R.top>=0&&R.right<=le&&R.bottom<=K},i}();new l0e;var Ja=function(){return Ja=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Ja.apply(this,arguments)},TP=function(i,t,e){if(e||2===arguments.length)for(var o,n=0,r=t.length;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},kP=function(i){return i[i.SUNDAY=0]="SUNDAY",i[i.MONDAY=1]="MONDAY",i[i.TUESDAY=2]="TUESDAY",i[i.WEDNESDAY=3]="WEDNESDAY",i[i.THURSDAY=4]="THURSDAY",i[i.FRIDAY=5]="FRIDAY",i[i.SATURDAY=6]="SATURDAY",i}(kP||{}),u0e=[kP.SUNDAY,kP.SATURDAY],DP=7,Du=86400;function oW(i,t){var e=t.startDate,r=t.excluded,o=t.precision;if(r.length<1)return 0;for(var a=i.getDay,c=i.addDays,l=(0,i.addSeconds)(e,t.seconds-1),u=a(e),m=a(l),_=0,v=e,x=function(){var E=a(v);r.some(function(k){return k===E})&&(_+=function h0e(i,t){var n=t.day,o=t.dayEnd,s=t.startDate,a=t.endDate,c=i.differenceInSeconds,u=i.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return c((0,i.endOfDay)(s),s)+1;if(n===o)return c(a,u(a))+1}return Du}(i,{dayStart:u,dayEnd:m,day:E,precision:o,startDate:e,endDate:l})),v=c(v,1)};v<l;)x();return _}function Ty(i,t){var n=t.periodStart,r=t.periodEnd;return t.events.filter(function(o){return function f0e(i,t){var e=t.event,n=t.periodStart,r=t.periodEnd,o=i.isSameSecond,s=e.start,a=e.end||e.start;return!!(s>n&&s<r||a>n&&a<r||s<n&&a>r||o(s,n)||o(s,r)||o(a,n)||o(a,r))}(i,{event:o,periodStart:n,periodEnd:r})})}function sW(i,t){var e=t.date,n=t.weekendDays,r=void 0===n?u0e:n,s=i.isSameDay,a=i.getDay,c=(0,i.startOfDay)(new Date),l=a(e);return{date:e,day:l,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:r.indexOf(l)>-1}}function SP(i,t){for(var r=t.excluded,o=void 0===r?[]:r,s=t.weekendDays,a=t.viewStart,c=void 0===a?i.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):a,l=t.viewEnd,u=void 0===l?i.addDays(c,DP):l,m=i.addDays,_=i.getDay,v=[],x=c;x<u;)o.some(function(E){return _(x)===E})||v.push(sW(i,{date:x,weekendDays:s})),x=m(x,1);return v}function _0e(i,t){var e=t.events,n=void 0===e?[]:e,r=t.excluded,o=void 0===r?[]:r,s=t.precision,a=void 0===s?"days":s,c=t.absolutePositionedEvents,l=void 0!==c&&c,u=t.viewStart,m=t.viewEnd;u=i.startOfDay(u),m=i.endOfDay(m);var _=i.differenceInSeconds,v=i.differenceInDays,x=function g0e(i,t){for(var n=t.date2,r=t.excluded,o=t.date1,s=0;o<n;)-1===r.indexOf(i.getDay(o))&&s++,o=i.addDays(o,1);return s}(i,{date1:u,date2:m,excluded:o}),E=v(m,u)+1,k=n.filter(function(z){return z.allDay}).map(function(z){var K=function p0e(i,t){var e=t.event,n=t.startOfWeek,r=t.excluded,o=t.precision,s=i.differenceInDays,a=i.startOfDay,c=i.differenceInSeconds;if(e.start<n)return 0;var l=0;switch(o){case"days":l=s(a(e.start),n)*Du;break;case"minutes":l=c(e.start,n)}return l-=oW(i,{startDate:n,seconds:l,excluded:r,precision:o}),Math.abs(l/Du)}(i,{event:z,startOfWeek:u,excluded:o,precision:a}),le=function m0e(i,t){var e=t.event,n=t.offset,o=t.excluded,s=t.precision,a=t.totalDaysInView,l=i.differenceInSeconds,u=i.addDays,m=i.endOfDay,_=i.differenceInDays,v=Du,x=(0,i.max)([e.start,t.startOfWeekDate]);e.end&&(v="minutes"===s?l(e.end,x):_(u(m(e.end),1),x)*Du);var E=n*Du,O=a*Du;return E+v>O&&(v=O-E),(v-=oW(i,{startDate:x,seconds:v,excluded:o,precision:s}))/Du}(i,{event:z,offset:K,startOfWeekDate:u,excluded:o,precision:a,totalDaysInView:E});return{event:z,offset:K,span:le}}).filter(function(z){return z.offset<x}).filter(function(z){return z.span>0}).map(function(z){return{event:z.event,offset:z.offset,span:z.span,startsBeforeWeek:z.event.start<u,endsAfterWeek:(z.event.end||z.event.start)>m}}).sort(function(z,K){var le=_(z.event.start,K.event.start);return 0===le?_(K.event.end||K.event.start,z.event.end||z.event.start):le}),O=[],R=[];return k.forEach(function(z,K){if(-1===R.indexOf(z)){R.push(z);var le=z.span+z.offset,ke=k.slice(K+1).filter(function(rt){if(rt.offset>=le&&le+rt.span<=E&&-1===R.indexOf(rt)){var ct=rt.offset-le;return l||(rt.offset=ct),le+=rt.span+ct,R.push(rt),!0}}),We=TP([z],ke,!0),Ze=We.filter(function(rt){return rt.event.id}).map(function(rt){return rt.event.id}).join("-");O.push(Ja({row:We},Ze?{id:Ze}:{}))}}),O}function v0e(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.hourDuration,s=t.dayStart,a=t.dayEnd,c=t.weekStartsOn,l=t.excluded,u=t.weekendDays,m=t.segmentHeight,_=t.viewStart,v=t.viewEnd,x=t.minimumEventHeight,E=function x0e(i,t){var e=t.viewDate,n=t.hourSegments,r=t.hourDuration,o=t.dayStart,s=t.dayEnd,a=i.setMinutes,c=i.setHours,l=i.startOfDay,u=i.startOfMinute,m=i.endOfDay,_=i.addMinutes,v=i.addDays,x=[],E=a(c(l(e),PT(o.hour)),OT(o.minute)),k=a(c(u(m(e)),PT(s.hour)),OT(s.minute)),O=(r||60)/n,R=l(e),z=m(e),K=function(ct){return ct};i.getTimezoneOffset(R)!==i.getTimezoneOffset(z)&&(R=v(R,1),E=v(E,1),k=v(k,1),K=function(ct){return v(ct,-1)});for(var le=r?1440/r:60,ke=0;ke<le;ke++){for(var We=[],Ze=0;Ze<n;Ze++){var rt=_(_(E,ke*(r||60)),Ze*O);rt>=E&&rt<k&&We.push({date:K(rt),displayDate:rt,isStart:0===Ze})}We.length>0&&x.push({segments:We})}return x}(i,{viewDate:n,hourSegments:r,hourDuration:o,dayStart:s,dayEnd:a}),k=SP(i,{viewDate:n,weekStartsOn:c,excluded:l,weekendDays:u,viewStart:_,viewEnd:v}),O=i.setHours,R=i.setMinutes,z=i.getHours,K=i.getMinutes;return k.map(function(le){var ke=function w0e(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.dayStart,s=t.dayEnd,a=t.eventWidth,c=t.segmentHeight,l=t.hourDuration,u=t.minimumEventHeight,m=i.setMinutes,_=i.setHours,v=i.startOfDay,x=i.startOfMinute,E=i.endOfDay,k=i.differenceInMinutes,O=m(_(v(n),PT(o.hour)),OT(o.minute)),R=m(_(x(E(n)),PT(s.hour)),OT(s.minute));R.setSeconds(59,999);var z=[],K=Ty(i,{events:e.filter(function(Ze){return!Ze.allDay}),periodStart:O,periodEnd:R}),le=K.sort(function(Ze,rt){return Ze.start.valueOf()-rt.start.valueOf()}).map(function(Ze){var rt=Ze.start,ct=Ze.end||rt,Fe=rt<O,Pe=ct>R,Di=r*c/(l||60),Gi=0;if(rt>O){var S_=i.getTimezoneOffset(rt),lt=i.getTimezoneOffset(O)-S_;Gi+=k(rt,O)+lt}Gi*=Di,Gi=Math.floor(Gi);var _t=Fe?O:rt,Et=Pe?R:ct,Sn=i.getTimezoneOffset(_t)-i.getTimezoneOffset(Et),rr=k(Et,_t)+Sn;Ze.end?rr*=Di:rr=c,u&&rr<u&&(rr=u),rr=Math.floor(rr);for(var sl=RT(z,Gi,Gi+rr),dn=0;sl.some(function(YF){return YF.left===dn});)dn+=a;var nw={event:Ze,height:rr,width:a,top:Gi,left:dn,startsBeforeDay:Fe,endsAfterDay:Pe};return z.push(nw),nw}),ke=Math.max.apply(Math,le.map(function(Ze){return Ze.left+Ze.width})),We=Ty(i,{events:e.filter(function(Ze){return Ze.allDay}),periodStart:v(O),periodEnd:E(R)});return{events:le,width:ke,allDayEvents:We,period:{events:K,start:O,end:R}}}(i,{events:e,viewDate:le.date,hourSegments:r,dayStart:s,dayEnd:a,segmentHeight:m,eventWidth:1,hourDuration:o,minimumEventHeight:x}),We=E.map(function(ct){var Fe=ct.segments.map(function(Pe){var Di=R(O(le.date,z(Pe.date)),K(Pe.date));return Ja(Ja({},Pe),{date:Di})});return Ja(Ja({},ct),{segments:Fe})});function Ze(ct,Fe){var Pe=Math.max.apply(Math,Fe.map(function(Gi){return Gi.left+1})),Di=ct.filter(function(Gi){return Gi.left>=Pe}).filter(function(Gi){return RT(Fe,Gi.top,Gi.top+Gi.height).length>0});return Di.length>0?Ze(ct,Di):Pe}var rt=ke.events.map(function(ct){var Pe=100/Ze(ke.events,RT(ke.events,ct.top,ct.top+ct.height));return Ja(Ja({},ct),{left:ct.left*Pe,width:Pe})});return{hours:We,date:le.date,events:rt.map(function(ct){var Fe=RT(rt.filter(function(Pe){return Pe.left>ct.left}),ct.top,ct.top+ct.height);return Fe.length>0?Ja(Ja({},ct),{width:Math.min.apply(Math,Fe.map(function(Pe){return Pe.left}))-ct.left}):ct})}})}function RT(i,t,e){return i.filter(function(n){var r=n.top,o=n.top+n.height;return t<o&&o<e||t<r&&r<e||r<=t&&e<=o})}function PT(i){return Math.max(Math.min(23,i),0)}function OT(i){return Math.max(Math.min(59,i),0)}"function"==typeof Symbol&&Symbol;var ky=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var i=0,t=ky.length;i<t&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[ky[i]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=(new Date).getTime(),o=Math.max(0,16-r-e),s=window.setTimeout(function(){return n(r+o)},o);return e=r+o,s}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var i=0,t=ky.length;i<t&&!window.cancelAnimationFrame;++i)window.cancelAnimationFrame=window[ky[i]+"CancelAnimationFrame"]||window[ky[i]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let NT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({}),i})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let fW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({}),i})(),bW=(()=>{class i{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`\n        ${Br(e.date,"EEEE MMMM d",n)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${Br(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`\n      Beginning of expanded view for ${Br(e,"EEEE MMMM dd",n)}\n    `}openDayEventsAlert({date:e,locale:n}){return`${Br(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:n});const r=`\n      ${Br(e.start,"EEEE MMMM dd",n)},\n      ${e.title}, from ${Br(e.start,"hh:mm a",n)}\n    `;return e.end?r+` to ${Br(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${Br(e.start,"MMMM dd hh:mm a",n)}\n    `;return e.end?r+`, stop time ${Br(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return i.\u0275fac=function(e){return new(e||i)(H(qM))},i.\u0275prov=pe({token:i,factory:i.\u0275fac}),i})();class yW{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class xW{}let Dwe=(()=>{class i{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return Br(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return Br(e,"d",n)}monthViewTitle({date:e,locale:n}){return Br(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return Br(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return Br(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:o,daysInWeek:s}){const{viewStart:a,viewEnd:c}=function Twe(i,t,e,n=[],r){let o=r?i.startOfDay(t):i.startOfWeek(t,{weekStartsOn:e});const s=i.endOfWeek(t,{weekStartsOn:e});for(;n.indexOf(i.getDay(o))>-1&&o<s;)o=i.addDays(o,1);if(r){const a=i.endOfDay(function Ewe(i,t,e,n){let r=0,o=0;const s=e<0?i.subDays:i.addDays;let a=t;for(;o<=Math.abs(e);){a=s(t,r);const c=i.getDay(a);-1===n.indexOf(c)&&o++,r++}return a}(i,o,r-1,n));return{viewStart:o,viewEnd:a}}{let a=s;for(;n.indexOf(i.getDay(a))>-1&&a>o;)a=i.subDays(a,1);return{viewStart:o,viewEnd:a}}}(this.dateAdapter,e,r,o,s),l=(u,m)=>Br(u,"MMM d"+(m?", yyyy":""),n);return`${l(a,a.getUTCFullYear()!==c.getUTCFullYear())} - ${l(c,!0)}`}weekViewHour({date:e,locale:n}){return Br(e,"h a",n)}dayViewHour({date:e,locale:n}){return Br(e,"h a",n)}dayViewTitle({date:e,locale:n}){return Br(e,"EEEE, MMMM d, y",n)}}return i.\u0275fac=function(e){return new(e||i)(H(xW))},i.\u0275prov=pe({token:i,factory:i.\u0275fac}),i})(),CW=(()=>{class i extends Dwe{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ct(i)))(n||i)}}(),i.\u0275prov=pe({token:i,factory:i.\u0275fac}),i})(),EW=(()=>{class i{constructor(e){this.dateAdapter=e}getMonthView(e){return function y0e(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.viewStart,l=void 0===c?i.startOfMonth(r):c,u=t.viewEnd,m=void 0===u?i.endOfMonth(r):u,_=t.weekendDays;n||(n=[]);for(var rt,x=i.endOfWeek,E=i.differenceInDays,k=i.startOfDay,O=i.addHours,R=i.endOfDay,z=i.isSameMonth,K=i.getDay,le=(0,i.startOfWeek)(l,{weekStartsOn:o}),ke=x(m,{weekStartsOn:o}),We=Ty(i,{events:n,periodStart:le,periodEnd:ke}),Ze=[],ct=function(_t){var Et;if(rt?(Et=k(O(rt,24)),rt.getTime()===Et.getTime()&&(Et=k(O(rt,25))),rt=Et):Et=rt=le,!a.some(function(xo){return K(Et)===xo})){var Sn=sW(i,{date:Et,weekendDays:_}),rr=Ty(i,{events:We,periodStart:k(Et),periodEnd:R(Et)});Sn.inMonth=z(Et,r),Sn.events=rr,Sn.badgeTotal=rr.length,Ze.push(Sn)}},Fe=0;Fe<E(ke,le)+1;Fe++)ct();var Pe=[],Di=DP-a.length;if(Di<DP)for(Fe=0;Fe<Ze.length;Fe+=Di){var Gi=Ze.slice(Fe,Fe+Di);Gi.some(function(Et){return l<=Et.date&&Et.date<m})&&(Pe=TP(TP([],Pe,!0),Gi,!0))}else Pe=Ze;var Qe=Math.floor(Pe.length/Di),lt=[];for(Fe=0;Fe<Qe;Fe++)lt.push(Fe*Di);return{rowOffsets:lt,totalDaysVisibleInWeek:Di,days:Pe,period:{start:Pe[0].date,end:R(Pe[Pe.length-1].date),events:We}}}(this.dateAdapter,e)}getWeekViewHeader(e){return SP(this.dateAdapter,e)}getWeekView(e){return function b0e(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.precision,l=void 0===c?"days":c,u=t.absolutePositionedEvents,m=void 0!==u&&u,_=t.hourSegments,v=t.hourDuration,x=t.dayStart,E=t.dayEnd,k=t.weekendDays,O=t.segmentHeight,R=t.minimumEventHeight,z=t.viewStart,K=void 0===z?i.startOfWeek(r,{weekStartsOn:o}):z,le=t.viewEnd,ke=void 0===le?i.endOfWeek(r,{weekStartsOn:o}):le;n||(n=[]);var Ze=i.endOfDay,rt=Ty(i,{events:n,periodStart:K=(0,i.startOfDay)(K),periodEnd:ke=Ze(ke)}),ct=SP(i,{viewDate:r,weekStartsOn:o,excluded:a,weekendDays:k,viewStart:K,viewEnd:ke});return{allDayEventRows:_0e(i,{events:rt,excluded:a,precision:l,absolutePositionedEvents:m,viewStart:K,viewEnd:ke}),period:{events:rt,start:ct[0].date,end:Ze(ct[ct.length-1].date)},hourColumns:v0e(i,{events:n,viewDate:r,hourSegments:_,hourDuration:v,dayStart:x,dayEnd:E,weekStartsOn:o,excluded:a,weekendDays:k,segmentHeight:O,viewStart:K,viewEnd:ke,minimumEventHeight:R})}}(this.dateAdapter,e)}}return i.\u0275fac=function(e){return new(e||i)(H(xW))},i.\u0275prov=pe({token:i,factory:i.\u0275fac}),i})();new W("Moment");let My=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||yW,n.dateFormatter||CW,n.utils||EW,n.a11y||bW]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({providers:[qM],imports:[Vi]}),i})();!function En(i,t){return{type:7,name:i,definitions:t,options:{}}}("collapse",[Ut("void",Le({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Ut("*",Le({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Xt("* => void",ri("150ms ease-out")),Xt("void => *",ri("150ms ease-in"))]);let TW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({imports:[Vi,NT,My,NT]}),i})(),LP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({imports:[Vi,fW,NT,My,fW,NT]}),i})(),kW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({imports:[Vi,My,LP]}),i})(),Swe=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||yW,n.dateFormatter||CW,n.utils||EW,n.a11y||bW]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({imports:[My,TW,LP,kW,My,TW,LP,kW]}),i})();const Ia=void 0,Awe=["th",[["a","p"],["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],Ia],[["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],Ia,Ia],[["\u0e2d\u0e32","\u0e08","\u0e2d","\u0e1e","\u0e1e\u0e24","\u0e28","\u0e2a"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],["\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e27\u0e31\u0e19\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18","\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]],Ia,[["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],Ia,["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"]],Ia,[["\u0e01\u0e48\u0e2d\u0e19 \u0e04.\u0e28.","\u0e04.\u0e28."],Ia,["\u0e1b\u0e35\u0e01\u0e48\u0e2d\u0e19\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e01\u0e32\u0e25","\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e4c\u0e28\u0e31\u0e01\u0e23\u0e32\u0e0a"]],0,[6,0],["d/M/yy","d MMM y","d MMMM G y","EEEE\u0e17\u0e35\u0e48 d MMMM G y"],["HH:mm","HH:mm:ss","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 z","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 zzzz"],["{1} {0}",Ia,Ia,Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"THB","\u0e3f","\u0e1a\u0e32\u0e17",{AUD:["AU$","$"],BYN:[Ia,"\u0440."],PHP:[Ia,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function Mwe(i){return 5}];let LT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Vi,$E,Je]})}return i})();const Wwe={provide:new W("mat-autocomplete-scroll-strategy"),deps:[ka],useFactory:function $we(i){return()=>i.scrollStrategies.reposition()}};let Ywe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[Wwe],imports:[_u,YE,Je,Vi,Yl,YE,Je]})}return i})(),AW=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),axe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Gs,AW,Je,AW]})}return i})(),cxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),dxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,LT,LT,cxe,Je]})}return i})(),mxe=(()=>{class i{constructor(){this.changes=new G,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Cxe={provide:new W("mat-datepicker-scroll-strategy"),deps:[ka],useFactory:function xxe(i){return()=>i.scrollStrategies.reposition()}};let Mxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[mxe,Cxe],imports:[Vi,mT,_u,ay,Gc,Je,Yl]})}return i})(),jxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Vi,Gs,Je]})}return i})();const Yxe={provide:new W("mat-select-scroll-strategy"),deps:[ka],useFactory:function qxe(i){return()=>i.scrollStrategies.reposition()}};let HW=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[Yxe],imports:[Vi,_u,YE,Je,Yl,LT,YE,Je]})}return i})(),nCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Vi,Gs]})}return i})(),WW=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),fCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[WW,Je,Gs,Vi,WW,Je]})}return i})();const bCe={provide:new W("mat-menu-scroll-strategy"),deps:[ka],useFactory:function vCe(i){return()=>i.scrollStrategies.reposition()}};let yCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[bCe],imports:[Vi,Gs,Je,_u,Yl,Je]})}return i})(),xCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Vi,Je,Yl,Yl,Je]})}return i})(),SCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Vi,Je]})}return i})(),qW=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Je]})}return i})(),MCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),ACe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Vi,Je,MCe,Gc]})}return i})(),OCe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[D6,Je,D6,Je]})}return i})(),dEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[$E,Vi,Je,Gs,P6,qW]})}return i})(),uEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[rg]})}return i})(),jP=(()=>{class i{constructor(){this.changes=new G,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const xEe={provide:jP,deps:[[new Do,new Ls,jP]],useFactory:function wEe(i){return i||new jP}};let CEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[xEe,DR],imports:[Je,Vi,Gc,uEe,C8,Gs,Je]})}return i})(),IEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Vi,Je,Gc,Gs,$E,ay,Je]})}return i})(),PEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({})}return i})(),BEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[PEe,Je,Je]})}return i})(),GEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,Gs,Je]})}return i})(),qEe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[ay,Je,Je]})}return i})();const jT=new W("mat-chips-default-options");let CTe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[DR,{provide:jT,useValue:{separatorKeyCodes:[13]}}],imports:[Je,Vi,Gs,Je]})}return i})(),kTe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Vi,Je]})}return i})(),ITe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je]})}return i})(),STe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[E6,Je,Gc,Je]})}return i})(),RTe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[_u,Gc,Vi,mT,Je,Je]})}return i})();const LTe={provide:new W("mat-tooltip-scroll-strategy"),deps:[ka],useFactory:function FTe(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let fG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[LTe],imports:[ay,Vi,_u,Je,Je,Yl]})}return i})(),eO=(()=>{class i{constructor(){this.changes=new G,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const jTe={provide:eO,deps:[[new Do,new Ls,eO]],useFactory:function UTe(i){return i||new eO}};let $Te=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[jTe],imports:[Vi,mT,HW,fG]})}return i})(),tO=(()=>{class i{constructor(){this.changes=new G}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const GTe={provide:tO,deps:[[new Do,new Ls,tO]],useFactory:function WTe(i){return i||new tO}};let qTe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({providers:[GTe],imports:[Vi,Je]})}return i})(),ake=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[oR]})}return i})(),gke=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i});static#i=this.\u0275inj=De({imports:[Je,ake,Je]})}return i})();function hO(){return X((i,t)=>{let e,n=!1;i.subscribe(Te(t,r=>{const o=e;e=r,n&&t.next([o,r]),n=!0}))})}var Oe,vke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ec={},mO=mO||{},Bt=vke||self;function tk(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Fy(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var pO="closure_uid_"+(1e9*Math.random()>>>0),yke=0;function wke(i,t,e){return i.call.apply(i.bind,arguments)}function xke(i,t,e){if(!i)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),i.apply(t,r)}}return function(){return i.apply(t,arguments)}}function Ao(i,t,e){return(Ao=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wke:xke).apply(null,arguments)}function ik(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),i.apply(this,n)}}function Xr(i,t){function e(){}e.prototype=t.prototype,i.$=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.ac=function(n,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(n,s)}}function Su(){this.s=this.s,this.o=this.o}Su.prototype.s=!1,Su.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bke(i){Object.prototype.hasOwnProperty.call(i,pO)&&i[pO]||(i[pO]=++yke)}(this)},Su.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kG=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1};function fO(i){const t=i.length;if(0<t){const e=Array(t);for(let n=0;n<t;n++)e[n]=i[n];return e}return[]}function DG(i,t){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(tk(n)){const r=i.length||0,o=n.length||0;i.length=r+o;for(let s=0;s<o;s++)i[r+s]=n[s]}else i.push(n)}}function Ro(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}Ro.prototype.h=function(){this.defaultPrevented=!0};var Eke=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const e=()=>{};Bt.addEventListener("test",e,t),Bt.removeEventListener("test",e,t)}catch{}return i}();function Ly(i){return/^[\s\xa0]*$/.test(i)}function nk(){var i=Bt.navigator;return i&&(i=i.userAgent)?i:""}function Qc(i){return-1!=nk().indexOf(i)}function gO(i){return gO[" "](i),i}gO[" "]=function(){};var vO,i,kke=Qc("Opera"),Ig=Qc("Trident")||Qc("MSIE"),IG=Qc("Edge"),_O=IG||Ig,SG=Qc("Gecko")&&!(-1!=nk().toLowerCase().indexOf("webkit")&&!Qc("Edge"))&&!(Qc("Trident")||Qc("MSIE"))&&!Qc("Edge"),Dke=-1!=nk().toLowerCase().indexOf("webkit")&&!Qc("Edge");function MG(){var i=Bt.document;return i?i.documentMode:void 0}e:{var bO="",yO=(i=nk(),SG?/rv:([^\);]+)(\)|;)/.exec(i):IG?/Edge\/([\d\.]+)/.exec(i):Ig?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Dke?/WebKit\/(\S+)/.exec(i):kke?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(yO&&(bO=yO?yO[1]:""),Ig){var wO=MG();if(null!=wO&&wO>parseFloat(bO)){vO=String(wO);break e}}vO=bO}var Ike=Bt.document&&Ig&&(MG()||parseInt(vO,10))||void 0;function Vy(i,t){if(Ro.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,n=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(SG){e:{try{gO(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ske[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vy.$.h.call(this)}}Xr(Vy,Ro);var Ske={2:"touch",3:"pen",4:"mouse"};Vy.prototype.h=function(){Vy.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var By="closure_listenable_"+(1e6*Math.random()|0),Mke=0;function Ake(i,t,e,n,r){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!n,this.la=r,this.key=++Mke,this.fa=this.ia=!1}function rk(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function CO(i,t,e){for(const n in i)t.call(e,i[n],n,i)}function RG(i){const t={};for(const e in i)t[e]=i[e];return t}const PG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OG(i,t){let e,n;for(let r=1;r<arguments.length;r++){for(e in n=arguments[r],n)i[e]=n[e];for(let o=0;o<PG.length;o++)e=PG[o],Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}}function ok(i){this.src=i,this.g={},this.h=0}function EO(i,t){var e=t.type;if(e in i.g){var o,n=i.g[e],r=kG(n,t);(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(rk(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function TO(i,t,e,n){for(var r=0;r<i.length;++r){var o=i[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==n)return r}return-1}ok.prototype.add=function(i,t,e,n,r){var o=i.toString();(i=this.g[o])||(i=this.g[o]=[],this.h++);var s=TO(i,t,n,r);return-1<s?(t=i[s],e||(t.ia=!1)):((t=new Ake(t,this.src,o,!!n,r)).ia=e,i.push(t)),t};var kO="closure_lm_"+(1e6*Math.random()|0),DO={};function NG(i,t,e,n,r){if(n&&n.once)return LG(i,t,e,n,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)NG(i,t[o],e,n,r);return null}return e=AO(e),i&&i[By]?i.O(t,e,Fy(n)?!!n.capture:!!n,r):FG(i,t,e,!1,n,r)}function FG(i,t,e,n,r,o){if(!t)throw Error("Invalid event type");var s=Fy(r)?!!r.capture:!!r,a=SO(i);if(a||(i[kO]=a=new ok(i)),(e=a.add(t,e,n,s,o)).proxy)return e;if(n=function Pke(){const t=Oke;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=n,n.src=i,n.listener=e,i.addEventListener)Eke||(r=s),void 0===r&&(r=!1),i.addEventListener(t.toString(),n,r);else if(i.attachEvent)i.attachEvent(BG(t.toString()),n);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(n)}return e}function LG(i,t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)LG(i,t[o],e,n,r);return null}return e=AO(e),i&&i[By]?i.P(t,e,Fy(n)?!!n.capture:!!n,r):FG(i,t,e,!0,n,r)}function VG(i,t,e,n,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)VG(i,t[o],e,n,r);else n=Fy(n)?!!n.capture:!!n,e=AO(e),i&&i[By]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=TO(o=i.g[t],e,n,r))&&(rk(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.g[t],i.h--))):i&&(i=SO(i))&&(t=i.g[t.toString()],i=-1,t&&(i=TO(t,e,n,r)),(e=-1<i?t[i]:null)&&IO(e))}function IO(i){if("number"!=typeof i&&i&&!i.fa){var t=i.src;if(t&&t[By])EO(t.i,i);else{var e=i.type,n=i.proxy;t.removeEventListener?t.removeEventListener(e,n,i.capture):t.detachEvent?t.detachEvent(BG(e),n):t.addListener&&t.removeListener&&t.removeListener(n),(e=SO(t))?(EO(e,i),0==e.h&&(e.src=null,t[kO]=null)):rk(i)}}}function BG(i){return i in DO?DO[i]:DO[i]="on"+i}function Oke(i,t){if(i.fa)i=!0;else{t=new Vy(t,this);var e=i.listener,n=i.la||i.src;i.ia&&IO(i),i=e.call(n,t)}return i}function SO(i){return(i=i[kO])instanceof ok?i:null}var MO="__closure_events_fn_"+(1e9*Math.random()>>>0);function AO(i){return"function"==typeof i?i:(i[MO]||(i[MO]=function(t){return i.handleEvent(t)}),i[MO])}function Jr(){Su.call(this),this.i=new ok(this),this.S=this,this.J=null}function _o(i,t){var e,n=i.J;if(n)for(e=[];n;n=n.J)e.push(n);if(i=i.S,n=t.type||t,"string"==typeof t)t=new Ro(t,i);else if(t instanceof Ro)t.target=t.target||i;else{var r=t;OG(t=new Ro(n,i),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=sk(s,n,!0,t)&&r}if(r=sk(s=t.g=i,n,!0,t)&&r,r=sk(s,n,!1,t)&&r,e)for(o=0;o<e.length;o++)r=sk(s=t.g=e[o],n,!1,t)&&r}function sk(i,t,e,n){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,c=s.la||s.src;s.ia&&EO(i.i,s),r=!1!==a.call(c,n)&&r}}return r&&!n.defaultPrevented}Xr(Jr,Su),Jr.prototype[By]=!0,Jr.prototype.removeEventListener=function(i,t,e,n){VG(this,i,t,e,n)},Jr.prototype.N=function(){if(Jr.$.N.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],n=0;n<e.length;n++)rk(e[n]);delete i.g[t],i.h--}}this.J=null},Jr.prototype.O=function(i,t,e,n){return this.i.add(String(i),t,!1,e,n)},Jr.prototype.P=function(i,t,e,n){return this.i.add(String(i),t,!0,e,n)};var RO=Bt.JSON.stringify;function Fke(){var i=PO;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var zG=new class Nke{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Vke,i=>i.reset());class Vke{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Bke(i){var t=1;i=i.split(":");const e=[];for(;0<t&&i.length;)e.push(i.shift()),t--;return i.length&&e.push(i.join(":")),e}function zke(i){Bt.setTimeout(()=>{throw i},0)}let zy,Hy=!1,PO=new class Lke{constructor(){this.h=this.g=null}add(t,e){const n=zG.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},HG=()=>{const i=Bt.Promise.resolve(void 0);zy=()=>{i.then(Hke)}};var Hke=()=>{for(var i;i=Fke();){try{i.h.call(i.g)}catch(e){zke(e)}var t=zG;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Hy=!1};function ak(i,t){Jr.call(this),this.h=i||1,this.g=t||Bt,this.j=Ao(this.qb,this),this.l=Date.now()}function OO(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function NO(i,t,e){if("function"==typeof i)e&&(i=Ao(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ao(i.handleEvent,i)}return 2147483647<Number(t)?-1:Bt.setTimeout(i,t||0)}function UG(i){i.g=NO(()=>{i.g=null,i.i&&(i.i=!1,UG(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}Xr(ak,Jr),(Oe=ak.prototype).ga=!1,Oe.T=null,Oe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_o(this,"tick"),this.ga&&(OO(this),this.start()))}},Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.N=function(){ak.$.N.call(this),OO(this),delete this.g};class Uke extends Su{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:UG(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uy(i){Su.call(this),this.h=i,this.g={}}Xr(Uy,Su);var jG=[];function $G(i,t,e,n){Array.isArray(e)||(e&&(jG[0]=e.toString()),e=jG);for(var r=0;r<e.length;r++){var o=NG(t,e[r],n||i.handleEvent,!1,i.h||i);if(!o)break;i.g[o.key]=o}}function WG(i){CO(i.g,function(t,e){this.g.hasOwnProperty(e)&&IO(t)},i),i.g={}}function ck(){this.g=!0}function Sg(i,t,e,n){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Gke(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var n=e[i];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return RO(e)}catch{return t}}(i,e)+(n?" "+n:"")})}Uy.prototype.N=function(){Uy.$.N.call(this),WG(this)},Uy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ck.prototype.Ea=function(){this.g=!1},ck.prototype.info=function(){};var Dm={},GG=null;function lk(){return GG=GG||new Jr}function qG(i){Ro.call(this,Dm.Ta,i)}function jy(i){const t=lk();_o(t,new qG(t))}function YG(i,t){Ro.call(this,Dm.STAT_EVENT,i),this.stat=t}function ns(i){const t=lk();_o(t,new YG(t,i))}function ZG(i,t){Ro.call(this,Dm.Ua,i),this.size=t}function $y(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){i()},t)}Dm.Ta="serverreachability",Xr(qG,Ro),Dm.STAT_EVENT="statevent",Xr(YG,Ro),Dm.Ua="timingevent",Xr(ZG,Ro);var dk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function FO(){}function XG(){}FO.prototype.h=null;var BO,Wy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function LO(){Ro.call(this,"d")}function VO(){Ro.call(this,"c")}function uk(){}function Gy(i,t,e,n){this.l=i,this.j=t,this.m=e,this.W=n||1,this.U=new Uy(this),this.P=qke,this.V=new ak(i=_O?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JG}function JG(){this.i=null,this.g="",this.h=!1}Xr(LO,Ro),Xr(VO,Ro),Xr(uk,FO),uk.prototype.g=function(){return new XMLHttpRequest},uk.prototype.i=function(){return{}},BO=new uk;var qke=45e3,e9={},zO={};function HO(i,t,e){i.L=1,i.A=fk(id(t)),i.u=e,i.S=!0,t9(i,null)}function t9(i,t){i.G=Date.now(),qy(i),i.B=id(i.A);var e=i.B,n=i.W;Array.isArray(n)||(n=[String(n)]),h9(e.i,"t",n),i.o=0,e=i.l.J,i.h=new JG,i.g=F9(i.l,e?t:null,!i.u),0<i.O&&(i.M=new Uke(Ao(i.Pa,i,i.g),i.O)),$G(i.U,i.g,"readystatechange",i.nb),t=i.I?RG(i.I):{},i.u?(i.v||(i.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,t)):(i.v="GET",i.g.ha(i.B,i.v,null,t)),jy(),function jke(i,t,e,n,r,o){i.info(function(){if(i.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var m=u.split("_");s=2<=m.length&&"type"==m[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(i.j,i.v,i.B,i.m,i.W,i.u)}function n9(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function r9(i,t,e){let r,n=!0;for(;!i.J&&i.o<e.length;){if(r=Yke(i,e),r==zO){4==t&&(i.s=4,ns(14),n=!1),Sg(i.j,i.m,null,"[Incomplete Response]");break}if(r==e9){i.s=4,ns(15),Sg(i.j,i.m,e,"[Invalid Chunk]"),n=!1;break}Sg(i.j,i.m,r,null),UO(i,r)}n9(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=t||0!=e.length||i.h.h||(i.s=1,ns(16),n=!1),i.i=i.i&&n,n?0<e.length&&!i.ba&&(i.ba=!0,(t=i.l).g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),ZO(t),t.M=!0,ns(11))):(Sg(i.j,i.m,e,"[Invalid Chunked Response]"),Im(i),Yy(i))}function Yke(i,t){var e=i.o,n=t.indexOf("\n",e);return-1==n?zO:(e=Number(t.substring(e,n)),isNaN(e)?e9:(n+=1)+e>t.length?zO:(t=t.slice(n,n+e),i.o=n+e,t))}function qy(i){i.Y=Date.now()+i.P,o9(i,i.P)}function o9(i,t){if(null!=i.C)throw Error("WatchDog timer not null");i.C=$y(Ao(i.lb,i),t)}function hk(i){i.C&&(Bt.clearTimeout(i.C),i.C=null)}function Yy(i){0==i.l.H||i.J||R9(i.l,i)}function Im(i){hk(i);var t=i.M;t&&"function"==typeof t.sa&&t.sa(),i.M=null,OO(i.V),WG(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function UO(i,t){try{var e=i.l;if(0!=e.H&&(e.g==i||jO(e.i,i)))if(!i.K&&jO(e.i,i)&&3==e.H){try{var n=e.Ja.g.parse(t)}catch{n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<i.G))break e;wk(e),bk(e)}YO(e),ns(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=$y(Ao(e.ib,e),6e3));if(1>=f9(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Mm(e,11)}else if((i.K||e.g==i)&&wk(e),!Ly(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(e.V=l[0],l=l[1],2==e.H)if("c"==l[0]){e.K=l[1],e.pa=l[2];const u=l[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const m=l[4];null!=m&&(e.Ga=m,e.l.info("SVER="+e.Ga));const _=l[5];null!=_&&"number"==typeof _&&0<_&&(e.L=n=1.5*_,e.l.info("backChannelRequestTimeoutMs_="+n)),n=e;const v=i.g;if(v){const x=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var o=n.i;o.g||-1==x.indexOf("spdy")&&-1==x.indexOf("quic")&&-1==x.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($O(o,o.h),o.h=null))}if(n.F){const E=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(n.Da=E,Tn(n.I,n.F,E))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-i.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=i;if((n=e).wa=N9(n,n.J?n.pa:null,n.Y),s.K){g9(n.i,s);var a=s,c=n.L;c&&a.setTimeout(c),a.C&&(hk(a),qy(a)),n.g=s}else M9(n);0<e.j.length&&yk(e)}else"stop"!=l[0]&&"close"!=l[0]||Mm(e,7);else 3==e.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Mm(e,7):qO(e):"noop"!=l[0]&&e.h&&e.h.Aa(l),e.A=0)}jy()}catch{}}function s9(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(tk(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var e=function Kke(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(tk(i)||"string"==typeof i){var t=[];i=i.length;for(var e=0;e<i;e++)t.push(e);return t}t=[],e=0;for(const n in i)t[e++]=n;return t}}}(i),n=function Zke(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(tk(i)){for(var t=[],e=i.length,n=0;n<e;n++)t.push(i[n]);return t}for(n in t=[],e=0,i)t[e++]=i[n];return t}(i),r=n.length,o=0;o<r;o++)t.call(void 0,n[o],e&&e[o],i)}(Oe=Gy.prototype).setTimeout=function(i){this.P=i},Oe.nb=function(i){i=i.target;const t=this.M;t&&3==Xc(i)?t.l():this.Pa(i)},Oe.Pa=function(i){try{if(i==this.g)e:{const u=Xc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||_O||this.g&&(this.h.h||this.g.ja()||E9(this.g)))){this.J||4!=u||7==t||jy(),hk(this);var e=this.g.da();this.ca=e;t:if(n9(this)){var n=E9(this.g);i="";var r=n.length,o=4==Xc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Im(this),Yy(this);var s="";break t}this.h.i=new Bt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,i+=this.h.i.decode(n[t],{stream:o&&t==r-1});n.length=0,this.h.g+=i,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function $ke(i,t,e,n,r,o,s){i.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ly(a)){var l=a;break t}}l=null}if(!(e=l)){this.i=!1,this.s=3,ns(12),Im(this),Yy(this);break e}Sg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UO(this,e)}this.S?(r9(this,u,s),_O&&this.i&&3==u&&($G(this.U,this.V,"tick",this.mb),this.V.start())):(Sg(this.j,this.m,s,null),UO(this,s)),4==u&&Im(this),this.i&&!this.J&&(4==u?R9(this.l,this):(this.i=!1,qy(this)))}else(function pDe(i){const t={};i=(i.g&&2<=Xc(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<i.length;n++){if(Ly(i[n]))continue;var e=Bke(i[n]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function Rke(i,t){for(const e in i)t.call(void 0,i[e],e,i)}(t,function(n){return n.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.s=3,ns(12)):(this.s=0,ns(13)),Im(this),Yy(this)}}}catch{}},Oe.mb=function(){if(this.g){var i=Xc(this.g),t=this.g.ja();this.o<t.length&&(hk(this),r9(this,i,t),this.i&&4!=i&&qy(this))}},Oe.cancel=function(){this.J=!0,Im(this)},Oe.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Wke(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(jy(),ns(17)),Im(this),this.s=2,Yy(this)):o9(this,this.Y-i)};var a9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sm(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Sm){this.h=i.h,mk(this,i.j),this.s=i.s,this.g=i.g,pk(this,i.m),this.l=i.l;var t=i.i,e=new Qy;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),c9(this,e),this.o=i.o}else i&&(t=String(i).match(a9))?(this.h=!1,mk(this,t[1]||"",!0),this.s=Zy(t[2]||""),this.g=Zy(t[3]||"",!0),pk(this,t[4]),this.l=Zy(t[5]||"",!0),c9(this,t[6]||"",!0),this.o=Zy(t[7]||"")):(this.h=!1,this.i=new Qy(null,this.h))}function id(i){return new Sm(i)}function mk(i,t,e){i.j=e?Zy(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function pk(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function c9(i,t,e){t instanceof Qy?(i.i=t,function nDe(i,t){t&&!i.j&&(Mu(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(d9(this,n),h9(this,r,e))},i)),i.j=t}(i.i,i.h)):(e||(t=Ky(t,tDe)),i.i=new Qy(t,i.h))}function Tn(i,t,e){i.i.set(t,e)}function fk(i){return Tn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zy(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ky(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,Xke),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Xke(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Sm.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Ky(t,l9,!0),":");var e=this.g;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Ky(t,l9,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(Ky(e,"/"==e.charAt(0)?eDe:Jke,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Ky(e,iDe)),i.join("")};var l9=/[#\/\?@]/g,Jke=/[#\?:]/g,eDe=/[#\?]/g,tDe=/[#\?@]/g,iDe=/#/g;function Qy(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Mu(i){i.g||(i.g=new Map,i.h=0,i.i&&function Qke(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var n=i[e].indexOf("="),r=null;if(0<=n){var o=i[e].substring(0,n);r=i[e].substring(n+1)}else o=i[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function d9(i,t){Mu(i),t=Mg(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function u9(i,t){return Mu(i),t=Mg(i,t),i.g.has(t)}function h9(i,t,e){d9(i,t),0<e.length&&(i.i=null,i.g.set(Mg(i,t),fO(e)),i.h+=e.length)}function Mg(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function m9(i){this.l=i||oDe,i=Bt.PerformanceNavigationTiming?0<(i=Bt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Oe=Qy.prototype).add=function(i,t){Mu(this),this.i=null,i=Mg(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Oe.forEach=function(i,t){Mu(this),this.g.forEach(function(e,n){e.forEach(function(r){i.call(t,r,n,this)},this)},this)},Oe.ta=function(){Mu(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let n=0;n<t.length;n++){const r=i[n];for(let o=0;o<r.length;o++)e.push(t[n])}return e},Oe.Z=function(i){Mu(this);let t=[];if("string"==typeof i)u9(this,i)&&(t=t.concat(this.g.get(Mg(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)t=t.concat(i[e])}return t},Oe.set=function(i,t){return Mu(this),this.i=null,u9(this,i=Mg(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Oe.get=function(i,t){return i&&0<(i=this.Z(i)).length?String(i[0]):t},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var n=t[e];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var r=o;""!==s[n]&&(r+="="+encodeURIComponent(String(s[n]))),i.push(r)}}return this.i=i.join("&")};var oDe=10;function p9(i){return!!i.h||!!i.g&&i.g.size>=i.j}function f9(i){return i.h?1:i.g?i.g.size:0}function jO(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function $O(i,t){i.g?i.g.add(t):i.h=t}function g9(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function _9(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.F);return t}return fO(i.i)}m9.prototype.cancel=function(){if(this.i=_9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var sDe=class{stringify(i){return Bt.JSON.stringify(i,void 0)}parse(i){return Bt.JSON.parse(i,void 0)}};function aDe(){this.g=new sDe}function cDe(i,t,e){const n=e||"";try{s9(i,function(r,o){let s=r;Fy(r)&&(s=RO(r)),t.push(n+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function gk(i,t,e,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch{}}function Xy(i){this.l=i.ec||null,this.j=i.ob||!1}function _k(i,t){Jr.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=WO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xr(Xy,FO),Xy.prototype.g=function(){return new _k(this.l,this.j)},Xy.prototype.i=function(i){return function(){return i}}({}),Xr(_k,Jr);var WO=0;function v9(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Jy(i){i.readyState=4,i.l=null,i.j=null,i.A=null,e0(i)}function e0(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Oe=_k.prototype).open=function(i,t){if(this.readyState!=WO)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,e0(this)},Oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||Bt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jy(this)),this.readyState=WO},Oe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,e0(this)),this.g&&(this.readyState=3,e0(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v9(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Oe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Jy(this):e0(this),3==this.readyState&&v9(this)}},Oe.Za=function(i){this.g&&(this.response=this.responseText=i,Jy(this))},Oe.Ya=function(i){this.g&&(this.response=i,Jy(this))},Oe.ka=function(){this.g&&Jy(this)},Oe.setRequestHeader=function(i,t){this.v.append(i,t)},Oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(_k.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var dDe=Bt.JSON.parse;function er(i){Jr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=b9,this.L=this.M=!1}Xr(er,Jr);var b9="",uDe=/^https?$/i,hDe=["POST","PUT"];function y9(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,w9(i),vk(i)}function w9(i){i.F||(i.F=!0,_o(i,"complete"),_o(i,"error"))}function x9(i){if(i.h&&typeof mO<"u"&&(!i.C[1]||4!=Xc(i)||2!=i.da()))if(i.v&&4==Xc(i))NO(i.La,0,i);else if(_o(i,"readystatechange"),4==Xc(i)){i.h=!1;try{const s=i.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var n;if(n=0===s){var r=String(i.I).match(a9)[1]||null;!r&&Bt.self&&Bt.self.location&&(r=Bt.self.location.protocol.slice(0,-1)),n=!uDe.test(r?r.toLowerCase():"")}e=n}if(e)_o(i,"complete"),_o(i,"success");else{i.m=6;try{var o=2<Xc(i)?i.g.statusText:""}catch{o=""}i.j=o+" ["+i.da()+"]",w9(i)}}finally{vk(i)}}}function vk(i,t){if(i.g){C9(i);const e=i.g,n=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||_o(i,"ready");try{e.onreadystatechange=n}catch{}}}function C9(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Bt.clearTimeout(i.A),i.A=null)}function Xc(i){return i.g?i.g.readyState:0}function E9(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case b9:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function T9(i){let t="";return CO(i,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function GO(i,t,e){e:{for(n in e){var n=!1;break e}n=!0}n||(e=T9(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Tn(i,t,e))}function t0(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function k9(i){this.Ga=0,this.j=[],this.l=new ck,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=t0("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=t0("baseRetryDelayMs",5e3,i),this.hb=t0("retryDelaySeedMs",1e4,i),this.eb=t0("forwardChannelMaxRetries",2,i),this.xa=t0("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new m9(i&&i.concurrentRequestLimit),this.Ja=new aDe,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qO(i){if(D9(i),3==i.H){var t=i.W++,e=id(i.I);if(Tn(e,"SID",i.K),Tn(e,"RID",t),Tn(e,"TYPE","terminate"),n0(i,e),(t=new Gy(i,i.l,t)).L=2,t.A=fk(id(e)),e=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{e=Bt.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Bt.Image&&((new Image).src=t.A,e=!0),e||(t.g=F9(t.l,null),t.g.ha(t.A)),t.G=Date.now(),qy(t)}O9(i)}function bk(i){i.g&&(ZO(i),i.g.cancel(),i.g=null)}function D9(i){bk(i),i.u&&(Bt.clearTimeout(i.u),i.u=null),wk(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Bt.clearTimeout(i.m),i.m=null)}function yk(i){if(!p9(i.i)&&!i.m){i.m=!0;var t=i.Na;zy||HG(),Hy||(zy(),Hy=!0),PO.add(t,i),i.C=0}}function I9(i,t){var e;e=t?t.m:i.W++;const n=id(i.I);Tn(n,"SID",i.K),Tn(n,"RID",e),Tn(n,"AID",i.V),n0(i,n),i.o&&i.s&&GO(n,i.o,i.s),e=new Gy(i,i.l,e,i.C+1),null===i.o&&(e.I=i.s),t&&(i.j=t.F.concat(i.j)),t=S9(i,e,1e3),e.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),$O(i.i,e),HO(e,n,t)}function n0(i,t){i.na&&CO(i.na,function(e,n){Tn(t,n,e)}),i.h&&s9({},function(e,n){Tn(t,n,e)})}function S9(i,t,e){e=Math.min(i.j.length,e);var n=i.h?Ao(i.h.Va,i.h,i):null;e:{var r=i.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<e;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{cDe(u,s,"req"+l+"_")}catch{n&&n(u)}}if(a){n=s.join("&");break e}}}return i=i.j.splice(0,e),t.F=i,n}function M9(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;zy||HG(),Hy||(zy(),Hy=!0),PO.add(t,i),i.A=0}}function YO(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=$y(Ao(i.Ma,i),P9(i,i.A)),i.A++,0))}function ZO(i){null!=i.B&&(Bt.clearTimeout(i.B),i.B=null)}function A9(i){i.g=new Gy(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var t=id(i.wa);Tn(t,"RID","rpc"),Tn(t,"SID",i.K),Tn(t,"AID",i.V),Tn(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&Tn(t,"TO",i.qa),Tn(t,"TYPE","xmlhttp"),n0(i,t),i.o&&i.s&&GO(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var e=i.g;i=i.pa,e.L=1,e.A=fk(id(t)),e.u=null,e.S=!0,t9(e,i)}function wk(i){null!=i.v&&(Bt.clearTimeout(i.v),i.v=null)}function R9(i,t){var e=null;if(i.g==t){wk(i),ZO(i),i.g=null;var n=2}else{if(!jO(i.i,t))return;e=t.F,g9(i.i,t),n=1}if(0!=i.H)if(t.i)if(1==n){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=i.C;_o(n=lk(),new ZG(n,e)),yk(i)}else M9(i);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==n&&function fDe(i,t){return!(f9(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=t.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=$y(Ao(i.Na,i,t),P9(i,i.C)),i.C++,0)))}(i,t)||2==n&&YO(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),r){case 1:Mm(i,5);break;case 4:Mm(i,10);break;case 3:Mm(i,6);break;default:Mm(i,2)}}function P9(i,t){let e=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(e*=2),e*t}function Mm(i,t){if(i.l.info("Error code "+t),2==t){var e=null;i.h&&(e=null);var n=Ao(i.pb,i);e||(e=new Sm("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||mk(e,"https"),fk(e)),function lDe(i,t){const e=new ck;if(Bt.Image){const n=new Image;n.onload=ik(gk,e,n,"TestLoadImage: loaded",!0,t),n.onerror=ik(gk,e,n,"TestLoadImage: error",!1,t),n.onabort=ik(gk,e,n,"TestLoadImage: abort",!1,t),n.ontimeout=ik(gk,e,n,"TestLoadImage: timeout",!1,t),Bt.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=i}else t(!1)}(e.toString(),n)}else ns(2);i.H=0,i.h&&i.h.za(t),O9(i),D9(i)}function O9(i){if(i.H=0,i.ma=[],i.h){const t=_9(i.i);(0!=t.length||0!=i.j.length)&&(DG(i.ma,t),DG(i.ma,i.j),i.i.i.length=0,fO(i.j),i.j.length=0),i.h.ya()}}function N9(i,t,e){var n=e instanceof Sm?id(e):new Sm(e);if(""!=n.g)t&&(n.g=t+"."+n.g),pk(n,n.m);else{var r=Bt.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Sm(null);n&&mk(o,n),t&&(o.g=t),r&&pk(o,r),e&&(o.l=e),n=o}return t=i.Da,(e=i.F)&&t&&Tn(n,e,t),Tn(n,"VER",i.ra),n0(i,n),n}function F9(i,t,e){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new er(i.Ha&&!i.va?new Xy({ob:e}):i.va)).Oa(i.J),t}function L9(){}function xk(){if(Ig&&!(10<=Number(Ike)))throw Error("Environmental error: no available transport.")}function Zs(i,t){Jr.call(this),this.g=new k9(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!Ly(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ly(t)&&(this.g.F=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Ag(this)}function V9(i){LO.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){e:{for(const e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function B9(){VO.call(this),this.status=1}function Ag(i){this.g=i}function tc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function KO(i,t,e){e||(e=0);var n=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)n[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)n[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=i.g[3],s=(t=i.g[0])+(o^(e=i.g[1])&((r=i.g[2])^o))+n[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,i.g[2]=i.g[2]+r&4294967295,i.g[3]=i.g[3]+o&4294967295}function $i(i,t){this.h=t;for(var e=[],n=!0,r=i.length-1;0<=r;r--){var o=0|i[r];n&&o==t||(e[r]=o,n=!1)}this.g=e}(Oe=er.prototype).Oa=function(i){this.M=i},Oe.ha=function(i,t,e,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BO.g(),this.C=function QG(i){return i.h||(i.h=i.i())}(this.u?this.u:BO),this.g.onreadystatechange=Ao(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(o){return void y9(this,o)}if(i=e||"",e=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)e.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())e.set(o,n.get(o))}n=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Bt.FormData&&i instanceof Bt.FormData,!(0<=kG(hDe,t))||n||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C9(this),0<this.B&&((this.L=function mDe(i){return Ig&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ao(this.ua,this)):this.A=NO(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(o){y9(this,o)}},Oe.ua=function(){typeof mO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_o(this,"timeout"),this.abort(8))},Oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,_o(this,"complete"),_o(this,"abort"),vk(this))},Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vk(this,!0)),er.$.N.call(this)},Oe.La=function(){this.s||(this.G||this.v||this.l?x9(this):this.kb())},Oe.kb=function(){x9(this)},Oe.isActive=function(){return!!this.g},Oe.da=function(){try{return 2<Xc(this)?this.g.status:-1}catch{return-1}},Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Oe.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),dDe(t)}},Oe.Ia=function(){return this.m},Oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=k9.prototype).ra=8,Oe.H=1,Oe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const r=new Gy(this,this.l,i);let o=this.s;if(this.U&&(o?(o=RG(o),OG(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var n=this.j[e];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=S9(this,r,t),Tn(e=id(this.I),"RID",i),Tn(e,"CVER",22),this.F&&Tn(e,"X-HTTP-Session-Id",this.F),n0(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(T9(o)))+"&"+t:this.o&&GO(e,this.o,o)),$O(this.i,r),this.bb&&Tn(e,"TYPE","init"),this.P?(Tn(e,"$req",t),Tn(e,"SID","null"),r.aa=!0,HO(r,e,null)):HO(r,e,t),this.H=2}}else 3==this.H&&(i?I9(this,i):0==this.j.length||p9(this.i)||I9(this))},Oe.Ma=function(){if(this.u=null,A9(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=$y(Ao(this.jb,this),i)}},Oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ns(10),bk(this),A9(this))},Oe.ib=function(){null!=this.v&&(this.v=null,bk(this),YO(this),ns(19))},Oe.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ns(2)):(this.l.info("Failed to ping google.com"),ns(1))},Oe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Oe=L9.prototype).Ba=function(){},Oe.Aa=function(){},Oe.za=function(){},Oe.ya=function(){},Oe.isActive=function(){return!0},Oe.Va=function(){},xk.prototype.g=function(i,t){return new Zs(i,t)},Xr(Zs,Jr),Zs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,e=this.h||void 0;ns(0),i.Y=t,i.na=e||{},i.G=i.aa,i.I=N9(i,null,i.Y),yk(i)},Zs.prototype.close=function(){qO(this.g)},Zs.prototype.u=function(i){var t=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=RO(i),i=e);t.j.push(new class{constructor(i,t){this.g=i,this.map=t}}(t.fb++,i)),3==t.H&&yk(t)},Zs.prototype.N=function(){this.g.h=null,delete this.j,qO(this.g),delete this.g,Zs.$.N.call(this)},Xr(V9,LO),Xr(B9,VO),Xr(Ag,L9),Ag.prototype.Ba=function(){_o(this.g,"a")},Ag.prototype.Aa=function(i){_o(this.g,new V9(i))},Ag.prototype.za=function(i){_o(this.g,new B9)},Ag.prototype.ya=function(){_o(this.g,"b")},Xr(tc,function gDe(){this.blockSize=-1}),tc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},tc.prototype.j=function(i,t){void 0===t&&(t=i.length);for(var e=t-this.blockSize,n=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)KO(this,i,o),o+=this.blockSize;if("string"==typeof i){for(;o<t;)if(n[r++]=i.charCodeAt(o++),r==this.blockSize){KO(this,n),r=0;break}}else for(;o<t;)if(n[r++]=i[o++],r==this.blockSize){KO(this,n),r=0;break}}this.h=r,this.i+=t},tc.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var e=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=255&e,e/=256;for(this.j(i),i=Array(16),t=e=0;4>t;++t)for(var n=0;32>n;n+=8)i[e++]=this.g[t]>>>n&255;return i};var _De={};function QO(i){return-128<=i&&128>i?function Tke(i,t){var e=_De;return Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=t(i)}(i,function(t){return new $i([0|t],0>t?-1:0)}):new $i([0|i],0>i?-1:0)}function Jc(i){if(isNaN(i)||!isFinite(i))return Rg;if(0>i)return vo(Jc(-i));for(var t=[],e=1,n=0;i>=e;n++)t[n]=i/e|0,e*=XO;return new $i(t,0)}var XO=4294967296,Rg=QO(0),JO=QO(1),H9=QO(16777216);function nd(i){if(0!=i.h)return!1;for(var t=0;t<i.g.length;t++)if(0!=i.g[t])return!1;return!0}function Sa(i){return-1==i.h}function vo(i){for(var t=i.g.length,e=[],n=0;n<t;n++)e[n]=~i.g[n];return new $i(e,~i.h).add(JO)}function Ck(i,t){return i.add(vo(t))}function Ek(i,t){for(;(65535&i[t])!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function r0(i,t){this.g=i,this.h=t}function Tk(i,t){if(nd(t))throw Error("division by zero");if(nd(i))return new r0(Rg,Rg);if(Sa(i))return t=Tk(vo(i),t),new r0(vo(t.g),vo(t.h));if(Sa(t))return t=Tk(i,vo(t)),new r0(vo(t.g),t.h);if(30<i.g.length){if(Sa(i)||Sa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=JO,n=t;0>=n.X(i);)e=U9(e),n=U9(n);var r=Pg(e,1),o=Pg(n,1);for(n=Pg(n,2),e=Pg(e,2);!nd(n);){var s=o.add(n);0>=s.X(i)&&(r=r.add(e),o=s),n=Pg(n,1),e=Pg(e,1)}return t=Ck(i,r.R(t)),new r0(r,t)}for(r=Rg;0<=i.X(t);){for(e=Math.max(1,Math.floor(i.ea()/t.ea())),n=48>=(n=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,n-48),s=(o=Jc(e)).R(t);Sa(s)||0<s.X(i);)s=(o=Jc(e-=n)).R(t);nd(o)&&(o=JO),r=r.add(o),i=Ck(i,s)}return new r0(r,i)}function U9(i){for(var t=i.g.length+1,e=[],n=0;n<t;n++)e[n]=i.D(n)<<1|i.D(n-1)>>>31;return new $i(e,i.h)}function Pg(i,t){var e=t>>5;t%=32;for(var n=i.g.length-e,r=[],o=0;o<n;o++)r[o]=0<t?i.D(o+e)>>>t|i.D(o+e+1)<<32-t:i.D(o+e);return new $i(r,i.h)}(Oe=$i.prototype).ea=function(){if(Sa(this))return-vo(this).ea();for(var i=0,t=1,e=0;e<this.g.length;e++){var n=this.D(e);i+=(0<=n?n:XO+n)*t,t*=XO}return i},Oe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(nd(this))return"0";if(Sa(this))return"-"+vo(this).toString(i);for(var t=Jc(Math.pow(i,6)),e=this,n="";;){var r=Tk(e,t).g,o=((0<(e=Ck(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(i);if(nd(e=r))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},Oe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Oe.X=function(i){return Sa(i=Ck(this,i))?-1:nd(i)?0:1},Oe.abs=function(){return Sa(this)?vo(this):this},Oe.add=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0,r=0;r<=t;r++){var o=n+(65535&this.D(r))+(65535&i.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(i.D(r)>>>16);n=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new $i(e,-2147483648&e[e.length-1]?-1:0)},Oe.R=function(i){if(nd(this)||nd(i))return Rg;if(Sa(this))return Sa(i)?vo(this).R(vo(i)):vo(vo(this).R(i));if(Sa(i))return vo(this.R(vo(i)));if(0>this.X(H9)&&0>i.X(H9))return Jc(this.ea()*i.ea());for(var t=this.g.length+i.g.length,e=[],n=0;n<2*t;n++)e[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<i.g.length;r++){var o=this.D(n)>>>16,s=65535&this.D(n),a=i.D(r)>>>16,c=65535&i.D(r);e[2*n+2*r]+=s*c,Ek(e,2*n+2*r),e[2*n+2*r+1]+=o*c,Ek(e,2*n+2*r+1),e[2*n+2*r+1]+=s*a,Ek(e,2*n+2*r+1),e[2*n+2*r+2]+=o*a,Ek(e,2*n+2*r+2)}for(n=0;n<t;n++)e[n]=e[2*n+1]<<16|e[2*n];for(n=t;n<2*t;n++)e[n]=0;return new $i(e,0)},Oe.gb=function(i){return Tk(this,i).h},Oe.and=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)&i.D(n);return new $i(e,this.h&i.h)},Oe.or=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)|i.D(n);return new $i(e,this.h|i.h)},Oe.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)^i.D(n);return new $i(e,this.h^i.h)},xk.prototype.createWebChannel=xk.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,dk.NO_ERROR=0,dk.TIMEOUT=8,dk.HTTP_ERROR=6,KG.COMPLETE="complete",XG.EventType=Wy,Wy.OPEN="a",Wy.CLOSE="b",Wy.ERROR="c",Wy.MESSAGE="d",Jr.prototype.listen=Jr.prototype.O,er.prototype.listenOnce=er.prototype.P,er.prototype.getLastError=er.prototype.Sa,er.prototype.getLastErrorCode=er.prototype.Ia,er.prototype.getStatus=er.prototype.da,er.prototype.getResponseJson=er.prototype.Wa,er.prototype.getResponseText=er.prototype.ja,er.prototype.send=er.prototype.ha,er.prototype.setWithCredentials=er.prototype.Oa,tc.prototype.digest=tc.prototype.l,tc.prototype.reset=tc.prototype.reset,tc.prototype.update=tc.prototype.j,$i.prototype.add=$i.prototype.add,$i.prototype.multiply=$i.prototype.R,$i.prototype.modulo=$i.prototype.gb,$i.prototype.compare=$i.prototype.X,$i.prototype.toNumber=$i.prototype.ea,$i.prototype.toString=$i.prototype.toString,$i.prototype.getBits=$i.prototype.D,$i.fromNumber=Jc,$i.fromString=function z9(i,t){if(0==i.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==i.charAt(0))return vo(z9(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Jc(Math.pow(t,8)),n=Rg,r=0;r<i.length;r+=8){var o=Math.min(8,i.length-r),s=parseInt(i.substring(r,r+o),t);8>o?(o=Jc(Math.pow(t,o)),n=n.R(o).add(Jc(s))):n=(n=n.R(e)).add(Jc(s))}return n};var vDe=ec.createWebChannelTransport=function(){return new xk},bDe=ec.getStatEventTarget=function(){return lk()},e2=ec.ErrorCode=dk,yDe=ec.EventType=KG,wDe=ec.Event=Dm,j9=ec.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kk=(ec.FetchXmlHttpFactory=Xy,ec.WebChannel=XG),xDe=ec.XhrIo=er,CDe=ec.Md5=tc,Og=ec.Integer=$i;const $9="@firebase/firestore";class eo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}eo.UNAUTHENTICATED=new eo(null),eo.GOOGLE_CREDENTIALS=new eo("google-credentials-uid"),eo.FIRST_PARTY=new eo("first-party-uid"),eo.MOCK_USER=new eo("mock-user");let Ng="10.7.2";const Au=new js.Yd("@firebase/firestore");function Fg(){return Au.logLevel}function ve(i,...t){if(Au.logLevel<=js.in.DEBUG){const e=t.map(t2);Au.debug(`Firestore (${Ng}): ${i}`,...e)}}function hr(i,...t){if(Au.logLevel<=js.in.ERROR){const e=t.map(t2);Au.error(`Firestore (${Ng}): ${i}`,...e)}}function Ts(i,...t){if(Au.logLevel<=js.in.WARN){const e=t.map(t2);Au.warn(`Firestore (${Ng}): ${i}`,...e)}}function t2(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function $e(i="Unexpected state"){const t=`FIRESTORE (${Ng}) INTERNAL ASSERTION FAILED: `+i;throw hr(t),new Error(t)}function it(i,t){i||$e()}function Me(i,t){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends I.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class W9{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kDe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(eo.UNAUTHENTICATED))}shutdown(){}}class DDe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class IDe{constructor(t){this.t=t,this.currentUser=eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,te.Z)(function*(){yield l.promise,yield o(n.currentUser)}))},c=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(it("string"==typeof n.accessToken),new W9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return it(null===t||"string"==typeof t),new eo(t)}}class SDe{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=eo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MDe{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new SDe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ADe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=o=>{null!=o.error&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};const r=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(it("string"==typeof e.token),this.R=e.token,new G9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RDe(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}class q9{static newId(){const e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=RDe(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return n}}function Ft(i,t){return i<t?-1:i>t?1:0}function Lg(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}function Y9(i){return i+"\0"}class Nn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Nn.fromMillis(Date.now())}static fromDate(t){return Nn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Nn(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class st{constructor(t){this.timestamp=t}static fromTimestamp(t){return new st(t)}static min(){return new st(new Nn(0,0))}static max(){return new st(new Nn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class o0{constructor(t,e,n){void 0===e?e=0:e>t.length&&$e(),void 0===n?n=t.length-e:n>t.length-e&&$e(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===o0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof o0?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gi extends o0{construct(t,e,n){return new gi(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new _e(ee.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new gi(e)}static emptyPath(){return new gi([])}}const PDe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends o0{construct(t,e,n){return new kn(t,e,n)}static isValidIdentifier(t){return PDe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kn(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const o=()=>{if(0===n.length)throw new _e(ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new _e(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new _e(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new _e(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(e)}static emptyPath(){return new kn([])}}class Re{constructor(t){this.path=t}static fromPath(t){return new Re(gi.fromString(t))}static fromName(t){return new Re(gi.fromString(t).popFirst(5))}static empty(){return new Re(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===gi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Re(new gi(t.slice()))}}class Vg{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function n2(i){return i.fields.find(t=>2===t.kind)}function Am(i){return i.fields.filter(t=>2!==t.kind)}Vg.UNKNOWN_ID=-1;class Rm{constructor(t,e){this.fieldPath=t,this.kind=e}}class Bg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Bg(0,Ks.min())}}function Z9(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=st.fromTimestamp(1e9===n?new Nn(e+1,0):new Nn(e,n));return new Ks(r,Re.empty(),t)}function K9(i){return new Ks(i.readTime,i.key,-1)}class Ks{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Ks(st.min(),Re.empty(),-1)}static max(){return new Ks(st.max(),Re.empty(),-1)}}function r2(i,t){let e=i.readTime.compareTo(t.readTime);return 0!==e?e:(e=Re.comparator(i.documentKey,t.documentKey),0!==e?e:Ft(i.largestBatchId,t.largestBatchId))}const Q9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ru(i){return o2.apply(this,arguments)}function o2(){return o2=(0,te.Z)(function*(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==Q9)throw i;ve("LocalStore","Unexpectedly lost primary lease")}),o2.apply(this,arguments)}class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Q((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Q?e:Q.resolve(e)}catch(e){return Q.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Q.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Q.reject(e)}static resolve(t){return new Q((e,n)=>{e(t)})}static reject(t){return new Q((e,n)=>{n(t)})}static waitFor(t){return new Q((e,n)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>n(c))}),s=!0,o===r&&e()})}static or(t){let e=Q.resolve(!1);for(const n of t)e=e.next(r=>r?Q.resolve(r):n());return e}static forEach(t,e){const n=[];return t.forEach((r,o)=>{n.push(e.call(this,r,o))}),this.waitFor(n)}static mapArray(t,e){return new Q((n,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(u=>{s[l]=u,++a,a===o&&n(s)},u=>r(u))}})}static doWhile(t,e){return new Q((n,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):n()};o()})}}class Dk{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new jr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new s0(t,e.error)):this.V.resolve()},this.transaction.onerror=n=>{const r=s2(n.target.error);this.V.reject(new s0(t,r))}}static open(t,e,n,r){try{return new Dk(e,t.transaction(r,n))}catch(o){throw new s0(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new LDe(e)}}class Ma{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===Ma.S((0,I.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ve("SimpleDb","Removing database:",t),Pm(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,I.hl)())return!1;if(Ma.C())return!0;const t=(0,I.z$)(),e=Ma.S(t),n=0<e&&e<10,r=Ma.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}O(t){var e=this;return(0,te.Z)(function*(){return e.db||(ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{n(s.target.result)},o.onblocked=()=>{r(new s0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new _e(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new s0(t,a))},o.onupgradeneeded=s=>{ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=n=>e.B(n)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var o=this;return(0,te.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const c=Dk.open(o.db,t,s?"readonly":"readwrite",n),l=r(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),Q.reject(u))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ve("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class FDe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Pm(this.k.delete())}}class s0 extends _e{constructor(t,e){super(ee.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Pu(i){return"IndexedDbTransactionError"===i.name}class LDe{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(ve("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Pm(n)}add(t){return ve("SimpleDb","ADD",this.store.name,t,t),Pm(this.store.add(t))}get(t){return Pm(this.store.get(t)).next(e=>(void 0===e&&(e=null),ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ve("SimpleDb","DELETE",this.store.name,t),Pm(this.store.delete(t))}count(){return ve("SimpleDb","COUNT",this.store.name),Pm(this.store.count())}W(t,e){const n=this.options(t,e),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(n.range);return new Q((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(n),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new Q((r,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{r(s.target.result)}})}H(t,e){ve("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const r=this.cursor(n);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.G(r,e)}Z(t){const e=this.cursor({});return new Q((n,r)=>{e.onerror=o=>{const s=s2(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}G(t,e){const n=[];return new Q((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new FDe(a),l=e(a.primaryKey,a.value,c);if(l instanceof Q){const u=l.catch(m=>(c.done(),Q.reject(m)));n.push(u)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>Q.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Pm(i){return new Q((t,e)=>{i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{const r=s2(n.target.error);e(r)}})}let J9=!1;function s2(i){const t=Ma.S((0,I.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const n=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J9||(J9=!0,setTimeout(()=>{throw n},0)),n}}return i}class VDe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;ve("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,te.Z)(function*(){e.task=null;try{ve("IndexBackfiller",`Documents written: ${yield e.X.te()}`)}catch(n){Pu(n)?ve("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ru(n)}yield e.ee(6e4)}))}}class BDe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,te.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.ne(n,t))})()}ne(t,e){const n=new Set;let r=e,o=!0;return Q.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!n.has(s))return ve("IndexBackfiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,n.add(s)});o=!1})).next(()=>e-r)}re(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(ve("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let n=t;return e.changes.forEach((r,o)=>{const s=K9(o);r2(s,n)>0&&(n=s)}),new Ks(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Qs=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return i._e=-1,i})();function a0(i){return null==i}function c0(i){return 0===i&&1/i==-1/0}function eq(i){return"number"==typeof i&&Number.isInteger(i)&&!c0(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Po(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=tq(t)),t=zDe(i.get(e),t);return tq(t)}function zDe(i,t){let e=t;const n=i.length;for(let r=0;r<n;r++){const o=i.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function tq(i){return i+"\x01\x01"}function el(i){const t=i.length;if(it(t>=2),2===t)return it("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),gi.emptyPath();const e=t-2,n=[];let r="";for(let o=0;o<t;){const s=i.indexOf("\x01",o);switch((s<0||s>e)&&$e(),i.charAt(s+1)){case"\x01":const a=i.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),n.push(c);break;case"\x10":r+=i.substring(o,s),r+="\0";break;case"\x11":r+=i.substring(o,s+1);break;default:$e()}o=s+2}return new gi(n)}const iq=["userId","batchId"];function Ik(i,t){return[i,Po(t)]}function nq(i,t,e){return[i,Po(t),e]}const HDe={},UDe=["prefixPath","collectionGroup","readTime","documentId"],jDe=["prefixPath","collectionGroup","documentId"],$De=["collectionGroup","readTime","prefixPath","documentId"],WDe=["canonicalId","targetId"],GDe=["targetId","path"],qDe=["path","targetId"],YDe=["collectionId","parent"],ZDe=["indexId","uid"],KDe=["uid","sequenceNumber"],QDe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XDe=["indexId","uid","orderedDocumentKey"],JDe=["userId","collectionPath","documentId"],eIe=["userId","collectionPath","largestBatchId"],tIe=["userId","collectionGroup","largestBatchId"],rq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iIe=[...rq,"documentOverlays"],oq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sq=oq,nIe=[...sq,"indexConfiguration","indexState","indexEntries"];class a2 extends X9{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function to(i,t){const e=Me(i);return Ma.M(e.ae,t)}function aq(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ou(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function cq(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class bn{constructor(t,e){this.comparator=t,this.root=e||bo.EMPTY}insert(t,e){return new bn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(t){return new bn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sk(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sk(this.root,t,this.comparator,!0)}}class Sk{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bo{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??bo.RED,this.left=r??bo.EMPTY,this.right=o??bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new bo(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return bo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const t=this.left.check();if(t!==this.right.check())throw $e();return t+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(t,e,n,r,o){return this}insert(t,e,n){return new bo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new bn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new lq(this.data.getIterator())}getIteratorFrom(t){return new lq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new en(this.comparator);return e.data=t,e}}class lq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zg(i){return i.hasNext()?i.getNext():void 0}class ks{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new ks([])}unionWith(t){let e=new en(kn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ks(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lg(this.fields,t.fields,(e,n)=>e.isEqual(n))}}class dq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dq("Invalid base64 string: "+o):o}}(t);return new $r(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new $r(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const oIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(i){if(it(!!i),"string"==typeof i){let t=0;const e=oIe.exec(i);if(it(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:tr(i.seconds),nanos:tr(i.nanos)}}function tr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function rd(i){return"string"==typeof i?$r.fromBase64String(i):$r.fromUint8Array(i)}function Mk(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ak(i){const t=i.mapValue.fields.__previous_value__;return Mk(t)?Ak(t):t}function l0(i){const t=Nu(i.mapValue.fields.__local_write_time__.timestampValue);return new Nn(t.seconds,t.nanos)}class sIe{constructor(t,e,n,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Fu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fu&&t.projectId===this.projectId&&t.database===this.database}}const Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rk={nullValue:"NULL_VALUE"};function Vu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mk(i)?4:pq(i)?9007199254740991:10:$e()}function tl(i,t){if(i===t)return!0;const e=Vu(i);if(e!==Vu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return l0(i).isEqual(l0(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Nu(r.timestampValue),a=Nu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return o=t,rd(i.bytesValue).isEqual(rd(o.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(r,o){return tr(r.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(o.geoPointValue.longitude)}(i,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tr(r.integerValue)===tr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=tr(r.doubleValue),a=tr(o.doubleValue);return s===a?c0(s)===c0(a):isNaN(s)&&isNaN(a)}return!1}(i,t);case 9:return Lg(i.arrayValue.values||[],t.arrayValue.values||[],tl);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(aq(s)!==aq(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!tl(s[c],a[c])))return!1;return!0}(i,t);default:return $e()}var o}function d0(i,t){return void 0!==(i.values||[]).find(e=>tl(e,t))}function Bu(i,t){if(i===t)return 0;const e=Vu(i),n=Vu(t);if(e!==n)return Ft(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(i.booleanValue,t.booleanValue);case 2:return function(o,s){const a=tr(o.integerValue||o.doubleValue),c=tr(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(i,t);case 3:return uq(i.timestampValue,t.timestampValue);case 4:return uq(l0(i),l0(t));case 5:return Ft(i.stringValue,t.stringValue);case 6:return function(o,s){const a=rd(o),c=rd(s);return a.compareTo(c)}(i.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ft(a[l],c[l]);if(0!==u)return u}return Ft(a.length,c.length)}(i.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ft(tr(o.latitude),tr(s.latitude));return 0!==a?a:Ft(tr(o.longitude),tr(s.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Bu(a[l],c[l]);if(u)return u}return Ft(a.length,c.length)}(i.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Lu.mapValue&&s===Lu.mapValue)return 0;if(o===Lu.mapValue)return 1;if(s===Lu.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let m=0;m<c.length&&m<u.length;++m){const _=Ft(c[m],u[m]);if(0!==_)return _;const v=Bu(a[c[m]],l[u[m]]);if(0!==v)return v}return Ft(c.length,u.length)}(i.mapValue,t.mapValue);default:throw $e()}}function uq(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Ft(i,t);const e=Nu(i),n=Nu(t),r=Ft(e.seconds,n.seconds);return 0!==r?r:Ft(e.nanos,n.nanos)}function Hg(i){return c2(i)}function c2(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=Nu(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?rd(i.bytesValue).toBase64():"referenceValue"in i?Re.fromName(i.referenceValue).toString():"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",r=!0;for(const o of e.values||[])r?r=!1:n+=",",n+=c2(o);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of n)o?o=!1:r+=",",r+=`${s}:${c2(e.fields[s])}`;return r+"}"}(i.mapValue):$e()}function Om(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function l2(i){return!!i&&"integerValue"in i}function u0(i){return!!i&&"arrayValue"in i}function hq(i){return!!i&&"nullValue"in i}function mq(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ok(i){return!!i&&"mapValue"in i}function h0(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ou(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=h0(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=h0(i.arrayValue.values[e]);return t}return Object.assign({},i)}function pq(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function aIe(i){return"nullValue"in i?Rk:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Om(Fu.empty(),Re.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:$e()}function cIe(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Om(Fu.empty(),Re.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Lu:$e()}function fq(i,t){const e=Bu(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function gq(i,t){const e=Bu(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class yo{constructor(t){this.value=t}static empty(){return new yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ok(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=h0(e)}setAll(t){let e=kn.emptyPath(),n={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,n,r),n={},r=[],e=a.popLast()}s?n[a.lastSegment()]=h0(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,n,r)}delete(t){const e=this.field(t.popLast());Ok(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return tl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Ok(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Ou(e,(r,o)=>t[r]=o);for(const r of n)delete t[r]}clone(){return new yo(h0(this.value))}}function _q(i){const t=[];return Ou(i.fields,(e,n)=>{const r=new kn([e]);if(Ok(n)){const o=_q(n.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new ks(t)}class Dn{constructor(t,e,n,r,o,s,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Dn(t,0,st.min(),st.min(),st.min(),yo.empty(),0)}static newFoundDocument(t,e,n,r){return new Dn(t,1,e,st.min(),n,r,0)}static newNoDocument(t,e){return new Dn(t,2,e,st.min(),st.min(),yo.empty(),0)}static newUnknownDocument(t,e){return new Dn(t,3,e,st.min(),st.min(),yo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(st.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zu{constructor(t,e){this.position=t,this.inclusive=e}}function vq(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){const o=t[r],s=i.position[r];if(n=o.field.isKeyField()?Re.comparator(Re.fromName(s.referenceValue),e.key):Bu(s,e.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function bq(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!tl(i.position[e],t.position[e]))return!1;return!0}class m0{constructor(t,e="asc"){this.field=t,this.dir=e}}function lIe(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class yq{}class _i extends yq{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new dIe(t,e,n):"array-contains"===e?new mIe(t,n):"in"===e?new kq(t,n):"not-in"===e?new pIe(t,n):"array-contains-any"===e?new fIe(t,n):new _i(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new uIe(t,n):new hIe(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Bu(e,this.value)):null!==e&&Vu(this.value)===Vu(e)&&this.matchesComparison(Bu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends yq{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Wi(t,e)}matches(t){return Ug(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ug(i){return"and"===i.op}function d2(i){return"or"===i.op}function u2(i){return wq(i)&&Ug(i)}function wq(i){for(const t of i.filters)if(t instanceof Wi)return!1;return!0}function h2(i){if(i instanceof _i)return i.field.canonicalString()+i.op.toString()+Hg(i.value);if(u2(i))return i.filters.map(t=>h2(t)).join(",");{const t=i.filters.map(e=>h2(e)).join(",");return`${i.op}(${t})`}}function xq(i,t){return i instanceof _i?(n=i,(r=t)instanceof _i&&n.op===r.op&&n.field.isEqual(r.field)&&tl(n.value,r.value)):i instanceof Wi?function(n,r){return r instanceof Wi&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,s,a)=>o&&xq(s,r.filters[a]),!0)}(i,t):void $e();var n,r}function Cq(i,t){const e=i.filters.concat(t);return Wi.create(e,i.op)}function Eq(i){return i instanceof _i?`${(e=i).field.canonicalString()} ${e.op} ${Hg(e.value)}`:i instanceof Wi?function(e){return e.op.toString()+" {"+e.getFilters().map(Eq).join(" ,")+"}"}(i):"Filter";var e}class dIe extends _i{constructor(t,e,n){super(t,e,n),this.key=Re.fromName(n.referenceValue)}matches(t){const e=Re.comparator(t.key,this.key);return this.matchesComparison(e)}}class uIe extends _i{constructor(t,e){super(t,"in",e),this.keys=Tq(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class hIe extends _i{constructor(t,e){super(t,"not-in",e),this.keys=Tq(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Tq(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(n=>Re.fromName(n.referenceValue))}class mIe extends _i{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return u0(e)&&d0(e.arrayValue,this.value)}}class kq extends _i{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&d0(this.value.arrayValue,e)}}class pIe extends _i{constructor(t,e){super(t,"not-in",e)}matches(t){if(d0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!d0(this.value.arrayValue,e)}}class fIe extends _i{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!u0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>d0(this.value.arrayValue,n))}}class gIe{constructor(t,e=null,n=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function m2(i,t=null,e=[],n=[],r=null,o=null,s=null){return new gIe(i,t,e,n,r,o,s)}function Nm(i){const t=Me(i);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>h2(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>{return(o=n).field.canonicalString()+o.dir;var o}).join(","),a0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Hg(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Hg(n)).join(",")),t.ce=e}return t.ce}function p0(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!lIe(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!xq(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!bq(i.startAt,t.startAt)&&bq(i.endAt,t.endAt)}function Nk(i){return Re.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Fk(i,t){return i.filters.filter(e=>e instanceof _i&&e.field.isEqual(t))}function Dq(i,t,e){let n=Rk,r=!0;for(const o of Fk(i,t)){let s=Rk,a=!0;switch(o.op){case"<":case"<=":s=aIe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Rk}fq({value:n,inclusive:r},{value:s,inclusive:a})<0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];fq({value:n,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}function Iq(i,t,e){let n=Lu,r=!0;for(const o of Fk(i,t)){let s=Lu,a=!0;switch(o.op){case">=":case">":s=cIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Lu}gq({value:n,inclusive:r},{value:s,inclusive:a})>0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];gq({value:n,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}class od{constructor(t,e=null,n=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Sq(i,t,e,n,r,o,s,a){return new od(i,t,e,n,r,o,s,a)}function jg(i){return new od(i)}function Mq(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function p2(i){return null!==i.collectionGroup}function $g(i){const t=Me(i);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new en(kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new m0(o,n))}),e.has(kn.keyField().canonicalString())||t.le.push(new m0(kn.keyField(),n))}return t.le}function rs(i){const t=Me(i);return t.he||(t.he=function Aq(i,t){if("F"===i.limitType)return m2(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(r=>new m0(r.field,"desc"===r.dir?"asc":"desc"));const e=i.endAt?new zu(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new zu(i.startAt.position,i.startAt.inclusive):null;return m2(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}(t,$g(i))),t.he}function f2(i,t){const e=i.filters.concat([t]);return new od(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Lk(i,t,e){return new od(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function f0(i,t){return p0(rs(i),rs(t))&&i.limitType===t.limitType}function Rq(i){return`${Nm(rs(i))}|lt:${i.limitType}`}function Wg(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Eq(r)).join(", ")}]`),a0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hg(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hg(r)).join(",")),`Target(${n})`}(rs(i))}; limitType=${i.limitType})`}function g0(i,t){return t.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Re.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(i,t)&&function(n,r){for(const o of $g(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(i,t)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(i,t)&&(r=t,!((n=i).startAt&&!function(s,a,c){const l=vq(s,a,c);return s.inclusive?l<=0:l<0}(n.startAt,$g(n),r)||n.endAt&&!function(s,a,c){const l=vq(s,a,c);return s.inclusive?l>=0:l>0}(n.endAt,$g(n),r)));var n,r}function Pq(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Oq(i){return(t,e)=>{let n=!1;for(const r of $g(i)){const o=_Ie(r,t,e);if(0!==o)return o;n=n||r.field.isKeyField()}return 0}}function _Ie(i,t,e){const n=i.field.isKeyField()?Re.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Bu(c,l):$e()}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return $e()}}class sd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ou(this.inner,(e,n)=>{for(const[r,o]of n)t(r,o)})}isEmpty(){return cq(this.inner)}size(){return this.innerSize}}const vIe=new bn(Re.comparator);function Ds(){return vIe}const Nq=new bn(Re.comparator);function _0(...i){let t=Nq;for(const e of i)t=t.insert(e.key,e);return t}function Fq(i){let t=Nq;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function il(){return v0()}function Lq(){return v0()}function v0(){return new sd(i=>i.toString(),(i,t)=>i.isEqual(t))}const bIe=new bn(Re.comparator),yIe=new en(Re.comparator);function Jt(...i){let t=yIe;for(const e of i)t=t.add(e);return t}const wIe=new en(Ft);function g2(){return wIe}function Vq(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c0(t)?"-0":t}}function Bq(i){return{integerValue:""+i}}function zq(i,t){return eq(t)?Bq(t):Vq(i,t)}class Vk{constructor(){this._=void 0}}function xIe(i,t,e){return i instanceof Gg?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Mk(o)&&(o=Ak(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):i instanceof Fm?Uq(i,t):i instanceof Lm?jq(i,t):function(r,o){const s=Hq(r,o),a=$q(s)+$q(r.Ie);return l2(s)&&l2(r.Ie)?Bq(a):Vq(r.serializer,a)}(i,t)}function CIe(i,t,e){return i instanceof Fm?Uq(i,t):i instanceof Lm?jq(i,t):e}function Hq(i,t){return i instanceof qg?l2(n=t)||(o=n)&&"doubleValue"in o?t:{integerValue:0}:null;var n,o}class Gg extends Vk{}class Fm extends Vk{constructor(t){super(),this.elements=t}}function Uq(i,t){const e=Wq(t);for(const n of i.elements)e.some(r=>tl(r,n))||e.push(n);return{arrayValue:{values:e}}}class Lm extends Vk{constructor(t){super(),this.elements=t}}function jq(i,t){let e=Wq(t);for(const n of i.elements)e=e.filter(r=>!tl(r,n));return{arrayValue:{values:e}}}class qg extends Vk{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function $q(i){return tr(i.integerValue||i.doubleValue)}function Wq(i){return u0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class b0{constructor(t,e){this.field=t,this.transform=e}}class TIe{constructor(t,e){this.version=t,this.transformResults=e}}class Fn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bk(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class zk{}function Gq(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new Zg(i.key,Fn.none()):new Yg(i.key,i.data,Fn.none());{const e=i.data,n=yo.empty();let r=new en(kn.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?n.delete(o):n.set(o,s),r=r.add(o)}return new ad(i.key,n,new ks(r.toArray()),Fn.none())}}function kIe(i,t,e){i instanceof Yg?function(r,o,s){const a=r.value.clone(),c=Zq(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(i,t,e):i instanceof ad?function(r,o,s){if(!Bk(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Zq(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Yq(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function y0(i,t,e,n){return i instanceof Yg?function(o,s,a,c){if(!Bk(o.precondition,s))return a;const l=o.value.clone(),u=Kq(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(i,t,e,n):i instanceof ad?function(o,s,a,c){if(!Bk(o.precondition,s))return a;const l=Kq(o.fieldTransforms,c,s),u=s.data;return u.setAll(Yq(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(i,t,e,n):(a=e,Bk(i.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function DIe(i,t){let e=null;for(const n of i.fieldTransforms){const r=t.data.field(n.field),o=Hq(n.transform,r||null);null!=o&&(null===e&&(e=yo.empty()),e.set(n.field,o))}return e||null}function qq(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===r||n&&r&&Lg(n,r,(o,s)=>function EIe(i,t){return i.field.isEqual(t.field)&&(r=t.transform,(n=i.transform)instanceof Fm&&r instanceof Fm||n instanceof Lm&&r instanceof Lm?Lg(n.elements,r.elements,tl):n instanceof qg&&r instanceof qg?tl(n.Ie,r.Ie):n instanceof Gg&&r instanceof Gg);var n,r}(o,s))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var n,r}class Yg extends zk{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ad extends zk{constructor(t,e,n,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Yq(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function Zq(i,t,e){const n=new Map;it(i.length===e.length);for(let r=0;r<e.length;r++){const o=i[r],s=o.transform,a=t.data.field(o.field);n.set(o.field,CIe(s,a,e[r]))}return n}function Kq(i,t,e){const n=new Map;for(const r of i){const o=r.transform,s=e.data.field(r.field);n.set(r.field,xIe(o,s,t))}return n}class Zg extends zk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends zk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v2{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&kIe(o,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=y0(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=y0(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Lq();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=Gq(s,a);null!==c&&n.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(st.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Jt())}isEqual(t){return this.batchId===t.batchId&&Lg(this.mutations,t.mutations,(e,n)=>qq(e,n))&&Lg(this.baseMutations,t.baseMutations,(e,n)=>qq(e,n))}}class b2{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){it(t.mutations.length===n.length);let r=bIe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new b2(t,e,n,r)}}class y2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SIe{constructor(t,e){this.count=t,this.unchangedNames=e}}var Sr,xi;function Qq(i){switch(i){default:return $e();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Xq(i){if(void 0===i)return hr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Sr.OK:return ee.OK;case Sr.CANCELLED:return ee.CANCELLED;case Sr.UNKNOWN:return ee.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return ee.INTERNAL;case Sr.UNAVAILABLE:return ee.UNAVAILABLE;case Sr.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Sr.NOT_FOUND:return ee.NOT_FOUND;case Sr.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Sr.ABORTED:return ee.ABORTED;case Sr.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Sr.DATA_LOSS:return ee.DATA_LOSS;default:return $e()}}(xi=Sr||(Sr={}))[xi.OK=0]="OK",xi[xi.CANCELLED=1]="CANCELLED",xi[xi.UNKNOWN=2]="UNKNOWN",xi[xi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xi[xi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xi[xi.NOT_FOUND=5]="NOT_FOUND",xi[xi.ALREADY_EXISTS=6]="ALREADY_EXISTS",xi[xi.PERMISSION_DENIED=7]="PERMISSION_DENIED",xi[xi.UNAUTHENTICATED=16]="UNAUTHENTICATED",xi[xi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xi[xi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xi[xi.ABORTED=10]="ABORTED",xi[xi.OUT_OF_RANGE=11]="OUT_OF_RANGE",xi[xi.UNIMPLEMENTED=12]="UNIMPLEMENTED",xi[xi.INTERNAL=13]="INTERNAL",xi[xi.UNAVAILABLE=14]="UNAVAILABLE",xi[xi.DATA_LOSS=15]="DATA_LOSS";function Jq(){return new TextEncoder}const MIe=new Og([4294967295,4294967295],0);function e7(i){const t=Jq().encode(i),e=new CDe;return e.update(t),new Uint8Array(e.digest())}function t7(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Og([e,n],0),new Og([r,o],0)]}class w2{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new w0(`Invalid padding: ${e}`);if(n<0)throw new w0(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new w0(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new w0(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Og.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(Og.fromNumber(n)));return 1===r.compare(MIe)&&(r=new Og([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=e7(t),[n,r]=t7(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new w2(o,r,e);return n.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=e7(t),[n,r]=t7(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class w0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class x0{constructor(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,C0.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new x0(st.min(),r,new bn(Ft),Ds(),Jt())}}class C0{constructor(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new C0(n,e,Jt(),Jt(),Jt())}}class Uk{constructor(t,e,n,r){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=r}}class n7{constructor(t,e){this.targetId=t,this.fe=e}}class r7{constructor(t,e,n=$r.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class o7{constructor(){this.ge=0,this.pe=a7(),this.ye=$r.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Jt(),e=Jt(),n=Jt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$e()}}),new C0(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=a7()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,it(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class AIe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ds(),this.Qe=s7(),this.Ke=new bn(Ft)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Be(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:$e()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((n,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,n=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(Nk(o))if(0===n){const s=new Re(o.path);this.We(e,s,Dn.newNoDocument(s,st.min()))}else it(1===n);else{const s=this.Ze(e);if(s!==n){const a=this.Xe(t),c=a?this.et(a,t,s):1;0!==c&&(this.He(e),this.Ke=this.Ke.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=rd(n).toUint8Array()}catch(c){if(c instanceof dq)return Ts("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new w2(s,r,o)}catch(c){return Ts(c instanceof w0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Nk(a.target)){const c=new Re(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Dn.newNoDocument(c,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let n=Jt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new x0(t,e,this.Ke,this.qe,n);return this.qe=Ds(),this.Qe=s7(),this.Ke=new bn(Ft),r}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new o7,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new en(Ft),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||ve("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new o7),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function s7(){return new bn(Re.comparator)}function a7(){return new bn(Re.comparator)}const RIe={asc:"ASCENDING",desc:"DESCENDING"},PIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OIe={and:"AND",or:"OR"};class NIe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function x2(i,t){return i.useProto3Json||a0(t)?t:{value:t}}function Kg(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function c7(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function FIe(i,t){return Kg(i,t.toTimestamp())}function mr(i){return it(!!i),st.fromTimestamp(function(e){const n=Nu(e);return new Nn(n.seconds,n.nanos)}(i))}function C2(i,t){return E2(i,t).canonicalString()}function E2(i,t){const e=(r=i,new gi(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function l7(i){const t=gi.fromString(i);return it(b7(t)),t}function E0(i,t){return C2(i.databaseId,t.path)}function nl(i,t){const e=l7(t);if(e.get(1)!==i.databaseId.projectId)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Re(h7(e))}function d7(i,t){return C2(i.databaseId,t)}function u7(i){const t=l7(i);return 4===t.length?gi.emptyPath():h7(t)}function T2(i){return new gi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function h7(i){return it(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function m7(i,t,e){return{name:E0(i,t),fields:e.value.mapValue.fields}}function p7(i,t,e){const n=nl(i,t.name),r=mr(t.updateTime),o=t.createTime?mr(t.createTime):st.min(),s=new yo({mapValue:{fields:t.fields}}),a=Dn.newFoundDocument(n,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function T0(i,t){let e;if(t instanceof Yg)e={update:m7(i,t.key,t.value)};else if(t instanceof Zg)e={delete:E0(i,t.key)};else if(t instanceof ad)e={update:m7(i,t.key,t.data),updateMask:$Ie(t.fieldMask)};else{if(!(t instanceof _2))return $e();e={verify:E0(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof Gg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qg)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $e()}(0,n))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:FIe(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),e;var o}function k2(i,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Fn.updateTime(mr(o.updateTime)):void 0!==o.exists?Fn.exists(o.exists):Fn.none():Fn.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(it("REQUEST_TIME"===a.setToServerValue),c=new Gg):"appendMissingElements"in a?c=new Fm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Lm(a.removeAllFromArray.values||[]):"increment"in a?c=new qg(s,a.increment):$e();const l=kn.fromServerFormat(a.fieldPath);return new b0(l,c)}(i,r)):[];var o;if(t.update){const r=nl(i,t.update.name),o=new yo({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new ks((t.updateMask.fieldPaths||[]).map(u=>kn.fromServerFormat(u)));return new ad(r,o,s,e,n)}return new Yg(r,o,e,n)}if(t.delete){const r=nl(i,t.delete);return new Zg(r,e)}if(t.verify){const r=nl(i,t.verify);return new _2(r,e)}return $e()}function f7(i,t){return{documents:[d7(i,t.path)]}}function D2(i,t){const e={structuredQuery:{}},n=t.path;let r;null!==t.collectionGroup?(r=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=d7(i,r);const o=function(l){if(0!==l.length)return v7(Wi.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:Hu((_=u).field),direction:HIe(_.dir)};var _})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=x2(i,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:e,parent:r};var l}function g7(i){let t=u7(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let r=null;if(n>0){it(1===n);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(m){const _=_7(m);return _ instanceof Wi&&u2(_)?_.getFilters():[_]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(_=>{return new m0(Qg((x=_).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let a=null;e.limit&&(a=function(m){let _;return _="object"==typeof m?m.value:m,a0(_)?null:_}(e.limit));let c=null;var m;e.startAt&&(c=new zu((m=e.startAt).values||[],!!m.before));let l=null;return e.endAt&&(l=function(m){return new zu(m.values||[],!m.before)}(e.endAt)),Sq(t,r,s,o,a,"F",c,l)}function _7(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qg(e.unaryFilter.field);return _i.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qg(e.unaryFilter.field);return _i.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qg(e.unaryFilter.field);return _i.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qg(e.unaryFilter.field);return _i.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(i):void 0!==i.fieldFilter?_i.create(Qg((e=i).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Wi.create(e.compositeFilter.filters.map(n=>_7(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $e()}}(e.compositeFilter.op))}(i):$e();var e}function HIe(i){return RIe[i]}function UIe(i){return PIe[i]}function jIe(i){return OIe[i]}function Hu(i){return{fieldPath:i.canonicalString()}}function Qg(i){return kn.fromServerFormat(i.fieldPath)}function v7(i){return i instanceof _i?function(e){if("=="===e.op){if(mq(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NAN"}};if(hq(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mq(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NAN"}};if(hq(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(e.field),op:UIe(e.op),value:e.value}}}(i):i instanceof Wi?function(e){const n=e.getFilters().map(r=>v7(r));return 1===n.length?n[0]:{compositeFilter:{op:jIe(e.op),filters:n}}}(i):$e()}function $Ie(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function b7(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class cd{constructor(t,e,n,r,o=st.min(),s=st.min(),a=$r.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new cd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class y7{constructor(t){this.ct=t}}function w7(i,t){const e=t.key,n={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:jk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document={name:E0(o=i.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Kg(o,s.version.toTimestamp()),createTime:Kg(o,s.createTime.toTimestamp())};else if(t.isNoDocument())n.noDocument={path:e.path.toArray(),readTime:Vm(t.version)};else{if(!t.isUnknownDocument())return $e();n.unknownDocument={path:e.path.toArray(),version:Vm(t.version)}}var o,s;return n}function jk(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function Vm(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bm(i){const t=new Nn(i.seconds,i.nanoseconds);return st.fromTimestamp(t)}function zm(i,t){const e=(t.baseMutations||[]).map(o=>k2(i.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const n=t.mutations.map(o=>k2(i.ct,o)),r=Nn.fromMillis(t.localWriteTimeMs);return new v2(t.batchId,r,e,n)}function k0(i){const t=Bm(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?Bm(i.lastLimboFreeSnapshotVersion):st.min();let n;return n=void 0!==i.query.documents?(it(1===(o=i.query).documents.length),rs(jg(u7(o.documents[0])))):function(o){return rs(g7(o))}(i.query),new cd(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,e,$r.fromBase64String(i.resumeToken));var o}function x7(i,t){const e=Vm(t.snapshotVersion),n=Vm(t.lastLimboFreeSnapshotVersion);let r;r=Nk(t.target)?f7(i.ct,t.target):D2(i.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Nm(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function I2(i){const t=g7({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Lk(t,t.limit,"L"):t}function S2(i,t){return new y2(t.largestBatchId,k2(i.ct,t.overlayMutation))}function C7(i,t){const e=t.path.lastSegment();return[i,Po(t.path.popLast()),e]}function E7(i,t,e,n){return{indexId:i,uid:t,sequenceNumber:e,readTime:Vm(n.readTime),documentKey:Po(n.documentKey.path),largestBatchId:n.largestBatchId}}class GIe{getBundleMetadata(t,e){return T7(t).get(e).next(n=>{if(n)return{id:(o=n).bundleId,createTime:Bm(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return T7(t).put({bundleId:(r=e).id,createTime:Vm(mr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return k7(t).get(e).next(n=>{if(n)return{name:(o=n).name,query:I2(o.bundledQuery),readTime:Bm(o.readTime)};var o})}saveNamedQuery(t,e){return k7(t).put({name:(r=e).name,readTime:Vm(mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function T7(i){return to(i,"bundles")}function k7(i){return to(i,"namedQueries")}class $k{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new $k(t,e.uid||"")}getOverlay(t,e){return D0(t).get(C7(this.userId,e)).next(n=>n?S2(this.serializer,n):null)}getOverlays(t,e){const n=il();return Q.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){const r=[];return n.forEach((o,s)=>{const a=new y2(e,s);r.push(this.ht(t,a))}),Q.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach(s=>r.add(Po(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);o.push(D0(t).H("collectionPathOverlayIndex",a))}),Q.waitFor(o)}getOverlaysForCollection(t,e,n){const r=il(),o=Po(e),s=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return D0(t).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=S2(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,n,r){const o=il();let s;const a=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return D0(t).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const m=S2(this.serializer,l);o.size()<r||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):u.done()}).next(()=>o)}ht(t,e){return D0(t).put(function(r,o,s){const[a,c,l]=C7(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:T0(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function D0(i){return to(i,"documentOverlays")}class Hm{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(tr(t.integerValue));else if("doubleValue"in t){const n=tr(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),c0(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At(`${n.seconds||""}`),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(rd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?pq(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):$e()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),Re.fromName(t).path.forEach(n=>{this.Et(e,60),this.St(n,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}function qIe(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function D7(i){const t=64-function(n){let r=0;for(let o=0;o<8;++o){const s=qIe(255&n[o]);if(r+=s,8!==s)break}return r}(i);return Math.ceil(t/8)}Hm.bt=new Hm;class YIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ct(n.value),n=e.next();this.vt()}Ft(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Mt(n.value),n=e.next();this.xt()}Ot(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Ct(n);else if(n<2048)this.Ct(960|n>>>6),this.Ct(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Ct(480|n>>>12),this.Ct(128|63&n>>>6),this.Ct(128|63&n);else{const r=e.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Mt(n);else if(n<2048)this.Mt(960|n>>>6),this.Mt(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Mt(480|n>>>12),this.Mt(128|63&n>>>6),this.Mt(128|63&n);else{const r=e.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Bt(t){const e=this.Lt(t),n=D7(e);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}qt(t){const e=this.Lt(t),n=D7(e);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Lt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}Ct(t){const e=255&t;0===e?(this.Kt(0),this.Kt(255)):255===e?(this.Kt(255),this.Kt(0)):this.Kt(e)}Mt(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class ZIe{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Bt(t)}Tt(){this.Gt.Qt()}}class KIe{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class I0{constructor(){this.Gt=new YIe,this.zt=new ZIe(this.Gt),this.jt=new KIe(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Um{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}Jt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new Um(this.indexId,this.documentKey,this.arrayValue,n)}}function Uu(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=I7(i.arrayValue,t.arrayValue),0!==e?e:(e=I7(i.directionalValue,t.directionalValue),0!==e?e:Re.comparator(i.documentKey,t.documentKey)))}function I7(i,t){for(let e=0;e<i.length&&e<t.length;++e){const n=i[e]-t[e];if(0!==n)return n}return i.length-t.length}class S7{constructor(t){this.Yt=new en((e,n)=>kn.comparator(e.field,n.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const e of t.filters){const n=e;n.isInequality()?this.Yt=this.Yt.add(n):this.Xt.push(n)}}get en(){return this.Yt.size>1}tn(t){if(it(t.collectionGroup===this.collectionId),this.en)return!1;const e=n2(t);if(void 0!==e&&!this.nn(e))return!1;const n=Am(t);let r=new Set,o=0,s=0;for(;o<n.length&&this.nn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=n[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<n.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],n[o]))return!1;return!0}on(){if(this.en)return null;let t=new en(kn.comparator);const e=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)e.push(new Rm(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),e.push(new Rm(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),e.push(new Rm(n.field,"asc"===n.dir?0:1)));return new Vg(Vg.UNKNOWN_ID,this.collectionId,e,Bg.empty())}nn(t){for(const e of this.Xt)if(this.rn(e,t))return!0;return!1}rn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function M7(i){var t,e;if(it(i instanceof _i||i instanceof Wi),i instanceof _i){if(i instanceof kq){const r=(null===(e=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>_i.create(i.field,"==",o)))||[];return Wi.create(r,"or")}return i}const n=i.filters.map(r=>M7(r));return Wi.create(n,i.op)}function QIe(i){if(0===i.getFilters().length)return[];const t=R2(M7(i));return it(A7(t)),M2(t)||A2(t)?[t]:t.getFilters()}function M2(i){return i instanceof _i}function A2(i){return i instanceof Wi&&u2(i)}function A7(i){return M2(i)||A2(i)||function(e){if(e instanceof Wi&&d2(e)){for(const n of e.getFilters())if(!M2(n)&&!A2(n))return!1;return!0}return!1}(i)}function R2(i){if(it(i instanceof _i||i instanceof Wi),i instanceof _i)return i;if(1===i.filters.length)return R2(i.filters[0]);const t=i.filters.map(n=>R2(n));let e=Wi.create(t,i.op);return e=Wk(e),A7(e)?e:(it(e instanceof Wi),it(Ug(e)),it(e.filters.length>1),e.filters.reduce((n,r)=>P2(n,r)))}function P2(i,t){let e;return it(i instanceof _i||i instanceof Wi),it(t instanceof _i||t instanceof Wi),e=i instanceof _i?t instanceof _i?Wi.create([i,t],"and"):R7(i,t):t instanceof _i?R7(t,i):function(r,o){if(it(r.filters.length>0&&o.filters.length>0),Ug(r)&&Ug(o))return Cq(r,o.getFilters());const s=d2(r)?r:o,a=d2(r)?o:r,c=s.filters.map(l=>P2(l,a));return Wi.create(c,"or")}(i,t),Wk(e)}function R7(i,t){if(Ug(t))return Cq(t,i.getFilters());{const e=t.filters.map(n=>P2(i,n));return Wi.create(e,"or")}}function Wk(i){if(it(i instanceof _i||i instanceof Wi),i instanceof _i)return i;const t=i.getFilters();if(1===t.length)return Wk(t[0]);if(wq(i))return i;const e=t.map(r=>Wk(r)),n=[];return e.forEach(r=>{r instanceof _i?n.push(r):r instanceof Wi&&(r.op===i.op?n.push(...r.filters):n.push(r))}),1===n.length?n[0]:Wi.create(n,i.op)}class XIe{constructor(){this._n=new O2}addToCollectionParentIndex(t,e){return this._n.add(e),Q.resolve()}getCollectionParents(t,e){return Q.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return Q.resolve()}deleteFieldIndex(t,e){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,e){return Q.resolve()}getDocumentsMatchingTarget(t,e){return Q.resolve(null)}getIndexType(t,e){return Q.resolve(0)}getFieldIndexes(t,e){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,e){return Q.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,e){return Q.resolve(Ks.min())}updateCollectionGroup(t,e,n){return Q.resolve()}updateIndexEntries(t,e){return Q.resolve()}}class O2{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new en(gi.comparator),o=!r.has(n);return this.index[e]=r.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new en(gi.comparator)).toArray()}}const Gk=new Uint8Array(0);class JIe{constructor(t,e){this.databaseId=e,this.an=new O2,this.un=new sd(n=>Nm(n),(n,r)=>p0(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.an.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.an.add(e)});const o={collectionId:n,parent:Po(r)};return P7(t).put(o)}return Q.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[Y9(e),""],!1,!0);return P7(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;n.push(el(s.parent))}return n})}addFieldIndex(t,e){const n=S0(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=n.add(r);if(e.indexState){const s=Jg(t);return o.next(a=>{s.put(E7(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const n=S0(t),r=Jg(t),o=Xg(t);return n.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=S0(t),n=Xg(t),r=Jg(t);return e.H().next(()=>n.H()).next(()=>r.H())}createTargetIndexes(t,e){return Q.forEach(this.cn(e),n=>this.getIndexType(t,n).next(r=>{if(0===r||1===r){const o=new S7(n).on();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const n=Xg(t);let r=!0;const o=new Map;return Q.forEach(this.cn(e),s=>this.ln(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Jt();const a=[];return Q.forEach(o,(c,l)=>{var z;ve("IndexedDbIndexManager",`Using index ${z=c,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`} to execute ${Nm(e)}`);const u=function(z,K){const le=n2(K);if(void 0===le)return null;for(const ke of Fk(z,le.fieldPath))switch(ke.op){case"array-contains-any":return ke.value.arrayValue.values||[];case"array-contains":return[ke.value]}return null}(l,c),m=function(z,K){const le=new Map;for(const ke of Am(K))for(const We of Fk(z,ke.fieldPath))switch(We.op){case"==":case"in":le.set(ke.fieldPath.canonicalString(),We.value);break;case"not-in":case"!=":return le.set(ke.fieldPath.canonicalString(),We.value),Array.from(le.values())}return null}(l,c),_=function(z,K){const le=[];let ke=!0;for(const We of Am(K)){const Ze=0===We.kind?Dq(z,We.fieldPath,z.startAt):Iq(z,We.fieldPath,z.startAt);le.push(Ze.value),ke&&(ke=Ze.inclusive)}return new zu(le,ke)}(l,c),v=function(z,K){const le=[];let ke=!0;for(const We of Am(K)){const Ze=0===We.kind?Iq(z,We.fieldPath,z.endAt):Dq(z,We.fieldPath,z.endAt);le.push(Ze.value),ke&&(ke=Ze.inclusive)}return new zu(le,ke)}(l,c),x=this.hn(c,l,_),E=this.hn(c,l,v),k=this.Pn(c,l,m),O=this.In(c.indexId,u,x,_.inclusive,E,v.inclusive,k);return Q.forEach(O,R=>n.j(R,e.limit).next(z=>{z.forEach(K=>{const le=Re.fromSegments(K.documentKey);s.has(le)||(s=s.add(le),a.push(le))})}))}).next(()=>a)}return Q.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:QIe(Wi.create(t.filters,"and")).map(n=>m2(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}In(t,e,n,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(n.length,o.length),l=c/(null!=e?e.length:1),u=[];for(let m=0;m<c;++m){const _=e?this.Tn(e[m/l]):Gk,v=this.En(t,_,n[m%l],r),x=this.dn(t,_,o[m%l],s),E=a.map(k=>this.En(t,_,k,!0));u.push(...this.createRange(v,x,E))}return u}En(t,e,n,r){const o=new Um(t,Re.empty(),e,n);return r?o:o.Jt()}dn(t,e,n,r){const o=new Um(t,Re.empty(),e,n);return r?o.Jt():o}ln(t,e){const n=new S7(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)n.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let n=2;const r=this.cn(e);return Q.forEach(r,o=>this.ln(t,o).next(s=>{s?0!==n&&s.fields.length<function(c){let l=new en(kn.comparator),u=!1;for(const m of c.filters)for(const _ of m.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?u=!0:l=l.add(_.field));for(const m of c.orderBy)m.field.isKeyField()||(l=l.add(m.field));return l.size+(u?1:0)}(o)&&(n=1):n=0})).next(()=>null!==e.limit&&r.length>1&&2===n?1:n)}An(t,e){const n=new I0;for(const r of Am(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=n.Ht(r.kind);Hm.bt.Pt(o,s)}return n.Wt()}Tn(t){const e=new I0;return Hm.bt.Pt(t,e.Ht(0)),e.Wt()}Rn(t,e){const n=new I0;return Hm.bt.Pt(Om(this.databaseId,e),n.Ht(function(o){const s=Am(o);return 0===s.length?0:s[s.length-1].kind}(t))),n.Wt()}Pn(t,e,n){if(null===n)return[];let r=[];r.push(new I0);let o=0;for(const s of Am(t)){const a=n[o++];for(const c of r)if(this.Vn(e,s.fieldPath)&&u0(a))r=this.mn(r,s,a);else{const l=c.Ht(s.kind);Hm.bt.Pt(a,l)}}return this.fn(r)}hn(t,e,n){return this.Pn(t,e,n.position)}fn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Wt();return e}mn(t,e,n){const r=[...t],o=[];for(const s of n.arrayValue.values||[])for(const a of r){const c=new I0;c.seed(a.Wt()),Hm.bt.Pt(s,c.Ht(e.kind)),o.push(c)}return o}Vn(t,e){return!!t.filters.find(n=>n instanceof _i&&n.field.isEqual(e)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(t,e){const n=S0(t),r=Jg(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next(o=>{const s=[];return Q.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,m){const _=m?new Bg(m.sequenceNumber,new Ks(Bm(m.readTime),new Re(el(m.documentKey)),m.largestBatchId)):Bg.empty(),v=u.fields.map(([x,E])=>new Rm(kn.fromServerFormat(x),E));return new Vg(u.indexId,u.collectionGroup,v,_)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((n,r)=>{const o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ft(n.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,n){const r=S0(t),o=Jg(t);return this.gn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>Q.forEach(a,c=>o.put(E7(c.indexId,this.uid,s,n)))))}updateIndexEntries(t,e){const n=new Map;return Q.forEach(e,(r,o)=>{const s=n.get(r.collectionGroup);return(s?Q.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),Q.forEach(a,c=>this.pn(t,r,c).next(l=>{const u=this.yn(o,c);return l.isEqual(u)?Q.resolve():this.wn(t,o,c,l,u)}))))})}Sn(t,e,n,r){return Xg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,e.key),documentKey:e.key.path.toArray()})}bn(t,e,n,r){return Xg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,e.key),e.key.path.toArray()])}pn(t,e,n){const r=Xg(t);let o=new en(Uu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,e)])},(s,a)=>{o=o.add(new Um(n.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(t,e){let n=new en(Uu);const r=this.An(e,t);if(null==r)return n;const o=n2(e);if(null!=o){const s=t.data.field(o.fieldPath);if(u0(s))for(const a of s.arrayValue.values||[])n=n.add(new Um(e.indexId,t.key,this.Tn(a),r))}else n=n.add(new Um(e.indexId,t.key,Gk,r));return n}wn(t,e,n,r,o){ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,u,m,_){const v=c.getIterator(),x=l.getIterator();let E=zg(v),k=zg(x);for(;E||k;){let O=!1,R=!1;if(E&&k){const z=u(E,k);z<0?R=!0:z>0&&(O=!0)}else null!=E?R=!0:O=!0;O?(m(k),k=zg(x)):R?(_(E),E=zg(v)):(E=zg(v),k=zg(x))}}(r,o,Uu,a=>{s.push(this.Sn(t,e,n,a))},a=>{s.push(this.bn(t,e,n,a))}),Q.waitFor(s)}gn(t){let e=1;return Jg(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((s,a)=>Uu(s,a)).filter((s,a,c)=>!a||0!==Uu(s,c[a-1]));const r=[];r.push(t);for(const s of n){const a=Uu(s,t),c=Uu(s,e);if(0===a)r[0]=t.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Gk,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Gk,[]]))}return o}Dn(t,e){return Uu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(O7)}getMinOffset(t,e){return Q.mapArray(this.cn(e),n=>this.ln(t,n).next(r=>r||$e())).next(O7)}}function P7(i){return to(i,"collectionParents")}function Xg(i){return to(i,"indexEntries")}function S0(i){return to(i,"indexConfiguration")}function Jg(i){return to(i,"indexState")}function O7(i){it(0!==i.length);let t=i[0].indexState.offset,e=t.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;r2(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ks(t.readTime,t.documentKey,e)}const N7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oo{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Oo(t,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function F7(i,t,e){const n=i.store("mutations"),r=i.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=n.Y({range:s},(u,m,_)=>(a++,_.delete()));o.push(c.next(()=>{it(1===a)}));const l=[];for(const u of e.mutations){const m=nq(t,u.key.path,e.batchId);o.push(r.delete(m)),l.push(u.key)}return Q.waitFor(o).next(()=>l)}function qk(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw $e();t=i.noDocument}return JSON.stringify(t).length}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class Yk{constructor(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(t,e,n,r){it(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Yk(o,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(t).Y({index:"userMutationsIndex",range:n},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const o=e_(t),s=ju(t);return s.add({}).next(a=>{it("number"==typeof a);const c=new v2(a,e,n,r),l=function(v,x,E){const k=E.baseMutations.map(R=>T0(v.ct,R)),O=E.mutations.map(R=>T0(v.ct,R));return{userId:x,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:k,mutations:O}}(this.serializer,this.userId,c),u=[];let m=new en((_,v)=>Ft(_.canonicalString(),v.canonicalString()));for(const _ of r){const v=nq(this.userId,_.key.path,a);m=m.add(_.key.path.popLast()),u.push(s.put(l)),u.push(o.put(v,HDe))}return m.forEach(_=>{u.push(this.indexManager.addToCollectionParentIndex(t,_))}),t.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),Q.waitFor(u).next(()=>c)})}lookupMutationBatch(t,e){return ju(t).get(e).next(n=>n?(it(n.userId===this.userId),zm(this.serializer,n)):null)}vn(t,e){return this.Cn[e]?Q.resolve(this.Cn[e]):this.lookupMutationBatch(t,e).next(n=>{if(n){const r=n.keys();return this.Cn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return ju(t).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(it(a.batchId>=n),o=zm(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ju(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{n=o.batchId,s.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(t).W("userMutationsIndex",e).next(n=>n.map(r=>zm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Ik(this.userId,e.path),r=IDBKeyRange.lowerBound(n),o=[];return e_(t).Y({range:r},(s,a,c)=>{const[l,u,m]=s,_=el(u);if(l===this.userId&&e.path.isEqual(_))return ju(t).get(m).next(v=>{if(!v)throw $e();it(v.userId===this.userId),o.push(zm(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new en(Ft);const r=[];return e.forEach(o=>{const s=Ik(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=e_(t).Y({range:a},(l,u,m)=>{const[_,v,x]=l,E=el(v);_===this.userId&&o.path.isEqual(E)?n=n.add(x):m.done()});r.push(c)}),Q.waitFor(r).next(()=>this.Fn(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,o=Ik(this.userId,n),s=IDBKeyRange.lowerBound(o);let a=new en(Ft);return e_(t).Y({range:s},(c,l,u)=>{const[m,_,v]=c,x=el(_);m===this.userId&&n.isPrefixOf(x)?x.length===r&&(a=a.add(v)):u.done()}).next(()=>this.Fn(t,a))}Fn(t,e){const n=[],r=[];return e.forEach(o=>{r.push(ju(t).get(o).next(s=>{if(null===s)throw $e();it(s.userId===this.userId),n.push(zm(this.serializer,s))}))}),Q.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return F7(t.ae,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.Mn(e.batchId)}),Q.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Q.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return e_(t).Y({range:n},(o,s,a)=>{if(o[0]===this.userId){const c=el(o[1]);r.push(c)}else a.done()}).next(()=>{it(0===r.length)})})}containsKey(t,e){return L7(t,this.userId,e)}xn(t){return V7(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function L7(i,t,e){const n=Ik(t,e.path),r=n[1],o=IDBKeyRange.lowerBound(n);let s=!1;return e_(i).Y({range:o,J:!0},(a,c,l)=>{const[u,m,_]=a;u===t&&m===r&&(s=!0),l.done()}).next(()=>s)}function ju(i){return to(i,"mutations")}function e_(i){return to(i,"documentMutations")}function V7(i){return to(i,"mutationQueues")}class jm{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new jm(0)}static Bn(){return new jm(-1)}}class eSe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Ln(t).next(e=>{const n=new jm(e.highestTargetId);return e.highestTargetId=n.next(),this.kn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Ln(t).next(e=>st.fromTimestamp(new Nn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Ln(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Ln(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.kn(t,r)))}addTargetData(t,e){return this.qn(t,e).next(()=>this.Ln(t).next(n=>(n.targetCount+=1,this.Qn(e,n),this.kn(t,n))))}updateTargetData(t,e){return this.qn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>t_(t).delete(e.targetId)).next(()=>this.Ln(t)).next(n=>(it(n.targetCount>0),n.targetCount-=1,this.kn(t,n)))}removeTargets(t,e,n){let r=0;const o=[];return t_(t).Y((s,a)=>{const c=k0(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>Q.waitFor(o)).next(()=>r)}forEachTarget(t,e){return t_(t).Y((n,r)=>{const o=k0(r);e(o)})}Ln(t){return B7(t).get("targetGlobalKey").next(e=>(it(null!==e),e))}kn(t,e){return B7(t).put("targetGlobalKey",e)}qn(t,e){return t_(t).put(x7(this.serializer,e))}Qn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Ln(t).next(e=>e.targetCount)}getTargetData(t,e){const n=Nm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return t_(t).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=k0(a);p0(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,n){const r=[],o=$u(t);return e.forEach(s=>{const a=Po(s.path);r.push(o.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(t,n,s))}),Q.waitFor(r)}removeMatchingKeys(t,e,n){const r=$u(t);return Q.forEach(e,o=>{const s=Po(o.path);return Q.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(t,n,o)])})}removeMatchingKeysForTargetId(t,e){const n=$u(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=$u(t);let o=Jt();return r.Y({range:n,J:!0},(s,a,c)=>{const l=el(s[1]),u=new Re(l);o=o.add(u)}).next(()=>o)}containsKey(t,e){const n=Po(e.path),r=IDBKeyRange.bound([n],[Y9(n)],!1,!0);let o=0;return $u(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(t,e){return t_(t).get(e).next(n=>n?k0(n):null)}}function t_(i){return to(i,"targets")}function B7(i){return to(i,"targetGlobal")}function $u(i){return to(i,"targetDocuments")}function z7([i,t],[e,n]){const r=Ft(i,e);return 0===r?Ft(t,n):r}class tSe{constructor(t){this.Kn=t,this.buffer=new en(z7),this.$n=0}Un(){return++this.$n}Wn(t){const e=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();z7(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class H7{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var e=this;ve("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,te.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(n){Pu(n)?ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ru(n)}yield e.zn(3e5)}))}}class iSe{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.Hn(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(0===e)return Q.resolve(Qs._e);const n=new tSe(e);return this.jn.forEachTarget(t,r=>n.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>n.Wn(r))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.jn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(N7)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N7):this.Yn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,e){let n,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(n=m,a=Date.now(),this.removeTargets(t,n,e))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(m=>(l=Date.now(),Fg()<=js.in.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m})))}}class nSe{constructor(t,e){this.db=t,this.garbageCollector=function U7(i,t){return new iSe(i,t)}(this,e)}Hn(t){const e=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(n=>e.next(r=>n+r))}Zn(t){let e=0;return this.Jn(t,n=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Jn(t,e){return this.Xn(t,(n,r)=>e(r))}addReference(t,e,n){return Zk(t,n)}removeReference(t,e,n){return Zk(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Zk(t,e)}er(t,e){return function(r,o){let s=!1;return V7(r).Z(a=>L7(r,a,o).next(c=>(c&&(s=!0),Q.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Xn(t,(s,a)=>{if(a<=e){const c=this.er(t,s).next(l=>{if(!l)return o++,n.getEntry(t,s).next(()=>(n.removeEntry(s,st.min()),$u(t).delete([0,Po(s.path)])))});r.push(c)}}).next(()=>Q.waitFor(r)).next(()=>n.apply(t)).next(()=>o)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Zk(t,e)}Xn(t,e){const n=$u(t);let r,o=Qs._e;return n.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Qs._e&&e(new Re(el(r)),o),o=l,r=c):o=Qs._e}).next(()=>{o!==Qs._e&&e(new Re(el(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Zk(i,t){return $u(i).put((r=i.currentSequenceNumber,{targetId:0,path:Po(t.path),sequenceNumber:r}));var r}class j7{constructor(){this.changes=new sd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Q.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rSe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return $m(t).put(n)}removeEntry(t,e,n){return $m(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jk(s),a[a.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.tr(t,n)))}getEntry(t,e){let n=Dn.newInvalidDocument(e);return $m(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(M0(e))},(r,o)=>{n=this.nr(e,o)}).next(()=>n)}rr(t,e){let n={size:0,document:Dn.newInvalidDocument(e)};return $m(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(M0(e))},(r,o)=>{n={document:this.nr(e,o),size:qk(o)}}).next(()=>n)}getEntries(t,e){let n=Ds();return this.ir(t,e,(r,o)=>{const s=this.nr(r,o);n=n.insert(r,s)}).next(()=>n)}sr(t,e){let n=Ds(),r=new bn(Re.comparator);return this.ir(t,e,(o,s)=>{const a=this.nr(o,s);n=n.insert(o,a),r=r.insert(o,qk(s))}).next(()=>({documents:n,_r:r}))}ir(t,e,n){if(e.isEmpty())return Q.resolve();let r=new en(q7);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(M0(r.first()),M0(r.last())),s=r.getIterator();let a=s.getNext();return $m(t).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{const m=Re.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&q7(a,m)<0;)n(a,null),a=s.getNext();a&&a.isEqual(m)&&(n(a,l),a=s.hasNext()?s.getNext():null),a?u.U(M0(a)):u.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,n,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),jk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $m(t).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=Ds();for(const m of l){const _=this.nr(Re.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);_.isFoundDocument()&&(g0(e,_)||r.has(_.key))&&(u=u.insert(_.key,_))}return u})}getAllFromCollectionGroup(t,e,n,r){let o=Ds();const s=G7(e,n),a=G7(e,Ks.max());return $m(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const m=this.nr(Re.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(m.key,m),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new oSe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return W7(t).get("remoteDocumentGlobalKey").next(e=>(it(!!e),e))}tr(t,e){return W7(t).put("remoteDocumentGlobalKey",e)}nr(t,e){if(e){const n=function WIe(i,t){let e;if(t.document)e=p7(i.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=Re.fromSegments(t.noDocument.path),r=Bm(t.noDocument.readTime);e=Dn.newNoDocument(n,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $e();{const n=Re.fromSegments(t.unknownDocument.path),r=Bm(t.unknownDocument.version);e=Dn.newUnknownDocument(n,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Nn(r[0],r[1]);return st.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!n.isNoDocument()||!n.version.isEqual(st.min()))return n}return Dn.newInvalidDocument(t)}}function $7(i){return new rSe(i)}class oSe extends j7{constructor(t,e){super(),this.ar=t,this.trackRemovals=e,this.ur=new sd(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){const e=[];let n=0,r=new en((o,s)=>Ft(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(e.push(this.ar.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=w7(this.ar.serializer,s);r=r.add(o.path.popLast());const l=qk(c);n+=l-a.size,e.push(this.ar.addEntry(t,o,c))}else if(n-=a.size,this.trackRemovals){const c=w7(this.ar.serializer,s.convertToNoDocument(st.min()));e.push(this.ar.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.ar.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.ar.updateMetadata(t,n)),Q.waitFor(e)}getFromCache(t,e){return this.ar.rr(t,e).next(n=>(this.ur.set(e,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,e){return this.ar.sr(t,e).next(({documents:n,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:n.get(o).readTime})}),n))}}function W7(i){return to(i,"remoteDocumentGlobal")}function $m(i){return to(i,"remoteDocumentsV14")}function M0(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function G7(i,t){const e=t.documentKey.path.toArray();return[i,jk(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function q7(i,t){const e=i.path.toArray(),n=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<n.length-2;++o)if(r=Ft(e[o],n[o]),r)return r;return r=Ft(e.length,n.length),r||(r=Ft(e[e.length-2],n[n.length-2]),r||Ft(e[e.length-1],n[n.length-1]))}class sSe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Y7{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==n&&y0(n.mutation,r,ks.empty(),Nn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Jt()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Jt()){const r=il();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(o=>{let s=_0();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const n=il();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Jt()))}populateOverlays(t,e,n){const r=[];return n.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,n,r){let o=Ds();const s=v0(),a=v0();return e.forEach((c,l)=>{const u=n.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof ad)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),y0(u.mutation,l,u.mutation.getFieldMask(),Nn.now())):s.set(l.key,ks.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),e.forEach((l,u)=>{var m;return a.set(l,new sSe(u,null!==(m=s.get(l))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(t,e){const n=v0();let r=new bn((s,a)=>s-a),o=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let u=n.get(c)||ks.empty();u=a.applyToLocalView(l,u),n.set(c,u);const m=(r.get(a.batchId)||Jt()).add(c);r=r.insert(a.batchId,m)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,m=Lq();u.forEach(_=>{if(!o.has(_)){const v=Gq(e.get(_),n.get(_));null!==v&&m.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,m))}return Q.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,r){return Re.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):p2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r);var s}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-o.size):Q.resolve(il());let a=-1,c=o;return s.next(l=>Q.forEach(l,(u,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(t,u).next(_=>{c=c.insert(u,_)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,Jt())).next(u=>({batchId:a,changes:Fq(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Re(e)).next(n=>{let r=_0();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const o=e.collectionGroup;let s=_0();return this.indexManager.getCollectionParents(t,o).next(a=>Q.forEach(a,c=>{const l=(m=e,_=c.child(o),new od(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,_;return this.getDocumentsMatchingCollectionQuery(t,l,n,r).next(u=>{u.forEach((m,_)=>{s=s.insert(m,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,r))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,Dn.newInvalidDocument(u)))});let a=_0();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&y0(u.mutation,l,ks.empty(),Nn.now()),g0(e,l)&&(a=a.insert(c,l))}),a})}}class aSe{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return Q.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:mr(r.createTime)}),Q.resolve();var r}getNamedQuery(t,e){return Q.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:I2(r.bundledQuery),readTime:mr(r.readTime)}),Q.resolve();var r}}class cSe{constructor(){this.overlays=new bn(Re.comparator),this.hr=new Map}getOverlay(t,e){return Q.resolve(this.overlays.get(e))}getOverlays(t,e){const n=il();return Q.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,o)=>{this.ht(t,e,o)}),Q.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),Q.resolve()}getOverlaysForCollection(t,e,n){const r=il(),o=e.length+1,s=new Re(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>n&&r.set(c.getKey(),c)}return Q.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let o=new bn((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let u=o.get(l.largestBatchId);null===u&&(u=il(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=il(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return Q.resolve(a)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new y2(e,n));let o=this.hr.get(e);void 0===o&&(o=Jt(),this.hr.set(e,o)),this.hr.set(e,o.add(n.key))}}class N2{constructor(){this.Pr=new en(io.Ir),this.Tr=new en(io.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new io(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Ar(new io(t,e))}Rr(t,e){t.forEach(n=>this.removeReference(n,e))}Vr(t){const e=new Re(new gi([])),n=new io(e,t),r=new io(e,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Re(new gi([])),n=new io(e,t),r=new io(e,t+1);let o=Jt();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new io(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class io{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Re.comparator(t.key,e.key)||Ft(t.pr,e.pr)}static Er(t,e){return Ft(t.pr,e.pr)||Re.comparator(t.key,e.key)}}class lSe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new en(io.Ir)}checkEmpty(t){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const o=this.yr;this.yr++;const s=new v2(o,e,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new io(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(t,e){return Q.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),o=r<0?0:r;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new io(e,0),r=new io(e,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{const a=this.Sr(s.pr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new en(Ft);return e.forEach(r=>{const o=new io(r,0),s=new io(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),Q.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let o=n;Re.isDocumentKey(o)||(o=o.child(""));const s=new io(new Re(o),0);let a=new en(Ft);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),Q.resolve(this.Dr(a))}Dr(t){const e=[];return t.forEach(n=>{const r=this.Sr(n);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){it(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Q.forEach(e.mutations,r=>{const o=new io(r.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,e){const n=new io(e,0),r=this.wr.firstAfterOrEqual(n);return Q.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Q.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class dSe{constructor(t){this.vr=t,this.docs=new bn(Re.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Q.resolve(n?n.document.mutableCopy():Dn.newInvalidDocument(e))}getEntries(t,e){let n=Ds();return e.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():Dn.newInvalidDocument(r))}),Q.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let o=Ds();const s=e.path,a=new Re(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||r2(K9(u),n)<=0||(r.has(u.key)||g0(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(t,e,n,r){$e()}Fr(t,e){return Q.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new uSe(this)}getSize(t){return Q.resolve(this.size)}}class uSe extends j7{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),Q.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class hSe{constructor(t){this.persistence=t,this.Mr=new sd(e=>Nm(e),p0),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Or=0,this.Nr=new N2,this.targetCount=0,this.Br=jm.Nn()}forEachTarget(t,e){return this.Mr.forEach((n,r)=>e(r)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),Q.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Br=new jm(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,Q.resolve()}updateTargetData(t,e){return this.qn(e),Q.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,e,n){let r=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Q.waitFor(o).next(()=>r)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return Q.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),Q.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),Q.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return Q.resolve(n)}containsKey(t,e){return Q.resolve(this.Nr.containsKey(e))}}class F2{constructor(t,e){this.Lr={},this.overlays={},this.kr=new Qs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new hSe(this),this.indexManager=new XIe,this.remoteDocumentCache=new dSe(n=>this.referenceDelegate.Kr(n)),this.serializer=new y7(e),this.$r=new aSe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new cSe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Lr[t.toKey()];return n||(n=new lSe(e,this.referenceDelegate),this.Lr[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){ve("MemoryPersistence","Starting transaction:",t);const r=new mSe(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,e){return Q.or(Object.values(this.Lr).map(n=>()=>n.containsKey(t,e)))}}class mSe extends X9{constructor(t){super(),this.currentSequenceNumber=t}}class Kk{constructor(t){this.persistence=t,this.zr=new N2,this.jr=null}static Hr(t){return new Kk(t)}get Jr(){if(this.jr)return this.jr;throw $e()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),Q.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),Q.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),Q.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,n=>{const r=Re.fromPath(n);return this.Yr(t,r).next(o=>{o||e.removeEntry(r,st.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(n=>{n?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return Q.or([()=>Q.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class pSe{constructor(t){this.serializer=t}N(t,e,n,r){const o=new Dk("createOrUpgrade",e);var c;n<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iq,{unique:!0}),c.createObjectStore("documentMutations"),Z7(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=Q.resolve();return n<3&&r>=3&&(0!==n&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),Z7(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:st.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iq,{unique:!0});const m=l.store("mutations"),_=u.map(v=>m.put(v));return Q.waitFor(_)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&r>=5&&(s=s.next(()=>this.Xr(o))),n<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ei(o)))),n<7&&r>=7&&(s=s.next(()=>this.ti(o))),n<8&&r>=8&&(s=s.next(()=>this.ni(t,o))),n<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&r>=10&&(s=s.next(()=>this.ri(o))),n<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:JDe});l.createIndex("collectionPathOverlayIndex",eIe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",tIe,{unique:!1})}(t)})),n<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:UDe});l.createIndex("documentKeyIndex",jDe),l.createIndex("collectionGroupIndex",$De)}(t)).next(()=>this.ii(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.si(t,o))),n<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:ZDe}).createIndex("sequenceNumberIndex",KDe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:QDe}).createIndex("documentKeyIndex",XDe,{unique:!1})}(t))),s}ei(t){let e=0;return t.store("remoteDocuments").Y((n,r)=>{e+=qk(r)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Xr(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next(r=>Q.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",s).next(a=>Q.forEach(a,c=>{it(c.userId===o.userId);const l=zm(this.serializer,c);return F7(t,o.userId,l).next(()=>{})}))}))}ti(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return n.Y((s,a)=>{const c=new gi(s),l=[0,Po(c)];o.push(e.get(l).next(u=>u?Q.resolve():e.put({targetId:0,path:Po(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Q.waitFor(o))})}ni(t,e){t.createObjectStore("collectionParents",{keyPath:YDe});const n=e.store("collectionParents"),r=new O2,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return n.put({collectionId:a,parent:Po(c)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new gi(s);return o(c.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const u=el(a);return o(u.popLast())}))}ri(t){const e=t.store("targets");return e.Y((n,r)=>{const o=k0(r),s=x7(this.serializer,o);return e.put(s)})}ii(t,e){const n=e.store("remoteDocuments"),r=[];return n.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(m=s,m.document?new Re(gi.fromString(m.document.name).popFirst(5)):m.noDocument?Re.fromSegments(m.noDocument.path):m.unknownDocument?Re.fromSegments(m.unknownDocument.path):$e()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var m;r.push(a.put(l))}).next(()=>Q.waitFor(r))}si(t,e){const n=e.store("mutations"),r=$7(this.serializer),o=new F2(Kk.Hr,this.serializer.ct);return n.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Jt();zm(this.serializer,c).keys().forEach(m=>u=u.add(m)),a.set(c.userId,u)}),Q.forEach(a,(c,l)=>{const u=new eo(l),m=$k.lt(this.serializer,u),_=o.getIndexManager(u),v=Yk.lt(u,this.serializer,_,o.referenceDelegate);return new Y7(r,v,m,_).recalculateAndSaveOverlaysForDocumentKeys(new a2(e,Qs._e),c).next()})})}}function Z7(i){i.createObjectStore("targetDocuments",{keyPath:GDe}).createIndex("documentTargetsIndex",qDe,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WDe,{unique:!0}),i.createObjectStore("targetGlobal")}const L2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class V2{constructor(t,e,n,r,o,s,a,c,l,u,m=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=u,this.ui=m,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=_=>Promise.resolve(),!V2.D())throw new _e(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nSe(this,r),this.Ti=e+"main",this.serializer=new y7(c),this.Ei=new Ma(this.Ti,this.ui,new pSe(this.serializer)),this.Qr=new eSe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$7(this.serializer),this.$r=new GIe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(ee.FAILED_PRECONDITION,L2);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new Qs(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var e=this;return this.Ii=function(){var n=(0,te.Z)(function*(r){if(e.started)return t(r)});return function(r){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var e=(0,te.Z)(function*(n){null===n.newVersion&&(yield t())});return function(n){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,te.Z)(function*(){e.started&&(yield e.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Xk(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(e=>this.isPrimary&&!e?this.yi(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Pu(t))return ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return A0(t).get("owner").next(e=>Q.resolve(this.Si(e)))}bi(t){return Xk(t).delete(this.clientId)}Di(){var t=this;return(0,te.Z)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=to(n,"clientMetadata");return r.W().next(o=>{const s=t.vi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return Q.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.di)for(const n of e)t.di.removeItem(t.Fi(n.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?Q.resolve(!0):A0(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)){if(this.Si(e)&&this.networkEnabled)return!0;if(!this.Si(e)){if(!e.allowTabSynchronization)throw new _e(ee.FAILED_PRECONDITION,L2);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xk(t).W().next(n=>void 0===this.vi(n,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,te.Z)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new a2(e,Qs._e);return t.yi(n).next(()=>t.bi(n))}),t.Ei.close(),t.Bi()})()}vi(t,e){return t.filter(n=>this.Ci(n.updateTimeMs,e)&&!this.Mi(n.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",t=>Xk(t).W().next(e=>this.vi(e,18e5).map(n=>n.clientId)))}get started(){return this.qr}getMutationQueue(t,e){return Yk.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new JIe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return $k.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,e,n){ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?nIe:14===c?sq:13===c?oq:12===c?iIe:11===c?rq:void $e();var c;let s;return this.Ei.runTransaction(t,r,o,a=>(s=new a2(a,this.kr?this.kr.next():Qs._e),"readwrite-primary"===e?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw hr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _e(ee.FAILED_PRECONDITION,Q9);return n(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>n(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(t){return A0(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _e(ee.FAILED_PRECONDITION,L2)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return A0(t).put("owner",e)}static D(){return Ma.D()}yi(t){const e=A0(t);return e.get("owner").next(n=>this.Si(n)?(ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Q.resolve())}Ci(t,e){const n=Date.now();return!(t<n-e||t>n&&(hr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,I.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var e;try{const n=null!==(null===(e=this.di)||void 0===e?void 0:e.getItem(this.Fi(t)));return ve("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return hr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function A0(i){return to(i,"owner")}function Xk(i){return to(i,"clientMetadata")}function B2(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class z2{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=Jt(),r=Jt();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new z2(t,e.fromCache,n,r)}}class fSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class K7{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,I.G6)()?8:Ma.v((0,I.z$)())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const o={result:null};return this.ji(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,e,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new fSe;return this.Ji(t,e,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,e,s,a.size)})}).next(()=>o.result)}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(Fg()<=js.in.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Wg(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Fg()<=js.in.DEBUG&&ve("QueryEngine","Query:",Wg(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Fg()<=js.in.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Wg(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,rs(e))):Q.resolve())}ji(t,e){if(Mq(e))return Q.resolve(null);let n=rs(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Lk(e,null,"F"),n=rs(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{const s=Jt(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,n).next(c=>{const l=this.Zi(e,a);return this.Xi(e,l,s,c.readTime)?this.ji(t,Lk(e,null,"F")):this.es(t,l,e,c)}))})))}Hi(t,e,n,r){return Mq(e)||r.isEqual(st.min())?Q.resolve(null):this.zi.getDocuments(t,n).next(o=>{const s=this.Zi(e,o);return this.Xi(e,s,n,r)?Q.resolve(null):(Fg()<=js.in.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wg(e)),this.es(t,s,e,Z9(r,-1)).next(a=>a))})}Zi(t,e){let n=new en(Oq(t));return e.forEach((r,o)=>{g0(t,o)&&(n=n.add(o))}),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,e,n){return Fg()<=js.in.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Wg(e)),this.zi.getDocumentsMatchingQuery(t,e,Ks.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class gSe{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new bn(Ft),this.rs=new sd(o=>Nm(o),p0),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y7(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function Q7(i,t,e,n){return new gSe(i,t,e,n)}function X7(i,t){return H2.apply(this,arguments)}function H2(){return H2=(0,te.Z)(function*(i,t){const e=Me(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,e._s(t),e.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let c=Jt();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})}),H2.apply(this,arguments)}function J7(i){const t=Me(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function eY(i,t,e){let n=Jt(),r=Jt();return e.forEach(o=>n=n.add(o)),t.getEntries(i,n).next(o=>{let s=Ds();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(st.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function bSe(i,t){const e=Me(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function i_(i,t){const e=Me(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Qr.getTargetData(n,t).next(o=>o?(r=o,Q.resolve(r)):e.Qr.allocateTargetId(n).next(s=>(r=new cd(t,s,"TargetPurposeListen",n.currentSequenceNumber),e.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=e.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(n.targetId,n),e.rs.set(t,n.targetId)),n})}function n_(i,t,e){return U2.apply(this,arguments)}function U2(){return U2=(0,te.Z)(function*(i,t,e){const n=Me(i),r=n.ns.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Pu(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)}),U2.apply(this,arguments)}function Jk(i,t,e){const n=Me(i);let r=st.min(),o=Jt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const m=Me(c),_=m.rs.get(u);return void 0!==_?Q.resolve(m.ns.get(_)):m.Qr.getTargetData(l,u)}(n,s,rs(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,e?r:st.min(),e?o:Jt())).next(a=>(nY(n,Pq(t),a),{documents:a,hs:o})))}function tY(i,t){const e=Me(i),n=Me(e.Qr),r=e.ns.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>n._t(o,t).next(s=>s?s.target:null))}function iY(i,t){const e=Me(i),n=e.ss.get(t)||st.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.os.getAllFromCollectionGroup(r,t,Z9(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(nY(e,t,r),r))}function nY(i,t,e){let n=i.ss.get(t)||st.min();e.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.ss.set(t,n)}function j2(){return j2=(0,te.Z)(function*(i,t,e,n){const r=Me(i);let o=Jt(),s=Ds();for(const l of e){const u=t.Ps(l.metadata.name);l.document&&(o=o.add(u));const m=t.Is(l);m.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(u,m)}const a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield i_(r,(u=n,rs(jg(gi.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>eY(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.cs,u.ls)).next(()=>u.cs)))}),j2.apply(this,arguments)}function wSe(i,t){return $2.apply(this,arguments)}function $2(){return $2=(0,te.Z)(function*(i,t,e=Jt()){const n=yield i_(i,rs(I2(t.bundledQuery))),r=Me(i);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=mr(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(o,t);const a=n.withResumeToken($r.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(a.targetId,a),r.Qr.updateTargetData(o,a).next(()=>r.Qr.removeMatchingKeysForTargetId(o,n.targetId)).next(()=>r.Qr.addMatchingKeys(o,e,n.targetId)).next(()=>r.$r.saveNamedQuery(o,t))})}),$2.apply(this,arguments)}function rY(i,t){return`firestore_clients_${i}_${t}`}function oY(i,t,e){let n=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function W2(i,t){return`firestore_targets_${i}_${t}`}class eD{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static Es(t,e,n){const r=JSON.parse(n);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new _e(r.error.code,r.error.message))),s?new eD(t,e,r.state,o):(hr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class R0{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Es(t,e){const n=JSON.parse(e);let r,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(r=new _e(n.error.code,n.error.message))),o?new R0(t,n.state,r):(hr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class tD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Es(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,o=g2();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=eq(n.activeTargetIds[s]),o=o.add(n.activeTargetIds[s]);return r?new tD(t,o):(hr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class G2{constructor(t,e){this.clientId=t,this.onlineState=e}static Es(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new G2(e.clientId,e.onlineState):(hr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class q2{constructor(){this.activeTargetIds=g2()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y2{constructor(t,e,n,r,o){this.window=t,this.oi=e,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new bn(Ft),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=rY(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new q2),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,te.Z)(function*(){const e=yield t.syncEngine.Li();for(const r of e){if(r===t.Vs)continue;const o=t.getItem(rY(t.persistenceKey,r));if(o){const s=tD.Es(r,o);s&&(t.ps=t.ps.insert(s.clientId,s))}}t.Ms();const n=t.storage.getItem(t.vs);if(n){const r=t.xs(n);r&&t.Os(r)}for(const r of t.ys)t.gs(r);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let e=!1;return this.ps.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Bs(t,"pending")}updateMutationState(t,e,n){this.Bs(t,e,n),this.Ls(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(W2(this.persistenceKey,t));if(n){const r=R0.Es(t,n);r&&(e=r.state)}}return this.ks.As(t),this.Ms(),e}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(W2(this.persistenceKey,t))}updateQueryState(t,e,n){this.qs(t,e,n)}handleUserChange(t,e,n){e.forEach(r=>{this.Ls(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ve("SharedClientState","READ",t,e),e}setItem(t,e){ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var e=this;const n=t;if(n.storageArea===this.storage){if(ve("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,te.Z)(function*(){if(e.started){if(null!==n.key)if(e.bs.test(n.key)){if(null==n.newValue){const r=e.$s(n.key);return e.Us(r,null)}{const r=e.Ws(n.key,n.newValue);if(r)return e.Us(r.clientId,r)}}else if(e.Ds.test(n.key)){if(null!==n.newValue){const r=e.Gs(n.key,n.newValue);if(r)return e.zs(r)}}else if(e.Cs.test(n.key)){if(null!==n.newValue){const r=e.js(n.key,n.newValue);if(r)return e.Hs(r)}}else if(n.key===e.vs){if(null!==n.newValue){const r=e.xs(n.newValue);if(r)return e.Os(r)}}else if(n.key===e.Ss){const r=function(s){let a=Qs._e;if(null!=s)try{const c=JSON.parse(s);it("number"==typeof c),a=c}catch(c){hr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(n.newValue);r!==Qs._e&&e.sequenceNumberHandler(r)}else if(n.key===e.Fs){const r=e.Js(n.newValue);yield Promise.all(r.map(o=>e.syncEngine.Ys(o)))}}else e.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(t,e,n){const r=new eD(this.currentUser,t,e,n),o=oY(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ds())}Ls(t){const e=oY(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,e,n){const r=W2(this.persistenceKey,t),o=new R0(t,e,n);this.setItem(r,o.ds())}Ks(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Fs,e)}$s(t){const e=this.bs.exec(t);return e?e[1]:null}Ws(t,e){const n=this.$s(t);return tD.Es(n,e)}Gs(t,e){const n=this.Ds.exec(t),r=Number(n[1]);return eD.Es(new eo(void 0!==n[2]?n[2]:null),r,e)}js(t,e){const n=this.Cs.exec(t),r=Number(n[1]);return R0.Es(r,e)}xs(t){return G2.Es(t)}Js(t){return JSON.parse(t)}zs(t){var e=this;return(0,te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Zs(t.batchId,t.state,t.error);ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,e){const n=e?this.ps.insert(t,e):this.ps.remove(t),r=this.Ns(this.ps),o=this.Ns(n),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=n})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let e=g2();return t.forEach((n,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class sY{constructor(){this.no=new q2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new q2,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xSe{io(t){}shutdown(){}}class aY{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iD=null;function Z2(){return null===iD?iD=268435456+Math.round(2147483648*Math.random()):iD++,"0x"+iD.toString(16)}const CSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ESe{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const No="WebChannelConnection";class TSe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+e.host,this.po=`projects/${r}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(e,n,r,o,s){const a=Z2(),c=this.bo(e,n.toUriEncodedString());ve("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(e,c,l,r).then(u=>(ve("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Ts("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(e,n,r,o,s,a){return this.So(e,n,r,o,s)}Do(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ng,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}bo(e,n){return`${this.fo}/v1/${n}:${CSe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,r){const o=Z2();return new Promise((s,a)=>{const c=new xDe;c.setWithCredentials(!0),c.listenOnce(yDe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case e2.NO_ERROR:const u=c.getResponseJson();ve(No,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case e2.TIMEOUT:ve(No,`RPC '${t}' ${o} timed out`),a(new _e(ee.DEADLINE_EXCEEDED,"Request time out"));break;case e2.HTTP_ERROR:const m=c.getStatus();if(ve(No,`RPC '${t}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const x=function(k){const O=k.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(O)>=0?O:ee.UNKNOWN}(v.status);a(new _e(x,v.message))}else a(new _e(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _e(ee.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{ve(No,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);ve(No,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,n,15)})}Fo(t,e,n){const r=Z2(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=vDe(),a=bDe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=o.join("");ve(No,`Creating RPC '${t}' stream ${r}: ${u}`,c);const m=s.createWebChannel(u,c);let _=!1,v=!1;const x=new ESe({lo:k=>{v?ve(No,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(_||(ve(No,`Opening RPC '${t}' stream ${r} transport.`),m.open(),_=!0),ve(No,`RPC '${t}' stream ${r} sending:`,k),m.send(k))},ho:()=>m.close()}),E=(k,O,R)=>{k.listen(O,z=>{try{R(z)}catch(K){setTimeout(()=>{throw K},0)}})};return E(m,kk.EventType.OPEN,()=>{v||ve(No,`RPC '${t}' stream ${r} transport opened.`)}),E(m,kk.EventType.CLOSE,()=>{v||(v=!0,ve(No,`RPC '${t}' stream ${r} transport closed`),x.Vo())}),E(m,kk.EventType.ERROR,k=>{v||(v=!0,Ts(No,`RPC '${t}' stream ${r} transport errored:`,k),x.Vo(new _e(ee.UNAVAILABLE,"The operation could not be completed")))}),E(m,kk.EventType.MESSAGE,k=>{var O;if(!v){const R=k.data[0];it(!!R);const K=R.error||(null===(O=R[0])||void 0===O?void 0:O.error);if(K){ve(No,`RPC '${t}' stream ${r} received error:`,K);const le=K.status;let ke=function(rt){const ct=Sr[rt];if(void 0!==ct)return Xq(ct)}(le),We=K.message;void 0===ke&&(ke=ee.INTERNAL,We="Unknown error status: "+le+" with message "+K.message),v=!0,x.Vo(new _e(ke,We)),m.close()}else ve(No,`RPC '${t}' stream ${r} received:`,R),x.mo(R)}}),E(a,wDe.STAT_EVENT,k=>{k.stat===j9.PROXY?ve(No,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===j9.NOPROXY&&ve(No,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.Ro()},0),x}}function cY(){return typeof window<"u"?window:null}function nD(){return typeof document<"u"?document:null}function P0(i){return new NIe(i,!0)}class K2{constructor(t,e,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=e,this.Mo=n,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,e-n);r>0&&ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class lY{constructor(t,e,n,r,o,s,a,c){this.oi=t,this.$o=n,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new K2(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var t=this;return(0,te.Z)(function*(){t.Ho()&&(yield t.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}e_(){var t=this;return(0,te.Z)(function*(){if(t.Jo())return t.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(t,e){var n=this;return(0,te.Z)(function*(){n.n_(),n.r_(),n.jo.cancel(),n.Wo++,4!==t?n.jo.reset():e&&e.code===ee.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),n.jo.ko()):e&&e.code===ee.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.i_(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.To(e)})()}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Wo===e&&this.o_(n,r)},n=>{t(()=>{const r=new _e(ee.UNKNOWN,"Fetching auth token failed: "+n.message);return this.__(r)})})}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{n(()=>this.__(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Yo(){var t=this;this.state=5,this.jo.qo((0,te.Z)(function*(){t.state=0,t.start()}))}__(t){return ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget(()=>this.Wo===t?e():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kSe extends lY{constructor(t,e,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function VIe(i,t){let e;if("targetChange"in t){const n="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$e(),r=t.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(it(void 0===u||"string"==typeof u),$r.fromBase64String(u||"")):(it(void 0===u||u instanceof Uint8Array),$r.fromUint8Array(u||new Uint8Array))}(i,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const u=void 0===l.code?ee.UNKNOWN:Xq(l.code);return new _e(u,l.message||"")}(s);e=new r7(n,r,o,a||null)}else if("documentChange"in t){const n=t.documentChange,r=nl(i,n.document.name),o=mr(n.document.updateTime),s=n.document.createTime?mr(n.document.createTime):st.min(),a=new yo({mapValue:{fields:n.document.fields}}),c=Dn.newFoundDocument(r,o,s,a);e=new Uk(n.targetIds||[],n.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const n=t.documentDelete,r=nl(i,n.document),o=n.readTime?mr(n.readTime):st.min(),s=Dn.newNoDocument(r,o);e=new Uk([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const n=t.documentRemove,r=nl(i,n.document);e=new Uk([],n.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $e();{const n=t.filter,{count:r=0,unchangedNames:o}=n,s=new SIe(r,o);e=new n7(n.targetId,s)}}var l;return e}(this.serializer,t),n=function(o){if(!("targetChange"in o))return st.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?st.min():s.readTime?mr(s.readTime):st.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=T2(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=Nk(c)?{documents:f7(o,c)}:{query:D2(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=c7(o,s.resumeToken);const l=x2(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(st.min())>0){a.readTime=Kg(o,s.snapshotVersion.toTimestamp());const l=x2(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const n=function zIe(i,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=T2(this.serializer),e.removeTarget=t,this.t_(e)}}class DSe extends lY{constructor(t,e,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(it(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function BIe(i,t){return i&&i.length>0?(it(void 0!==t),i.map(e=>function(r,o){let s=mr(r.updateTime?r.updateTime:o);return s.isEqual(st.min())&&(s=mr(o)),new TIe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),n=mr(t.commitTime);return this.listener.T_(n,e)}return it(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=T2(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>T0(this.serializer,n))};this.t_(e)}}class ISe extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,E2(e,n),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ee.UNKNOWN,o.toString())})}vo(t,e,n,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,E2(e,n),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(ee.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class MSe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hr(e),this.g_=!1):ve("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class ASe{constructor(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{n.enqueueAndForget((0,te.Z)(function*(){var c;Wu(s)&&(ve("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,te.Z)(function*(u){const m=Me(u);m.v_.add(4),yield r_(m),m.x_.set("Unknown"),m.v_.delete(4),yield O0(m)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.x_=new MSe(n,r)}}function O0(i){return X2.apply(this,arguments)}function X2(){return X2=(0,te.Z)(function*(i){if(Wu(i))for(const t of i.F_)yield t(!0)}),X2.apply(this,arguments)}function r_(i){return J2.apply(this,arguments)}function J2(){return J2=(0,te.Z)(function*(i){for(const t of i.F_)yield t(!1)}),J2.apply(this,arguments)}function rD(i,t){const e=Me(i);e.C_.has(t.targetId)||(e.C_.set(t.targetId,t),iN(e)?tN(e):s_(e).Jo()&&eN(e,t))}function N0(i,t){const e=Me(i),n=s_(e);e.C_.delete(t),n.Jo()&&dY(e,t),0===e.C_.size&&(n.Jo()?n.Xo():Wu(e)&&e.x_.set("Unknown"))}function eN(i,t){if(i.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(st.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}s_(i).c_(t)}function dY(i,t){i.O_.Oe(t),s_(i).l_(t)}function tN(i){i.O_=new AIe({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>i.C_.get(t)||null,nt:()=>i.datastore.serializer.databaseId}),s_(i).start(),i.x_.p_()}function iN(i){return Wu(i)&&!s_(i).Ho()&&i.C_.size>0}function Wu(i){return 0===Me(i).v_.size}function uY(i){i.O_=void 0}function RSe(i){return nN.apply(this,arguments)}function nN(){return nN=(0,te.Z)(function*(i){i.C_.forEach((t,e)=>{eN(i,t)})}),nN.apply(this,arguments)}function PSe(i,t){return rN.apply(this,arguments)}function rN(){return rN=(0,te.Z)(function*(i,t){uY(i),iN(i)?(i.x_.S_(t),tN(i)):i.x_.set("Unknown")}),rN.apply(this,arguments)}function OSe(i,t,e){return oN.apply(this,arguments)}function oN(){return oN=(0,te.Z)(function*(i,t,e){if(i.x_.set("Online"),t instanceof r7&&2===t.state&&t.cause)try{yield(n=(0,te.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.C_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.C_.delete(c),o.O_.removeTarget(c))}),function r(o,s){return n.apply(this,arguments)})(i,t)}catch(n){ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield oD(i,n)}else if(t instanceof Uk?i.O_.$e(t):t instanceof n7?i.O_.Je(t):i.O_.Ge(t),!e.isEqual(st.min()))try{const n=yield J7(i.localStore);e.compareTo(n)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.C_.get(l);u&&o.C_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.C_.get(c);if(!u)return;o.C_.set(c,u.withResumeToken($r.EMPTY_BYTE_STRING,u.snapshotVersion)),dY(o,c);const m=new cd(u.target,c,l,u.sequenceNumber);eN(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(i,e))}catch(n){ve("RemoteStore","Failed to raise snapshot:",n),yield oD(i,n)}var n}),oN.apply(this,arguments)}function oD(i,t,e){return sN.apply(this,arguments)}function sN(){return sN=(0,te.Z)(function*(i,t,e){if(!Pu(t))throw t;i.v_.add(1),yield r_(i),i.x_.set("Offline"),e||(e=()=>J7(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.Z)(function*(){ve("RemoteStore","Retrying IndexedDB access"),yield e(),i.v_.delete(1),yield O0(i)}))}),sN.apply(this,arguments)}function hY(i,t){return t().catch(e=>oD(i,e,t))}function o_(i){return aN.apply(this,arguments)}function aN(){return aN=(0,te.Z)(function*(i){const t=Me(i),e=Gu(t);let n=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;NSe(t);)try{const r=yield bSe(t.localStore,n);if(null===r){0===t.D_.length&&e.Xo();break}n=r.batchId,FSe(t,r)}catch(r){yield oD(t,r)}mY(t)&&pY(t)}),aN.apply(this,arguments)}function NSe(i){return Wu(i)&&i.D_.length<10}function FSe(i,t){i.D_.push(t);const e=Gu(i);e.Jo()&&e.P_&&e.I_(t.mutations)}function mY(i){return Wu(i)&&!Gu(i).Ho()&&i.D_.length>0}function pY(i){Gu(i).start()}function LSe(i){return cN.apply(this,arguments)}function cN(){return cN=(0,te.Z)(function*(i){Gu(i).d_()}),cN.apply(this,arguments)}function VSe(i){return lN.apply(this,arguments)}function lN(){return lN=(0,te.Z)(function*(i){const t=Gu(i);for(const e of i.D_)t.I_(e.mutations)}),lN.apply(this,arguments)}function BSe(i,t,e){return dN.apply(this,arguments)}function dN(){return dN=(0,te.Z)(function*(i,t,e){const n=i.D_.shift(),r=b2.from(n,t,e);yield hY(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield o_(i)}),dN.apply(this,arguments)}function zSe(i,t){return uN.apply(this,arguments)}function uN(){return uN=(0,te.Z)(function*(i,t){var e;t&&Gu(i).P_&&(yield(e=(0,te.Z)(function*(r,o){if(Qq(a=o.code)&&a!==ee.ABORTED){const s=r.D_.shift();Gu(r).Zo(),yield hY(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield o_(r)}var a}),function n(r,o){return e.apply(this,arguments)})(i,t)),mY(i)&&pY(i)}),uN.apply(this,arguments)}function fY(i,t){return hN.apply(this,arguments)}function hN(){return hN=(0,te.Z)(function*(i,t){const e=Me(i);e.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const n=Wu(e);e.v_.add(3),yield r_(e),n&&e.x_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.v_.delete(3),yield O0(e)}),hN.apply(this,arguments)}function mN(i,t){return pN.apply(this,arguments)}function pN(){return pN=(0,te.Z)(function*(i,t){const e=Me(i);t?(e.v_.delete(2),yield O0(e)):t||(e.v_.add(2),yield r_(e),e.x_.set("Unknown"))}),pN.apply(this,arguments)}function s_(i){return i.N_||(i.N_=function(e,n,r){const o=Me(e);return o.R_(),new kSe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:RSe.bind(null,i),To:PSe.bind(null,i),u_:OSe.bind(null,i)}),i.F_.push(function(){var t=(0,te.Z)(function*(e){e?(i.N_.Zo(),iN(i)?tN(i):i.x_.set("Unknown")):(yield i.N_.stop(),uY(i))});return function(e){return t.apply(this,arguments)}}())),i.N_}function Gu(i){return i.B_||(i.B_=function(e,n,r){const o=Me(e);return o.R_(),new DSe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:LSe.bind(null,i),To:zSe.bind(null,i),E_:VSe.bind(null,i),T_:BSe.bind(null,i)}),i.F_.push(function(){var t=(0,te.Z)(function*(e){e?(i.B_.Zo(),yield o_(i)):(yield i.B_.stop(),i.D_.length>0&&(ve("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(e){return t.apply(this,arguments)}}())),i.B_}class fN{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){const s=Date.now()+n,a=new fN(t,e,s,r,o);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(i,t){if(hr("AsyncQueue",`${t}: ${i}`),Pu(i))return new _e(ee.UNAVAILABLE,`${t}: ${i}`);throw i}class c_{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Re.comparator(e.key,n.key):(e,n)=>Re.comparator(e.key,n.key),this.keyedMap=_0(),this.sortedSet=new bn(this.comparator)}static emptySet(t){return new c_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof c_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new c_;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class gY{constructor(){this.L_=new bn(Re.comparator)}track(t){const e=t.doc.key,n=this.L_.get(e);n?0!==t.type&&3===n.type?this.L_=this.L_.insert(e,t):3===t.type&&1!==n.type?this.L_=this.L_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.L_=this.L_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.L_=this.L_.remove(e):1===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):$e():this.L_=this.L_.insert(e,t)}k_(){const t=[];return this.L_.inorderTraversal((e,n)=>{t.push(n)}),t}}class l_{constructor(t,e,n,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new l_(t,e,c_.emptySet(e),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&f0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class HSe{constructor(){this.q_=void 0,this.Q_=[]}}class USe{constructor(){this.queries=new sd(t=>Rq(t),f0),this.onlineState="Unknown",this.K_=new Set}}function gN(i,t){return _N.apply(this,arguments)}function _N(){return _N=(0,te.Z)(function*(i,t){const e=Me(i),n=t.query;let r=!1,o=e.queries.get(n);if(o||(r=!0,o=new HSe),r)try{o.q_=yield e.onListen(n)}catch(s){const a=a_(s,`Initialization of query '${Wg(t.query)}' failed`);return void t.onError(a)}e.queries.set(n,o),o.Q_.push(t),t.U_(e.onlineState),o.q_&&t.W_(o.q_)&&yN(e)}),_N.apply(this,arguments)}function vN(i,t){return bN.apply(this,arguments)}function bN(){return bN=(0,te.Z)(function*(i,t){const e=Me(i),n=t.query;let r=!1;const o=e.queries.get(n);if(o){const s=o.Q_.indexOf(t);s>=0&&(o.Q_.splice(s,1),r=0===o.Q_.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}),bN.apply(this,arguments)}function jSe(i,t){const e=Me(i);let n=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.Q_)a.W_(r)&&(n=!0);s.q_=r}}n&&yN(e)}function $Se(i,t,e){const n=Me(i),r=n.queries.get(t);if(r)for(const o of r.Q_)o.onError(e);n.queries.delete(t)}function yN(i){i.K_.forEach(t=>{t.next()})}class wN{constructor(t,e,n){this.query=t,this.G_=e,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(t){if(!this.options.includeMetadataChanges){const n=[];for(const r of t.docChanges)3!==r.type&&n.push(r);t=new l_(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.z_?this.H_(t)&&(this.G_.next(t),e=!0):this.J_(t,this.onlineState)&&(this.Y_(t),e=!0),this.j_=t,e}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let e=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),e=!0),e}J_(t,e){return!t.fromCache||(!this.options.Z_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}H_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(t){t=l_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}class WSe{constructor(t,e){this.X_=t,this.byteLength=e}ea(){return"metadata"in this.X_}}class _Y{constructor(t){this.serializer=t}Ps(t){return nl(this.serializer,t)}Is(t){return t.metadata.exists?p7(this.serializer,t.document,!1):Dn.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return mr(t)}}class GSe{constructor(t,e,n){this.ta=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vY(t)}na(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.X_.namedQuery)this.queries.push(t.X_.namedQuery);else if(t.X_.documentMetadata){this.documents.push({metadata:t.X_.documentMetadata}),t.X_.documentMetadata.exists||++e;const n=gi.fromString(t.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.X_.document&&(this.documents[this.documents.length-1].document=t.X_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ra(t){const e=new Map,n=new _Y(this.serializer);for(const r of t)if(r.metadata.queries){const o=n.Ps(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Jt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,te.Z)(function*(){const e=yield function ySe(i,t,e,n){return j2.apply(this,arguments)}(t.localStore,new _Y(t.serializer),t.documents,t.ta.id),n=t.ra(t.documents);for(const r of t.queries)yield wSe(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",{progress:t.progress,ia:t.collectionGroups,sa:e}})()}}function vY(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class bY{constructor(t){this.key=t}}class yY{constructor(t){this.key=t}}class wY{constructor(t,e){this.query=t,this.oa=e,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Jt(),this.mutatedKeys=Jt(),this.ua=Oq(t),this.ca=new c_(this.ua)}get la(){return this.oa}ha(t,e){const n=e?e.Pa:new gY,r=e?e.ca:this.ca;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,m)=>{const _=r.get(u),v=g0(this.query,m)?m:null,x=!!_&&this.mutatedKeys.has(_.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;_&&v?_.data.isEqual(v.data)?x!==E&&(n.track({type:3,doc:v}),k=!0):this.Ia(_,v)||(n.track({type:2,doc:v}),k=!0,(c&&this.ua(v,c)>0||l&&this.ua(v,l)<0)&&(a=!0)):!_&&v?(n.track({type:0,doc:v}),k=!0):_&&!v&&(n.track({type:1,doc:_}),k=!0,(c||l)&&(a=!0)),k&&(v?(s=s.add(v),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),n.track({type:1,doc:u})}return{ca:s,Pa:n,Xi:a,mutatedKeys:o}}Ia(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const o=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.k_();s.sort((u,m)=>function(v,x){const E=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return E(v)-E(x)}(u.type,m.type)||this.ua(u.doc,m.doc)),this.Ta(n),r=null!=r&&r;const a=e&&!r?this.Ea():[],c=0===this.aa.size&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,0!==s.length||l?{snapshot:new l_(this.query,t.ca,o,s,t.mutatedKeys,0===c,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new gY,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(e=>this.oa=this.oa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.oa=this.oa.delete(e)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=Jt(),this.ca.forEach(n=>{this.Aa(n.key)&&(this.aa=this.aa.add(n.key))});const e=[];return t.forEach(n=>{this.aa.has(n)||e.push(new yY(n))}),this.aa.forEach(n=>{t.has(n)||e.push(new bY(n))}),e}Ra(t){this.oa=t.hs,this.aa=Jt();const e=this.ha(t.documents);return this.applyChanges(e,!0)}Va(){return l_.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class qSe{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class YSe{constructor(t){this.key=t,this.ma=!1}}class ZSe{constructor(t,e,n,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new sd(a=>Rq(a),f0),this.pa=new Map,this.ya=new Set,this.wa=new bn(Re.comparator),this.Sa=new Map,this.ba=new N2,this.Da={},this.Ca=new Map,this.va=jm.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function KSe(i,t){return xN.apply(this,arguments)}function xN(){return xN=(0,te.Z)(function*(i,t){const e=WN(i);let n,r;const o=e.ga.get(t);if(o)n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Va();else{const s=yield i_(e.localStore,rs(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,r=yield CN(e,t,n,"current"===a,s.resumeToken),e.isPrimaryClient&&rD(e.remoteStore,s)}return r}),xN.apply(this,arguments)}function CN(i,t,e,n,r){return EN.apply(this,arguments)}function EN(){return EN=(0,te.Z)(function*(i,t,e,n,r){i.Ma=(m,_,v)=>{return(x=(0,te.Z)(function*(k,O,R,z){let K=O.view.ha(R);K.Xi&&(K=yield Jk(k.localStore,O.query,!1).then(({documents:Ze})=>O.view.ha(Ze,K)));const le=z&&z.targetChanges.get(O.targetId),ke=z&&null!=z.targetMismatches.get(O.targetId),We=O.view.applyChanges(K,k.isPrimaryClient,le,ke);return ON(k,O.targetId,We.da),We.snapshot}),function E(k,O,R,z){return x.apply(this,arguments)})(i,m,_,v);var x};const o=yield Jk(i.localStore,t,!0),s=new wY(t,o.hs),a=s.ha(o.documents),c=C0.createSynthesizedTargetChangeForCurrentChange(e,n&&"Offline"!==i.onlineState,r),l=s.applyChanges(a,i.isPrimaryClient,c);ON(i,e,l.da);const u=new qSe(t,e,s);return i.ga.set(t,u),i.pa.has(e)?i.pa.get(e).push(t):i.pa.set(e,[t]),l.snapshot}),EN.apply(this,arguments)}function QSe(i,t){return TN.apply(this,arguments)}function TN(){return TN=(0,te.Z)(function*(i,t){const e=Me(i),n=e.ga.get(t),r=e.pa.get(n.targetId);if(r.length>1)return e.pa.set(n.targetId,r.filter(o=>!f0(o,t))),void e.ga.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||(yield n_(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),N0(e.remoteStore,n.targetId),d_(e,n.targetId)}).catch(Ru))):(d_(e,n.targetId),yield n_(e.localStore,n.targetId,!0))}),TN.apply(this,arguments)}function kN(){return kN=(0,te.Z)(function*(i,t,e){const n=GN(i);try{const r=yield function(s,a){const c=Me(s),l=Nn.now(),u=a.reduce((v,x)=>v.add(x.key),Jt());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Ds(),E=Jt();return c.os.getEntries(v,u).next(k=>{x=k,x.forEach((O,R)=>{R.isValidDocument()||(E=E.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(k=>{m=k;const O=[];for(const R of a){const z=DIe(R,m.get(R.key).overlayedDocument);null!=z&&O.push(new ad(R.key,z,_q(z.value.mapValue),Fn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,O,a)}).next(k=>{_=k;const O=k.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(v,k.batchId,O)})}).then(()=>({batchId:_.batchId,changes:Fq(m)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Da[s.currentUser.toKey()];l||(l=new bn(Ft)),l=l.insert(a,c),s.Da[s.currentUser.toKey()]=l}(n,r.batchId,e),yield ld(n,r.changes),yield o_(n.remoteStore)}catch(r){const o=a_(r,"Failed to persist write");e.reject(o)}}),kN.apply(this,arguments)}function xY(i,t){return DN.apply(this,arguments)}function DN(){return DN=(0,te.Z)(function*(i,t){const e=Me(i);try{const n=yield function vSe(i,t){const e=Me(i),n=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const a=[];t.targetChanges.forEach((u,m)=>{const _=r.get(m);if(!_)return;a.push(e.Qr.removeMatchingKeys(o,u.removedDocuments,m).next(()=>e.Qr.addMatchingKeys(o,u.addedDocuments,m)));let v=_.withSequenceNumber(o.currentSequenceNumber);var E,k,O;null!==t.targetMismatches.get(m)?v=v.withResumeToken($r.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,n)),r=r.insert(m,v),k=v,O=u,(0===(E=_).resumeToken.approximateByteSize()||k.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0)&&a.push(e.Qr.updateTargetData(o,v))});let c=Ds(),l=Jt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(eY(o,s,t.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!n.isEqual(st.min())){const u=e.Qr.getLastRemoteSnapshotVersion(o).next(m=>e.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(u)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.ns=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Sa.get(o);s&&(it(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.ma=!0:r.modifiedDocuments.size>0?it(s.ma):r.removedDocuments.size>0&&(it(s.ma),s.ma=!1))}),yield ld(e,n,t)}catch(n){yield Ru(n)}}),DN.apply(this,arguments)}function CY(i,t,e){const n=Me(i);if(n.isPrimaryClient&&0===e||!n.isPrimaryClient&&1===e){const r=[];n.ga.forEach((o,s)=>{const a=s.view.U_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Me(s);c.onlineState=a;let l=!1;c.queries.forEach((u,m)=>{for(const _ of m.Q_)_.U_(a)&&(l=!0)}),l&&yN(c)}(n.eventManager,t),r.length&&n.fa.u_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function JSe(i,t,e){return IN.apply(this,arguments)}function IN(){return IN=(0,te.Z)(function*(i,t,e){const n=Me(i);n.sharedClientState.updateQueryState(t,"rejected",e);const r=n.Sa.get(t),o=r&&r.key;if(o){let s=new bn(Re.comparator);s=s.insert(o,Dn.newNoDocument(o,st.min()));const a=Jt().add(o),c=new x0(st.min(),new Map,new bn(Ft),s,a);yield xY(n,c),n.wa=n.wa.remove(o),n.Sa.delete(t),NN(n)}else yield n_(n.localStore,t,!1).then(()=>d_(n,t,e)).catch(Ru)}),IN.apply(this,arguments)}function eMe(i,t){return SN.apply(this,arguments)}function SN(){return SN=(0,te.Z)(function*(i,t){const e=Me(i),n=t.batch.batchId;try{const r=yield function _Se(i,t){const e=Me(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=t.batch.keys(),o=e.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const m=l.batch,_=m.keys();let v=Q.resolve();return _.forEach(x=>{v=v.next(()=>u.getEntry(c,x)).next(E=>{const k=l.docVersions.get(x);it(null!==k),E.version.compareTo(k)<0&&(m.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(e,n,t,o).next(()=>o.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=Jt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(n,r))})}(e.localStore,t);PN(e,n,null),RN(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield ld(e,r)}catch(r){yield Ru(r)}}),SN.apply(this,arguments)}function tMe(i,t,e){return MN.apply(this,arguments)}function MN(){return MN=(0,te.Z)(function*(i,t,e){const n=Me(i);try{const r=yield function(s,a){const c=Me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(m=>(it(null!==m),u=m.keys(),c.mutationQueue.removeMutationBatch(l,m))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(n.localStore,t);PN(n,t,e),RN(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield ld(n,r)}catch(r){yield Ru(r)}}),MN.apply(this,arguments)}function AN(){return AN=(0,te.Z)(function*(i,t){const e=Me(i);Wu(e.remoteStore)||ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(s){const a=Me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===n)return void t.resolve();const r=e.Ca.get(n)||[];r.push(t),e.Ca.set(n,r)}catch(n){const r=a_(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),AN.apply(this,arguments)}function RN(i,t){(i.Ca.get(t)||[]).forEach(e=>{e.resolve()}),i.Ca.delete(t)}function PN(i,t,e){const n=Me(i);let r=n.Da[n.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),n.Da[n.currentUser.toKey()]=r}}function d_(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.pa.get(t))i.ga.delete(n),e&&i.fa.xa(n,e);i.pa.delete(t),i.isPrimaryClient&&i.ba.Vr(t).forEach(n=>{i.ba.containsKey(n)||EY(i,n)})}function EY(i,t){i.ya.delete(t.path.canonicalString());const e=i.wa.get(t);null!==e&&(N0(i.remoteStore,e),i.wa=i.wa.remove(t),i.Sa.delete(e),NN(i))}function ON(i,t,e){for(const n of e)n instanceof bY?(i.ba.addReference(n.key,t),nMe(i,n)):n instanceof yY?(ve("SyncEngine","Document no longer in limbo: "+n.key),i.ba.removeReference(n.key,t),i.ba.containsKey(n.key)||EY(i,n.key)):$e()}function nMe(i,t){const e=t.key,n=e.path.canonicalString();i.wa.get(e)||i.ya.has(n)||(ve("SyncEngine","New document in limbo: "+e),i.ya.add(n),NN(i))}function NN(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const t=i.ya.values().next().value;i.ya.delete(t);const e=new Re(gi.fromString(t)),n=i.va.next();i.Sa.set(n,new YSe(e)),i.wa=i.wa.insert(e,n),rD(i.remoteStore,new cd(rs(jg(e.path)),n,"TargetPurposeLimboResolution",Qs._e))}}function ld(i,t,e){return FN.apply(this,arguments)}function FN(){return FN=(0,te.Z)(function*(i,t,e){const n=Me(i),r=[],o=[],s=[];var a;n.ga.isEmpty()||(n.ga.forEach((a,c)=>{s.push(n.Ma(c,t,e).then(l=>{if((l||e)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=z2.Ki(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),n.fa.u_(r),yield(a=(0,te.Z)(function*(l,u){const m=Me(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Q.forEach(u,v=>Q.forEach(v.qi,x=>m.persistence.referenceDelegate.addReference(_,v.targetId,x)).next(()=>Q.forEach(v.Qi,x=>m.persistence.referenceDelegate.removeReference(_,v.targetId,x)))))}catch(_){if(!Pu(_))throw _;ve("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of u){const v=_.targetId;if(!_.fromCache){const x=m.ns.get(v),k=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);m.ns=m.ns.insert(v,k)}}}),function c(l,u){return a.apply(this,arguments)})(n.localStore,o))}),FN.apply(this,arguments)}function rMe(i,t){return LN.apply(this,arguments)}function LN(){return LN=(0,te.Z)(function*(i,t){const e=Me(i);if(!e.currentUser.isEqual(t)){ve("SyncEngine","User change. New user:",t.toKey());const n=yield X7(e.localStore,t);e.currentUser=t,(o=e).Ca.forEach(a=>{a.forEach(c=>{c.reject(new _e(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield ld(e,n.us)}var o}),LN.apply(this,arguments)}function oMe(i,t){const e=Me(i),n=e.Sa.get(t);if(n&&n.ma)return Jt().add(n.key);{let r=Jt();const o=e.pa.get(t);if(!o)return r;for(const s of o){const a=e.ga.get(s);r=r.unionWith(a.view.la)}return r}}function sMe(i,t){return VN.apply(this,arguments)}function VN(){return VN=(0,te.Z)(function*(i,t){const e=Me(i),n=yield Jk(e.localStore,t.query,!0),r=t.view.Ra(n);return e.isPrimaryClient&&ON(e,t.targetId,r.da),r}),VN.apply(this,arguments)}function aMe(i,t){return BN.apply(this,arguments)}function BN(){return BN=(0,te.Z)(function*(i,t){const e=Me(i);return iY(e.localStore,t).then(n=>ld(e,n))}),BN.apply(this,arguments)}function cMe(i,t,e,n){return zN.apply(this,arguments)}function zN(){return zN=(0,te.Z)(function*(i,t,e,n){const r=Me(i),o=yield function(a,c){const l=Me(a),u=Me(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",m=>u.vn(m,c).next(_=>_?l.localDocuments.getDocuments(m,_):Q.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield o_(r.remoteStore):"acknowledged"===e||"rejected"===e?(PN(r,t,n||null),RN(r,t),c=t,Me(Me(r.localStore).mutationQueue).Mn(c)):$e(),yield ld(r,o)):ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),zN.apply(this,arguments)}function HN(){return HN=(0,te.Z)(function*(i,t){const e=Me(i);if(WN(e),GN(e),!0===t&&!0!==e.Fa){const n=e.sharedClientState.getAllActiveQueryTargets(),r=yield TY(e,n.toArray());e.Fa=!0,yield mN(e.remoteStore,!0);for(const o of r)rD(e.remoteStore,o)}else if(!1===t&&!1!==e.Fa){const n=[];let r=Promise.resolve();e.pa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?n.push(s):r=r.then(()=>(d_(e,s),n_(e.localStore,s,!0))),N0(e.remoteStore,s)}),yield r,yield TY(e,n),function(s){const a=Me(s);a.Sa.forEach((c,l)=>{N0(a.remoteStore,l)}),a.ba.mr(),a.Sa=new Map,a.wa=new bn(Re.comparator)}(e),e.Fa=!1,yield mN(e.remoteStore,!1)}}),HN.apply(this,arguments)}function TY(i,t,e){return UN.apply(this,arguments)}function UN(){return UN=(0,te.Z)(function*(i,t,e){const n=Me(i),r=[],o=[];for(const s of t){let a;const c=n.pa.get(s);if(c&&0!==c.length){a=yield i_(n.localStore,rs(c[0]));for(const l of c){const u=n.ga.get(l),m=yield sMe(n,u);m.snapshot&&o.push(m.snapshot)}}else{const l=yield tY(n.localStore,s);a=yield i_(n.localStore,l),yield CN(n,kY(l),s,!1,a.resumeToken)}r.push(a)}return n.fa.u_(o),r}),UN.apply(this,arguments)}function kY(i){return Sq(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function dMe(i){return e=Me(i).localStore,Me(Me(e).persistence).Li();var e}function uMe(i,t,e,n){return jN.apply(this,arguments)}function jN(){return jN=(0,te.Z)(function*(i,t,e,n){const r=Me(i);if(r.Fa)return void ve("SyncEngine","Ignoring unexpected query state notification.");const o=r.pa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield iY(r.localStore,Pq(o[0])),a=x0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,$r.EMPTY_BYTE_STRING);yield ld(r,s,a);break}case"rejected":yield n_(r.localStore,t,!0),d_(r,t,n);break;default:$e()}}),jN.apply(this,arguments)}function hMe(i,t,e){return $N.apply(this,arguments)}function $N(){return $N=(0,te.Z)(function*(i,t,e){const n=WN(i);if(n.Fa){for(const r of t){if(n.pa.has(r)){ve("SyncEngine","Adding an already active target "+r);continue}const o=yield tY(n.localStore,r),s=yield i_(n.localStore,o);yield CN(n,kY(o),s.targetId,!1,s.resumeToken),rD(n.remoteStore,s)}for(const r of e)n.pa.has(r)&&(yield n_(n.localStore,r,!1).then(()=>{N0(n.remoteStore,r),d_(n,r)}).catch(Ru))}}),$N.apply(this,arguments)}function WN(i){const t=Me(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=xY.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oMe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JSe.bind(null,t),t.fa.u_=jSe.bind(null,t.eventManager),t.fa.xa=$Se.bind(null,t.eventManager),t}function GN(i){const t=Me(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eMe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tMe.bind(null,t),t}class F0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,te.Z)(function*(){e.serializer=P0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Q7(this.persistence,new K7,t.initialUser,this.serializer)}createPersistence(t){return new F2(Kk.Hr,this.serializer)}createSharedClientState(t){return new sY}terminate(){var t=this;return(0,te.Z)(function*(){var e,n;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(n=t.indexBackfillerScheduler)||void 0===n||n.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class qN extends F0{constructor(t,e,n){super(),this.Na=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,te.Z)(function*(){yield e().call(n,t),yield n.Na.initialize(n,t),yield GN(n.Na.syncEngine),yield o_(n.Na.remoteStore),yield n.persistence.fi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Q7(this.persistence,new K7,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new H7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new BDe(e,this.persistence);return new VDe(t.asyncQueue,n)}createPersistence(t){const e=B2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new V2(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,cY(),nD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new sY}}class DY extends qN{constructor(t,e){super(t,e,!1),this.Na=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,te.Z)(function*(){yield e().call(n,t);const r=n.Na.syncEngine;n.sharedClientState instanceof Y2&&(n.sharedClientState.syncEngine={Zs:cMe.bind(null,r),Xs:uMe.bind(null,r),eo:hMe.bind(null,r),Li:dMe.bind(null,r),Ys:aMe.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.fi(function(){var o=(0,te.Z)(function*(s){yield function lMe(i,t){return HN.apply(this,arguments)}(n.Na.syncEngine,s),n.gcScheduler&&(s&&!n.gcScheduler.started?n.gcScheduler.start():s||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(s&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():s||n.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=cY();if(!Y2.D(e))throw new _e(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=B2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Y2(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class u_{initialize(t,e){var n=this;return(0,te.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>CY(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=rMe.bind(null,n.syncEngine),yield mN(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new USe}createDatastore(t){const e=P0(t.databaseInfo.databaseId),n=new TSe(t.databaseInfo);return new ISe(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>CY(this.syncEngine,e,0),a=aY.D()?new aY:new xSe,new ASe(n,r,o,s,a);var n,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,c,l,u){const m=new ZSe(r,o,s,a,c,l);return u&&(m.Fa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,te.Z)(function*(){var e,n;yield(n=(0,te.Z)(function*(o){const s=Me(o);ve("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield r_(s),s.M_.shutdown(),s.x_.set("Unknown")}),function r(o){return n.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}function IY(i,t=10240){let e=0;return{read:()=>(0,te.Z)(function*(){if(e<i.byteLength){const n={value:i.slice(e,e+t),done:!1};return e+=t,n}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):hr("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class fMe{constructor(t,e){this.ka=t,this.serializer=e,this.metadata=new jr,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(n=>{n&&n.ea()?this.metadata.resolve(n.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.X_)}`))},n=>this.metadata.reject(n))}close(){return this.ka.cancel()}getMetadata(){var t=this;return(0,te.Z)(function*(){return t.metadata.promise})()}Oa(){var t=this;return(0,te.Z)(function*(){return yield t.getMetadata(),t.Qa()})()}Qa(){var t=this;return(0,te.Z)(function*(){const e=yield t.Ka();if(null===e)return null;const n=t.qa.decode(e),r=Number(n);isNaN(r)&&t.$a(`length string (${n}) is not valid number`);const o=yield t.Ua(r);return new WSe(JSON.parse(o),e.length+r)})()}Wa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ka(){var t=this;return(0,te.Z)(function*(){for(;t.Wa()<0&&!(yield t.Ga()););if(0===t.buffer.length)return null;const e=t.Wa();e<0&&t.$a("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}Ua(t){var e=this;return(0,te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ga())&&e.$a("Reached the end of bundle when more is expected.");const n=e.qa.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}$a(t){throw this.ka.cancel(),new Error(`Invalid bundle format: ${t}`)}Ga(){var t=this;return(0,te.Z)(function*(){const e=yield t.ka.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class gMe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new _e(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const n=yield(r=(0,te.Z)(function*(s,a){const c=Me(s),l={documents:a.map(v=>E0(c.serializer,v))},u=yield c.vo("BatchGetDocuments",c.serializer.databaseId,gi.emptyPath(),l,a.length),m=new Map;u.forEach(v=>{const x=function LIe(i,t){return"found"in t?function(n,r){it(!!r.found);const o=nl(n,r.found.name),s=mr(r.found.updateTime),a=r.found.createTime?mr(r.found.createTime):st.min(),c=new yo({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(o,s,a,c)}(i,t):"missing"in t?function(n,r){it(!!r.missing),it(!!r.readTime);const o=nl(n,r.missing),s=mr(r.readTime);return Dn.newNoDocument(o,s)}(i,t):$e()}(c.serializer,v);m.set(x.key.toString(),x)});const _=[];return a.forEach(v=>{const x=m.get(v.toString());it(!!x),_.push(x)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(r=>e.recordVersion(r)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new Zg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var n;t.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const o=Re.fromPath(r);t.mutations.push(new _2(o,t.precondition(o)))}),yield(n=(0,te.Z)(function*(o,s){const a=Me(o),c={writes:s.map(l=>T0(a.serializer,l))};yield a.So("Commit",a.serializer.databaseId,gi.emptyPath(),c)}),function r(o,s){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $e();e=st.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _e(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(st.min())?Fn.exists(!1):Fn.updateTime(e):Fn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(st.min()))throw new _e(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(e)}return Fn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class _Me{constructor(t,e,n,r,o){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=o,this.za=n.maxAttempts,this.jo=new K2(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var t=this;this.jo.qo((0,te.Z)(function*(){const e=new gMe(t.datastore),n=t.Ja(e);n&&n.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ya(o)}))}).catch(r=>{t.Ya(r)})}))}Ja(t){try{const e=this.updateFunction(t);return!a0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(t){this.za>0&&this.Za(t)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(t)}Za(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Qq(e)}return!1}}class vMe{constructor(t,e,n,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=eo.UNAUTHENTICATED,this.clientId=q9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var s=(0,te.Z)(function*(a){ve("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(n,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function aD(i,t){return YN.apply(this,arguments)}function YN(){return YN=(0,te.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const e=i.configuration;yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(function(){var r=(0,te.Z)(function*(o){n.isEqual(o)||(yield X7(t.localStore,o),n=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),YN.apply(this,arguments)}function ZN(i,t){return KN.apply(this,arguments)}function KN(){return KN=(0,te.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield QN(i);ve("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>fY(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>fY(t.remoteStore,r)),i._onlineComponents=t}),KN.apply(this,arguments)}function SY(i){return"FirebaseError"===i.name?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function QN(i){return XN.apply(this,arguments)}function XN(){return XN=(0,te.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aD(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!SY(e))throw e;Ts("Error using user provided cache. Falling back to memory cache: "+e),yield aD(i,new F0)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),yield aD(i,new F0);return i._offlineComponents}),XN.apply(this,arguments)}function cD(i){return JN.apply(this,arguments)}function JN(){return JN=(0,te.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZN(i,i._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),yield ZN(i,new u_))),i._onlineComponents}),JN.apply(this,arguments)}function MY(i){return QN(i).then(t=>t.persistence)}function h_(i){return QN(i).then(t=>t.localStore)}function AY(i){return cD(i).then(t=>t.remoteStore)}function eF(i){return cD(i).then(t=>t.syncEngine)}function m_(i){return tF.apply(this,arguments)}function tF(){return tF=(0,te.Z)(function*(i){const t=yield cD(i),e=t.eventManager;return e.onListen=KSe.bind(null,t.syncEngine),e.onUnlisten=QSe.bind(null,t.syncEngine),e}),tF.apply(this,arguments)}function PY(i,t,e={}){const n=new jr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,s,a,c,l){const u=new sD({next:_=>{s.enqueueAndForget(()=>vN(o,m));const v=_.docs.has(a);!v&&_.fromCache?l.reject(new _e(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&"server"===c.source?l.reject(new _e(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),m=new wN(jg(a.path),u,{includeMetadataChanges:!0,Z_:!0});return gN(o,m)}(yield m_(i),i.asyncQueue,t,e,n)})),n.promise}function OY(i,t,e={}){const n=new jr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(o,s,a,c,l){const u=new sD({next:_=>{s.enqueueAndForget(()=>vN(o,m)),_.fromCache&&"server"===c.source?l.reject(new _e(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),m=new wN(a,u,{includeMetadataChanges:!0,Z_:!0});return gN(o,m)}(yield m_(i),i.asyncQueue,t,e,n)})),n.promise}function NY(i){const t={};return void 0!==i.timeoutSeconds&&(t.timeoutSeconds=i.timeoutSeconds),t}const FY=new Map;function iF(i,t,e){if(!e)throw new _e(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function LY(i,t,e,n){if(!0===t&&!0===n)throw new _e(ee.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function VY(i){if(!Re.isDocumentKey(i))throw new _e(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function BY(i){if(Re.isDocumentKey(i))throw new _e(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lD(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(n=i).constructor?n.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var n;return"function"==typeof i?"a function":$e()}function pi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _e(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=lD(i);throw new _e(ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function zY(i,t){if(t<=0)throw new _e(ee.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class HY{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new _e(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _e(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=NY(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class L0{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _e(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HY(t),void 0!==t.credentials&&(this._authCredentials=function(n){if(!n)return new kDe;switch(n.type){case"firstParty":return new MDe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=FY.get(e);n&&(ve("ComponentProvider","Removing Datastore"),FY.delete(e),n.terminate())}(this),Promise.resolve()}}class wo{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new wo(this.firestore,t,this._query)}}class In{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}}class rl extends wo{constructor(t,e,n){super(t,e,jg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new Re(t))}withConverter(t){return new rl(this.firestore,t,this._path)}}function jY(i,t,...e){if(i=(0,I.m9)(i),iF("collection","path",t),i instanceof L0){const n=gi.fromString(t,...e);return BY(n),new rl(i,null,n)}{if(!(i instanceof In||i instanceof rl))throw new _e(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(gi.fromString(t,...e));return BY(n),new rl(i.firestore,null,n)}}function dD(i,t,...e){if(i=(0,I.m9)(i),1===arguments.length&&(t=q9.newId()),iF("doc","path",t),i instanceof L0){const n=gi.fromString(t,...e);return VY(n),new In(i,null,new Re(n))}{if(!(i instanceof In||i instanceof rl))throw new _e(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(gi.fromString(t,...e));return VY(n),new In(i.firestore,i instanceof rl?i.converter:null,new Re(n))}}function $Y(i,t){return i=(0,I.m9)(i),t=(0,I.m9)(t),(i instanceof In||i instanceof rl)&&(t instanceof In||t instanceof rl)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function nF(i,t){return i=(0,I.m9)(i),t=(0,I.m9)(t),i instanceof wo&&t instanceof wo&&i.firestore===t.firestore&&f0(i._query,t._query)&&i.converter===t.converter}class MMe{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new K2(this,"async_queue_retry"),this._u=()=>{const e=nD();e&&ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const t=nD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const e=nD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const e=new jr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}cu(){var t=this;return(0,te.Z)(function*(){if(0!==t.eu.length){try{yield t.eu[0](),t.eu.shift(),t.jo.reset()}catch(e){if(!Pu(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}t.eu.length>0&&t.jo.qo(()=>t.cu())}})()}uu(t){const e=this.Xa.then(()=>(this.iu=!0,t().catch(n=>{throw this.ru=n,this.iu=!1,hr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(n)),n}).then(n=>(this.iu=!1,n))));return this.Xa=e,e}enqueueAfterDelay(t,e,n){this.au(),this.ou.indexOf(t)>-1&&(e=0);const r=fN.createAndSchedule(this,t,e,n,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&$e()}verifyOperationInProgress(){}hu(){var t=this;return(0,te.Z)(function*(){let e;do{e=t.Xa,yield e}while(e!==t.Xa)})()}Pu(t){for(const e of this.nu)if(e.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.nu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const e=this.nu.indexOf(t);this.nu.splice(e,1)}}function rF(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class AMe{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class yn extends L0{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new MMe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WY(this),this._firestoreClient.terminate()}}function ir(i){return i._firestoreClient||WY(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function WY(i){var t,e,n;const r=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new sIe(i._databaseId,c,i._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NY(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;i._firestoreClient=new vMe(i._authCredentials,i._appCheckCredentials,i._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function GY(i,t,e){const n=new jr;return i.asyncQueue.enqueue((0,te.Z)(function*(){try{yield aD(i,e),yield ZN(i,t),n.resolve()}catch(r){const o=r;if(!SY(o))throw o;Ts("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function qY(i){if(i._initialized||i._terminated)throw new _e(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ol{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ol($r.fromBase64String(t))}catch(e){throw new _e(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ol($r.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new _e(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wm{constructor(t){this._methodName=t}}class uD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _e(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _e(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}const UMe=/^__.*__$/;class jMe{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ad(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yg(t,this.data,e,this.fieldTransforms)}}class YY{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new ad(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ZY(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class hD{constructor(t,e,n,r,o,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new hD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.mu(t),r}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return fD(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(0===t.length)throw this.pu("Document fields must not be empty");if(ZY(this.du)&&UMe.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class $Me{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||P0(t)}Su(t,e,n,r=!1){return new hD({du:t,methodName:e,wu:n,path:kn.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(i){const t=i._freezeSettings(),e=P0(i._databaseId);return new $Me(i._databaseId,!!t.ignoreUndefinedProperties,e)}function mD(i,t,e,n,r,o={}){const s=i.Su(o.merge||o.mergeFields?2:0,t,e,r);uF("Data must be an object, but it was:",s,n);const a=XY(n,s);let c,l;if(o.merge)c=new ks(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const m of o.mergeFields){const _=z0(t,m,e);if(!s.contains(_))throw new _e(ee.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);eZ(u,_)||u.push(_)}c=new ks(u),l=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,l=s.fieldTransforms;return new jMe(new yo(a),c,l)}class B0 extends Wm{_toFieldTransform(t){if(2!==t.du)throw t.pu(1===t.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof B0}}function KY(i,t,e){return new hD({du:3,wu:t.settings.wu,methodName:i._methodName,Vu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class oF extends Wm{_toFieldTransform(t){return new b0(t.path,new Gg)}isEqual(t){return t instanceof oF}}class sF extends Wm{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=KY(this,t,!0),n=this.bu.map(o=>qm(o,e)),r=new Fm(n);return new b0(t.path,r)}isEqual(t){return t instanceof sF&&(0,I.vZ)(this.bu,t.bu)}}class aF extends Wm{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=KY(this,t,!0),n=this.bu.map(o=>qm(o,e)),r=new Lm(n);return new b0(t.path,r)}isEqual(t){return t instanceof aF&&(0,I.vZ)(this.bu,t.bu)}}class cF extends Wm{constructor(t,e){super(t),this.Du=e}_toFieldTransform(t){const e=new qg(t.serializer,zq(t.serializer,this.Du));return new b0(t.path,e)}isEqual(t){return t instanceof cF&&this.Du===t.Du}}function lF(i,t,e,n){const r=i.Su(1,t,e);uF("Data must be an object, but it was:",r,n);const o=[],s=yo.empty();Ou(n,(c,l)=>{const u=pD(t,c,e);l=(0,I.m9)(l);const m=r.fu(u);if(l instanceof B0)o.push(u);else{const _=qm(l,m);null!=_&&(o.push(u),s.set(u,_))}});const a=new ks(o);return new YY(s,a,r.fieldTransforms)}function dF(i,t,e,n,r,o){const s=i.Su(1,t,e),a=[z0(t,n,e)],c=[r];if(o.length%2!=0)throw new _e(ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(z0(t,o[_])),c.push(o[_+1]);const l=[],u=yo.empty();for(let _=a.length-1;_>=0;--_)if(!eZ(l,a[_])){const v=a[_];let x=c[_];x=(0,I.m9)(x);const E=s.fu(v);if(x instanceof B0)l.push(v);else{const k=qm(x,E);null!=k&&(l.push(v),u.set(v,k))}}const m=new ks(l);return new YY(u,m,s.fieldTransforms)}function QY(i,t,e,n=!1){return qm(e,i.Su(n?4:3,t))}function qm(i,t){if(JY(i=(0,I.m9)(i)))return uF("Unsupported field value:",t,i),XY(i,t);if(i instanceof Wm)return function(n,r){if(!ZY(r.du))throw r.pu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(n,r){const o=[];let s=0;for(const a of n){let c=qm(a,r.gu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(i,t)}return function(n,r){if(null===(n=(0,I.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return zq(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=Nn.fromDate(n);return{timestampValue:Kg(r.serializer,o)}}if(n instanceof Nn){const o=new Nn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kg(r.serializer,o)}}if(n instanceof uD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ol)return{bytesValue:c7(r.serializer,n._byteString)};if(n instanceof In){const o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:C2(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.pu(`Unsupported field value: ${lD(n)}`)}(i,t)}function XY(i,t){const e={};return cq(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ou(i,(n,r)=>{const o=qm(r,t.Ru(n));null!=o&&(e[n]=o)}),{mapValue:{fields:e}}}function JY(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Nn||i instanceof uD||i instanceof ol||i instanceof In||i instanceof Wm)}function uF(i,t,e){if(!JY(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=lD(e);throw t.pu("an object"===n?i+" a custom object":i+" "+n)}var r}function z0(i,t,e){if((t=(0,I.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return pD(i,t);throw fD("Field path arguments must be of type string or ",i,!1,void 0,e)}const WMe=new RegExp("[~\\*/\\[\\]]");function pD(i,t,e){if(t.search(WMe)>=0)throw fD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw fD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function fD(i,t,e,n,r){const o=n&&!n.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new _e(ee.INVALID_ARGUMENT,a+i+c)}function eZ(i,t){return i.some(e=>e.isEqual(t))}class H0{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new GMe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class GMe extends H0{data(){return super.data()}}function gD(i,t){return"string"==typeof t?pD(i,t):t instanceof dd?t._internalPath:t._delegate._internalPath}function tZ(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _e(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hF{}class U0 extends hF{}function qu(i,t,...e){let n=[];t instanceof hF&&n.push(t),n=n.concat(e),function(o){const s=o.filter(c=>c instanceof p_).length,a=o.filter(c=>c instanceof j0).length;if(s>1||s>0&&a>0)throw new _e(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class j0 extends U0{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new j0(t,e,n)}_apply(t){const e=this._parse(t);return oZ(t._query,e),new wo(t.firestore,t.converter,f2(t._query,e))}_parse(t){const e=Gm(t.firestore);return function(o,s,a,c,l,u,m){let _;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new _e(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){rZ(m,u);const v=[];for(const x of m)v.push(nZ(c,o,x));_={arrayValue:{values:v}}}else _=nZ(c,o,m)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||rZ(m,u),_=QY(a,"where",m,"in"===u||"not-in"===u);return _i.create(l,u,_)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class p_ extends hF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new p_(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===e.length?e[0]:Wi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)oZ(s,c),s=f2(s,c)}(t._query,e),new wo(t.firestore,t.converter,f2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mF extends U0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new mF(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new _e(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new m0(o,s)}(t._query,this._field,this._direction);return new wo(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new od(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class _D extends U0{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new _D(t,e,n)}_apply(t){return new wo(t.firestore,t.converter,Lk(t._query,this._limit,this._limitType))}}class vD extends U0{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new vD(t,e,n)}_apply(t){const e=iZ(t,this.type,this._docOrFields,this._inclusive);return new wo(t.firestore,t.converter,(o=e,new od((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class bD extends U0{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new bD(t,e,n)}_apply(t){const e=iZ(t,this.type,this._docOrFields,this._inclusive);return new wo(t.firestore,t.converter,(o=e,new od((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function iZ(i,t,e,n){if(e[0]=(0,I.m9)(e[0]),e[0]instanceof H0)return function(o,s,a,c,l){if(!c)throw new _e(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const m of $g(o))if(m.field.isKeyField())u.push(Om(s,c.key));else{const _=c.data.field(m.field);if(Mk(_))throw new _e(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=m.field.canonicalString();throw new _e(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}u.push(_)}return new zu(u,l)}(i._query,i.firestore._databaseId,t,e[0]._document,n);{const r=Gm(i.firestore);return function(s,a,c,l,u,m){const _=s.explicitOrderBy;if(u.length>_.length)throw new _e(ee.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let x=0;x<u.length;x++){const E=u[x];if(_[x].field.isKeyField()){if("string"!=typeof E)throw new _e(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof E}`);if(!p2(s)&&-1!==E.indexOf("/"))throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${E}' contains a slash.`);const k=s.path.child(gi.fromString(E));if(!Re.isDocumentKey(k))throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const O=new Re(k);v.push(Om(a,O))}else{const k=QY(c,l,E);v.push(k)}}return new zu(v,m)}(i._query,i.firestore._databaseId,r,t,e,n)}}function nZ(i,t,e){if("string"==typeof(e=(0,I.m9)(e))){if(""===e)throw new _e(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p2(t)&&-1!==e.indexOf("/"))throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(gi.fromString(e));if(!Re.isDocumentKey(n))throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Om(i,new Re(n))}if(e instanceof In)return Om(i,e._key);throw new _e(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lD(e)}.`)}function rZ(i,t){if(!Array.isArray(i)||0===i.length)throw new _e(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oZ(i,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new _e(ee.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class pF{convertValue(t,e="none"){switch(Vu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw $e()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Ou(t,(r,o)=>{n[r]=this.convertValue(o,e)}),n}convertGeoPoint(t){return new uD(tr(t.latitude),tr(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Ak(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(l0(t));default:return null}}convertTimestamp(t){const e=Nu(t);return new Nn(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=gi.fromString(t);it(b7(n));const r=new Fu(n.get(1),n.get(3)),o=new Re(n.popFirst(5));return r.isEqual(e)||hr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function yD(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}class t1e extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new ol(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,e)}}class Ym{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ud extends H0{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(gD("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class $0 extends ud{data(t={}){return super.data(t)}}class Yu{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ym(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new $0(this._firestore,this._userDataWriter,n.key,n,new Ym(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _e(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new $0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ym(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new $0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ym(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:n1e(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function n1e(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function aZ(i,t){return i instanceof ud&&t instanceof ud?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Yu&&t instanceof Yu&&i._firestore===t._firestore&&nF(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}class Zu extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new ol(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,e)}}function cZ(i,t,e){i=pi(i,In);const n=pi(i.firestore,yn),r=yD(i.converter,t,e);return f_(n,[mD(Gm(n),"setDoc",i._key,r,null!==i.converter,e).toMutation(i._key,Fn.none())])}function lZ(i,t,e,...n){i=pi(i,In);const r=pi(i.firestore,yn),o=Gm(r);let s;return s="string"==typeof(t=(0,I.m9)(t))||t instanceof dd?dF(o,"updateDoc",i._key,t,e,n):lF(o,"updateDoc",i._key,t),f_(r,[s.toMutation(i._key,Fn.exists(!0))])}function dZ(i,...t){var e,n,r;i=(0,I.m9)(i);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||rF(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(rF(t[s])){const m=t[s];t[s]=null===(e=m.next)||void 0===e?void 0:e.bind(m),t[s+1]=null===(n=m.error)||void 0===n?void 0:n.bind(m),t[s+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}let c,l,u;if(i instanceof In)l=pi(i.firestore,yn),u=jg(i._key.path),c={next:m=>{t[s]&&t[s](fF(l,i,m))},error:t[s+1],complete:t[s+2]};else{const m=pi(i,wo);l=pi(m.firestore,yn),u=m._query;const _=new Zu(l);c={next:v=>{t[s]&&t[s](new Yu(l,_,m,v))},error:t[s+1],complete:t[s+2]},tZ(i._query)}return function(_,v,x,E){const k=new sD(E),O=new wN(v,k,x);return _.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return gN(yield m_(_),O)})),()=>{k.La(),_.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return vN(yield m_(_),O)}))}}(ir(l),u,a,c)}function f_(i,t){return function(n,r){const o=new jr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function XSe(i,t,e){return kN.apply(this,arguments)}(yield eF(n),r,o)})),o.promise}(ir(i),t)}function fF(i,t,e){const n=e.docs.get(t._key),r=new Zu(i);return new ud(i,r,t._key,n,new Ym(e.hasPendingWrites,e.fromCache),t.converter)}const w1e={maxAttempts:5};class uZ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gm(t)}set(t,e,n){this._verifyNotCommitted();const r=Ku(t,this._firestore),o=yD(r.converter,e,n),s=mD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Fn.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const o=Ku(t,this._firestore);let s;return s="string"==typeof(e=(0,I.m9)(e))||e instanceof dd?dF(this._dataReader,"WriteBatch.update",o._key,e,n,r):lF(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Fn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ku(t,this._firestore);return this._mutations=this._mutations.concat(new Zg(e._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ku(i,t){if((i=(0,I.m9)(i)).firestore!==t)throw new _e(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class x1e extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gm(e)}get(e){const n=Ku(e,this._firestore),r=new t1e(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return $e();const s=o[0];if(s.isFoundDocument())return new H0(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new H0(this._firestore,r,n._key,null,n.converter);throw $e()})}set(e,n,r){const o=Ku(e,this._firestore),s=yD(o.converter,n,r),a=mD(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,n,r,...o){const s=Ku(e,this._firestore);let a;return a="string"==typeof(n=(0,I.m9)(n))||n instanceof dd?dF(this._dataReader,"Transaction.update",s._key,n,r,o):lF(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Ku(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ku(t,this._firestore),n=new Zu(this._firestore);return super.get(t).then(r=>new ud(this._firestore,n,e._key,r._document,new Ym(!1,!1),e.converter))}}function _F(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _e("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function fZ(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function gZ(){if(!function rIe(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Ng=Hc.SDK_VERSION,(0,Hc._registerComponent)(new $l.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new yn(new IDe(n.getProvider("auth-internal")),new ADe(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _e(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Hc.registerVersion)($9,"4.4.1",t),(0,Hc.registerVersion)($9,"4.4.1","esm2017")}();class W0{constructor(t){this._delegate=t}static fromBase64String(t){return gZ(),new W0(ol.fromBase64String(t))}static fromUint8Array(t){return fZ(),new W0(ol.fromUint8Array(t))}toBase64(){return gZ(),this._delegate.toBase64()}toUint8Array(){return fZ(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vF(i){return function R1e(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(i,["next","error","complete"])}class P1e{enableIndexedDbPersistence(t,e){return function PMe(i,t){qY(i=pi(i,yn));const e=ir(i);if(e._uninitializedComponentsProvider)throw new _e(ee.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),r=new u_;return GY(e,r,new qN(r,n.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function OMe(i){qY(i=pi(i,yn));const t=ir(i);if(t._uninitializedComponentsProvider)throw new _e(ee.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),n=new u_;return GY(t,n,new DY(n,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function NMe(i){if(i._initialized&&!i._terminated)throw new _e(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new jr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(e=(0,te.Z)(function*(r){if(!Ma.D())return Promise.resolve();const o=r+"main";yield Ma.delete(o)}),function n(r){return e.apply(this,arguments)})(B2(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class _Z{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function UY(i,t,e,n={}){var r;const o=(i=pi(i,L0))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,c;if("string"==typeof n.mockUserToken)a=n.mockUserToken,c=eo.MOCK_USER;else{a=(0,I.Sg)(n.mockUserToken,null===(r=i._app)||void 0===r?void 0:r.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new _e(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new eo(l)}i._authCredentials=new DDe(new W9(a,c))}}(this._delegate,t,e,n)}enableNetwork(){return function LMe(i){return function bMe(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield MY(i),e=yield AY(i);return t.setNetworkEnabled(!0),function(r){const o=Me(r);return o.v_.delete(0),O0(o)}(e)}))}(ir(i=pi(i,yn)))}(this._delegate)}disableNetwork(){return function VMe(i){return function yMe(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield MY(i),e=yield AY(i);return t.setNetworkEnabled(!1),(n=(0,te.Z)(function*(o){const s=Me(o);s.v_.add(0),yield r_(s),s.x_.set("Offline")}),function r(o){return n.apply(this,arguments)})(e);var n}))}(ir(i=pi(i,yn)))}(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,LY("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function FMe(i){return function(e){const n=new jr;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function iMe(i,t){return AN.apply(this,arguments)}(yield eF(e),n)})),n.promise}(ir(i=pi(i,yn)))}(this._delegate)}onSnapshotsInSync(t){return function h1e(i,t){return function CMe(i,t){const e=new sD(t);return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield m_(i),o=e,Me(r).K_.add(o),void o.next();var r,o})),()=>{e.La(),i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return r=yield m_(i),o=e,void Me(r).K_.delete(o);var r,o}))}}(ir(i=pi(i,yn)),rF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new g_(this,jY(this._delegate,t))}catch(e){throw os(e,"collection()","Firestore.collection()")}}doc(t){try{return new Aa(this,dD(this._delegate,t))}catch(e){throw os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ss(this,function SMe(i,t){if(i=pi(i,L0),iF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _e(ee.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(i,null,(n=t,new od(gi.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function C1e(i,t,e){i=pi(i,yn);const n=Object.assign(Object.assign({},w1e),e);return function(o){if(o.maxAttempts<1)throw new _e(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,s,a){const c=new jr;return o.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const l=yield function RY(i){return cD(i).then(t=>t.datastore)}(o);new _Me(o.asyncQueue,l,a,s,c).ja()})),c.promise}(ir(i),r=>t(new x1e(i,r)),n)}(this._delegate,e=>t(new vZ(this,e)))}batch(){return ir(this._delegate),new bZ(new uZ(this._delegate,t=>f_(this._delegate,t)))}loadBundle(t){return function BMe(i,t){const e=ir(i=pi(i,yn)),n=new AMe;return function EMe(i,t,e,n){const r=function(s,a){let c;return c="string"==typeof s?Jq().encode(s):s,u=function(u,m){if(u instanceof Uint8Array)return IY(u,m);if(u instanceof ArrayBuffer)return IY(new Uint8Array(u),m);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new fMe(u,a);var u}(e,P0(t));i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function mMe(i,t,e){const n=Me(i);var r;(r=(0,te.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(x,E){const k=Me(x),O=mr(E.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",R=>k.$r.getBundleMetadata(R,E.id)).then(R=>!!R&&R.createTime.compareTo(O)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(x=l).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);c._updateProgress(vY(l));const u=new GSe(l,s.localStore,a.serializer);let m=yield a.Oa();for(;m;){const v=yield u.na(m);v&&c._updateProgress(v),m=yield a.Oa()}const _=yield u.complete();return yield ld(s,_.sa,void 0),yield function(x,E){const k=Me(x);return k.persistence.runTransaction("Save bundle","readwrite",O=>k.$r.saveBundleMetadata(O,E))}(s.localStore,l),c._completeWith(_.progress),Promise.resolve(_.ia)}catch(l){return Ts("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var x}),function o(s,a,c){return r.apply(this,arguments)})(n,t,e).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}(yield eF(i),r,n)}))}(e,i._databaseId,t,n),n}(this._delegate,t)}namedQuery(t){return function zMe(i,t){return function TMe(i,t){return i.asyncQueue.enqueue((0,te.Z)(function*(){return function(n,r){const o=Me(n);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield h_(i),t)}))}(ir(i=pi(i,yn)),t).then(e=>e?new wo(i,null,e.query):null)}(this._delegate,t).then(e=>e?new ss(this,e):null)}}class xD extends pF{constructor(t){super(),this.firestore=t}convertBytes(t){return new W0(new ol(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Aa.forKey(e,this.firestore,null)}}class vZ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}get(t){const e=Km(t);return this._delegate.get(e).then(n=>new G0(this._firestore,new ud(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,e.converter)))}set(t,e,n){const r=Km(t);return n?(_F("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Km(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Km(t);return this._delegate.delete(e),this}}class bZ{constructor(t){this._delegate=t}set(t,e,n){const r=Km(t);return n?(_F("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Km(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Km(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Zm{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new $0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new q0(this._firestore,n),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Zm.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let o=r.get(e);return o||(o=new Zm(t,new xD(t),e),r.set(e,o)),o}}Zm.INSTANCES=new WeakMap;class Aa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}static forPath(t,e,n){if(t.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Aa(e,new In(e._delegate,n,new Re(t)))}static forKey(t,e,n){return new Aa(e,new In(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new g_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new g_(this.firestore,jY(this._delegate,t))}catch(e){throw os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,I.m9)(t))instanceof In&&$Y(this._delegate,t)}set(t,e){e=_F("DocumentReference.set",e);try{return e?cZ(this._delegate,t,e):cZ(this._delegate,t)}catch(n){throw os(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?lZ(this._delegate,t):lZ(this._delegate,t,e,...n)}catch(r){throw os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function d1e(i){return f_(pi(i.firestore,yn),[new Zg(i._key,Fn.none())])}(this._delegate)}onSnapshot(...t){const e=yZ(t),n=wZ(t,r=>new G0(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return dZ(this._delegate,e,n)}get(t){let e;return e="cache"===t?.source?function o1e(i){i=pi(i,In);const t=pi(i.firestore,yn),e=ir(t),n=new Zu(t);return function wMe(i,t){const e=new jr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(n=(0,te.Z)(function*(o,s,a){try{const c=yield function(u,m){const _=Me(u);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,m))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new _e(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=a_(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield h_(i),t,e);var n})),e.promise}(e,i._key).then(r=>new ud(t,n,i._key,r,new Ym(null!==r&&r.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===t?.source?function s1e(i){i=pi(i,In);const t=pi(i.firestore,yn);return PY(ir(t),i._key,{source:"server"}).then(e=>fF(t,i,e))}(this._delegate):function r1e(i){i=pi(i,In);const t=pi(i.firestore,yn);return PY(ir(t),i._key).then(e=>fF(t,i,e))}(this._delegate),e.then(n=>new G0(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new Aa(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function os(i,t,e){return i.message=i.message.replace(t,e),i}function yZ(i){for(const t of i)if("object"==typeof t&&!vF(t))return t;return{}}function wZ(i,t){var e,n;let r;return r=vF(i[0])?i[0]:vF(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(n=r.complete)||void 0===n?void 0:n.bind(r)}}class G0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return aZ(this._delegate,t._delegate)}}class q0 extends G0{data(t){const e=this._delegate.data(t);return this._delegate._converter||function TDe(i,t){i||$e()}(void 0!==e),e}}class ss{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}where(t,e,n){try{return new ss(this.firestore,qu(this._delegate,function qMe(i,t,e){const n=t,r=gD("where",i);return j0._create(r,n,e)}(t,e,n)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ss(this.firestore,qu(this._delegate,function YMe(i,t="asc"){const e=t,n=gD("orderBy",i);return mF._create(n,e)}(t,e)))}catch(n){throw os(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ss(this.firestore,qu(this._delegate,function ZMe(i){return zY("limit",i),_D._create("limit",i,"F")}(t)))}catch(e){throw os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ss(this.firestore,qu(this._delegate,function KMe(i){return zY("limitToLast",i),_D._create("limitToLast",i,"L")}(t)))}catch(e){throw os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ss(this.firestore,qu(this._delegate,function QMe(...i){return vD._create("startAt",i,!0)}(...t)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ss(this.firestore,qu(this._delegate,function XMe(...i){return vD._create("startAfter",i,!1)}(...t)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ss(this.firestore,qu(this._delegate,function JMe(...i){return bD._create("endBefore",i,!1)}(...t)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ss(this.firestore,qu(this._delegate,function e1e(...i){return bD._create("endAt",i,!0)}(...t)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}isEqual(t){return nF(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function c1e(i){i=pi(i,wo);const t=pi(i.firestore,yn),e=ir(t),n=new Zu(t);return function xMe(i,t){const e=new jr;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(n=(0,te.Z)(function*(o,s,a){try{const c=yield Jk(o,s,!0),l=new wY(s,c.hs),u=l.ha(c.documents),m=l.applyChanges(u,!1);a.resolve(m.snapshot)}catch(c){const l=a_(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield h_(i),t,e);var n})),e.promise}(e,i._query).then(r=>new Yu(t,n,i,r))}(this._delegate):"server"===t?.source?function l1e(i){i=pi(i,wo);const t=pi(i.firestore,yn),e=ir(t),n=new Zu(t);return OY(e,i._query,{source:"server"}).then(r=>new Yu(t,n,i,r))}(this._delegate):function a1e(i){i=pi(i,wo);const t=pi(i.firestore,yn),e=ir(t),n=new Zu(t);return tZ(i._query),OY(e,i._query).then(r=>new Yu(t,n,i,r))}(this._delegate),e.then(n=>new bF(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){const e=yZ(t),n=wZ(t,r=>new bF(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return dZ(this._delegate,e,n)}withConverter(t){return new ss(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}class N1e{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new q0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new N1e(this._firestore,e))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new q0(this._firestore,n))})}isEqual(t){return aZ(this._delegate,t._delegate)}}class g_ extends ss{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Aa(this.firestore,t):null}doc(t){try{return new Aa(this.firestore,void 0===t?dD(this._delegate):dD(this._delegate,t))}catch(e){throw os(e,"doc()","CollectionReference.doc()")}}add(t){return function u1e(i,t){const e=pi(i.firestore,yn),n=dD(i),r=yD(i.converter,t);return f_(e,[mD(Gm(i.firestore),"addDoc",n._key,r,null!==i.converter,{}).toMutation(n._key,Fn.exists(!1))]).then(()=>n)}(this._delegate,t).then(e=>new Aa(this.firestore,e))}isEqual(t){return $Y(this._delegate,t._delegate)}withConverter(t){return new g_(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function Km(i){return pi(i,In)}class yF{constructor(...t){this._delegate=new dd(...t)}static documentId(){return new yF(kn.keyField().canonicalString())}isEqual(t){return(t=(0,I.m9)(t))instanceof dd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Qm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function T1e(){return new oF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Qm(t)}static delete(){const t=function E1e(){return new B0("deleteField")}();return t._methodName="FieldValue.delete",new Qm(t)}static arrayUnion(...t){const e=function k1e(...i){return new sF("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new Qm(e)}static arrayRemove(...t){const e=function D1e(...i){return new aF("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new Qm(e)}static increment(t){const e=function I1e(i){return new cF("increment",i)}(t);return e._methodName="FieldValue.increment",new Qm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const F1e={Firestore:_Z,GeoPoint:uD,Timestamp:Nn,Blob:W0,Transaction:vZ,WriteBatch:bZ,DocumentReference:Aa,DocumentSnapshot:G0,Query:ss,QueryDocumentSnapshot:q0,QuerySnapshot:bF,CollectionReference:g_,FieldPath:yF,FieldValue:Qm,setLogLevel:function O1e(i){!function EDe(i){Au.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function xZ(i,t){return function B1e(i,t=Qh){return new Lt(e=>{let n;return null!=t?t.schedule(()=>{n=i.onSnapshot({includeMetadataChanges:!0},e)}):n=i.onSnapshot({includeMetadataChanges:!0},e),()=>{n?.()}})}(i,t)}function wF(i,t){return xZ(i,t).pipe(Ie(e=>({payload:e,type:"query"})))}!function V1e(i){(function L1e(i,t){i.INTERNAL.registerComponent(new $l.wA("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},F1e)))})(i,(t,e)=>new _Z(t,e,new P1e)),i.registerVersion("@firebase/firestore-compat","0.3.24")}(jl.Z);class CZ{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:o}=SZ(n,e);return new kZ(r,o,this.afs)}snapshotChanges(){return function z1e(i,t){return xZ(i,t).pipe(xa(void 0),hO(),Ie(e=>{const[n,r]=e;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return this.snapshotChanges().pipe(Ie(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return B(this.ref.get(t)).pipe(zr)}}function CD(i,t){return wF(i,t).pipe(xa(void 0),hO(),Ie(e=>{const[n,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(m=>m.doc.ref.isEqual(a.ref)),u=n?.payload.docs.find(m=>m.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function EZ(i,t,e){return CD(i,e).pipe(Mf((n,r)=>function H1e(i,t,e){return t.forEach(n=>{e.indexOf(n.type)>-1&&(i=function U1e(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return xF(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return xF(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return xF(i,t.oldIndex,1)}return i}(i,n))}),i}(n,r.map(o=>o.payload),t),[]),Hi(),Ie(n=>n.map(r=>({type:r.type,payload:r}))))}function xF(i,t,e,...n){const r=i.slice();return r.splice(t,e,...n),r}function TZ(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class kZ{ref;query;afs;constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=CD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ie(n=>n.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(xa(void 0),hO(),jn(([n,r])=>r.length>0||!n),Ie(([,n])=>n),zr)}auditTrail(t){return this.stateChanges(t).pipe(Mf((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=TZ(t);return EZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return wF(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.payload.docs.map(n=>t.idField?{...n.data(),[t.idField]:n.id}:n.data())),zr)}get(t){return B(this.query.get(t)).pipe(zr)}add(t){return this.ref.add(t)}doc(t){return new CZ(this.ref.doc(t),this.afs)}}class j1e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?CD(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.filter(n=>t.indexOf(n.type)>-1)),jn(e=>e.length>0),zr):CD(this.query,this.afs.schedulers.outsideAngular).pipe(zr)}auditTrail(t){return this.stateChanges(t).pipe(Mf((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=TZ(t);return EZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return wF(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(n=>n.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),zr)}get(t){return B(this.query.get(t)).pipe(zr)}}const DZ=new W("angularfire2.enableFirestorePersistence"),IZ=new W("angularfire2.firestore.persistenceSettings"),$1e=new W("angularfire2.firestore.settings"),W1e=new W("angularfire2.firestore.use-emulator");function SZ(i,t=(e=>e)){return{query:t(i),ref:i}}let G1e=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(e,n,r,o,s,a,c,l,u,m,_,v,x,E,k,O,R){this.schedulers=c;const z=XC(e,a,n),K=u;m&&$1(z,a,_,x,E,k,v,O),[this.firestore,this.persistenceEnabled$]=L1(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const le=a.runOutsideAngular(()=>z.firestore());if(o&&le.settings(o),K&&le.useEmulator(...K),r&&!EC(s)){const ke=()=>{try{return B(le.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(We){return typeof console<"u"&&console.warn(We),ie(!1)}};return[le,a.runOutsideAngular(ke)]}return[le,ie(!1)]},[o,K,r])}collection(e,n){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=SZ(r,n),a=this.schedulers.ngZone.run(()=>o);return new kZ(a,s,this)}collectionGroup(e,n){const r=n||(s=>s),o=this.firestore.collectionGroup(e);return new j1e(r(o),this)}doc(e){let n;n="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>n);return new CZ(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||i)(H(Db),H(Ib,8),H(DZ,8),H($1e,8),H(ma),H(tt),H(F1),H(IZ,8),H(W1e,8),H(JC,8),H(V1,8),H(B1,8),H(z1,8),H(H1,8),H(U1,8),H(j1,8),H(N1,8))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),q1e=(()=>{class i{constructor(){jl.Z.registerVersion("angularfire",O1.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:DZ,useValue:!0},{provide:IZ,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ee({type:i});static \u0275inj=De({providers:[G1e]})}return i})();const Y1e_firebase={apiKey:"AIzaSyDC4RoIxtD36gbhFYJeCGEPFXgqDbhk2Cw",authDomain:"test-esp32-14072.firebaseapp.com",databaseURL:"https://test-esp32-14072-default-rtdb.firebaseio.com",projectId:"test-esp32-14072",storageBucket:"test-esp32-14072.appspot.com",messagingSenderId:"470419016740",appId:"1:470419016740:web:f950edccc4f33051459cb1",measurementId:"G-NJQVTT4EGV"};class Xm extends Error{}class Z1e extends Xm{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class K1e extends Xm{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Q1e extends Xm{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class __ extends Xm{}class MZ extends Xm{constructor(t){super(`Invalid unit ${t}`)}}class Is extends Xm{}class Qu extends Xm{constructor(){super("Zone is an abstract class")}}const Ne="numeric",ic="short",Xs="long",ED={year:Ne,month:Ne,day:Ne},AZ={year:Ne,month:ic,day:Ne},X1e={year:Ne,month:ic,day:Ne,weekday:ic},RZ={year:Ne,month:Xs,day:Ne},PZ={year:Ne,month:Xs,day:Ne,weekday:Xs},OZ={hour:Ne,minute:Ne},NZ={hour:Ne,minute:Ne,second:Ne},FZ={hour:Ne,minute:Ne,second:Ne,timeZoneName:ic},LZ={hour:Ne,minute:Ne,second:Ne,timeZoneName:Xs},VZ={hour:Ne,minute:Ne,hourCycle:"h23"},BZ={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23"},zZ={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23",timeZoneName:ic},HZ={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23",timeZoneName:Xs},UZ={year:Ne,month:Ne,day:Ne,hour:Ne,minute:Ne},jZ={year:Ne,month:Ne,day:Ne,hour:Ne,minute:Ne,second:Ne},$Z={year:Ne,month:ic,day:Ne,hour:Ne,minute:Ne},WZ={year:Ne,month:ic,day:Ne,hour:Ne,minute:Ne,second:Ne},J1e={year:Ne,month:ic,day:Ne,weekday:ic,hour:Ne,minute:Ne},GZ={year:Ne,month:Xs,day:Ne,hour:Ne,minute:Ne,timeZoneName:ic},qZ={year:Ne,month:Xs,day:Ne,hour:Ne,minute:Ne,second:Ne,timeZoneName:ic},YZ={year:Ne,month:Xs,day:Ne,weekday:Xs,hour:Ne,minute:Ne,timeZoneName:Xs},ZZ={year:Ne,month:Xs,day:Ne,weekday:Xs,hour:Ne,minute:Ne,second:Ne,timeZoneName:Xs};class Y0{get type(){throw new Qu}get name(){throw new Qu}get ianaName(){return this.name}get isUniversal(){throw new Qu}offsetName(t,e){throw new Qu}formatOffset(t,e){throw new Qu}offset(t){throw new Qu}equals(t){throw new Qu}get isValid(){throw new Qu}}let CF=null;class TD extends Y0{static get instance(){return null===CF&&(CF=new TD),CF}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return bK(t,e,n)}formatOffset(t,e){return X0(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let kD={};const tAe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let DD={};class hd extends Y0{static create(t){return DD[t]||(DD[t]=new hd(t)),DD[t]}static resetCache(){DD={},kD={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=hd.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return bK(t,e,n,this.name)}formatOffset(t,e){return X0(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const n=function eAe(i){return kD[i]||(kD[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),kD[i]}(this.name);let[r,o,s,a,c,l,u]=n.formatToParts?function nAe(i,t){const e=i.formatToParts(t),n=[];for(let r=0;r<e.length;r++){const{type:o,value:s}=e[r],a=tAe[o];"era"===o?n[a]=s:jt(a)||(n[a]=parseInt(s,10))}return n}(n,e):function iAe(i,t){const e=i.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,o,s,a,c,l,u]=n;return[s,r,o,a,c,l,u]}(n,e);"BC"===a&&(r=1-Math.abs(r));let v=+e;const x=v%1e3;return v-=x>=0?x:1e3+x,(RD({year:r,month:o,day:s,hour:24===c?0:c,minute:l,second:u,millisecond:0})-v)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let KZ={},EF={};function TF(i,t={}){const e=JSON.stringify([i,t]);let n=EF[e];return n||(n=new Intl.DateTimeFormat(i,t),EF[e]=n),n}let kF={},DF={},Z0=null,QZ={};function ID(i,t,e,n){const r=i.listingMode();return"error"===r?null:"en"===r?e(t):n(t)}class pAe{constructor(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...s}=n;if(!e||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function oAe(i,t={}){const e=JSON.stringify([i,t]);let n=kF[e];return n||(n=new Intl.NumberFormat(i,t),kF[e]=n),n}(t,a)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return Mr(this.floor?Math.floor(t):OF(t,3),this.padTo)}}class fAe{constructor(t,e,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const s=t.offset/60*-1,a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;0!==t.offset&&hd.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=TF(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if("timeZoneName"===e.type){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:n}}return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class gAe{constructor(t,e,n){this.opts={style:"long",...n},!e&&fK()&&(this.rtf=function sAe(i,t={}){const{base:e,...n}=t,r=JSON.stringify([i,n]);let o=DF[r];return o||(o=new Intl.RelativeTimeFormat(i,t),DF[r]=o),o}(t,n))}format(t,e){return this.rtf?this.rtf.format(t,e):function FAe(i,t,e="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(i);if("auto"===e&&o){const m="days"===i;switch(t){case 1:return m?"tomorrow":`next ${r[i][0]}`;case-1:return m?"yesterday":`last ${r[i][0]}`;case 0:return m?"today":`this ${r[i][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,l=r[i],u=n?c?l[1]:l[2]||l[1]:c?r[i][0]:i;return s?`${a} ${u} ago`:`in ${a} ${u}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const _Ae={firstDay:1,minimalDays:4,weekend:[6,7]};class tn{static fromOpts(t){return tn.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,n,r,o=!1){const s=t||pr.defaultLocale,a=s||(o?"en-US":function aAe(){return Z0||(Z0=(new Intl.DateTimeFormat).resolvedOptions().locale,Z0)}()),c=e||pr.defaultNumberingSystem,l=n||pr.defaultOutputCalendar,u=RF(r)||pr.defaultWeekSettings;return new tn(a,c,l,u,s)}static resetCache(){Z0=null,EF={},kF={},DF={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:n,weekSettings:r}={}){return tn.create(t,e,n,r)}constructor(t,e,n,r,o){const[s,a,c]=function lAe(i){const t=i.indexOf("-x-");-1!==t&&(i=i.substring(0,t));const e=i.indexOf("-u-");if(-1===e)return[i];{let n,r;try{n=TF(i).resolvedOptions(),r=i}catch{const c=i.substring(0,e);n=TF(c).resolvedOptions(),r=c}const{numberingSystem:o,calendar:s}=n;return[r,o,s]}}(t);this.locale=s,this.numberingSystem=e||a||null,this.outputCalendar=n||c||null,this.weekSettings=r,this.intl=function dAe(i,t,e){return(e||t)&&(i.includes("-u-")||(i+="-u"),e&&(i+=`-ca-${e}`),t&&(i+=`-nu-${t}`)),i}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function mAe(i){return(!i.numberingSystem||"latn"===i.numberingSystem)&&("latn"===i.numberingSystem||!i.locale||i.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?tn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,RF(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return ID(this,t,xK,()=>{const n=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=function uAe(i){const t=[];for(let e=1;e<=12;e++){const n=zt.utc(2009,e,1);t.push(i(n))}return t}(o=>this.extract(o,n,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1){return ID(this,t,TK,()=>{const n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=function hAe(i){const t=[];for(let e=1;e<=7;e++){const n=zt.utc(2016,11,13+e);t.push(i(n))}return t}(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return ID(this,void 0,()=>kK,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[zt.utc(2016,11,13,9),zt.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return ID(this,t,DK,()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[zt.utc(-40,1,1),zt.utc(2017,1,1)].map(n=>this.extract(n,e,"era"))),this.eraCache[t]})}extract(t,e,n){const s=this.dtFormatter(t,e).formatToParts().find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(t={}){return new pAe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new fAe(t,this.intl,e)}relFormatter(t={}){return new gAe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function rAe(i,t={}){const e=JSON.stringify([i,t]);let n=KZ[e];return n||(n=new Intl.ListFormat(i,t),KZ[e]=n),n}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:gK()?function cAe(i){let t=QZ[i];if(!t){const e=new Intl.Locale(i);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,QZ[i]=t}return t}(this.locale):_Ae}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let IF=null;class as extends Y0{static get utcInstance(){return null===IF&&(IF=new as(0)),IF}static instance(t){return 0===t?as.utcInstance:new as(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new as(PD(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${X0(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${X0(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return X0(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class vAe extends Y0{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Xu(i,t){if(jt(i)||null===i)return t;if(i instanceof Y0)return i;if(function wAe(i){return"string"==typeof i}(i)){const n=i.toLowerCase();return"default"===n?t:"local"===n||"system"===n?TD.instance:"utc"===n||"gmt"===n?as.utcInstance:as.parseSpecifier(n)||hd.create(i)}return Jm(i)?as.instance(i):"object"==typeof i&&"offset"in i&&"function"==typeof i.offset?i:new vAe(i)}let rK,XZ=()=>Date.now(),JZ="system",eK=null,tK=null,iK=null,nK=60,oK=null;class pr{static get now(){return XZ}static set now(t){XZ=t}static set defaultZone(t){JZ=t}static get defaultZone(){return Xu(JZ,TD.instance)}static get defaultLocale(){return eK}static set defaultLocale(t){eK=t}static get defaultNumberingSystem(){return tK}static set defaultNumberingSystem(t){tK=t}static get defaultOutputCalendar(){return iK}static set defaultOutputCalendar(t){iK=t}static get defaultWeekSettings(){return oK}static set defaultWeekSettings(t){oK=RF(t)}static get twoDigitCutoffYear(){return nK}static set twoDigitCutoffYear(t){nK=t%100}static get throwOnInvalid(){return rK}static set throwOnInvalid(t){rK=t}static resetCaches(){tn.resetCache(),hd.resetCache()}}class nc{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const sK=[0,31,59,90,120,151,181,212,243,273,304,334],aK=[0,31,60,91,121,152,182,213,244,274,305,335];function Ra(i,t){return new nc("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${i}, which is invalid`)}function SF(i,t,e){const n=new Date(Date.UTC(i,t-1,e));i<100&&i>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function cK(i,t,e){return e+(K0(i)?aK:sK)[t-1]}function lK(i,t){const e=K0(i)?aK:sK,n=e.findIndex(o=>o<t);return{month:n+1,day:t-e[n]}}function MF(i,t){return(i-t+7)%7+1}function SD(i,t=4,e=1){const{year:n,month:r,day:o}=i,s=cK(n,r,o),a=MF(SF(n,r,o),e);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=n-1,c=Q0(l,t,e)):c>Q0(n,t,e)?(l=n+1,c=1):l=n,{weekYear:l,weekNumber:c,weekday:a,...ND(i)}}function dK(i,t=4,e=1){const{weekYear:n,weekNumber:r,weekday:o}=i,s=MF(SF(n,1,t),e),a=b_(n);let l,c=7*r+o-s-7+t;c<1?(l=n-1,c+=b_(l)):c>a?(l=n+1,c-=b_(n)):l=n;const{month:u,day:m}=lK(l,c);return{year:l,month:u,day:m,...ND(i)}}function AF(i){const{year:t,month:e,day:n}=i;return{year:t,ordinal:cK(t,e,n),...ND(i)}}function uK(i){const{year:t,ordinal:e}=i,{month:n,day:r}=lK(t,e);return{year:t,month:n,day:r,...ND(i)}}function hK(i,t){if(jt(i.localWeekday)&&jt(i.localWeekNumber)&&jt(i.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!jt(i.weekday)||!jt(i.weekNumber)||!jt(i.weekYear))throw new __("Cannot mix locale-based week fields with ISO-based week fields");return jt(i.localWeekday)||(i.weekday=i.localWeekday),jt(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),jt(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function mK(i){const t=MD(i.year),e=Pa(i.month,1,12),n=Pa(i.day,1,AD(i.year,i.month));return t?e?!n&&Ra("day",i.day):Ra("month",i.month):Ra("year",i.year)}function pK(i){const{hour:t,minute:e,second:n,millisecond:r}=i,o=Pa(t,0,23)||24===t&&0===e&&0===n&&0===r,s=Pa(e,0,59),a=Pa(n,0,59),c=Pa(r,0,999);return o?s?a?!c&&Ra("millisecond",r):Ra("second",n):Ra("minute",e):Ra("hour",t)}function jt(i){return typeof i>"u"}function Jm(i){return"number"==typeof i}function MD(i){return"number"==typeof i&&i%1==0}function fK(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function gK(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function _K(i,t,e){if(0!==i.length)return i.reduce((n,r)=>{const o=[t(r),r];return n&&e(n[0],o[0])===n[0]?n:o},null)[1]}function v_(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function RF(i){if(null==i)return null;if("object"!=typeof i)throw new Is("Week settings must be an object");if(!Pa(i.firstDay,1,7)||!Pa(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(t=>!Pa(t,1,7)))throw new Is("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function Pa(i,t,e){return MD(i)&&i>=t&&i<=e}function Mr(i,t=2){let n;return n=i<0?"-"+(""+-i).padStart(t,"0"):(""+i).padStart(t,"0"),n}function Ju(i){if(!jt(i)&&null!==i&&""!==i)return parseInt(i,10)}function ep(i){if(!jt(i)&&null!==i&&""!==i)return parseFloat(i)}function PF(i){if(!jt(i)&&null!==i&&""!==i){const t=1e3*parseFloat("0."+i);return Math.floor(t)}}function OF(i,t,e=!1){const n=10**t;return(e?Math.trunc:Math.round)(i*n)/n}function K0(i){return i%4==0&&(i%100!=0||i%400==0)}function b_(i){return K0(i)?366:365}function AD(i,t){const e=function TAe(i,t){return i-t*Math.floor(i/t)}(t-1,12)+1;return 2===e?K0(i+(t-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function RD(i){let t=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(t=new Date(t),t.setUTCFullYear(i.year,i.month-1,i.day)),+t}function vK(i,t,e){return-MF(SF(i,1,t),e)+t-1}function Q0(i,t=4,e=1){const n=vK(i,t,e),r=vK(i+1,t,e);return(b_(i)-n+r)/7}function NF(i){return i>99?i:i>pr.twoDigitCutoffYear?1900+i:2e3+i}function bK(i,t,e,n=null){const r=new Date(i),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(e,s).formatToParts(r).find(c=>"timezonename"===c.type.toLowerCase());return a?a.value:null}function PD(i,t){let e=parseInt(i,10);Number.isNaN(e)&&(e=0);const n=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-n:n)}function yK(i){const t=Number(i);if("boolean"==typeof i||""===i||Number.isNaN(t))throw new Is(`Invalid unit value ${i}`);return t}function OD(i,t){const e={};for(const n in i)if(v_(i,n)){const r=i[n];if(null==r)continue;e[t(n)]=yK(r)}return e}function X0(i,t){const e=Math.trunc(Math.abs(i/60)),n=Math.trunc(Math.abs(i%60)),r=i>=0?"+":"-";switch(t){case"short":return`${r}${Mr(e,2)}:${Mr(n,2)}`;case"narrow":return`${r}${e}${n>0?`:${n}`:""}`;case"techie":return`${r}${Mr(e,2)}${Mr(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ND(i){return function EAe(i,t){return t.reduce((e,n)=>(e[n]=i[n],e),{})}(i,["hour","minute","second","millisecond"])}const kAe=["January","February","March","April","May","June","July","August","September","October","November","December"],wK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DAe=["J","F","M","A","M","J","J","A","S","O","N","D"];function xK(i){switch(i){case"narrow":return[...DAe];case"short":return[...wK];case"long":return[...kAe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const CK=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],EK=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],IAe=["M","T","W","T","F","S","S"];function TK(i){switch(i){case"narrow":return[...IAe];case"short":return[...EK];case"long":return[...CK];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const kK=["AM","PM"],SAe=["Before Christ","Anno Domini"],MAe=["BC","AD"],AAe=["B","A"];function DK(i){switch(i){case"narrow":return[...AAe];case"short":return[...MAe];case"long":return[...SAe];default:return null}}function IK(i,t){let e="";for(const n of i)e+=n.literal?n.val:t(n.val);return e}const LAe={D:ED,DD:AZ,DDD:RZ,DDDD:PZ,t:OZ,tt:NZ,ttt:FZ,tttt:LZ,T:VZ,TT:BZ,TTT:zZ,TTTT:HZ,f:UZ,ff:$Z,fff:GZ,ffff:YZ,F:jZ,FF:WZ,FFF:qZ,FFFF:ZZ};class Fo{static create(t,e={}){return new Fo(t,e)}static parseFormat(t){let e=null,n="",r=!1;const o=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);"'"===a?(n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),e=null,n="",r=!r):r||a===e?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,e=a)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return LAe[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return Mr(t,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,e){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(v,x)=>this.loc.extract(t,v,x),s=v=>t.isOffsetFixed&&0===t.offset&&v.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,v.format):"",c=(v,x)=>n?function OAe(i,t){return xK(t)[i.month-1]}(t,v):o(x?{month:v}:{month:v,day:"numeric"},"month"),l=(v,x)=>n?function PAe(i,t){return TK(t)[i.weekday-1]}(t,v):o(x?{weekday:v}:{weekday:v,month:"long",day:"numeric"},"weekday"),u=v=>{const x=Fo.macroTokenToFormatOpts(v);return x?this.formatWithSystemDefault(t,x):v},m=v=>n?function NAe(i,t){return DK(t)[i.year<0?0:1]}(t,v):o({era:v},"era");return IK(Fo.parseFormat(e),v=>{switch(v){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return n?function RAe(i){return kK[i.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(t.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(t.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(t.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return u(v)}})}formatDurationFromString(t,e){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=Fo.parseFormat(e),s=o.reduce((c,{literal:l,val:u})=>l?c:c.concat(u),[]);return IK(o,(c=>l=>{const u=n(l);return u?this.num(c.get(u),l.length):l})(t.shiftTo(...s.map(n).filter(c=>c))))}}const SK=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function y_(...i){const t=i.reduce((e,n)=>e+n.source,"");return RegExp(`^${t}$`)}function w_(...i){return t=>i.reduce(([e,n,r],o)=>{const[s,a,c]=o(t,r);return[{...e,...s},a||n,c]},[{},null,1]).slice(0,2)}function x_(i,...t){if(null==i)return[null,null];for(const[e,n]of t){const r=e.exec(i);if(r)return n(r)}return[null,null]}function MK(...i){return(t,e)=>{const n={};let r;for(r=0;r<i.length;r++)n[i[r]]=Ju(t[e+r]);return[n,null,e+r]}}const AK=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,FF=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,RK=RegExp(`${FF.source}(?:${AK.source}?(?:\\[(${SK.source})\\])?)?`),LF=RegExp(`(?:T${RK.source})?`),UAe=MK("weekYear","weekNumber","weekDay"),jAe=MK("year","ordinal"),PK=RegExp(`${FF.source} ?(?:${AK.source}|(${SK.source}))?`),WAe=RegExp(`(?: ${PK.source})?`);function C_(i,t,e){const n=i[t];return jt(n)?e:Ju(n)}function E_(i,t){return[{hours:C_(i,t,0),minutes:C_(i,t+1,0),seconds:C_(i,t+2,0),milliseconds:PF(i[t+3])},null,t+4]}function J0(i,t){const e=!i[t]&&!i[t+1],n=PD(i[t+1],i[t+2]);return[{},e?null:as.instance(n),t+3]}function ew(i,t){return[{},i[t]?hd.create(i[t]):null,t+1]}const qAe=RegExp(`^T?${FF.source}$`),YAe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ZAe(i){const[t,e,n,r,o,s,a,c,l]=i,u="-"===t[0],m=c&&"-"===c[0],_=(v,x=!1)=>void 0!==v&&(x||v&&u)?-v:v;return[{years:_(ep(e)),months:_(ep(n)),weeks:_(ep(r)),days:_(ep(o)),hours:_(ep(s)),minutes:_(ep(a)),seconds:_(ep(c),"-0"===c),milliseconds:_(PF(l),m)}]}const KAe={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function VF(i,t,e,n,r,o,s){const a={year:2===t.length?NF(Ju(t)):Ju(t),month:wK.indexOf(e)+1,day:Ju(n),hour:Ju(r),minute:Ju(o)};return s&&(a.second=Ju(s)),i&&(a.weekday=i.length>3?CK.indexOf(i)+1:EK.indexOf(i)+1),a}const QAe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function XAe(i){const[,t,e,n,r,o,s,a,c,l,u,m]=i,_=VF(t,r,n,e,o,s,a);let v;return v=c?KAe[c]:l?0:PD(u,m),[_,new as(v)]}const eRe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tRe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,iRe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function OK(i){const[,t,e,n,r,o,s,a]=i;return[VF(t,r,n,e,o,s,a),as.utcInstance]}function nRe(i){const[,t,e,n,r,o,s,a]=i;return[VF(t,a,e,n,r,o,s),as.utcInstance]}const rRe=y_(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,LF),oRe=y_(/(\d{4})-?W(\d\d)(?:-?(\d))?/,LF),sRe=y_(/(\d{4})-?(\d{3})/,LF),aRe=y_(RK),NK=w_(function GAe(i,t){return[{year:C_(i,t),month:C_(i,t+1,1),day:C_(i,t+2,1)},null,t+3]},E_,J0,ew),cRe=w_(UAe,E_,J0,ew),lRe=w_(jAe,E_,J0,ew),dRe=w_(E_,J0,ew),fRe=w_(E_),_Re=y_(/(\d{4})-(\d\d)-(\d\d)/,WAe),vRe=y_(PK),bRe=w_(E_,J0,ew),FK="Invalid Duration",LK={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},wRe={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...LK},Oa=365.2425,T_=30.436875,xRe={years:{quarters:4,months:12,weeks:Oa/7,days:Oa,hours:24*Oa,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Oa/28,days:Oa/4,hours:24*Oa/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:T_/7,days:T_,hours:24*T_,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...LK},tp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],CRe=tp.slice(0).reverse();function eh(i,t,e=!1){const n={values:e?t.values:{...i.values,...t.values||{}},loc:i.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||i.conversionAccuracy,matrix:t.matrix||i.matrix};return new Ti(n)}function VK(i,t){let e=t.milliseconds??0;for(const n of CRe.slice(1))t[n]&&(e+=t[n]*i[n].milliseconds);return e}function BK(i,t){const e=VK(i,t)<0?-1:1;tp.reduceRight((n,r)=>{if(jt(t[r]))return n;if(n){const s=i[r][n],a=Math.floor(t[n]*e/s);t[r]+=a*e,t[n]-=a*s*e}return r},null),tp.reduce((n,r)=>{if(jt(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*i[n][r]}return r},null)}class Ti{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let n=e?xRe:wRe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||tn.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,e){return Ti.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new Is("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Ti({values:OD(t,Ti.normalizeUnit),loc:tn.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(Jm(t))return Ti.fromMillis(t);if(Ti.isDuration(t))return t;if("object"==typeof t)return Ti.fromObject(t);throw new Is(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[n]=function pRe(i){return x_(i,[YAe,ZAe])}(t);return n?Ti.fromObject(n,e):Ti.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[n]=function gRe(i){return x_(i,[qAe,fRe])}(t);return n?Ti.fromObject(n,e):Ti.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new Is("need to specify a reason the Duration is invalid");const n=t instanceof nc?t:new nc(t,e);if(pr.throwOnInvalid)throw new Q1e(n);return new Ti({invalid:n})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new MZ(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?Fo.create(this.loc,n).formatDurationFromString(this,t):FK}toHuman(t={}){if(!this.isValid)return FK;const e=tp.map(n=>{const r=this.values[n];return jt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=OF(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},zt.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?VK(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Ti.fromDurationLike(t),n={};for(const r of tp)(v_(e.values,r)||v_(this.values,r))&&(n[r]=e.get(r)+this.get(r));return eh(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const e=Ti.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=yK(t(this.values[n],n));return eh(this,{values:e},!0)}get(t){return this[Ti.normalizeUnit(t)]}set(t){return this.isValid?eh(this,{values:{...this.values,...OD(t,Ti.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:n,matrix:r}={}){return eh(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:n})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return BK(this.matrix,t),eh(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=function ERe(i){const t={};for(const[e,n]of Object.entries(i))0!==n&&(t[e]=n);return t}(this.normalize().shiftToAll().toObject());return eh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(s=>Ti.normalizeUnit(s));const e={},n={},r=this.toObject();let o;for(const s of tp)if(t.indexOf(s)>=0){o=s;let a=0;for(const l in n)a+=this.matrix[l][s]*n[l],n[l]=0;Jm(r[s])&&(a+=r[s]);const c=Math.trunc(a);e[s]=c,n[s]=(1e3*a-1e3*c)/1e3}else Jm(r[s])&&(n[s]=r[s]);for(const s in n)0!==n[s]&&(e[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return BK(this.matrix,e),eh(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return eh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(n,r){return void 0===n||0===n?void 0===r||0===r:n===r}for(const n of tp)if(!e(this.values[n],t.values[n]))return!1;return!0}}const k_="Invalid Interval";class nr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new Is("need to specify a reason the Interval is invalid");const n=t instanceof nc?t:new nc(t,e);if(pr.throwOnInvalid)throw new K1e(n);return new nr({invalid:n})}static fromDateTimes(t,e){const n=iw(t),r=iw(e),o=function TRe(i,t){return i&&i.isValid?t&&t.isValid?t<i?nr.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${t.toISO()}`):null:nr.invalid("missing or invalid end"):nr.invalid("missing or invalid start")}(n,r);return o??new nr({start:n,end:r})}static after(t,e){const n=Ti.fromDurationLike(e),r=iw(t);return nr.fromDateTimes(r,r.plus(n))}static before(t,e){const n=Ti.fromDurationLike(e),r=iw(t);return nr.fromDateTimes(r.minus(n),r)}static fromISO(t,e){const[n,r]=(t||"").split("/",2);if(n&&r){let o,s,a,c;try{o=zt.fromISO(n,e),s=o.isValid}catch{s=!1}try{a=zt.fromISO(r,e),c=a.isValid}catch{c=!1}if(s&&c)return nr.fromDateTimes(o,a);if(s){const l=Ti.fromISO(r,e);if(l.isValid)return nr.after(o,l)}else if(c){const l=Ti.fromISO(n,e);if(l.isValid)return nr.before(a,l)}}return nr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(t,e);let r;return r=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(t,e),Math.floor(r.diff(n,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?nr.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(iw).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:r}=this,o=0;for(;r<this.e;){const s=e[o]||this.e,a=+s>+this.e?this.e:s;n.push(nr.fromDateTimes(r,a)),r=a,o+=1}return n}splitBy(t){const e=Ti.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let o,{s:n}=this,r=1;const s=[];for(;n<this.e;){const a=this.start.plus(e.mapUnits(c=>c*r));o=+a>+this.e?this.e:a,s.push(nr.fromDateTimes(n,o)),n=o,r+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return e>=n?null:nr.fromDateTimes(e,n)}union(t){return this.isValid?nr.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[e,n]=t.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return n&&e.push(n),e}static xor(t){let e=null,n=0;const r=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...o).sort((c,l)=>c.time-l.time);for(const c of a)n+="s"===c.type?1:-1,1===n?e=c.time:(e&&+e!=+c.time&&r.push(nr.fromDateTimes(e,c.time)),e=null);return nr.merge(r)}difference(...t){return nr.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:k_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=ED,e={}){return this.isValid?Fo.create(this.s.loc.clone(e),t).formatInterval(this):k_}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:k_}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:k_}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:k_}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:k_}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Ti.invalid(this.invalidReason)}mapEndpoints(t){return nr.fromDateTimes(t(this.s),t(this.e))}}class FD{static hasDST(t=pr.defaultZone){const e=zt.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return hd.isValidZone(t)}static normalizeZone(t){return Xu(t,pr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||tn.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||tn.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||tn.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||tn.create(e,n,o)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||tn.create(e,n,o)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||tn.create(e,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||tn.create(e,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return tn.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return tn.create(e,null,"gregory").eras(t)}static features(){return{relative:fK(),localeWeek:gK()}}}function zK(i,t){const e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=e(t)-e(i);return Math.floor(Ti.fromMillis(n).as("days"))}const BF={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},HK={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},IRe=BF.hanidec.replace(/[\[|\]]/g,"").split("");function rc({numberingSystem:i},t=""){return new RegExp(`${BF[i||"latn"]}${t}`)}function Pi(i,t=(e=>e)){return{regex:i,deser:([e])=>t(function SRe(i){let t=parseInt(i,10);if(isNaN(t)){t="";for(let e=0;e<i.length;e++){const n=i.charCodeAt(e);if(-1!==i[e].search(BF.hanidec))t+=IRe.indexOf(i[e]);else for(const r in HK){const[o,s]=HK[r];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(e))}}const UK=`[ ${String.fromCharCode(160)}]`,jK=new RegExp(UK,"g");function ARe(i){return i.replace(/\./g,"\\.?").replace(jK,UK)}function $K(i){return i.replace(/\./g,"").replace(jK," ").toLowerCase()}function oc(i,t){return null===i?null:{regex:RegExp(i.map(ARe).join("|")),deser:([e])=>i.findIndex(n=>$K(e)===$K(n))+t}}function WK(i,t){return{regex:i,deser:([,e,n])=>PD(e,n),groups:t}}function LD(i){return{regex:i,deser:([t])=>t}}function RRe(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const ORe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let zF=null;function GK(i,t){return Array.prototype.concat(...i.map(e=>function zRe(i,t){if(i.literal)return i;const n=YK(Fo.macroTokenToFormatOpts(i.val),t);return null==n||n.includes(void 0)?i:n}(e,t)))}function qK(i,t,e){const n=GK(Fo.parseFormat(e),i),r=n.map(s=>function PRe(i,t){const e=rc(t),n=rc(t,"{2}"),r=rc(t,"{3}"),o=rc(t,"{4}"),s=rc(t,"{6}"),a=rc(t,"{1,2}"),c=rc(t,"{1,3}"),l=rc(t,"{1,6}"),u=rc(t,"{1,9}"),m=rc(t,"{2,4}"),_=rc(t,"{4,6}"),v=k=>({regex:RegExp(RRe(k.val)),deser:([O])=>O,literal:!0}),E=(k=>{if(i.literal)return v(k);switch(k.val){case"G":return oc(t.eras("short"),0);case"GG":return oc(t.eras("long"),0);case"y":return Pi(l);case"yy":case"kk":return Pi(m,NF);case"yyyy":case"kkkk":return Pi(o);case"yyyyy":return Pi(_);case"yyyyyy":return Pi(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Pi(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Pi(n);case"MMM":return oc(t.months("short",!0),1);case"MMMM":return oc(t.months("long",!0),1);case"LLL":return oc(t.months("short",!1),1);case"LLLL":return oc(t.months("long",!1),1);case"o":case"S":return Pi(c);case"ooo":case"SSS":return Pi(r);case"u":return LD(u);case"uu":return LD(a);case"uuu":case"E":case"c":return Pi(e);case"a":return oc(t.meridiems(),0);case"EEE":return oc(t.weekdays("short",!1),1);case"EEEE":return oc(t.weekdays("long",!1),1);case"ccc":return oc(t.weekdays("short",!0),1);case"cccc":return oc(t.weekdays("long",!0),1);case"Z":case"ZZ":return WK(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return WK(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return LD(/[a-z_+-/]{1,256}?/i);case" ":return LD(/[^\S\n\r]/);default:return v(k)}})(i)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return E.token=i,E}(s,i)),o=r.find(s=>s.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{const[s,a]=function FRe(i){return[`^${i.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,i]}(r),c=RegExp(s,"i"),[l,u]=function LRe(i,t,e){const n=i.match(t);if(n){const r={};let o=1;for(const s in e)if(v_(e,s)){const a=e[s],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(o,o+c))),o+=c}return[n,r]}return[n,{}]}(t,c,a),[m,_,v]=u?function VRe(i){let n,e=null;return jt(i.z)||(e=hd.create(i.z)),jt(i.Z)||(e||(e=new as(i.Z)),n=i.Z),jt(i.q)||(i.M=3*(i.q-1)+1),jt(i.h)||(i.h<12&&1===i.a?i.h+=12:12===i.h&&0===i.a&&(i.h=0)),0===i.G&&i.y&&(i.y=-i.y),jt(i.u)||(i.S=PF(i.u)),[Object.keys(i).reduce((o,s)=>{const a=(o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(s);return a&&(o[a]=i[s]),o},{}),e,n]}(u):[null,null,void 0];if(v_(u,"a")&&v_(u,"H"))throw new __("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:c,rawMatches:l,matches:u,result:m,zone:_,specificOffset:v}}}function YK(i,t){if(!i)return null;const n=Fo.create(t,i).dtFormatter(function BRe(){return zF||(zF=zt.fromMillis(1555555555555)),zF}()),r=n.formatToParts(),o=n.resolvedOptions();return r.map(s=>function NRe(i,t,e){const{type:n,value:r}=i;if("literal"===n){const c=/^\s+$/.test(r);return{literal:!c,val:c?" ":r}}let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":e.hour12?"hour12":"hour24");let a=ORe[s];if("object"==typeof a&&(a=a[t[n]]),a)return{literal:!1,val:a}}(s,i,o))}const HF="Invalid DateTime",ZK=864e13;function VD(i){return new nc("unsupported zone",`the zone "${i.name}" is not supported`)}function UF(i){return null===i.weekData&&(i.weekData=SD(i.c)),i.weekData}function jF(i){return null===i.localWeekData&&(i.localWeekData=SD(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function ip(i,t){const e={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new zt({...e,...t,old:e})}function KK(i,t,e){let n=i-60*t*1e3;const r=e.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const o=e.offset(n);return r===o?[n,r]:[i-60*Math.min(r,o)*1e3,Math.max(r,o)]}function BD(i,t){const e=new Date(i+=60*t*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function zD(i,t,e){return KK(RD(i),t,e)}function QK(i,t){const e=i.o,n=i.c.year+Math.trunc(t.years),r=i.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...i.c,year:n,month:r,day:Math.min(i.c.day,AD(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Ti.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=RD(o);let[c,l]=KK(a,e,i.zone);return 0!==s&&(c+=s,l=i.zone.offset(c)),{ts:c,o:l}}function tw(i,t,e,n,r,o){const{setZone:s,zone:a}=e;if(i&&0!==Object.keys(i).length||t){const c=t||a,l=zt.fromObject(i,{...e,zone:c,specificOffset:o});return s?l:l.setZone(a)}return zt.invalid(new nc("unparsable",`the input "${r}" can't be parsed as ${n}`))}function HD(i,t,e=!0){return i.isValid?Fo.create(tn.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(i,t):null}function $F(i,t){const e=i.c.year>9999||i.c.year<0;let n="";return e&&i.c.year>=0&&(n+="+"),n+=Mr(i.c.year,e?6:4),t?(n+="-",n+=Mr(i.c.month),n+="-",n+=Mr(i.c.day)):(n+=Mr(i.c.month),n+=Mr(i.c.day)),n}function XK(i,t,e,n,r,o){let s=Mr(i.c.hour);return t?(s+=":",s+=Mr(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=":")):s+=Mr(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=Mr(i.c.second),(0!==i.c.millisecond||!n)&&(s+=".",s+=Mr(i.c.millisecond,3))),r&&(i.isOffsetFixed&&0===i.offset&&!o?s+="Z":i.o<0?(s+="-",s+=Mr(Math.trunc(-i.o/60)),s+=":",s+=Mr(Math.trunc(-i.o%60))):(s+="+",s+=Mr(Math.trunc(i.o/60)),s+=":",s+=Mr(Math.trunc(i.o%60)))),o&&(s+="["+i.zone.ianaName+"]"),s}const JK={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},URe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jRe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},eQ=["year","month","day","hour","minute","second","millisecond"],$Re=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],WRe=["year","ordinal","hour","minute","second","millisecond"];function tQ(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function GRe(i){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!t)throw new MZ(i);return t}(i)}}function iQ(i,t){const e=Xu(t.zone,pr.defaultZone),n=tn.fromObject(t),r=pr.now();let o,s;if(jt(i.year))o=r;else{for(const l of eQ)jt(i[l])&&(i[l]=JK[l]);const a=mK(i)||pK(i);if(a)return zt.invalid(a);const c=e.offset(r);[o,s]=zD(i,c,e)}return new zt({ts:o,zone:e,loc:n,o:s})}function nQ(i,t,e){const n=!!jt(e.round)||e.round,r=(s,a)=>(s=OF(s,n||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(s,a)),o=s=>e.calendary?t.hasSame(i,s)?0:t.startOf(s).diff(i.startOf(s),s).get(s):t.diff(i,s).get(s);if(e.unit)return r(o(e.unit),e.unit);for(const s of e.units){const a=o(s);if(Math.abs(a)>=1)return r(a,s)}return r(i>t?-0:0,e.units[e.units.length-1])}function rQ(i){let e,t={};return i.length>0&&"object"==typeof i[i.length-1]?(t=i[i.length-1],e=Array.from(i).slice(0,i.length-1)):e=Array.from(i),[t,e]}class zt{constructor(t){const e=t.zone||pr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new nc("invalid input"):null)||(e.isValid?null:VD(e));this.ts=jt(t.ts)?pr.now():t.ts;let r=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,o]=[t.old.c,t.old.o];else{const a=e.offset(this.ts);r=BD(this.ts,a),n=Number.isNaN(r.year)?new nc("invalid input"):null,r=n?null:r,o=n?null:a}this._zone=e,this.loc=t.loc||tn.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new zt({})}static local(){const[t,e]=rQ(arguments),[n,r,o,s,a,c,l]=e;return iQ({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static utc(){const[t,e]=rQ(arguments),[n,r,o,s,a,c,l]=e;return t.zone=as.utcInstance,iQ({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static fromJSDate(t,e={}){const n=function xAe(i){return"[object Date]"===Object.prototype.toString.call(i)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return zt.invalid("invalid input");const r=Xu(e.zone,pr.defaultZone);return r.isValid?new zt({ts:n,zone:r,loc:tn.fromObject(e)}):zt.invalid(VD(r))}static fromMillis(t,e={}){if(Jm(t))return t<-ZK||t>ZK?zt.invalid("Timestamp out of range"):new zt({ts:t,zone:Xu(e.zone,pr.defaultZone),loc:tn.fromObject(e)});throw new Is(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Jm(t))return new zt({ts:1e3*t,zone:Xu(e.zone,pr.defaultZone),loc:tn.fromObject(e)});throw new Is("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const n=Xu(e.zone,pr.defaultZone);if(!n.isValid)return zt.invalid(VD(n));const r=tn.fromObject(e),o=OD(t,tQ),{minDaysInFirstWeek:s,startOfWeek:a}=hK(o,r),c=pr.now(),l=jt(e.specificOffset)?n.offset(c):e.specificOffset,u=!jt(o.ordinal),m=!jt(o.year),_=!jt(o.month)||!jt(o.day),v=m||_,x=o.weekYear||o.weekNumber;if((v||u)&&x)throw new __("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&u)throw new __("Can't mix ordinal dates with month/day");const E=x||o.weekday&&!v;let k,O,R=BD(c,l);E?(k=$Re,O=URe,R=SD(R,s,a)):u?(k=WRe,O=jRe,R=AF(R)):(k=eQ,O=JK);let z=!1;for(const ct of k)jt(o[ct])?o[ct]=z?O[ct]:R[ct]:z=!0;const K=E?function bAe(i,t=4,e=1){const n=MD(i.weekYear),r=Pa(i.weekNumber,1,Q0(i.weekYear,t,e)),o=Pa(i.weekday,1,7);return n?r?!o&&Ra("weekday",i.weekday):Ra("week",i.weekNumber):Ra("weekYear",i.weekYear)}(o,s,a):u?function yAe(i){const t=MD(i.year),e=Pa(i.ordinal,1,b_(i.year));return t?!e&&Ra("ordinal",i.ordinal):Ra("year",i.year)}(o):mK(o),le=K||pK(o);if(le)return zt.invalid(le);const ke=E?dK(o,s,a):u?uK(o):o,[We,Ze]=zD(ke,l,n),rt=new zt({ts:We,zone:n,o:Ze,loc:r});return o.weekday&&v&&t.weekday!==rt.weekday?zt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${rt.toISO()}`):rt}static fromISO(t,e={}){const[n,r]=function uRe(i){return x_(i,[rRe,NK],[oRe,cRe],[sRe,lRe],[aRe,dRe])}(t);return tw(n,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[n,r]=function hRe(i){return x_(function JAe(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(i),[QAe,XAe])}(t);return tw(n,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[n,r]=function mRe(i){return x_(i,[eRe,OK],[tRe,OK],[iRe,nRe])}(t);return tw(n,r,e,"HTTP",e)}static fromFormat(t,e,n={}){if(jt(t)||jt(e))throw new Is("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,s=tn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,c,l,u]=function HRe(i,t,e){const{result:n,zone:r,specificOffset:o,invalidReason:s}=qK(i,t,e);return[n,r,o,s]}(s,t,e);return u?zt.invalid(u):tw(a,c,n,`format ${e}`,t,l)}static fromString(t,e,n={}){return zt.fromFormat(t,e,n)}static fromSQL(t,e={}){const[n,r]=function yRe(i){return x_(i,[_Re,NK],[vRe,bRe])}(t);return tw(n,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new Is("need to specify a reason the DateTime is invalid");const n=t instanceof nc?t:new nc(t,e);if(pr.throwOnInvalid)throw new Z1e(n);return new zt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const n=YK(t,tn.fromObject(e));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return GK(Fo.parseFormat(t),tn.fromObject(e)).map(r=>r.val).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?UF(this).weekYear:NaN}get weekNumber(){return this.isValid?UF(this).weekNumber:NaN}get weekday(){return this.isValid?UF(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?jF(this).weekday:NaN}get localWeekNumber(){return this.isValid?jF(this).weekNumber:NaN}get localWeekYear(){return this.isValid?jF(this).weekYear:NaN}get ordinal(){return this.isValid?AF(this.c).ordinal:NaN}get monthShort(){return this.isValid?FD.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?FD.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?FD.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?FD.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,n=RD(this.c),r=this.zone.offset(n-t),o=this.zone.offset(n+t),s=this.zone.offset(n-r*e),a=this.zone.offset(n-o*e);if(s===a)return[this];const c=n-s*e,l=n-a*e,u=BD(c,s),m=BD(l,a);return u.hour===m.hour&&u.minute===m.minute&&u.second===m.second&&u.millisecond===m.millisecond?[ip(this,{ts:c}),ip(this,{ts:l})]:[this]}get isInLeapYear(){return K0(this.year)}get daysInMonth(){return AD(this.year,this.month)}get daysInYear(){return this.isValid?b_(this.year):NaN}get weeksInWeekYear(){return this.isValid?Q0(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Q0(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:n,calendar:r}=Fo.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(as.instance(t),e)}toLocal(){return this.setZone(pr.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((t=Xu(t,pr.defaultZone)).equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||n){const o=t.offset(this.ts),s=this.toObject();[r]=zD(s,o,t)}return ip(this,{ts:r,zone:t})}return zt.invalid(VD(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:n}={}){return ip(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:n})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=OD(t,tQ),{minDaysInFirstWeek:n,startOfWeek:r}=hK(e,this.loc),o=!jt(e.weekYear)||!jt(e.weekNumber)||!jt(e.weekday),s=!jt(e.ordinal),a=!jt(e.year),c=!jt(e.month)||!jt(e.day);if((a||c||s)&&(e.weekYear||e.weekNumber))throw new __("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new __("Can't mix ordinal dates with month/day");let m;o?m=dK({...SD(this.c,n,r),...e},n,r):jt(e.ordinal)?(m={...this.toObject(),...e},jt(e.day)&&(m.day=Math.min(AD(m.year,m.month),m.day))):m=uK({...AF(this.c),...e});const[_,v]=zD(m,this.o,this.zone);return ip(this,{ts:_,o:v})}plus(t){return this.isValid?ip(this,QK(this,Ti.fromDurationLike(t))):this}minus(t){return this.isValid?ip(this,QK(this,Ti.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},r=Ti.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(e){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if("quarters"===r){const o=Math.ceil(this.month/3);n.month=3*(o-1)+1}return this.set(n)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Fo.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):HF}toLocaleString(t=ED,e={}){return this.isValid?Fo.create(this.loc.clone(e),t).formatDateTime(this):HF}toLocaleParts(t={}){return this.isValid?Fo.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s="extended"===t;let a=$F(this,s);return a+="T",a+=XK(this,s,e,n,r,o),a}toISODate({format:t="extended"}={}){return this.isValid?$F(this,"extended"===t):null}toISOWeekDate(){return HD(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+XK(this,"extended"===s,e,t,n,o):null}toRFC2822(){return HD(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return HD(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$F(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(n&&(r+=" "),e?r+="z":t&&(r+="ZZ")),HD(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():HF}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",n={}){if(!this.isValid||!t.isValid)return Ti.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=function CAe(i){return Array.isArray(i)?i:[i]}(e).map(Ti.normalizeUnit),s=t.valueOf()>this.valueOf(),l=function DRe(i,t,e,n){let[r,o,s,a]=function kRe(i,t,e){const n=[["years",(c,l)=>l.year-c.year],["quarters",(c,l)=>l.quarter-c.quarter+4*(l.year-c.year)],["months",(c,l)=>l.month-c.month+12*(l.year-c.year)],["weeks",(c,l)=>{const u=zK(c,l);return(u-u%7)/7}],["days",zK]],r={},o=i;let s,a;for(const[c,l]of n)e.indexOf(c)>=0&&(s=c,r[c]=l(i,t),a=o.plus(r),a>t?(r[c]--,(i=o.plus(r))>t&&(a=i,r[c]--,i=o.plus(r))):i=a);return[i,r,a,s]}(i,t,e);const c=t-r,l=e.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);0===l.length&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+c/(s-r)));const u=Ti.fromObject(o,n);return l.length>0?Ti.fromMillis(c,n).shiftTo(...l).plus(u):u}(s?this:t,s?t:this,o,r);return s?l.negate():l}diffNow(t="milliseconds",e={}){return this.diff(zt.now(),t,e)}until(t){return this.isValid?nr.fromDateTimes(this,t):this}hasSame(t,e,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e,n)<=r&&r<=o.endOf(e,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||zt.fromObject({},{zone:this.zone}),n=t.padding?this<e?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(r=t.unit,o=void 0),nQ(e,this.plus(n),{...t,numeric:"always",units:r,unit:o})}toRelativeCalendar(t={}){return this.isValid?nQ(t.base||zt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(zt.isDateTime))throw new Is("min requires all arguments be DateTimes");return _K(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(zt.isDateTime))throw new Is("max requires all arguments be DateTimes");return _K(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,n={}){const{locale:r=null,numberingSystem:o=null}=n;return qK(tn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,n={}){return zt.fromFormatExplain(t,e,n)}static get DATE_SHORT(){return ED}static get DATE_MED(){return AZ}static get DATE_MED_WITH_WEEKDAY(){return X1e}static get DATE_FULL(){return RZ}static get DATE_HUGE(){return PZ}static get TIME_SIMPLE(){return OZ}static get TIME_WITH_SECONDS(){return NZ}static get TIME_WITH_SHORT_OFFSET(){return FZ}static get TIME_WITH_LONG_OFFSET(){return LZ}static get TIME_24_SIMPLE(){return VZ}static get TIME_24_WITH_SECONDS(){return BZ}static get TIME_24_WITH_SHORT_OFFSET(){return zZ}static get TIME_24_WITH_LONG_OFFSET(){return HZ}static get DATETIME_SHORT(){return UZ}static get DATETIME_SHORT_WITH_SECONDS(){return jZ}static get DATETIME_MED(){return $Z}static get DATETIME_MED_WITH_SECONDS(){return WZ}static get DATETIME_MED_WITH_WEEKDAY(){return J1e}static get DATETIME_FULL(){return GZ}static get DATETIME_FULL_WITH_SECONDS(){return qZ}static get DATETIME_HUGE(){return YZ}static get DATETIME_HUGE_WITH_SECONDS(){return ZZ}}function iw(i){if(zt.isDateTime(i))return i;if(i&&i.valueOf&&Jm(i.valueOf()))return zt.fromJSDate(i);if(i&&"object"==typeof i)return zt.fromObject(i);throw new Is(`Unknown datetime argument: ${i}, of type ${typeof i}`)}var I_=function(i){return i.AM="AM",i.PM="PM",i}(I_||{}),md=function(i){return i.TWELVE="hh:mm a",i.TWELVE_SHORT="h:m a",i.TWENTY_FOUR="HH:mm",i.TWENTY_FOUR_SHORT="H:m",i}(md||{});function GF(i,t,e="minutes"){return"hours"===e?i.hour>=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()>t.valueOf():void 0}function qF(i,t,e="minutes"){return"hours"===e?i.hour<=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()<=t.valueOf():void 0}let np=(()=>{class i{static parseTime(e,n){const{numberingSystem:r,locale:o}=i.getLocaleOptionsByTime(e,n),a=2===e.split(" ").length?md.TWELVE_SHORT:md.TWENTY_FOUR_SHORT;return zt.fromFormat(e,a,{numberingSystem:r,locale:o})}static formatTime(e,n){if(!e)return"Invalid Time";const{format:r}=n,o=i.parseTime(e,n).setLocale(i.DEFAULT_LOCALE);return o.isValid?24!==r?o.toLocaleString(Object.assign(Object.assign({},zt.TIME_SIMPLE),{hour12:24!==r,numberingSystem:i.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(e,n={}){const{format:r=i.DEFAULT_FORMAT,locale:o=i.DEFAULT_LOCALE}=n,s=24===r?"h23":"h12",a=Object.assign(Object.assign({},zt.TIME_SIMPLE),{hourCycle:s}),c=24===r?md.TWENTY_FOUR_SHORT:md.TWELVE_SHORT,l=Object.assign({locale:n.locale,numberingSystem:n.numberingSystem},a);return zt.fromFormat(e,c).setLocale(o).toLocaleString(l).replace(/\u202F/g," ")}static isTimeAvailable(e,n,r,o,s,a){if(!e)return;const c=this.parseTime(e,{format:a}),l=c.minute;if(s&&l==l&&l%s!=0)throw new Error(`Your minutes - ${l} doesn't match your minutesGap - ${s}`);const u=n&&!r&&GF(c,n,o),m=r&&!n&&qF(c,r,o),_=n&&r&&function aPe(i,t,e,n="minutes"){return"hours"===n?qF(i,e,n)&&GF(i,t,n):"minutes"===n?qF(i,e)&&GF(i,t):void 0}(c,n,r,o);return u||m||_||!n&&!r}static formatHour(e,n,r){if(24===n)return e;const o=r===I_.AM?e:e+12;return r===I_.AM&&12===o?0:r===I_.PM&&24===o?12:o}static fromDateTimeToString(e,n){const r=24===n?md.TWENTY_FOUR:md.TWELVE;return e.reconfigure({numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE}).toFormat(r).replace(/\u202F/g," ")}static getLocaleOptionsByTime(e,n){const r={numberingSystem:n.numberingSystem,locale:n.locale},o={numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?r:o}}return i.DEFAULT_FORMAT=12,i.DEFAULT_LOCALE="en-US",i.DEFAULT_NUMBERING_SYSTEM="latn",i})();const cPe=new W("TimeLocale",{providedIn:"root",factory:()=>np.DEFAULT_LOCALE}),lPe=new W("NumberingSystem",{providedIn:"root",factory:()=>np.DEFAULT_NUMBERING_SYSTEM});let hPe=(()=>{class i{static setOpts(e,n=np.DEFAULT_NUMBERING_SYSTEM){return{ngModule:i,providers:[{provide:cPe,useValue:e},{provide:lPe,useValue:n}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ee({type:i}),i.\u0275inj=De({imports:[[Vi,f8,g8]]}),i})();!function Hoe(i,t,e){(function Ite(i,t,e){"string"!=typeof t&&(e=t,t=i[fn.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),yf[t]=i,e&&(yf[t][fn.ExtraData]=e)})(i,t,e)}(Awe);let mPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ee({type:i,bootstrap:[Qve]});static#i=this.\u0275inj=De({imports:[aH,Kve,Gye,m_e,Vi,f8,g8,Qye,c0e,Swe,wge,Ywe,axe,Mxe,LT,dxe,HW,nCe,fCe,yCe,xCe,Eve,SCe,qW,ACe,OCe,dEe,CEe,IEe,BEe,mT,GEe,qEe,CTe,C8,kTe,ITe,Gs,STe,jge,RTe,fG,$Te,qTe,gke,jxe,mde.initializeApp(Y1e_firebase),q1e,hPe]})}return i})();uae().bootstrapModule(mPe).catch(i=>console.error(i))},519:function(Ss){Ss.exports=function(){"use strict";function un(C,g,b){if("function"==typeof C?C===g:C.has(g))return arguments.length<3?g:b;throw new TypeError("Private element is not present on this object")}function dt(C,g,b){return g=At(g),function vi(C,g){if(g&&("object"==typeof g||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return function or(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(C,ft()?Reflect.construct(g,b||[],At(C).constructor):g.apply(C,b))}function S(C,g){return C.get(un(C,g))}function ft(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ft=function(){return!!C})()}function hn(C){var g=function qi(C,g){if("object"!=typeof C||!C)return C;var b=C[Symbol.toPrimitive];if(void 0!==b){var w=b.call(C,g||"default");if("object"!=typeof w)return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(C)}(C,"string");return"symbol"==typeof g?g:String(g)}function di(C){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(C)}function $t(C,g){if(!(C instanceof g))throw new TypeError("Cannot call a class as a function")}function he(C,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(C,hn(w.key),w)}}function be(C,g,b){return g&&he(C.prototype,g),b&&he(C,b),Object.defineProperty(C,"prototype",{writable:!1}),C}function At(C){return(At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(C)}function si(C,g){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,P){return w.__proto__=P,w})(C,g)}function Rt(){return Rt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(g,b,w){var P=function xt(C,g){for(;!Object.prototype.hasOwnProperty.call(C,g)&&null!==(C=At(C)););return C}(g,b);if(P){var oe=Object.getOwnPropertyDescriptor(P,b);return oe.get?oe.get.call(arguments.length<3?g:w):oe.value}},Rt.apply(this,arguments)}function sr(C,g){return function bi(C){if(Array.isArray(C))return C}(C)||function Mt(C,g){var b=null==C?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(null!=b){var w,P,oe,Ve,at=[],St=!0,mi=!1;try{if(oe=(b=b.call(C)).next,0===g){if(Object(b)!==b)return;St=!1}else for(;!(St=(w=oe.call(b)).done)&&(at.push(w.value),at.length!==g);St=!0);}catch(Ui){mi=!0,P=Ui}finally{try{if(!St&&null!=b.return&&(Ve=b.return(),Object(Ve)!==Ve))return}finally{if(mi)throw P}}return at}}(C,g)||Ar(C,g)||function ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(C){return function Yi(C){if(Array.isArray(C))return Nt(C)}(C)||function Oi(C){if(typeof Symbol<"u"&&null!=C[Symbol.iterator]||null!=C["@@iterator"])return Array.from(C)}(C)||Ar(C)||function Gn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(C,g){if(C){if("string"==typeof C)return Nt(C,g);var b=Object.prototype.toString.call(C).slice(8,-1);if("Object"===b&&C.constructor&&(b=C.constructor.name),"Map"===b||"Set"===b)return Array.from(C);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Nt(C,g)}}function Nt(C,g){(null==g||g>C.length)&&(g=C.length);for(var b=0,w=new Array(g);b<g;b++)w[b]=C[b];return w}function Zi(C,g,b){(function nn(C,g){if(g.has(C))throw new TypeError("Cannot initialize the same private elements twice on an object")})(C,g),g.set(C,b)}var vt={},Lt=function(g){return new Promise(function(b){if(!g)return b();var w=window.scrollX,P=window.scrollY;vt.restoreFocusTimeout=setTimeout(function(){vt.previousActiveElement instanceof HTMLElement?(vt.previousActiveElement.focus(),vt.previousActiveElement=null):document.body&&document.body.focus(),b()},100),window.scrollTo(w,P)})},M=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(C,g){return C[g]="swal2-"+g,C},{}),G=["success","warning","info","question","error"].reduce(function(C,g){return C[g]="swal2-"+g,C},{}),ce="SweetAlert2:",me=function(g){return g.charAt(0).toUpperCase()+g.slice(1)},X=function(g){console.warn("".concat(ce," ").concat("object"===di(g)?g.join(" "):g))},Te=function(g){console.error("".concat(ce," ").concat(g))},oi=[],Xe=function(g,b){!function(g){oi.includes(g)||(oi.push(g),X(g))}('"'.concat(g,'" is deprecated and will be removed in the next major release. Please use "').concat(b,'" instead.'))},ei=function(g){return"function"==typeof g?g():g},zi=function(g){return g&&"function"==typeof g.toPromise},Ci=function(g){return zi(g)?g.toPromise():Promise.resolve(g)},Ln=function(g){return g&&Promise.resolve(g)===g},fi=function(){return document.body.querySelector(".".concat(M.container))},Vn=function(g){var b=fi();return b?b.querySelector(g):null},Ii=function(g){return Vn(".".concat(g))},Vt=function(){return Ii(M.popup)},ds=function(){return Ii(M.icon)},Ki=function(){return Ii(M.title)},Js=function(){return Ii(M["html-container"])},sc=function(){return Ii(M.image)},no=function(){return Ii(M["progress-steps"])},ea=function(){return Ii(M["validation-message"])},Qi=function(){return Vn(".".concat(M.actions," .").concat(M.confirm))},Wr=function(){return Vn(".".concat(M.actions," .").concat(M.cancel))},Gr=function(){return Vn(".".concat(M.actions," .").concat(M.deny))},Co=function(){return Vn(".".concat(M.loader))},yi=function(){return Ii(M.actions)},ro=function(){return Ii(M.footer)},mn=function(){return Ii(M["timer-progress-bar"])},ta=function(){return Ii(M.close)},gr=function(){var g=Vt();if(!g)return[];var b=g.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),w=Array.from(b).sort(function(Ve,at){var St=parseInt(Ve.getAttribute("tabindex")||"0"),mi=parseInt(at.getAttribute("tabindex")||"0");return St>mi?1:St<mi?-1:0}),P=g.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),oe=Array.from(P).filter(function(Ve){return"-1"!==Ve.getAttribute("tabindex")});return ar(new Set(w.concat(oe))).filter(function(Ve){return gt(Ve)})},Vo=function(){return rn(document.body,M.shown)&&!rn(document.body,M["toast-shown"])&&!rn(document.body,M["no-backdrop"])},Bo=function(){var g=Vt();return!!g&&rn(g,M.toast)},qn=function(g,b){if(g.textContent="",b){var P=(new DOMParser).parseFromString(b,"text/html"),oe=P.querySelector("head");oe&&Array.from(oe.childNodes).forEach(function(at){g.appendChild(at)});var Ve=P.querySelector("body");Ve&&Array.from(Ve.childNodes).forEach(function(at){at instanceof HTMLVideoElement||at instanceof HTMLAudioElement?g.appendChild(at.cloneNode(!0)):g.appendChild(at)})}},rn=function(g,b){if(!b)return!1;for(var w=b.split(/\s+/),P=0;P<w.length;P++)if(!g.classList.contains(w[P]))return!1;return!0},Bn=function(g,b,w){if(function(g,b){Array.from(g.classList).forEach(function(w){!Object.values(M).includes(w)&&!Object.values(G).includes(w)&&!Object.values(b.showClass||{}).includes(w)&&g.classList.remove(w)})}(g,b),b.customClass&&b.customClass[w]){if("string"!=typeof b.customClass[w]&&!b.customClass[w].forEach)return void X("Invalid type of customClass.".concat(w,'! Expected string or iterable object, got "').concat(di(b.customClass[w]),'"'));Yt(g,b.customClass[w])}},Rs=function(g,b){if(!b)return null;switch(b){case"select":case"textarea":case"file":return g.querySelector(".".concat(M.popup," > .").concat(M[b]));case"checkbox":return g.querySelector(".".concat(M.popup," > .").concat(M.checkbox," input"));case"radio":return g.querySelector(".".concat(M.popup," > .").concat(M.radio," input:checked"))||g.querySelector(".".concat(M.popup," > .").concat(M.radio," input:first-child"));case"range":return g.querySelector(".".concat(M.popup," > .").concat(M.range," input"));default:return g.querySelector(".".concat(M.popup," > .").concat(M.input))}},al=function(g){if(g.focus(),"file"!==g.type){var b=g.value;g.value="",g.value=b}},ac=function(g,b,w){!g||!b||("string"==typeof b&&(b=b.split(/\s+/).filter(Boolean)),b.forEach(function(P){Array.isArray(g)?g.forEach(function(oe){w?oe.classList.add(P):oe.classList.remove(P)}):w?g.classList.add(P):g.classList.remove(P)}))},Yt=function(g,b){ac(g,b,!0)},L=function(g,b){ac(g,b,!1)},N=function(g,b){for(var w=Array.from(g.children),P=0;P<w.length;P++){var oe=w[P];if(oe instanceof HTMLElement&&rn(oe,b))return oe}},B=function(g,b,w){w==="".concat(parseInt(w))&&(w=parseInt(w)),w||0===parseInt(w)?g.style.setProperty(b,"number"==typeof w?"".concat(w,"px"):w):g.style.removeProperty(b)},J=function(g){g&&(g.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},$=function(g){g&&(g.style.display="none")},ie=function(g){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";g&&new MutationObserver(function(){Dt(g,g.innerHTML,b)}).observe(g,{childList:!0,subtree:!0})},mt=function(g,b,w,P){var oe=g.querySelector(b);oe&&oe.style.setProperty(w,P)},Dt=function(g,b){b?J(g,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):$(g)},gt=function(g){return!(!g||!(g.offsetWidth||g.offsetHeight||g.getClientRects().length))},zn=function(g){return g.scrollHeight>g.clientHeight},Be=function(g){var b=window.getComputedStyle(g),w=parseFloat(b.getPropertyValue("animation-duration")||"0"),P=parseFloat(b.getPropertyValue("transition-duration")||"0");return w>0||P>0},Hn=function(g){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=mn();w&&gt(w)&&(b&&(w.style.transition="none",w.style.width="100%"),setTimeout(function(){w.style.transition="width ".concat(g/1e3,"s linear"),w.style.width="0%"},10))},zo=function(){return typeof window>"u"||typeof document>"u"},pd='\n <div aria-labelledby="'.concat(M.title,'" aria-describedby="').concat(M["html-container"],'" class="').concat(M.popup,'" tabindex="-1">\n   <button type="button" class="').concat(M.close,'"></button>\n   <ul class="').concat(M["progress-steps"],'"></ul>\n   <div class="').concat(M.icon,'"></div>\n   <img class="').concat(M.image,'" />\n   <h2 class="').concat(M.title,'" id="').concat(M.title,'"></h2>\n   <div class="').concat(M["html-container"],'" id="').concat(M["html-container"],'"></div>\n   <input class="').concat(M.input,'" id="').concat(M.input,'" />\n   <input type="file" class="').concat(M.file,'" />\n   <div class="').concat(M.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(M.select,'" id="').concat(M.select,'"></select>\n   <div class="').concat(M.radio,'"></div>\n   <label class="').concat(M.checkbox,'">\n     <input type="checkbox" id="').concat(M.checkbox,'" />\n     <span class="').concat(M.label,'"></span>\n   </label>\n   <textarea class="').concat(M.textarea,'" id="').concat(M.textarea,'"></textarea>\n   <div class="').concat(M["validation-message"],'" id="').concat(M["validation-message"],'"></div>\n   <div class="').concat(M.actions,'">\n     <div class="').concat(M.loader,'"></div>\n     <button type="button" class="').concat(M.confirm,'"></button>\n     <button type="button" class="').concat(M.deny,'"></button>\n     <button type="button" class="').concat(M.cancel,'"></button>\n   </div>\n   <div class="').concat(M.footer,'"></div>\n   <div class="').concat(M["timer-progress-bar-container"],'">\n     <div class="').concat(M["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),j=function(){vt.currentInstance.resetValidationMessage()},Z=function(g){var b=function(){var g=fi();return!!g&&(g.remove(),L([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0)}();if(zo())Te("SweetAlert2 requires document to initialize");else{var w=document.createElement("div");w.className=M.container,b&&Yt(w,M["no-transition"]),qn(w,pd);var P=function(g){return"string"==typeof g?document.querySelector(g):g}(g.target);P.appendChild(w),function(g){var b=Vt();b.setAttribute("role",g.toast?"alert":"dialog"),b.setAttribute("aria-live",g.toast?"polite":"assertive"),g.toast||b.setAttribute("aria-modal","true")}(g),function(g){"rtl"===window.getComputedStyle(g).direction&&Yt(fi(),M.rtl)}(P),function(){var g=Vt(),b=N(g,M.input),w=N(g,M.file),P=g.querySelector(".".concat(M.range," input")),oe=g.querySelector(".".concat(M.range," output")),Ve=N(g,M.select),at=g.querySelector(".".concat(M.checkbox," input")),St=N(g,M.textarea);b.oninput=j,w.onchange=j,Ve.onchange=j,at.onchange=j,St.oninput=j,P.oninput=function(){j(),oe.value=P.value},P.onchange=function(){j(),oe.value=P.value}}()}},Xi=function(g,b){g instanceof HTMLElement?b.appendChild(g):"object"===di(g)?Ue(g,b):g&&qn(b,g)},Ue=function(g,b){g.jquery?Zt(b,g):qn(b,g.toString())},Zt=function(g,b){if(g.textContent="",0 in b)for(var w=0;w in b;w++)g.appendChild(b[w].cloneNode(!0));else g.appendChild(b.cloneNode(!0))},Eo=function(){if(zo())return!1;var C=document.createElement("div");return typeof C.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof C.style.animation<"u"&&"animationend"}(),rw=function(g,b){var w=yi(),P=Co();!w||!P||(b.showConfirmButton||b.showDenyButton||b.showCancelButton?J(w):$(w),Bn(w,b,"actions"),function M_(C,g,b){var w=Qi(),P=Gr(),oe=Wr();!w||!P||!oe||(Rr(w,"confirm",b),Rr(P,"deny",b),Rr(oe,"cancel",b),function cl(C,g,b,w){w.buttonsStyling?(Yt([C,g,b],M.styled),w.confirmButtonColor&&(C.style.backgroundColor=w.confirmButtonColor,Yt(C,M["default-outline"])),w.denyButtonColor&&(g.style.backgroundColor=w.denyButtonColor,Yt(g,M["default-outline"])),w.cancelButtonColor&&(b.style.backgroundColor=w.cancelButtonColor,Yt(b,M["default-outline"]))):L([C,g,b],M.styled)}(w,P,oe,b),b.reverseButtons&&(b.toast?(C.insertBefore(oe,w),C.insertBefore(P,w)):(C.insertBefore(oe,g),C.insertBefore(P,g),C.insertBefore(w,g))))}(w,P,b),qn(P,b.loaderHtml||""),Bn(P,b,"loader"))};function Rr(C,g,b){var w=me(g);Dt(C,b["show".concat(w,"Button")],"inline-block"),qn(C,b["".concat(g,"ButtonText")]||""),C.setAttribute("aria-label",b["".concat(g,"ButtonAriaLabel")]||""),C.className=M[g],Bn(C,b,"".concat(g,"Button"))}var A_=function(g,b){var w=fi();w&&(function Ji(C,g){"string"==typeof g?C.style.background=g:g||Yt([document.documentElement,document.body],M["no-backdrop"])}(w,b.backdrop),function na(C,g){g&&(g in M?Yt(C,M[g]):(X('The "position" parameter is not valid, defaulting to "center"'),Yt(C,M.center)))}(w,b.position),function sw(C,g){g&&Yt(C,M["grow-".concat(g)])}(w,b.grow),Bn(w,b,"container"))};var Mi={innerParams:new WeakMap,domCache:new WeakMap},R_=["input","file","range","select","radio","checkbox","textarea"],P_=function(g){if(g.input){if(!pn[g.input])return void Te("Unexpected type of input! Expected ".concat(Object.keys(pn).join(" | "),', got "').concat(g.input,'"'));var b=th(g.input),w=pn[g.input](b,g);J(b),g.inputAutoFocus&&setTimeout(function(){al(w)})}},op=function(g,b){var w=Rs(Vt(),g);if(w)for(var P in function(g){for(var b=0;b<g.attributes.length;b++){var w=g.attributes[b].name;["id","type","value","style"].includes(w)||g.removeAttribute(w)}}(w),b)w.setAttribute(P,b[P])},O_=function(g){var b=th(g.input);"object"===di(g.customClass)&&Yt(b,g.customClass.input)},_r=function(g,b){(!g.placeholder||b.inputPlaceholder)&&(g.placeholder=b.inputPlaceholder)},nt=function(g,b,w){if(w.inputLabel){var P=document.createElement("label"),oe=M["input-label"];P.setAttribute("for",g.id),P.className=oe,"object"===di(w.customClass)&&Yt(P,w.customClass.inputLabel),P.innerText=w.inputLabel,b.insertAdjacentElement("beforebegin",P)}},th=function(g){return N(Vt(),M[g]||M.input)},ih=function(g,b){["string","number"].includes(di(b))?g.value="".concat(b):Ln(b)||X('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(di(b),'"'))},pn={};pn.text=pn.email=pn.password=pn.number=pn.tel=pn.url=pn.search=pn.date=pn["datetime-local"]=pn.time=pn.week=pn.month=function(C,g){return ih(C,g.inputValue),nt(C,C,g),_r(C,g),C.type=g.input,C},pn.file=function(C,g){return nt(C,C,g),_r(C,g),C},pn.range=function(C,g){var b=C.querySelector("input"),w=C.querySelector("output");return ih(b,g.inputValue),b.type=g.input,ih(w,g.inputValue),nt(b,C,g),C},pn.select=function(C,g){if(C.textContent="",g.inputPlaceholder){var b=document.createElement("option");qn(b,g.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,C.appendChild(b)}return nt(C,C,g),C},pn.radio=function(C){return C.textContent="",C},pn.checkbox=function(C,g){var b=Rs(Vt(),"checkbox");b.value="1",b.checked=!!g.inputValue;var w=C.querySelector("span");return qn(w,g.inputPlaceholder),b},pn.textarea=function(C,g){ih(C,g.inputValue),_r(C,g),nt(C,C,g);return setTimeout(function(){if("MutationObserver"in window){var w=parseInt(window.getComputedStyle(Vt()).width);new MutationObserver(function(){if(document.body.contains(C)){var Ve=C.offsetWidth+(P=C,parseInt(window.getComputedStyle(P).marginLeft)+parseInt(window.getComputedStyle(P).marginRight));Ve>w?Vt().style.width="".concat(Ve,"px"):B(Vt(),"width",g.width)}var P}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};var pe=function(g,b){var w=Js();w&&(ie(w),Bn(w,b,"htmlContainer"),b.html?(Xi(b.html,w),J(w,"block")):b.text?(w.textContent=b.text,J(w,"block")):$(w),function(g,b){var w=Vt();if(w){var P=Mi.innerParams.get(g),oe=!P||b.input!==P.input;R_.forEach(function(Ve){var at=N(w,M[Ve]);at&&(op(Ve,b.inputAttributes),at.className=M[Ve],oe&&$(at))}),b.input&&(oe&&P_(b),O_(b))}}(g,b))},cc=function(g,b){for(var w=0,P=Object.entries(G);w<P.length;w++){var oe=sr(P[w],2);b.icon!==oe[0]&&L(g,oe[1])}Yt(g,b.icon&&G[b.icon]),ll(g,b),N_(),Bn(g,b,"icon")},N_=function(){var g=Vt();if(g)for(var b=window.getComputedStyle(g).getPropertyValue("background-color"),w=g.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),P=0;P<w.length;P++)w[P].style.backgroundColor=b},us=function(g,b){if(b.icon||b.iconHtml){var w=g.innerHTML,P="";b.iconHtml?P=lc(b.iconHtml):"success"===b.icon?(P='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',w=w.replace(/ style=".*?"/g,"")):"error"===b.icon?P='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':b.icon&&(P=lc({question:"?",warning:"!",info:"i"}[b.icon])),w.trim()!==P.trim()&&qn(g,P)}},ll=function(g,b){if(b.iconColor){g.style.color=b.iconColor,g.style.borderColor=b.iconColor;for(var w=0,P=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];w<P.length;w++)mt(g,P[w],"background-color",b.iconColor);mt(g,".swal2-success-ring","border-color",b.iconColor)}},lc=function(g){return'<div class="'.concat(M["icon-content"],'">').concat(g,"</div>")},ii=function(g,b){var w=b.showClass||{};g.className="".concat(M.popup," ").concat(gt(g)?w.popup:""),b.toast?(Yt([document.documentElement,document.body],M["toast-shown"]),Yt(g,M.toast)):Yt(g,M.modal),Bn(g,b,"popup"),"string"==typeof b.customClass&&Yt(g,b.customClass),b.icon&&Yt(g,M["icon-".concat(b.icon)])},ap=function(g){var b=document.createElement("li");return Yt(b,M["progress-step"]),qn(b,g),b},vr=function(g){var b=document.createElement("li");return Yt(b,M["progress-step-line"]),g.progressStepsDistance&&B(b,"width",g.progressStepsDistance),b},oh=function(g,b){(function(g,b){var w=fi(),P=Vt();if(w&&P){if(b.toast){B(w,"width",b.width),P.style.width="100%";var oe=Co();oe&&P.insertBefore(oe,ds())}else B(P,"width",b.width);B(P,"padding",b.padding),b.color&&(P.style.color=b.color),b.background&&(P.style.background=b.background),$(ea()),ii(P,b)}})(0,b),A_(0,b),function(g,b){var w=no();if(w){var P=b.progressSteps,oe=b.currentProgressStep;if(!P||0===P.length||void 0===oe)return void $(w);J(w),w.textContent="",oe>=P.length&&X("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.forEach(function(Ve,at){var St=ap(Ve);if(w.appendChild(St),at===oe&&Yt(St,M["active-progress-step"]),at!==P.length-1){var mi=vr(b);w.appendChild(mi)}})}}(0,b),function(g,b){var w=Mi.innerParams.get(g),P=ds();if(P){if(w&&b.icon===w.icon)return us(P,b),void cc(P,b);if(!b.icon&&!b.iconHtml)return void $(P);if(b.icon&&-1===Object.keys(G).indexOf(b.icon))return Te('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(b.icon,'"')),void $(P);J(P),us(P,b),cc(P,b),Yt(P,b.showClass&&b.showClass.icon)}}(g,b),function(g,b){var w=sc();if(w){if(!b.imageUrl)return void $(w);J(w,""),w.setAttribute("src",b.imageUrl),w.setAttribute("alt",b.imageAlt||""),B(w,"width",b.imageWidth),B(w,"height",b.imageHeight),w.className=M.image,Bn(w,b,"image")}}(0,b),function(g,b){var w=Ki();w&&(ie(w),Dt(w,b.title||b.titleText,"block"),b.title&&Xi(b.title,w),b.titleText&&(w.innerText=b.titleText),Bn(w,b,"title"))}(0,b),function(g,b){var w=ta();w&&(qn(w,b.closeButtonHtml||""),Bn(w,b,"closeButton"),Dt(w,b.showCloseButton),w.setAttribute("aria-label",b.closeButtonAriaLabel||""))}(0,b),pe(g,b),rw(0,b),function(g,b){var w=ro();w&&(ie(w),Dt(w,b.footer,"block"),b.footer&&Xi(b.footer,w),Bn(w,b,"footer"))}(0,b);var w=Vt();"function"==typeof b.didRender&&w&&b.didRender(w)},sh=function(){var g;return null===(g=Qi())||void 0===g?void 0:g.click()},ra=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),dc=function(g){g.keydownTarget&&g.keydownHandlerAdded&&(g.keydownTarget.removeEventListener("keydown",g.keydownHandler,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!1)},Fa=function(g,b){var w,P=gr();if(P.length)return(g+=b)===P.length?g=0:-1===g&&(g=P.length-1),void P[g].focus();null===(w=Vt())||void 0===w||w.focus()},dp=["ArrowRight","ArrowDown"],ul=["ArrowLeft","ArrowUp"],uw=function(g,b,w){g&&(b.isComposing||229===b.keyCode||(g.stopKeydownPropagation&&b.stopPropagation(),"Enter"===b.key?up(b,g):"Tab"===b.key?hw(b):[].concat(dp,ul).includes(b.key)?hp(b.key):"Escape"===b.key&&fd(b,g,w)))},up=function(g,b){if(ei(b.allowEnterKey)){var w=Rs(Vt(),b.input);if(g.target&&w&&g.target instanceof HTMLElement&&g.target.outerHTML===w.outerHTML){if(["textarea","file"].includes(b.input))return;sh(),g.preventDefault()}}},hw=function(g){for(var b=g.target,w=gr(),P=-1,oe=0;oe<w.length;oe++)if(b===w[oe]){P=oe;break}Fa(P,g.shiftKey?-1:1),g.stopPropagation(),g.preventDefault()},hp=function(g){var b=yi(),w=Qi(),P=Gr(),oe=Wr();if(b&&w&&P&&oe&&(!(document.activeElement instanceof HTMLElement)||[w,P,oe].includes(document.activeElement))){var at=dp.includes(g)?"nextElementSibling":"previousElementSibling",St=document.activeElement;if(St){for(var mi=0;mi<b.children.length;mi++){if(!(St=St[at]))return;if(St instanceof HTMLButtonElement&&gt(St))break}St instanceof HTMLButtonElement&&St.focus()}}},fd=function(g,b,w){ei(b.allowEscapeKey)&&(g.preventDefault(),w(ra.esc))},Yn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ml=function(){Array.from(document.body.children).forEach(function(b){b.hasAttribute("data-previous-aria-hidden")?(b.setAttribute("aria-hidden",b.getAttribute("data-previous-aria-hidden")||""),b.removeAttribute("data-previous-aria-hidden")):b.removeAttribute("aria-hidden")})},Ho=typeof window<"u"&&!!window.GestureEvent,ah=function(){var b,g=fi();g&&(g.ontouchstart=function(w){b=mp(w)},g.ontouchmove=function(w){b&&(w.preventDefault(),w.stopPropagation())})},mp=function(g){var b=g.target,w=fi(),P=Js();return!(!w||!P||oa(g)||V_(g)||b!==w&&(zn(w)||!(b instanceof HTMLElement)||"INPUT"===b.tagName||"TEXTAREA"===b.tagName||zn(P)&&P.contains(b)))},oa=function(g){return g.touches&&g.touches.length&&"stylus"===g.touches[0].touchType},V_=function(g){return g.touches&&g.touches.length>1},H=null,gd=function(g){null===H&&(document.body.scrollHeight>window.innerHeight||"scroll"===g)&&(H=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(H+function(){var g=document.createElement("div");g.className=M["scrollbar-measure"],document.body.appendChild(g);var b=g.getBoundingClientRect().width-g.clientWidth;return document.body.removeChild(g),b}(),"px"))};function pl(C,g,b,w){Bo()?To(C,w):(Lt(b).then(function(){return To(C,w)}),dc(vt)),Ho?(g.setAttribute("style","display:none !important"),g.removeAttribute("class"),g.innerHTML=""):g.remove(),Vo()&&(null!==H&&(document.body.style.paddingRight="".concat(H,"px"),H=null),function(){if(rn(document.body,M.iosfix)){var g=parseInt(document.body.style.top,10);L(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=-1*g}}(),ml()),function ch(){L([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}()}function br(C){C=Yr(C);var g=Yn.swalPromiseResolve.get(this),b=mw(this);this.isAwaitingPromise?C.isDismissed||(so(this),g(C)):b&&g(C)}var mw=function(g){var b=Vt();if(!b)return!1;var w=Mi.innerParams.get(g);if(!w||rn(b,w.hideClass.popup))return!1;L(b,w.showClass.popup),Yt(b,w.hideClass.popup);var P=fi();return L(P,w.showClass.backdrop),Yt(P,w.hideClass.backdrop),Ps(g,b,w),!0};function _d(C){var g=Yn.swalPromiseReject.get(this);so(this),g&&g(C)}var so=function(g){g.isAwaitingPromise&&(delete g.isAwaitingPromise,Mi.innerParams.get(g)||g._destroy())},Yr=function(g){return typeof g>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},g)},Ps=function(g,b,w){var P=fi(),oe=Eo&&Be(b);"function"==typeof w.willClose&&w.willClose(b),oe?ao(g,b,P,w.returnFocus,w.didClose):pl(g,P,w.returnFocus,w.didClose)},ao=function(g,b,w,P,oe){Eo&&(vt.swalCloseEventFinishedCallback=pl.bind(null,g,w,P,oe),b.addEventListener(Eo,function(Ve){Ve.target===b&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback)}))},To=function(g,b){setTimeout(function(){"function"==typeof b&&b.bind(g.params)(),g._destroy&&g._destroy()})},Kt=function(g){var b=Vt();if(b||new kl,b=Vt()){var w=Co();Bo()?$(ds()):vd(b,g),J(w),b.setAttribute("data-loading","true"),b.setAttribute("aria-busy","true"),b.focus()}},vd=function(g,b){var w=yi(),P=Co();!w||!P||(!b&&gt(Qi())&&(b=Qi()),J(w),b&&($(b),P.setAttribute("data-button-to-replace",b.className),w.insertBefore(P,b)),Yt([g,w],M.loading))},fl=function(g){return g.checked?1:0},ms=function(g){return g.checked?g.value:null},uc=function(g){return g.files&&g.files.length?null!==g.getAttribute("multiple")?g.files:g.files[0]:null},bd=function(g,b){var w=Vt();if(w){var P=function(Ve){"select"===b.input?function yd(C,g,b){var w=N(C,M.select);if(w){var P=function(Ve,at,St){var mi=document.createElement("option");mi.value=St,qn(mi,at),mi.selected=Os(St,b.inputValue),Ve.appendChild(mi)};g.forEach(function(oe){var Ve=oe[0],at=oe[1];if(Array.isArray(at)){var St=document.createElement("optgroup");St.label=Ve,St.disabled=!1,w.appendChild(St),at.forEach(function(mi){return P(St,mi[1],mi[0])})}else P(w,at,Ve)}),w.focus()}}(w,gl(Ve),b):"radio"===b.input&&function pp(C,g,b){var w=N(C,M.radio);if(w){g.forEach(function(oe){var Ve=oe[0],at=oe[1],St=document.createElement("input"),mi=document.createElement("label");St.type="radio",St.name=M.radio,St.value=Ve,Os(Ve,b.inputValue)&&(St.checked=!0);var Ui=document.createElement("span");qn(Ui,at),Ui.className=M.label,mi.appendChild(St),mi.appendChild(Ui),w.appendChild(mi)});var P=w.querySelectorAll("input");P.length&&P[0].focus()}}(w,gl(Ve),b)};zi(b.inputOptions)||Ln(b.inputOptions)?(Kt(Qi()),Ci(b.inputOptions).then(function(oe){g.hideLoading(),P(oe)})):"object"===di(b.inputOptions)?P(b.inputOptions):Te("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(di(b.inputOptions)))}},co=function(g,b){var w=g.getInput();w&&($(w),Ci(b.inputValue).then(function(P){w.value="".concat("number"===b.input?parseFloat(P)||0:P),J(w),w.focus(),g.hideLoading()}).catch(function(P){Te("Error in inputValue promise: ".concat(P)),w.value="",J(w),w.focus(),g.hideLoading()}))};var gl=function C(g){var b=[];return g instanceof Map?g.forEach(function(w,P){var oe=w;"object"===di(oe)&&(oe=C(oe)),b.push([P,oe])}):Object.keys(g).forEach(function(w){var P=g[w];"object"===di(P)&&(P=C(P)),b.push([w,P])}),b},Os=function(g,b){return!!b&&b.toString()===g.toString()},hc=void 0,xd=function(g,b){var w=Mi.innerParams.get(g);if(w.input){var P=g.getInput(),oe=function(g,b){var w=g.getInput();if(!w)return null;switch(b.input){case"checkbox":return fl(w);case"radio":return ms(w);case"file":return uc(w);default:return b.inputAutoTrim?w.value.trim():w.value}}(g,w);w.inputValidator?uh(g,oe,b):P&&!P.checkValidity()?(g.enableButtons(),g.showValidationMessage(w.validationMessage||P.validationMessage)):"deny"===b?yr(g,oe):_l(g,oe)}else Te('The "input" parameter is needed to be set when using returnInputValueOn'.concat(me(b)))},uh=function(g,b,w){var P=Mi.innerParams.get(g);g.disableInput(),Promise.resolve().then(function(){return Ci(P.inputValidator(b,P.validationMessage))}).then(function(Ve){g.enableButtons(),g.enableInput(),Ve?g.showValidationMessage(Ve):"deny"===w?yr(g,b):_l(g,b)})},yr=function(g,b){var w=Mi.innerParams.get(g||hc);w.showLoaderOnDeny&&Kt(Gr()),w.preDeny?(g.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ci(w.preDeny(b,w.validationMessage))}).then(function(oe){!1===oe?(g.hideLoading(),so(g)):g.close({isDenied:!0,value:typeof oe>"u"?b:oe})}).catch(function(oe){return Ed(g||hc,oe)})):g.close({isDenied:!0,value:b})},Cd=function(g,b){g.close({isConfirmed:!0,value:b})},Ed=function(g,b){g.rejectPromise(b)},_l=function(g,b){var w=Mi.innerParams.get(g||hc);w.showLoaderOnConfirm&&Kt(),w.preConfirm?(g.resetValidationMessage(),g.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ci(w.preConfirm(b,w.validationMessage))}).then(function(oe){gt(ea())||!1===oe?(g.hideLoading(),so(g)):Cd(g,typeof oe>"u"?b:oe)}).catch(function(oe){return Ed(g||hc,oe)})):Cd(g,b)};function vl(){var C=Mi.innerParams.get(this);if(C){var g=Mi.domCache.get(this);$(g.loader),Bo()?C.icon&&J(ds()):hh(g),L([g.popup,g.actions],M.loading),g.popup.removeAttribute("aria-busy"),g.popup.removeAttribute("data-loading"),g.confirmButton.disabled=!1,g.denyButton.disabled=!1,g.cancelButton.disabled=!1}}var hh=function(g){var b=g.popup.getElementsByClassName(g.loader.getAttribute("data-button-to-replace"));b.length?J(b[0],"inline-block"):!gt(Qi())&&!gt(Gr())&&!gt(Wr())&&$(g.actions)};function bl(){var C=Mi.innerParams.get(this),g=Mi.domCache.get(this);return g?Rs(g.popup,C.input):null}function yl(C,g,b){var w=Mi.domCache.get(C);g.forEach(function(P){w[P].disabled=b})}function mh(C,g){var b=Vt();if(b&&C)if("radio"===C.type)for(var w=b.querySelectorAll('[name="'.concat(M.radio,'"]')),P=0;P<w.length;P++)w[P].disabled=g;else C.disabled=g}function Td(){yl(this,["confirmButton","denyButton","cancelButton"],!1)}function ph(){yl(this,["confirmButton","denyButton","cancelButton"],!0)}function pt(){mh(this.getInput(),!1)}function fp(){mh(this.getInput(),!0)}function kd(C){var g=Mi.domCache.get(this),b=Mi.innerParams.get(this);qn(g.validationMessage,C),g.validationMessage.className=M["validation-message"],b.customClass&&b.customClass.validationMessage&&Yt(g.validationMessage,b.customClass.validationMessage),J(g.validationMessage);var w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",M["validation-message"]),al(w),Yt(w,M.inputerror))}function gp(){var C=Mi.domCache.get(this);C.validationMessage&&$(C.validationMessage);var g=this.getInput();g&&(g.removeAttribute("aria-invalid"),g.removeAttribute("aria-describedby"),L(g,M.inputerror))}var Ee={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},wl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dd={},re=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Zn=function(g){return Object.prototype.hasOwnProperty.call(Ee,g)},ni=function(g){return-1!==wl.indexOf(g)},An=function(g){return Dd[g]},Pr=function(g){Zn(g)||X('Unknown parameter "'.concat(g,'"'))},aa=function(g){re.includes(g)&&X('The parameter "'.concat(g,'" is incompatible with toasts'))},lo=function(g){var b=An(g);b&&Xe(g,b)};function fh(C){var g=Vt(),b=Mi.innerParams.get(this);if(g&&!rn(g,b.hideClass.popup)){var w=mc(C),P=Object.assign({},b,w);oh(this,P),Mi.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})}else X("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var mc=function(g){var b={};return Object.keys(g).forEach(function(w){ni(w)?b[w]=g[w]:X("Invalid parameter to update: ".concat(w))}),b};function gh(){var C=Mi.domCache.get(this),g=Mi.innerParams.get(this);g?(C.popup&&vt.swalCloseEventFinishedCallback&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback),"function"==typeof g.didDestroy&&g.didDestroy(),_h(this)):on(this)}var _h=function(g){on(g),delete g.params,delete vt.keydownHandler,delete vt.keydownTarget,delete vt.currentInstance},on=function(g){g.isAwaitingPromise?(Se(Mi,g),g.isAwaitingPromise=!0):(Se(Yn,g),Se(Mi,g),delete g.isAwaitingPromise,delete g.disableButtons,delete g.enableButtons,delete g.getInput,delete g.disableInput,delete g.enableInput,delete g.hideLoading,delete g.disableLoading,delete g.showValidationMessage,delete g.resetValidationMessage,delete g.close,delete g.closePopup,delete g.closeModal,delete g.closeToast,delete g.rejectPromise,delete g.update,delete g._destroy)},Se=function(g,b){for(var w in g)g[w].delete(b)},Pt=Object.freeze({__proto__:null,_destroy:gh,close:br,closeModal:br,closePopup:br,closeToast:br,disableButtons:ph,disableInput:fp,disableLoading:vl,enableButtons:Td,enableInput:pt,getInput:bl,handleAwaitingPromise:so,hideLoading:vl,rejectPromise:_d,resetValidationMessage:gp,showValidationMessage:kd,update:fh}),Uo=function(g,b,w){b.popup.onclick=function(){g&&(xl(g)||g.timer||g.input)||w(ra.close)}},xl=function(g){return!!(g.showConfirmButton||g.showDenyButton||g.showCancelButton||g.showCloseButton)},wn=!1,pc=function(g){g.popup.onmousedown=function(){g.container.onmouseup=function(b){g.container.onmouseup=function(){},b.target===g.container&&(wn=!0)}}},xn=function(g){g.container.onmousedown=function(){g.popup.onmouseup=function(b){g.popup.onmouseup=function(){},(b.target===g.popup||b.target instanceof HTMLElement&&g.popup.contains(b.target))&&(wn=!0)}}},ps=function(g,b,w){b.container.onclick=function(P){wn?wn=!1:P.target===b.container&&ei(g.allowOutsideClick)&&w(ra.backdrop)}},bt=function(g){return g instanceof Element||function(g){return"object"===di(g)&&g.jquery}(g)};var _c=function(){if(vt.timeout)return function(){var g=mn();if(g){var b=parseInt(window.getComputedStyle(g).width);g.style.removeProperty("transition"),g.style.width="100%";var w=parseInt(window.getComputedStyle(g).width);g.style.width="".concat(b/w*100,"%")}}(),vt.timeout.stop()},Ns=function(){if(vt.timeout){var g=vt.timeout.start();return Hn(g),g}},jo=!1,$o={};var vc=function(g){for(var b=g.target;b&&b!==document;b=b.parentNode)for(var w in $o){var P=b.getAttribute(w);if(P)return void $o[w].fire({template:P})}},Wt=Object.freeze({__proto__:null,argsToParams:function(g){var b={};return"object"!==di(g[0])||bt(g[0])?["title","html","icon"].forEach(function(w,P){var oe=g[P];"string"==typeof oe||bt(oe)?b[w]=oe:void 0!==oe&&Te("Unexpected type of ".concat(w,'! Expected "string" or "Element", got ').concat(di(oe)))}):Object.assign(b,g[0]),b},bindClickHandler:function El(){$o[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,jo||(document.body.addEventListener("click",vc),jo=!0)},clickCancel:function(){var g;return null===(g=Wr())||void 0===g?void 0:g.click()},clickConfirm:sh,clickDeny:function(){var g;return null===(g=Gr())||void 0===g?void 0:g.click()},enableLoading:Kt,fire:function Sd(){for(var g=arguments.length,b=new Array(g),w=0;w<g;w++)b[w]=arguments[w];return function se(C,g,b){if(ft())return Reflect.construct.apply(null,arguments);var w=[null];w.push.apply(w,g);var P=new(C.bind.apply(C,w));return b&&si(P,b.prototype),P}(this,b)},getActions:yi,getCancelButton:Wr,getCloseButton:ta,getConfirmButton:Qi,getContainer:fi,getDenyButton:Gr,getFocusableElements:gr,getFooter:ro,getHtmlContainer:Js,getIcon:ds,getIconContent:function(){return Ii(M["icon-content"])},getImage:sc,getInputLabel:function(){return Ii(M["input-label"])},getLoader:Co,getPopup:Vt,getProgressSteps:no,getTimerLeft:function(){return vt.timeout&&vt.timeout.getTimerLeft()},getTimerProgressBar:mn,getTitle:Ki,getValidationMessage:ea,increaseTimer:function(g){if(vt.timeout){var b=vt.timeout.increase(g);return Hn(b,!0),b}},isDeprecatedParameter:An,isLoading:function(){var g=Vt();return!!g&&g.hasAttribute("data-loading")},isTimerRunning:function(){return!(!vt.timeout||!vt.timeout.isRunning())},isUpdatableParameter:ni,isValidParameter:Zn,isVisible:function(){return gt(Vt())},mixin:function gc(C){var g=function(b){function w(){return $t(this,w),dt(this,w,arguments)}return function ze(C,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(g&&g.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),g&&si(C,g)}(w,b),be(w,[{key:"_main",value:function(oe,Ve){return Rt(At(w.prototype),"_main",this).call(this,oe,Object.assign({},C,Ve))}}]),w}(this);return g},resumeTimer:Ns,showLoading:Kt,stopTimer:_c,toggleTimer:function(){var g=vt.timeout;return g&&(g.running?_c():Ns())}}),pw=function(){function C(g,b){$t(this,C),this.callback=g,this.remaining=b,this.running=!1,this.start()}return be(C,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(b){var w=this.running;return w&&this.stop(),this.remaining+=b,w&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),C}(),Fs=["swal-title","swal-html","swal-footer"],gs=function(g){var b={};return Array.from(g.querySelectorAll("swal-param")).forEach(function(P){Wo(P,["name","value"]);var oe=P.getAttribute("name"),Ve=P.getAttribute("value");b[oe]="boolean"==typeof Ee[oe]?"false"!==Ve:"object"===di(Ee[oe])?JSON.parse(Ve):Ve}),b},Md=function(g){var b={};return Array.from(g.querySelectorAll("swal-function-param")).forEach(function(P){var oe=P.getAttribute("name"),Ve=P.getAttribute("value");b[oe]=new Function("return ".concat(Ve))()}),b},bc=function(g){var b={};return Array.from(g.querySelectorAll("swal-button")).forEach(function(P){Wo(P,["type","color","aria-label"]);var oe=P.getAttribute("type");b["".concat(oe,"ButtonText")]=P.innerHTML,b["show".concat(me(oe),"Button")]=!0,P.hasAttribute("color")&&(b["".concat(oe,"ButtonColor")]=P.getAttribute("color")),P.hasAttribute("aria-label")&&(b["".concat(oe,"ButtonAriaLabel")]=P.getAttribute("aria-label"))}),b},Tl=function(g){var b={},w=g.querySelector("swal-image");return w&&(Wo(w,["src","width","height","alt"]),w.hasAttribute("src")&&(b.imageUrl=w.getAttribute("src")),w.hasAttribute("width")&&(b.imageWidth=w.getAttribute("width")),w.hasAttribute("height")&&(b.imageHeight=w.getAttribute("height")),w.hasAttribute("alt")&&(b.imageAlt=w.getAttribute("alt"))),b},cr=function(g){var b={},w=g.querySelector("swal-icon");return w&&(Wo(w,["type","color"]),w.hasAttribute("type")&&(b.icon=w.getAttribute("type")),w.hasAttribute("color")&&(b.iconColor=w.getAttribute("color")),b.iconHtml=w.innerHTML),b},jD=function(g){var b={},w=g.querySelector("swal-input");w&&(Wo(w,["type","label","placeholder","value"]),b.input=w.getAttribute("type")||"text",w.hasAttribute("label")&&(b.inputLabel=w.getAttribute("label")),w.hasAttribute("placeholder")&&(b.inputPlaceholder=w.getAttribute("placeholder")),w.hasAttribute("value")&&(b.inputValue=w.getAttribute("value")));var P=Array.from(g.querySelectorAll("swal-input-option"));return P.length&&(b.inputOptions={},P.forEach(function(oe){Wo(oe,["value"]);var Ve=oe.getAttribute("value");b.inputOptions[Ve]=oe.innerHTML})),b},uo=function(g,b){var w={};for(var P in b){var oe=b[P],Ve=g.querySelector(oe);Ve&&(Wo(Ve,[]),w[oe.replace(/^swal-/,"")]=Ve.innerHTML.trim())}return w},Zr=function(g){var b=Fs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(g.children).forEach(function(w){var P=w.tagName.toLowerCase();b.includes(P)||X("Unrecognized element <".concat(P,">"))})},Wo=function(g,b){Array.from(g.attributes).forEach(function(w){-1===b.indexOf(w.name)&&X(['Unrecognized attribute "'.concat(w.name,'" on <').concat(g.tagName.toLowerCase(),">."),"".concat(b.length?"Allowed attributes are: ".concat(b.join(", ")):"To set the value, use HTML within the element.")])})},Ad=function(g){var b=fi(),w=Vt();"function"==typeof g.willOpen&&g.willOpen(w);var oe=window.getComputedStyle(document.body).overflowY;gw(b,w,g),setTimeout(function(){vp(b,w)},10),Vo()&&(fw(b,g.scrollbarPadding,oe),function(){var g=fi();Array.from(document.body.children).forEach(function(w){w.contains(g)||(w.hasAttribute("aria-hidden")&&w.setAttribute("data-previous-aria-hidden",w.getAttribute("aria-hidden")||""),w.setAttribute("aria-hidden","true"))})}()),!Bo()&&!vt.previousActiveElement&&(vt.previousActiveElement=document.activeElement),"function"==typeof g.didOpen&&setTimeout(function(){return g.didOpen(w)}),L(b,M["no-transition"])},_s=function C(g){var b=Vt();if(g.target===b&&Eo){var w=fi();b.removeEventListener(Eo,C),w.style.overflowY="auto"}},vp=function(g,b){Eo&&Be(b)?(g.style.overflowY="hidden",b.addEventListener(Eo,_s)):g.style.overflowY="auto"},fw=function(g,b,w){(function(){if(Ho&&!rn(document.body,M.iosfix)){var g=document.body.scrollTop;document.body.style.top="".concat(-1*g,"px"),Yt(document.body,M.iosfix),ah()}})(),b&&"hidden"!==w&&gd(w),setTimeout(function(){g.scrollTop=0})},gw=function(g,b,w){Yt(g,w.showClass.backdrop),w.animation?(b.style.setProperty("opacity","0","important"),J(b,"grid"),setTimeout(function(){Yt(b,w.showClass.popup),b.style.removeProperty("opacity")},10)):J(b,"grid"),Yt([document.documentElement,document.body],M.shown),w.heightAuto&&w.backdrop&&!w.toast&&Yt([document.documentElement,document.body],M["height-auto"])},_w={email:function(g,b){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(g)?Promise.resolve():Promise.resolve(b||"Invalid email address")},url:function(g,b){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(g)?Promise.resolve():Promise.resolve(b||"Invalid URL")}};function yc(C){(function vw(C){C.inputValidator||("email"===C.input&&(C.inputValidator=_w.email),"url"===C.input&&(C.inputValidator=_w.url))})(C),C.showLoaderOnConfirm&&!C.preConfirm&&X("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function bh(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(X('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),Z(C)}var Go,yh=new WeakMap,Rn=function(){function C(){if($t(this,C),Zi(this,yh,void 0),!(typeof window>"u")){Go=this;for(var g=arguments.length,b=new Array(g),w=0;w<g;w++)b[w]=arguments[w];var P=Object.freeze(this.constructor.argsToParams(b));this.params=P,this.isAwaitingPromise=!1,function ht(C,g,b){return C.set(un(C,g),b),b}(yh,this,this._main(Go.params))}}return be(C,[{key:"_main",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(g){for(var b in!1===g.backdrop&&g.allowOutsideClick&&X('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),g)Pr(b),g.toast&&aa(b),lo(b)}(Object.assign({},w,b)),vt.currentInstance){var P=Yn.swalPromiseResolve.get(vt.currentInstance),oe=vt.currentInstance.isAwaitingPromise;vt.currentInstance._destroy(),oe||P({isDismissed:!0}),Vo()&&ml()}vt.currentInstance=Go;var Ve=$D(b,w);yc(Ve),Object.freeze(Ve),vt.timeout&&(vt.timeout.stop(),delete vt.timeout),clearTimeout(vt.restoreFocusTimeout);var at=yw(Go);return oh(Go,Ve),Mi.innerParams.set(Go,Ve),bw(Go,at,Ve)}},{key:"then",value:function(b){return S(yh,this).then(b)}},{key:"finally",value:function(b){return S(yh,this).finally(b)}}]),C}(),bw=function(g,b,w){return new Promise(function(P,oe){var Ve=function(St){g.close({isDismissed:!0,dismiss:St})};Yn.swalPromiseResolve.set(g,P),Yn.swalPromiseReject.set(g,oe),b.confirmButton.onclick=function(){!function(g){var b=Mi.innerParams.get(g);g.disableButtons(),b.input?xd(g,"confirm"):_l(g,!0)}(g)},b.denyButton.onclick=function(){!function(g){var b=Mi.innerParams.get(g);g.disableButtons(),b.returnInputValueOnDeny?xd(g,"deny"):yr(g,!1)}(g)},b.cancelButton.onclick=function(){!function(g,b){g.disableButtons(),b(ra.cancel)}(g,Ve)},b.closeButton.onclick=function(){Ve(ra.close)},function(g,b,w){g.toast?Uo(g,b,w):(pc(b),xn(b),ps(g,b,w))}(w,b,Ve),function(g,b,w){dc(g),b.toast||(g.keydownHandler=function(P){return uw(b,P,w)},g.keydownTarget=b.keydownListenerCapture?window:Vt(),g.keydownListenerCapture=b.keydownListenerCapture,g.keydownTarget.addEventListener("keydown",g.keydownHandler,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!0)}(vt,w,Ve),function(g,b){"select"===b.input||"radio"===b.input?bd(g,b):["text","email","number","tel","textarea"].some(function(w){return w===b.input})&&(zi(b.inputValue)||Ln(b.inputValue))&&(Kt(Qi()),co(g,b))}(g,w),Ad(w),ww(vt,w,Ve),bp(b,w),setTimeout(function(){b.container.scrollTop=0})})},$D=function(g,b){var w=function(g){var b="string"==typeof g.template?document.querySelector(g.template):g.template;if(!b)return{};var w=b.content;return Zr(w),Object.assign(gs(w),Md(w),bc(w),Tl(w),cr(w),jD(w),uo(w,Fs))}(g),P=Object.assign({},Ee,b,w,g);return P.showClass=Object.assign({},Ee.showClass,P.showClass),P.hideClass=Object.assign({},Ee.hideClass,P.hideClass),!1===P.animation&&(P.showClass={backdrop:"swal2-noanimation"},P.hideClass={}),P},yw=function(g){var b={popup:Vt(),container:fi(),actions:yi(),confirmButton:Qi(),denyButton:Gr(),cancelButton:Wr(),loader:Co(),closeButton:ta(),validationMessage:ea(),progressSteps:no()};return Mi.domCache.set(g,b),b},ww=function(g,b,w){var P=mn();$(P),b.timer&&(g.timeout=new pw(function(){w("timer"),delete g.timeout},b.timer),b.timerProgressBar&&(J(P),Bn(P,b,"timerProgressBar"),setTimeout(function(){g.timeout&&g.timeout.running&&Hn(b.timer)})))},bp=function(g,b){if(!b.toast){if(!ei(b.allowEnterKey))return void xw();yp(g,b)||Fa(-1,1)}},yp=function(g,b){return b.focusDeny&&gt(g.denyButton)?(g.denyButton.focus(),!0):b.focusCancel&&gt(g.cancelButton)?(g.cancelButton.focus(),!0):!(!b.focusConfirm||!gt(g.confirmButton)||(g.confirmButton.focus(),0))},xw=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Rd=new Date,Pd=localStorage.getItem("swal-initiation");Pd?(Rd.getTime()-Date.parse(Pd))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var C=document.createElement("audio");C.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",C.loop=!0,document.body.appendChild(C),setTimeout(function(){C.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Rd))}Rn.prototype.disableButtons=ph,Rn.prototype.enableButtons=Td,Rn.prototype.getInput=bl,Rn.prototype.disableInput=fp,Rn.prototype.enableInput=pt,Rn.prototype.hideLoading=vl,Rn.prototype.disableLoading=vl,Rn.prototype.showValidationMessage=kd,Rn.prototype.resetValidationMessage=gp,Rn.prototype.close=br,Rn.prototype.closePopup=br,Rn.prototype.closeModal=br,Rn.prototype.closeToast=br,Rn.prototype.rejectPromise=_d,Rn.prototype.update=fh,Rn.prototype._destroy=gh,Object.assign(Rn,Wt),Object.keys(Pt).forEach(function(C){Rn[C]=function(){var g;return Go&&Go[C]?(g=Go)[C].apply(g,arguments):null}}),Rn.DismissReason=ra,Rn.version="11.10.7";var kl=Rn;return kl.default=kl,kl}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(un,dt){var S=un.createElement("style");if(un.getElementsByTagName("head")[0].appendChild(S),S.styleSheet)S.styleSheet.disabled||(S.styleSheet.cssText=dt);else try{S.innerHTML=dt}catch{S.innerText=dt}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},399:(Ss,un,dt)=>{"use strict";dt.d(un,{Z:()=>or});var S=dt(58),ht=dt(537),se=dt(823),ft=dt(879);class Mt{constructor(xt,Rt){this._delegate=xt,this.firebase=Rt,(0,se._addComponent)(xt,new ht.wA("app-compat",()=>this,"PUBLIC")),this.container=xt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xt){this._delegate.automaticDataCollectionEnabled=xt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xt=>{this._delegate.checkDestroyed(),xt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(xt,Rt=se._DEFAULT_ENTRY_NAME){var sr;this._delegate.checkDestroyed();const ar=this._delegate.container.getProvider(xt);return!ar.isInitialized()&&"EXPLICIT"===(null===(sr=ar.getComponent())||void 0===sr?void 0:sr.instantiationMode)&&ar.initialize(),ar.getImmediate({identifier:Rt})}_removeServiceInstance(xt,Rt=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xt).clearInstance(Rt)}_addComponent(xt){(0,se._addComponent)(this._delegate,xt)}_addOrOverwriteComponent(xt){(0,se._addOrOverwriteComponent)(this._delegate,xt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const hn=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function $t(){const vi=function di(vi){const xt={},Rt={__esModule:!0,initializeApp:function Yi(Nt,Gn={}){const ue=se.initializeApp(Nt,Gn);if((0,S.r3)(xt,ue.name))return xt[ue.name];const nn=new vi(ue,Rt);return xt[ue.name]=nn,nn},app:ar,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function Oi(Nt){const Gn=Nt.name,ue=Gn.replace("-compat","");if(se._registerComponent(Nt)&&"PUBLIC"===Nt.type){const nn=(Zi=ar())=>{if("function"!=typeof Zi[ue])throw hn.create("invalid-app-argument",{appName:Gn});return Zi[ue]()};void 0!==Nt.serviceProps&&(0,S.ZB)(nn,Nt.serviceProps),Rt[ue]=nn,vi.prototype[ue]=function(...Zi){return this._getService.bind(this,Gn).apply(this,Nt.multipleInstances?Zi:[])}}return"PUBLIC"===Nt.type?Rt[ue]:null},removeApp:function sr(Nt){delete xt[Nt]},useAsService:function Ar(Nt,Gn){return"serverAuth"===Gn?null:Gn},modularAPIs:se}};function ar(Nt){if(!(0,S.r3)(xt,Nt=Nt||se._DEFAULT_ENTRY_NAME))throw hn.create("no-app",{appName:Nt});return xt[Nt]}return Rt.default=Rt,Object.defineProperty(Rt,"apps",{get:function bi(){return Object.keys(xt).map(Nt=>xt[Nt])}}),ar.App=vi,Rt}(Mt);return vi.INTERNAL=Object.assign(Object.assign({},vi.INTERNAL),{createFirebaseNamespace:$t,extendNamespace:function xt(Rt){(0,S.ZB)(vi,Rt)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),vi}(),be=new ft.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){be.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vi=self.firebase.SDK_VERSION;vi&&vi.indexOf("LITE")>=0&&be.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const or=he;!function si(vi){(0,se.registerVersion)("@firebase/app-compat","0.2.26",vi)}()},823:(Ss,un,dt)=>{"use strict";dt.r(un),dt.d(un,{FirebaseError:()=>ft.ZR,SDK_VERSION:()=>Vo,_DEFAULT_ENTRY_NAME:()=>no,_addComponent:()=>Gr,_addOrOverwriteComponent:()=>fr,_apps:()=>Qi,_clearComponents:()=>mn,_components:()=>Wr,_getProvider:()=>yi,_registerComponent:()=>Co,_removeServiceInstance:()=>ro,deleteApp:()=>rn,getApp:()=>ia,getApps:()=>qn,initializeApp:()=>Bo,onLog:()=>Rs,registerVersion:()=>Bn,setLogLevel:()=>al});var S=dt(861),ht=dt(537),se=dt(879),ft=dt(58);const Mt=(Y,j)=>j.some(ge=>Y instanceof ge);let qi,hn;const he=new WeakMap,be=new WeakMap,ze=new WeakMap,At=new WeakMap,si=new WeakMap;let xt={get(Y,j,ge){if(Y instanceof IDBTransaction){if("done"===j)return be.get(Y);if("objectStoreNames"===j)return Y.objectStoreNames||ze.get(Y);if("store"===j)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return Yi(Y[j])},set:(Y,j,ge)=>(Y[j]=ge,!0),has:(Y,j)=>Y instanceof IDBTransaction&&("done"===j||"store"===j)||j in Y};function ar(Y){return"function"==typeof Y?function sr(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $t(){return hn||(hn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...j){return Y.apply(bi(this),j),Yi(he.get(this))}:function(...j){return Yi(Y.apply(bi(this),j))}:function(j,...ge){const He=Y.call(bi(this),j,...ge);return ze.set(He,j.sort?j.sort():[j]),Yi(He)}}(Y):(Y instanceof IDBTransaction&&function vi(Y){if(be.has(Y))return;const j=new Promise((ge,He)=>{const It=()=>{Y.removeEventListener("complete",ti),Y.removeEventListener("error",Z),Y.removeEventListener("abort",Z)},ti=()=>{ge(),It()},Z=()=>{He(Y.error||new DOMException("AbortError","AbortError")),It()};Y.addEventListener("complete",ti),Y.addEventListener("error",Z),Y.addEventListener("abort",Z)});be.set(Y,j)}(Y),Mt(Y,function di(){return qi||(qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,xt):Y)}function Yi(Y){if(Y instanceof IDBRequest)return function or(Y){const j=new Promise((ge,He)=>{const It=()=>{Y.removeEventListener("success",ti),Y.removeEventListener("error",Z)},ti=()=>{ge(Yi(Y.result)),It()},Z=()=>{He(Y.error),It()};Y.addEventListener("success",ti),Y.addEventListener("error",Z)});return j.then(ge=>{ge instanceof IDBCursor&&he.set(ge,Y)}).catch(()=>{}),si.set(j,Y),j}(Y);if(At.has(Y))return At.get(Y);const j=ar(Y);return j!==Y&&(At.set(Y,j),si.set(j,Y)),j}const bi=Y=>si.get(Y),Nt=["get","getKey","getAll","getAllKeys","count"],Gn=["put","add","delete","clear"],ue=new Map;function nn(Y,j){if(!(Y instanceof IDBDatabase)||j in Y||"string"!=typeof j)return;if(ue.get(j))return ue.get(j);const ge=j.replace(/FromIndex$/,""),He=j!==ge,It=Gn.includes(ge);if(!(ge in(He?IDBIndex:IDBObjectStore).prototype)||!It&&!Nt.includes(ge))return;const ti=function(){var Z=(0,S.Z)(function*(Xi,...Ue){const Zt=this.transaction(Xi,It?"readwrite":"readonly");let Eo=Zt.store;return He&&(Eo=Eo.index(Ue.shift())),(yield Promise.all([Eo[ge](...Ue),It&&Zt.done]))[0]});return function(Ue){return Z.apply(this,arguments)}}();return ue.set(j,ti),ti}!function Rt(Y){xt=Y(xt)}(Y=>({...Y,get:(j,ge,He)=>nn(j,ge)||Y.get(j,ge,He),has:(j,ge)=>!!nn(j,ge)||Y.has(j,ge)}));class Zi{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function Mn(Y){const j=Y.getComponent();return"VERSION"===j?.type}(ge)){const He=ge.getImmediate();return`${He.library}/${He.version}`}return null}).filter(ge=>ge).join(" ")}}const vt="@firebase/app",Lt=new se.Yd("@firebase/app"),no="[DEFAULT]",ea={[vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qi=new Map,Wr=new Map;function Gr(Y,j){try{Y.container.addComponent(j)}catch(ge){Lt.debug(`Component ${j.name} failed to register with FirebaseApp ${Y.name}`,ge)}}function fr(Y,j){Y.container.addOrOverwriteComponent(j)}function Co(Y){const j=Y.name;if(Wr.has(j))return Lt.debug(`There were multiple attempts to register component ${j}.`),!1;Wr.set(j,Y);for(const ge of Qi.values())Gr(ge,Y);return!0}function yi(Y,j){const ge=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return ge&&ge.triggerHeartbeat(),Y.container.getProvider(j)}function ro(Y,j,ge=no){yi(Y,j).clearInstance(ge)}function mn(){Wr.clear()}const oo=new ft.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gr{constructor(j,ge,He){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=He,this.container.addComponent(new ht.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}const Vo="10.7.2";function Bo(Y,j={}){let ge=Y;"object"!=typeof j&&(j={name:j});const He=Object.assign({name:no,automaticDataCollectionEnabled:!1},j),It=He.name;if("string"!=typeof It||!It)throw oo.create("bad-app-name",{appName:String(It)});if(ge||(ge=(0,ft.aH)()),!ge)throw oo.create("no-options");const ti=Qi.get(It);if(ti){if((0,ft.vZ)(ge,ti.options)&&(0,ft.vZ)(He,ti.config))return ti;throw oo.create("duplicate-app",{appName:It})}const Z=new ht.H0(It);for(const Ue of Wr.values())Z.addComponent(Ue);const Xi=new gr(ge,He,Z);return Qi.set(It,Xi),Xi}function ia(Y=no){const j=Qi.get(Y);if(!j&&Y===no&&(0,ft.aH)())return Bo();if(!j)throw oo.create("no-app",{appName:Y});return j}function qn(){return Array.from(Qi.values())}function rn(Y){return qr.apply(this,arguments)}function qr(){return(qr=(0,S.Z)(function*(Y){const j=Y.name;Qi.has(j)&&(Qi.delete(j),yield Promise.all(Y.container.getProviders().map(ge=>ge.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function Bn(Y,j,ge){var He;let It=null!==(He=ea[Y])&&void 0!==He?He:Y;ge&&(It+=`-${ge}`);const ti=It.match(/\s|\//),Z=j.match(/\s|\//);if(ti||Z){const Xi=[`Unable to register library "${It}" with version "${j}":`];return ti&&Xi.push(`library name "${It}" contains illegal characters (whitespace or "/")`),ti&&Z&&Xi.push("and"),Z&&Xi.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void Lt.warn(Xi.join(" "))}Co(new ht.wA(`${It}-version`,()=>({library:It,version:j}),"VERSION"))}function Rs(Y,j){if(null!==Y&&"function"!=typeof Y)throw oo.create("invalid-log-argument");(0,se.Am)(Y,j)}function al(Y){(0,se.Ub)(Y)}const ac="firebase-heartbeat-database",Yt=1,L="firebase-heartbeat-store";let N=null;function B(){return N||(N=function Oi(Y,j,{blocked:ge,upgrade:He,blocking:It,terminated:ti}={}){const Z=indexedDB.open(Y,j),Xi=Yi(Z);return He&&Z.addEventListener("upgradeneeded",Ue=>{He(Yi(Z.result),Ue.oldVersion,Ue.newVersion,Yi(Z.transaction),Ue)}),ge&&Z.addEventListener("blocked",Ue=>ge(Ue.oldVersion,Ue.newVersion,Ue)),Xi.then(Ue=>{ti&&Ue.addEventListener("close",()=>ti()),It&&Ue.addEventListener("versionchange",Zt=>It(Zt.oldVersion,Zt.newVersion,Zt))}).catch(()=>{}),Xi}(ac,Yt,{upgrade:(Y,j)=>{if(0===j)try{Y.createObjectStore(L)}catch(ge){console.warn(ge)}}}).catch(Y=>{throw oo.create("idb-open",{originalErrorMessage:Y.message})})),N}function $(){return($=(0,S.Z)(function*(Y){try{return yield(yield B()).transaction(L).objectStore(L).get(Dt(Y))}catch(j){if(j instanceof ft.ZR)Lt.warn(j.message);else{const ge=oo.create("idb-get",{originalErrorMessage:j?.message});Lt.warn(ge.message)}}})).apply(this,arguments)}function ie(Y,j){return mt.apply(this,arguments)}function mt(){return(mt=(0,S.Z)(function*(Y,j){try{const He=(yield B()).transaction(L,"readwrite");yield He.objectStore(L).put(j,Dt(Y)),yield He.done}catch(ge){if(ge instanceof ft.ZR)Lt.warn(ge.message);else{const He=oo.create("idb-set",{originalErrorMessage:ge?.message});Lt.warn(He.message)}}})).apply(this,arguments)}function Dt(Y){return`${Y.name}!${Y.options.appId}`}class zn{constructor(j){this.container=j,this._heartbeatsCache=null;const ge=this.container.getProvider("app").getImmediate();this._storage=new Si(ge),this._heartbeatsCachePromise=this._storage.read().then(He=>(this._heartbeatsCache=He,He))}triggerHeartbeat(){var j=this;return(0,S.Z)(function*(){var ge,He;const ti=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Z=Be();if((null!=(null===(ge=j._heartbeatsCache)||void 0===ge?void 0:ge.heartbeats)||(j._heartbeatsCache=yield j._heartbeatsCachePromise,null!=(null===(He=j._heartbeatsCache)||void 0===He?void 0:He.heartbeats)))&&j._heartbeatsCache.lastSentHeartbeatDate!==Z&&!j._heartbeatsCache.heartbeats.some(Xi=>Xi.date===Z))return j._heartbeatsCache.heartbeats.push({date:Z,agent:ti}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(Xi=>{const Ue=new Date(Xi.date).valueOf();return Date.now()-Ue<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,S.Z)(function*(){var ge;if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null==(null===(ge=j._heartbeatsCache)||void 0===ge?void 0:ge.heartbeats)||0===j._heartbeatsCache.heartbeats.length)return"";const He=Be(),{heartbeatsToSend:It,unsentEntries:ti}=function Hn(Y,j=1024){const ge=[];let He=Y.slice();for(const It of Y){const ti=ge.find(Z=>Z.agent===It.agent);if(ti){if(ti.dates.push(It.date),zo(ge)>j){ti.dates.pop();break}}else if(ge.push({agent:It.agent,dates:[It.date]}),zo(ge)>j){ge.pop();break}He=He.slice(1)}return{heartbeatsToSend:ge,unsentEntries:He}}(j._heartbeatsCache.heartbeats),Z=(0,ft.L)(JSON.stringify({version:2,heartbeats:It}));return j._heartbeatsCache.lastSentHeartbeatDate=He,ti.length>0?(j._heartbeatsCache.heartbeats=ti,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),Z})()}}function Be(){return(new Date).toISOString().substring(0,10)}class Si{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,ft.hl)()&&(0,ft.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,S.Z)(function*(){if(yield j._canUseIndexedDBPromise){const He=yield function J(Y){return $.apply(this,arguments)}(j.app);return He?.heartbeats?He:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(j){var ge=this;return(0,S.Z)(function*(){var He;if(yield ge._canUseIndexedDBPromise){const ti=yield ge.read();return ie(ge.app,{lastSentHeartbeatDate:null!==(He=j.lastSentHeartbeatDate)&&void 0!==He?He:ti.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var ge=this;return(0,S.Z)(function*(){var He;if(yield ge._canUseIndexedDBPromise){const ti=yield ge.read();return ie(ge.app,{lastSentHeartbeatDate:null!==(He=j.lastSentHeartbeatDate)&&void 0!==He?He:ti.lastSentHeartbeatDate,heartbeats:[...ti.heartbeats,...j.heartbeats]})}})()}}function zo(Y){return(0,ft.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function pd(Y){Co(new ht.wA("platform-logger",j=>new Zi(j),"PRIVATE")),Co(new ht.wA("heartbeat",j=>new zn(j),"PRIVATE")),Bn(vt,"0.9.26",Y),Bn(vt,"0.9.26","esm2017"),Bn("fire-js","")}("")},191:(Ss,un,dt)=>{"use strict";dt.r(un);var S=dt(861),ht=dt(399),se=dt(58),ft=dt(823),Mt=dt(879),qi=dt(582),hn=dt(537);const $t={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const or=function At(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},vi=function si(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xt=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sr=new Mt.Yd("@firebase/auth");function Yi(p,...d){sr.logLevel<=Mt.in.ERROR&&sr.error(`Auth (${ft.SDK_VERSION}): ${p}`,...d)}function bi(p,...d){throw Gn(p,...d)}function Oi(p,...d){return Gn(p,...d)}function Ar(p,d,h){const f=Object.assign(Object.assign({},vi()),{[d]:h});return new se.LL("auth","Firebase",f).create(d,{appName:p.name})}function Nt(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&bi(p,"argument-error"),Ar(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gn(p,...d){if("string"!=typeof p){const h=d[0],f=[...d.slice(1)];return f[0]&&(f[0].appName=p.name),p._errorFactory.create(h,...f)}return xt.create(p,...d)}function ue(p,d,...h){if(!p)throw Gn(d,...h)}function nn(p){const d="INTERNAL ASSERTION FAILED: "+p;throw Yi(d),new Error(d)}function Zi(p,d){p||nn(d)}function Mn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function vt(){return"http:"===cs()||"https:"===cs()}function cs(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class ls{constructor(d,h){this.shortDelay=d,this.longDelay=h,Zi(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return function Lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,se.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M(p,d){Zi(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class ne{static initialize(d,h,f){this.fetchImpl=d,h&&(this.headersImpl=h),f&&(this.responseImpl=f)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new ls(3e4,6e4);function me(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function X(p,d,h,f){return Te.apply(this,arguments)}function Te(){return(Te=(0,S.Z)(function*(p,d,h,f,y={}){return oi(p,y,(0,S.Z)(function*(){let T={},F={};f&&("GET"===d?F=f:T={body:JSON.stringify(f)});const q=(0,se.xO)(Object.assign({key:p.config.apiKey},F)).slice(1),de=yield p._getAdditionalHeaders();return de["Content-Type"]="application/json",p.languageCode&&(de["X-Firebase-Locale"]=p.languageCode),ne.fetch()(zi(p,p.config.apiHost,h,q),Object.assign({method:d,headers:de,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function oi(p,d,h){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,S.Z)(function*(p,d,h){p._canInitEmulator=!1;const f=Object.assign(Object.assign({},G),d);try{const y=new Ln(p),T=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const F=yield T.json();if("needConfirmation"in F)throw fi(p,"account-exists-with-different-credential",F);if(T.ok&&!("errorMessage"in F))return F;{const q=T.ok?F.errorMessage:F.error.message,[de,Ae]=q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===de)throw fi(p,"credential-already-in-use",F);if("EMAIL_EXISTS"===de)throw fi(p,"email-already-in-use",F);if("USER_DISABLED"===de)throw fi(p,"user-disabled",F);const je=f[de]||de.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw Ar(p,je,Ae);bi(p,je)}}catch(y){if(y instanceof se.ZR)throw y;bi(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function Xe(p,d,h,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,S.Z)(function*(p,d,h,f,y={}){const T=yield X(p,d,h,f,y);return"mfaPendingCredential"in T&&bi(p,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function zi(p,d,h,f){const y=`${d}${h}?${f}`;return p.config.emulator?M(p.config,y):`${p.config.apiScheme}://${y}`}function Ci(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ln{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,f)=>{this.timer=setTimeout(()=>f(Oi(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(p,d,h){const f={appName:p.name};h.email&&(f.email=h.email),h.phoneNumber&&(f.phoneNumber=h.phoneNumber);const y=Oi(p,d,f);return y.customData._tokenResponse=h,y}function Vn(p){return void 0!==p&&void 0!==p.getResponse}function Ii(p){return void 0!==p&&void 0!==p.enterprise}class Vt{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Ci(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function As(){return(As=(0,S.Z)(function*(p){return(yield X(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ki(p,d){return Js.apply(this,arguments)}function Js(){return(Js=(0,S.Z)(function*(p,d){return X(p,"GET","/v2/recaptchaConfig",me(p,d))})).apply(this,arguments)}function no(){return(no=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Qi(){return(Qi=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Gr(){return(Gr=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function fr(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ro(){return(ro=(0,S.Z)(function*(p,d=!1){const h=(0,se.m9)(p),f=yield h.getIdToken(d),y=ta(f);ue(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const T="object"==typeof y.firebase?y.firebase:void 0,F=T?.sign_in_provider;return{claims:y,token:f,authTime:fr(mn(y.auth_time)),issuedAtTime:fr(mn(y.iat)),expirationTime:fr(mn(y.exp)),signInProvider:F||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function mn(p){return 1e3*Number(p)}function ta(p){const[d,h,f]=p.split(".");if(void 0===d||void 0===h||void 0===f)return Yi("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,se.tV)(h);return y?JSON.parse(y):(Yi("Failed to decode base64 JWT payload"),null)}catch(y){return Yi("Caught error parsing JWT payload as JSON",y?.toString()),null}}function gr(p,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,S.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(f){throw f instanceof se.ZR&&function Bo({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(f)&&p.auth.currentUser===p&&(yield p.auth.signOut()),f}})).apply(this,arguments)}class ia{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const f=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),f}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const f=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),f)}iteration(){var d=this;return(0,S.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class qn{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(p){return qr.apply(this,arguments)}function qr(){return qr=(0,S.Z)(function*(p){var d;const h=p.auth,f=yield p.getIdToken(),y=yield gr(p,function Wr(p,d){return Gr.apply(this,arguments)}(h,{idToken:f}));ue(y?.users.length,h,"internal-error");const T=y.users[0];p._notifyReloadListener(T);const F=null!==(d=T.providerUserInfo)&&void 0!==d&&d.length?function ac(p){return p.map(d=>{var{providerId:h}=d,f=(0,qi._T)(d,["providerId"]);return{providerId:h,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}})}(T.providerUserInfo):[],q=function al(p,d){return[...p.filter(f=>!d.some(y=>y.providerId===f.providerId)),...d]}(p.providerData,F),je=!!p.isAnonymous&&!(p.email&&T.passwordHash||q?.length),Ge={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:q,metadata:new qn(T.createdAt,T.lastLoginAt),isAnonymous:je};Object.assign(p,Ge)}),qr.apply(this,arguments)}function Rs(){return(Rs=(0,S.Z)(function*(p){const d=(0,se.m9)(p);yield rn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function L(){return(L=(0,S.Z)(function*(p,d){const h=yield oi(p,{},(0,S.Z)(function*(){const f=(0,se.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:y,apiKey:T}=p.config,F=zi(p,y,"/v1/token",`key=${T}`),q=yield p._getAdditionalHeaders();return q["Content-Type"]="application/x-www-form-urlencoded",ne.fetch()(F,{method:"POST",headers:q,body:f})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,S.Z)(function*(p,d){return X(p,"POST","/v2/accounts:revokeToken",me(p,d))})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ue(d.idToken,"internal-error"),ue(typeof d.idToken<"u","internal-error"),ue(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function oo(p){const d=ta(p);return ue(d,"internal-error"),ue(typeof d.exp<"u","internal-error"),ue(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var f=this;return(0,S.Z)(function*(){return ue(!f.accessToken||f.refreshToken,d,"user-token-expired"),h||!f.accessToken||f.isExpired?f.refreshToken?(yield f.refresh(d,f.refreshToken),f.accessToken):null:f.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var f=this;return(0,S.Z)(function*(){const{accessToken:y,refreshToken:T,expiresIn:F}=yield function Yt(p,d){return L.apply(this,arguments)}(d,h);f.updateTokensAndExpiration(y,T,Number(F))})()}updateTokensAndExpiration(d,h,f){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*f}static fromJSON(d,h){const{refreshToken:f,accessToken:y,expirationTime:T}=h,F=new J;return f&&(ue("string"==typeof f,"internal-error",{appName:d}),F.refreshToken=f),y&&(ue("string"==typeof y,"internal-error",{appName:d}),F.accessToken=y),T&&(ue("number"==typeof T,"internal-error",{appName:d}),F.expirationTime=T),F}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return nn("not implemented")}}function $(p,d){ue("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class ie{constructor(d){var{uid:h,auth:f,stsTokenManager:y}=d,T=(0,qi._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=f,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new qn(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,S.Z)(function*(){const f=yield gr(h,h.stsTokenManager.getToken(h.auth,d));return ue(f,h.auth,"internal-error"),h.accessToken!==f&&(h.accessToken=f,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),f})()}getIdTokenResult(d){return function yi(p){return ro.apply(this,arguments)}(this,d)}reload(){return function Bn(p){return Rs.apply(this,arguments)}(this)}_assign(d){this!==d&&(ue(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new ie(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var f=this;return(0,S.Z)(function*(){let y=!1;d.idToken&&d.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(d),y=!0),h&&(yield rn(f)),yield f.auth._persistUserIfCurrent(f),y&&f.auth._notifyListenersIfCurrent(f)})()}delete(){var d=this;return(0,S.Z)(function*(){const h=yield d.getIdToken();return yield gr(d,function sc(p,d){return no.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var f,y,T,F,q,de,Ae,je;const Ge=null!==(f=h.displayName)&&void 0!==f?f:void 0,Pn=null!==(y=h.email)&&void 0!==y?y:void 0,Vs=null!==(T=h.phoneNumber)&&void 0!==T?T:void 0,Gp=null!==(F=h.photoURL)&&void 0!==F?F:void 0,ux=null!==(q=h.tenantId)&&void 0!==q?q:void 0,Gd=null!==(de=h._redirectEventId)&&void 0!==de?de:void 0,xv=null!==(Ae=h.createdAt)&&void 0!==Ae?Ae:void 0,hx=null!==(je=h.lastLoginAt)&&void 0!==je?je:void 0,{uid:qp,emailVerified:OI,isAnonymous:Cv,providerData:mx,stsTokenManager:px}=h;ue(qp&&px,d,"internal-error");const NI=J.fromJSON(this.name,px);ue("string"==typeof qp,d,"internal-error"),$(Ge,d.name),$(Pn,d.name),ue("boolean"==typeof OI,d,"internal-error"),ue("boolean"==typeof Cv,d,"internal-error"),$(Vs,d.name),$(Gp,d.name),$(ux,d.name),$(Gd,d.name),$(xv,d.name),$(hx,d.name);const Bh=new ie({uid:qp,auth:d,email:Pn,emailVerified:OI,displayName:Ge,isAnonymous:Cv,photoURL:Gp,phoneNumber:Vs,tenantId:ux,stsTokenManager:NI,createdAt:xv,lastLoginAt:hx});return mx&&Array.isArray(mx)&&(Bh.providerData=mx.map(lL=>Object.assign({},lL))),Gd&&(Bh._redirectEventId=Gd),Bh}static _fromIdTokenResponse(d,h,f=!1){return(0,S.Z)(function*(){const y=new J;y.updateFromServerResponse(h);const T=new ie({uid:h.localId,auth:d,stsTokenManager:y,isAnonymous:f});return yield rn(T),T})()}}const mt=new Map;function Dt(p){Zi(p instanceof Function,"Expected a class definition");let d=mt.get(p);return d?(Zi(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,mt.set(p,d),d)}const Hi=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,f){var y=this;return(0,S.Z)(function*(){y.storage[h]=f})()}_get(h){var f=this;return(0,S.Z)(function*(){const y=f.storage[h];return void 0===y?null:y})()}_remove(h){var f=this;return(0,S.Z)(function*(){delete f.storage[h]})()}_addListener(h,f){}_removeListener(h,f){}}return p.type="NONE",p})();function zn(p,d,h){return`firebase:${p}:${d}:${h}`}class Be{constructor(d,h,f){this.persistence=d,this.auth=h,this.userKey=f;const{config:y,name:T}=this.auth;this.fullUserKey=zn(this.userKey,y.apiKey,T),this.fullPersistenceKey=zn("persistence",y.apiKey,T),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?ie._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,S.Z)(function*(){if(h.persistence===d)return;const f=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,f?h.setCurrentUser(f):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,f="authUser"){return(0,S.Z)(function*(){if(!h.length)return new Be(Dt(Hi),d,f);const y=(yield Promise.all(h.map(function(){var Ae=(0,S.Z)(function*(je){if(yield je._isAvailable())return je});return function(je){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let T=y[0]||Dt(Hi);const F=zn(f,d.config.apiKey,d.name);let q=null;for(const Ae of h)try{const je=yield Ae._get(F);if(je){const Ge=ie._fromJSON(d,je);Ae!==T&&(q=Ge),T=Ae;break}}catch{}const de=y.filter(Ae=>Ae._shouldAllowMigration);return T._shouldAllowMigration&&de.length?(T=de[0],q&&(yield T._set(F,q.toJSON())),yield Promise.all(h.map(function(){var Ae=(0,S.Z)(function*(je){if(je!==T)try{yield je._remove(F)}catch{}});return function(je){return Ae.apply(this,arguments)}}())),new Be(T,d,f)):new Be(T,d,f)})()}}function Hn(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Y(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Si(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ge(d))return"Blackberry";if(He(d))return"Webos";if(zo(d))return"Safari";if((d.includes("chrome/")||pd(d))&&!d.includes("edge/"))return"Chrome";if(j(d))return"Android";{const f=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===f?.length)return f[1]}return"Other"}function Si(p=(0,se.z$)()){return/firefox\//i.test(p)}function zo(p=(0,se.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function pd(p=(0,se.z$)()){return/crios\//i.test(p)}function Y(p=(0,se.z$)()){return/iemobile/i.test(p)}function j(p=(0,se.z$)()){return/android/i.test(p)}function ge(p=(0,se.z$)()){return/blackberry/i.test(p)}function He(p=(0,se.z$)()){return/webos/i.test(p)}function It(p=(0,se.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Ue(p=(0,se.z$)()){return It(p)||j(p)||He(p)||ge(p)||/windows phone/i.test(p)||Y(p)}function Eo(p,d=[]){let h;switch(p){case"Browser":h=Hn((0,se.z$)());break;case"Worker":h=`${Hn((0,se.z$)())}-${p}`;break;default:h=p}const f=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${ft.SDK_VERSION}/${f}`}class rw{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const f=T=>new Promise((F,q)=>{try{F(d(T))}catch(de){q(de)}});f.onAbort=h,this.queue.push(f);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===d)return;const f=[];try{for(const y of h.queue)yield y(d),y.onAbort&&f.push(y.onAbort)}catch(y){f.reverse();for(const T of f)try{T()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function cl(){return(cl=(0,S.Z)(function*(p,d={}){return X(p,"GET","/v2/passwordPolicy",me(p,d))})).apply(this,arguments)}class ow{constructor(d){var h,f,y,T;const F=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=F.minPasswordLength)&&void 0!==h?h:6,F.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=F.maxPasswordLength),void 0!==F.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=F.containsLowercaseCharacter),void 0!==F.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=F.containsUppercaseCharacter),void 0!==F.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=F.containsNumericCharacter),void 0!==F.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=F.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(f=d.allowedNonAlphanumericCharacters)||void 0===f?void 0:f.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(T=d.forceUpgradeOnSignin)&&void 0!==T&&T,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,f,y,T,F,q;const de={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,de),this.validatePasswordCharacterOptions(d,de),de.isValid&&(de.isValid=null===(h=de.meetsMinPasswordLength)||void 0===h||h),de.isValid&&(de.isValid=null===(f=de.meetsMaxPasswordLength)||void 0===f||f),de.isValid&&(de.isValid=null===(y=de.containsLowercaseLetter)||void 0===y||y),de.isValid&&(de.isValid=null===(T=de.containsUppercaseLetter)||void 0===T||T),de.isValid&&(de.isValid=null===(F=de.containsNumericCharacter)||void 0===F||F),de.isValid&&(de.isValid=null===(q=de.containsNonAlphanumericCharacter)||void 0===q||q),de}validatePasswordLengthOptions(d,h){const f=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;f&&(h.meetsMinPasswordLength=d.length>=f),y&&(h.meetsMaxPasswordLength=d.length<=y)}validatePasswordCharacterOptions(d,h){let f;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<d.length;y++)f=d.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,f>="a"&&f<="z",f>="A"&&f<="Z",f>="0"&&f<="9",this.allowedNonAlphanumericCharacters.includes(f))}updatePasswordCharacterOptionsStatuses(d,h,f,y,T){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=f)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=T))}}class A_{constructor(d,h,f,y){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(d,h){var f=this;return h&&(this._popupRedirectResolver=Dt(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var y,T;if(!f._deleted&&(f.persistenceManager=yield Be.create(f,d),!f._deleted)){if(null!==(y=f._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield f._popupRedirectResolver._initialize(f)}catch{}yield f.initializeCurrentUser(h),f.lastNotifiedUid=(null===(T=f.currentUser)||void 0===T?void 0:T.uid)||null,!f._deleted&&(f._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,S.Z)(function*(){var f;const y=yield h.assertedPersistence.getCurrentUser();let T=y,F=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const q=null===(f=h.redirectUser)||void 0===f?void 0:f._redirectEventId,de=T?._redirectEventId,Ae=yield h.tryRedirectSignIn(d);(!q||q===de)&&Ae?.user&&(T=Ae.user,F=!0)}if(!T)return h.directlySetCurrentUser(null);if(!T._redirectEventId){if(F)try{yield h.beforeStateQueue.runMiddleware(T)}catch(q){T=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(q))}return T?h.reloadAndSetCurrentUserOrClear(T):h.directlySetCurrentUser(null)}return ue(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===T._redirectEventId?h.directlySetCurrentUser(T):h.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(d){var h=this;return(0,S.Z)(function*(){let f=null;try{f=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return f})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,S.Z)(function*(){try{yield rn(d)}catch(f){if("auth/network-request-failed"!==f?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ms(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,S.Z)(function*(){const f=d?(0,se.m9)(d):null;return f&&ue(f.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(f&&f._clone(h))})()}_updateCurrentUser(d,h=!1){var f=this;return(0,S.Z)(function*(){if(!f._deleted)return d&&ue(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),h||(yield f.beforeStateQueue.runMiddleware(d)),f.queue((0,S.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(Dt(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const f=h._getPasswordPolicyInternal();return f.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):f.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,S.Z)(function*(){const h=yield function M_(p){return cl.apply(this,arguments)}(d),f=new ow(h);null===d.tenantId?d._projectPasswordPolicy=f:d._tenantPasswordPolicies[d.tenantId]=f})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new se.LL("auth","Firebase",d())}onAuthStateChanged(d,h,f){return this.registerStateListener(this.authStateSubscription,d,h,f)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,f){return this.registerStateListener(this.idTokenSubscription,d,h,f)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const f=this.onAuthStateChanged(()=>{f(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const f=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:f};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function N(p,d){return B.apply(this,arguments)}(h,y)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var f=this;return(0,S.Z)(function*(){const y=yield f.getOrInitRedirectPersistenceManager(h);return null===d?y.removeCurrentUser():y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const f=d&&Dt(d)||h._popupRedirectResolver;ue(f,h,"argument-error"),h.redirectPersistenceManager=yield Be.create(h,[Dt(f._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,S.Z)(function*(){var f,y;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(f=h._currentUser)||void 0===f?void 0:f._redirectEventId)===d?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,S.Z)(function*(){if(d===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const f=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==f&&(this.lastNotifiedUid=f,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,f,y){if(this._deleted)return()=>{};const T="function"==typeof h?h:h.next.bind(h);let F=!1;const q=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(q,this,"internal-error"),q.then(()=>{F||T(this.currentUser)}),"function"==typeof h){const de=d.addObserver(h,f,y);return()=>{F=!0,de()}}{const de=d.addObserver(h);return()=>{F=!0,de()}}}directlySetCurrentUser(d){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Eo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var h;const f={"X-Client-Version":d.clientVersion};d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId);const y=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(f["X-Firebase-Client"]=y);const T=yield d._getAppCheckToken();return T&&(f["X-Firebase-AppCheck"]=T),f})()}_getAppCheckToken(){var d=this;return(0,S.Z)(function*(){var h;const f=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return f?.error&&function ar(p,...d){sr.logLevel<=Mt.in.WARN&&sr.warn(`Auth (${ft.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${f.error}`),f?.token})()}}function Ji(p){return(0,se.m9)(p)}class na{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,se.ne)(h=>this.observer=h)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mi(p){return new Promise((d,h)=>{const f=document.createElement("script");f.setAttribute("src",p),f.onload=d,f.onerror=y=>{const T=Oi("internal-error");T.customData=y,h(T)},f.type="text/javascript",f.charset="UTF-8",function sw(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(f)})}function R_(p){return`__${p}${Math.floor(1e6*Math.random())}`}class op{constructor(d){this.type="recaptcha-enterprise",this.auth=Ji(d)}verify(d="verify",h=!1){var f=this;return(0,S.Z)(function*(){function T(){return T=(0,S.Z)(function*(q){if(!h){if(null==q.tenantId&&null!=q._agentRecaptchaConfig)return q._agentRecaptchaConfig.siteKey;if(null!=q.tenantId&&void 0!==q._tenantRecaptchaConfigs[q.tenantId])return q._tenantRecaptchaConfigs[q.tenantId].siteKey}return new Promise(function(){var de=(0,S.Z)(function*(Ae,je){Ki(q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ge=>{if(void 0!==Ge.recaptchaKey){const Pn=new Vt(Ge);return null==q.tenantId?q._agentRecaptchaConfig=Pn:q._tenantRecaptchaConfigs[q.tenantId]=Pn,Ae(Pn.siteKey)}je(new Error("recaptcha Enterprise site key undefined"))}).catch(Ge=>{je(Ge)})});return function(Ae,je){return de.apply(this,arguments)}}())}),T.apply(this,arguments)}function F(q,de,Ae){const je=window.grecaptcha;Ii(je)?je.enterprise.ready(()=>{je.enterprise.execute(q,{action:d}).then(Ge=>{de(Ge)}).catch(()=>{de("NO_RECAPTCHA")})}):Ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((q,de)=>{(function y(q){return T.apply(this,arguments)})(f.auth).then(Ae=>{if(!h&&Ii(window.grecaptcha))F(Ae,q,de);else{if(typeof window>"u")return void de(new Error("RecaptchaVerifier is only supported in browser"));Mi("https://www.google.com/recaptcha/enterprise.js?render="+Ae).then(()=>{F(Ae,q,de)}).catch(je=>{de(je)})}}).catch(Ae=>{de(Ae)})})})()}}function O_(p,d,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,S.Z)(function*(p,d,h,f=!1){const y=new op(p);let T;try{T=yield y.verify(h)}catch{T=yield y.verify(h,!0)}const F=Object.assign({},d);return Object.assign(F,f?{captchaResp:T}:{captchaResponse:T}),Object.assign(F,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(F,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),F})).apply(this,arguments)}function nt(p,d,h,f){return th.apply(this,arguments)}function th(){return th=(0,S.Z)(function*(p,d,h,f){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const T=yield O_(p,d,h,"getOobCode"===h);return f(p,T)}return f(p,d).catch(function(){var T=(0,S.Z)(function*(F){if("auth/missing-recaptcha-token"===F.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const q=yield O_(p,d,h,"getOobCode"===h);return f(p,q)}return Promise.reject(F)});return function(F){return T.apply(this,arguments)}}())}),th.apply(this,arguments)}function cc(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function nh(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class us{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return nn("not implemented")}_getIdTokenResponse(d){return nn("not implemented")}_linkToIdToken(d,h){return nn("not implemented")}_getReauthenticationResolver(d){return nn("not implemented")}}function ll(p,d){return lc.apply(this,arguments)}function lc(){return(lc=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:resetPassword",me(p,d))})).apply(this,arguments)}function rh(){return(rh=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ii(p,d){return dl.apply(this,arguments)}function dl(){return(dl=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function vr(){return(vr=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:update",me(p,d))})).apply(this,arguments)}function cp(p,d){return oh.apply(this,arguments)}function oh(){return(oh=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithPassword",me(p,d))})).apply(this,arguments)}function Ei(p,d){return sh.apply(this,arguments)}function sh(){return(sh=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:sendOobCode",me(p,d))})).apply(this,arguments)}function W(){return(W=(0,S.Z)(function*(p,d){return Ei(p,d)})).apply(this,arguments)}function ra(p,d){return dc.apply(this,arguments)}function dc(){return(dc=(0,S.Z)(function*(p,d){return Ei(p,d)})).apply(this,arguments)}function lp(p,d){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,S.Z)(function*(p,d){return Ei(p,d)})).apply(this,arguments)}function ul(){return(ul=(0,S.Z)(function*(p,d){return Ei(p,d)})).apply(this,arguments)}function up(){return(up=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithEmailLink",me(p,d))})).apply(this,arguments)}function hp(){return(hp=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithEmailLink",me(p,d))})).apply(this,arguments)}class fd extends us{constructor(d,h,f,y=null){super("password",f),this._email=d,this._password=h,this._tenantId=y}static _fromEmailAndPassword(d,h){return new fd(d,h,"password")}static _fromEmailAndCode(d,h,f=null){return new fd(d,h,"emailLink",f)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return nt(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cp);case"emailLink":return function uw(p,d){return up.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:bi(d,"internal-error")}})()}_linkToIdToken(d,h){var f=this;return(0,S.Z)(function*(){switch(f.signInMethod){case"password":return nt(d,{idToken:h,returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ii);case"emailLink":return function hw(p,d){return hp.apply(this,arguments)}(d,{idToken:h,email:f._email,oobCode:f._password});default:bi(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Yn(p,d){return hl.apply(this,arguments)}function hl(){return(hl=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithIdp",me(p,d))})).apply(this,arguments)}class Ho extends us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Ho(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):bi("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:f,signInMethod:y}=h,T=(0,qi._T)(h,["providerId","signInMethod"]);if(!f||!y)return null;const F=new Ho(f,y);return F.idToken=T.idToken||void 0,F.accessToken=T.accessToken||void 0,F.secret=T.secret,F.nonce=T.nonce,F.pendingToken=T.pendingToken||null,F}_getIdTokenResponse(d){return Yn(d,this.buildRequest())}_linkToIdToken(d,h){const f=this.buildRequest();return f.idToken=h,Yn(d,f)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Yn(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,se.xO)(h)}return d}}function ah(){return(ah=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:sendVerificationCode",me(p,d))})).apply(this,arguments)}function oa(){return(oa=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",me(p,d))})).apply(this,arguments)}function hs(){return(hs=(0,S.Z)(function*(p,d){const h=yield Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",me(p,d));if(h.temporaryProof)throw fi(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const B_={USER_NOT_FOUND:"user-not-found"};function gd(){return(gd=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",me(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),B_)})).apply(this,arguments)}class ye extends us{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new ye({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new ye({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function mp(p,d){return oa.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function V_(p,d){return hs.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function H(p,d){return gd.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:f,verificationCode:y}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:f,code:y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:f,phoneNumber:y,temporaryProof:T}=d;return f||h||y||T?new ye({verificationId:h,verificationCode:f,phoneNumber:y,temporaryProof:T}):null}}class br{constructor(d){var h,f,y,T,F,q;const de=(0,se.zd)((0,se.pd)(d)),Ae=null!==(h=de.apiKey)&&void 0!==h?h:null,je=null!==(f=de.oobCode)&&void 0!==f?f:null,Ge=function pl(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=de.mode)&&void 0!==y?y:null);ue(Ae&&je&&Ge,"argument-error"),this.apiKey=Ae,this.operation=Ge,this.code=je,this.continueUrl=null!==(T=de.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(F=de.languageCode)&&void 0!==F?F:null,this.tenantId=null!==(q=de.tenantId)&&void 0!==q?q:null}static parseLink(d){const h=function ch(p){const d=(0,se.zd)((0,se.pd)(p)).link,h=d?(0,se.zd)((0,se.pd)(d)).deep_link_id:null,f=(0,se.zd)((0,se.pd)(p)).deep_link_id;return(f?(0,se.zd)((0,se.pd)(f)).link:null)||f||h||d||p}(d);try{return new br(h)}catch{return null}}}let _d=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,f){return fd._fromEmailAndPassword(h,f)}static credentialWithLink(h,f){const y=br.parseLink(f);return ue(y,"argument-error"),fd._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class so{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Yr extends so{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ps extends Yr{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ue("providerId"in h&&"signInMethod"in h,"argument-error"),Ho._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ue(d.idToken||d.accessToken,"argument-error"),Ho._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ps.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ps.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:f,oauthTokenSecret:y,pendingToken:T,nonce:F,providerId:q}=d;if(!f&&!y&&!h&&!T||!q)return null;try{return new Ps(q)._credential({idToken:h,accessToken:f,nonce:F,pendingToken:T})}catch{return null}}}let ao=(()=>{class p extends Yr{constructor(){super("facebook.com")}static credential(h){return Ho._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),To=(()=>{class p extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(h,f){return Ho._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:f})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:y}=h;if(!f&&!y)return null;try{return p.credential(f,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Kt=(()=>{class p extends Yr{constructor(){super("github.com")}static credential(h){return Ho._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class sa extends us{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Yn(d,this.buildRequest())}_linkToIdToken(d,h){const f=this.buildRequest();return f.idToken=h,Yn(d,f)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Yn(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:f,signInMethod:y,pendingToken:T}=h;return f&&y&&T&&f===y?new sa(f,T):null}static _create(d,h){return new sa(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fl extends so{constructor(d){ue(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return fl.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return fl.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=sa.fromJSON(d);return ue(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:f}=d;if(!h||!f)return null;try{return sa._create(f,h)}catch{return null}}}let ms=(()=>{class p extends Yr{constructor(){super("twitter.com")}static credential(h,f){return Ho._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:f})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:f,oauthTokenSecret:y}=h;if(!f||!y)return null;try{return p.credential(f,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function uc(p,d){return bd.apply(this,arguments)}function bd(){return(bd=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signUp",me(p,d))})).apply(this,arguments)}class co{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,f,y=!1){return(0,S.Z)(function*(){const T=yield ie._fromIdTokenResponse(d,f,y),F=yd(f);return new co({user:T,providerId:F,_tokenResponse:f,operationType:h})})()}static _forOperation(d,h,f){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(f,!0);const y=yd(f);return new co({user:d,providerId:y,_tokenResponse:f,operationType:h})})()}}function yd(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function gl(){return(gl=(0,S.Z)(function*(p){var d;const h=Ji(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new co({user:h.currentUser,providerId:null,operationType:"signIn"});const f=yield uc(h,{returnSecureToken:!0}),y=yield co._fromIdTokenResponse(h,"signIn",f,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class Os extends se.ZR{constructor(d,h,f,y){var T;super(h.code,h.message),this.operationType=f,this.user=y,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:d.name,tenantId:null!==(T=d.tenantId)&&void 0!==T?T:void 0,_serverResponse:h.customData._serverResponse,operationType:f}}static _fromErrorAndOperation(d,h,f,y){return new Os(d,h,f,y)}}function hc(p,d,h,f){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Os._fromErrorAndOperation(p,T,d,f):T})}function dh(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function wd(){return wd=(0,S.Z)(function*(p,d){const h=(0,se.m9)(p);yield yr(!0,h,d);const{providerUserInfo:f}=yield function ea(p,d){return Qi.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),y=dh(f||[]);return h.providerData=h.providerData.filter(T=>y.has(T.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),wd.apply(this,arguments)}function xd(p,d){return uh.apply(this,arguments)}function uh(){return(uh=(0,S.Z)(function*(p,d,h=!1){const f=yield gr(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return co._forOperation(p,"link",f)})).apply(this,arguments)}function yr(p,d,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,S.Z)(function*(p,d,h){yield rn(d);const y=!1===p?"provider-already-linked":"no-such-provider";ue(dh(d.providerData).has(h)===p,d.auth,y)})).apply(this,arguments)}function Ed(p,d){return _l.apply(this,arguments)}function _l(){return(_l=(0,S.Z)(function*(p,d,h=!1){const{auth:f}=p,y="reauthenticate";try{const T=yield gr(p,hc(f,y,d,p),h);ue(T.idToken,f,"internal-error");const F=ta(T.idToken);ue(F,f,"internal-error");const{sub:q}=F;return ue(p.uid===q,f,"user-mismatch"),co._forOperation(p,y,T)}catch(T){throw"auth/user-not-found"===T?.code&&bi(f,"user-mismatch"),T}})).apply(this,arguments)}function vl(p,d){return hh.apply(this,arguments)}function hh(){return(hh=(0,S.Z)(function*(p,d,h=!1){const f="signIn",y=yield hc(p,f,d),T=yield co._fromIdTokenResponse(p,f,y);return h||(yield p._updateCurrentUser(T.user)),T})).apply(this,arguments)}function bl(p,d){return yl.apply(this,arguments)}function yl(){return(yl=(0,S.Z)(function*(p,d){return vl(Ji(p),d)})).apply(this,arguments)}function mh(p,d){return Td.apply(this,arguments)}function Td(){return(Td=(0,S.Z)(function*(p,d){const h=(0,se.m9)(p);return yield yr(!1,h,d.providerId),xd(h,d)})).apply(this,arguments)}function ph(p,d){return pt.apply(this,arguments)}function pt(){return(pt=(0,S.Z)(function*(p,d){return Ed((0,se.m9)(p),d)})).apply(this,arguments)}function kd(){return(kd=(0,S.Z)(function*(p,d){return Xe(p,"POST","/v1/accounts:signInWithCustomToken",me(p,d))})).apply(this,arguments)}function Ee(){return Ee=(0,S.Z)(function*(p,d){const h=Ji(p),f=yield function fp(p,d){return kd.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),y=yield co._fromIdTokenResponse(h,"signIn",f);return yield h._updateCurrentUser(y.user),y}),Ee.apply(this,arguments)}class wl{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Dd._fromServerResponse(d,h):"totpInfo"in h?re._fromServerResponse(d,h):bi(d,"internal-error")}}class Dd extends wl{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Dd(h)}}class re extends wl{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new re(h)}}function Zn(p,d,h){var f;ue((null===(f=h.url)||void 0===f?void 0:f.length)>0,p,"invalid-continue-uri"),ue(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ue(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ue(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function ni(p){return An.apply(this,arguments)}function An(){return(An=(0,S.Z)(function*(p){const d=Ji(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function aa(){return(aa=(0,S.Z)(function*(p,d,h){const f=Ji(p),y={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&Zn(f,y,h),yield nt(f,y,"getOobCode",ra)})).apply(this,arguments)}function Id(){return Id=(0,S.Z)(function*(p,d,h){yield ll((0,se.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var f=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&ni(p),y});return function(y){return f.apply(this,arguments)}}())}),Id.apply(this,arguments)}function mc(){return mc=(0,S.Z)(function*(p,d){yield function ap(p,d){return vr.apply(this,arguments)}((0,se.m9)(p),{oobCode:d})}),mc.apply(this,arguments)}function gh(p,d){return _h.apply(this,arguments)}function _h(){return(_h=(0,S.Z)(function*(p,d){const h=(0,se.m9)(p),f=yield ll(h,{oobCode:d}),y=f.requestType;switch(ue(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(f.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(f.mfaInfo,h,"internal-error");default:ue(f.email,h,"internal-error")}let T=null;return f.mfaInfo&&(T=wl._fromServerResponse(Ji(h),f.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.newEmail:f.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.email:f.newEmail)||null,multiFactorInfo:T},operation:y}})).apply(this,arguments)}function Se(){return(Se=(0,S.Z)(function*(p,d){const{data:h}=yield gh((0,se.m9)(p),d);return h.email})).apply(this,arguments)}function Ni(){return(Ni=(0,S.Z)(function*(p,d,h){const f=Ji(p),F=yield nt(f,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uc).catch(de=>{throw"auth/password-does-not-meet-requirements"===de.code&&ni(p),de}),q=yield co._fromIdTokenResponse(f,"signIn",F);return yield f._updateCurrentUser(q.user),q})).apply(this,arguments)}function wn(){return(wn=(0,S.Z)(function*(p,d,h){const f=Ji(p),y={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function T(F,q){ue(q.handleCodeInApp,f,"argument-error"),q&&Zn(f,F,q)})(y,h),yield nt(f,y,"getOobCode",lp)})).apply(this,arguments)}function ps(){return(ps=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p),y=_d.credentialWithLink(d,h||Mn());return ue(y._tenantId===(f.tenantId||null),f,"tenant-id-mismatch"),bl(f,y)})).apply(this,arguments)}function bt(){return(bt=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:createAuthUri",me(p,d))})).apply(this,arguments)}function Sd(){return Sd=(0,S.Z)(function*(p,d){const f={identifier:d,continueUri:vt()?Mn():"http://localhost"},{signinMethods:y}=yield function fc(p,d){return bt.apply(this,arguments)}((0,se.m9)(p),f);return y||[]}),Sd.apply(this,arguments)}function sn(){return sn=(0,S.Z)(function*(p,d){const h=(0,se.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&Zn(h.auth,y,d);const{email:T}=yield function dw(p,d){return W.apply(this,arguments)}(h.auth,y);T!==p.email&&(yield p.reload())}),sn.apply(this,arguments)}function Ns(){return Ns=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&Zn(f.auth,T,h);const{email:F}=yield function dp(p,d){return ul.apply(this,arguments)}(f.auth,T);F!==p.email&&(yield p.reload())}),Ns.apply(this,arguments)}function La(){return(La=(0,S.Z)(function*(p,d){return X(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function jo(){return jo=(0,S.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const f=(0,se.m9)(p),T={idToken:yield f.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},F=yield gr(f,function fs(p,d){return La.apply(this,arguments)}(f.auth,T));f.displayName=F.displayName||null,f.photoURL=F.photoUrl||null;const q=f.providerData.find(({providerId:de})=>"password"===de);q&&(q.displayName=f.displayName,q.photoURL=f.photoURL),yield f._updateTokensIfNecessary(F)}),jo.apply(this,arguments)}function vc(p,d,h){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,S.Z)(function*(p,d,h){const{auth:f}=p,T={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(T.email=d),h&&(T.password=h);const F=yield gr(p,function sp(p,d){return rh.apply(this,arguments)}(f,T));yield p._updateTokensIfNecessary(F,!0)}),Wt.apply(this,arguments)}class Fs{constructor(d,h,f={}){this.isNewUser=d,this.providerId=h,this.profile=f}}class vh extends Fs{constructor(d,h,f,y){super(d,h,f),this.username=y}}class gs extends Fs{constructor(d,h){super(d,"facebook.com",h)}}class Md extends vh{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class bc extends Fs{constructor(d,h){super(d,"google.com",h)}}class Tl extends vh{constructor(d,h,f){super(d,"twitter.com",h,f)}}function cr(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function pw(p){var d,h;if(!p)return null;const{providerId:f}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},T=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!f&&p?.idToken){const F=null===(h=null===(d=ta(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(F)return new Fs(T,"anonymous"!==F&&"custom"!==F?F:null)}if(!f)return null;switch(f){case"facebook.com":return new gs(T,y);case"github.com":return new Md(T,y);case"google.com":return new bc(T,y);case"twitter.com":return new Tl(T,y,p.screenName||null);case"custom":case"anonymous":return new Fs(T,null);default:return new Fs(T,f,y)}}(h)}class yc{constructor(d,h,f){this.type=d,this.credential=h,this.user=f}static _fromIdtoken(d,h){return new yc("enroll",d,h)}static _fromMfaPendingCredential(d){return new yc("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,f;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return yc._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.idToken)return yc._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Go{constructor(d,h,f){this.session=d,this.hints=h,this.signInResolver=f}static _fromError(d,h){const f=Ji(d),y=h.customData._serverResponse,T=(y.mfaInfo||[]).map(q=>wl._fromServerResponse(f,q));ue(y.mfaPendingCredential,f,"internal-error");const F=yc._fromMfaPendingCredential(y.mfaPendingCredential);return new Go(F,T,function(){var q=(0,S.Z)(function*(de){const Ae=yield de._process(f,F);delete y.mfaInfo,delete y.mfaPendingCredential;const je=Object.assign(Object.assign({},y),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(h.operationType){case"signIn":const Ge=yield co._fromIdTokenResponse(f,h.operationType,je);return yield f._updateCurrentUser(Ge.user),Ge;case"reauthenticate":return ue(h.user,f,"internal-error"),co._forOperation(h.user,h.operationType,je);default:bi(f,"internal-error")}});return function(de){return q.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,S.Z)(function*(){return h.signInResolver(d)})()}}class bp{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(f=>wl._fromServerResponse(d.auth,f)))})}static _fromUser(d){return new bp(d)}getSession(){var d=this;return(0,S.Z)(function*(){return yc._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var f=this;return(0,S.Z)(function*(){const y=d,T=yield f.getSession(),F=yield gr(f.user,y._process(f.user.auth,T,h));return yield f.user._updateTokensIfNecessary(F),f.user.reload()})()}unenroll(d){var h=this;return(0,S.Z)(function*(){const f="string"==typeof d?d:d.uid,y=yield h.user.getIdToken();try{const T=yield gr(h.user,function ww(p,d){return X(p,"POST","/v2/accounts/mfaEnrollment:withdraw",me(p,d))}(h.user.auth,{idToken:y,mfaEnrollmentId:f}));h.enrolledFactors=h.enrolledFactors.filter(({uid:F})=>F!==f),yield h.user._updateTokensIfNecessary(T),yield h.user.reload()}catch(T){throw T}})()}}const yp=new WeakMap,Rd="__sak";class Pd{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const w=(()=>{class p extends Pd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,f)=>this.onStorageEvent(h,f),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kl(){const p=(0,se.z$)();return zo(p)||It(p)}()&&function Zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ue(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const f of Object.keys(this.listeners)){const y=this.storage.getItem(f),T=this.localCache[f];y!==T&&h(f,T,y)}}onStorageEvent(h,f=!1){if(!h.key)return void this.forAllChangedKeys((q,de,Ae)=>{this.notifyListeners(q,Ae)});const y=h.key;if(f?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const q=this.storage.getItem(y);if(h.newValue!==q)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!f)return}const T=()=>{const q=this.storage.getItem(y);!f&&this.localCache[y]===q||this.notifyListeners(y,q)},F=this.storage.getItem(y);!function Xi(){return(0,se.w1)()&&10===document.documentMode}()||F===h.newValue||h.newValue===h.oldValue?T():setTimeout(T,10)}notifyListeners(h,f){this.localCache[h]=f;const y=this.listeners[h];if(y)for(const T of Array.from(y))T(f&&JSON.parse(f))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,f,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:f,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,f){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(f)}_removeListener(h,f){this.listeners[h]&&(this.listeners[h].delete(f),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,f){var y=()=>super._set,T=this;return(0,S.Z)(function*(){yield y().call(T,h,f),T.localCache[h]=JSON.stringify(f)})()}_get(h){var f=()=>super._get,y=this;return(0,S.Z)(function*(){const T=yield f().call(y,h);return y.localCache[h]=JSON.stringify(T),T})()}_remove(h){var f=()=>super._remove,y=this;return(0,S.Z)(function*(){yield f().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),oe=(()=>{class p extends Pd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,f){}_removeListener(h,f){}}return p.type="SESSION",p})();let at=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const f=this.receivers.find(T=>T.isListeningto(h));if(f)return f;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var f=this;return(0,S.Z)(function*(){const y=h,{eventId:T,eventType:F,data:q}=y.data,de=f.handlersMap[F];if(!de?.size)return;y.ports[0].postMessage({status:"ack",eventId:T,eventType:F});const Ae=Array.from(de).map(function(){var Ge=(0,S.Z)(function*(Pn){return Pn(y.origin,q)});return function(Pn){return Ge.apply(this,arguments)}}()),je=yield function Ve(p){return Promise.all(p.map(function(){var d=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(f){return{fulfilled:!1,reason:f}}});return function(h){return d.apply(this,arguments)}}()))}(Ae);y.ports[0].postMessage({status:"done",eventId:T,eventType:F,response:je})})()}_subscribe(h,f){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(f)}_unsubscribe(h,f){this.handlersMap[h]&&f&&this.handlersMap[h].delete(f),(!f||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function St(p="",d=10){let h="";for(let f=0;f<d;f++)h+=Math.floor(10*Math.random());return p+h}class mi{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,f=50){var y=this;return(0,S.Z)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let F,q;return new Promise((de,Ae)=>{const je=St("",20);T.port1.start();const Ge=setTimeout(()=>{Ae(new Error("unsupported_event"))},f);q={messageChannel:T,onMessage(Pn){const Vs=Pn;if(Vs.data.eventId===je)switch(Vs.data.status){case"ack":clearTimeout(Ge),F=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(F),de(Vs.data.response);break;default:clearTimeout(Ge),clearTimeout(F),Ae(new Error("invalid_response"))}}},y.handlers.add(q),T.port1.addEventListener("message",q.onMessage),y.target.postMessage({eventType:d,eventId:je,data:h},[T.port2])}).finally(()=>{q&&y.removeMessageHandler(q)})})()}}function Ui(){return window}function wp(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function wh(){return(wh=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xp="firebaseLocalStorageDb",xh="firebaseLocalStorage",U_="fbase_key";class wc{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function xc(p,d){return p.transaction([xh],d?"readwrite":"readonly").objectStore(xh)}function Cp(){const p=indexedDB.open(xp,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const f=p.result;try{f.createObjectStore(xh,{keyPath:U_})}catch(y){h(y)}}),p.addEventListener("success",(0,S.Z)(function*(){const f=p.result;f.objectStoreNames.contains(xh)?d(f):(f.close(),yield function Od(){const p=indexedDB.deleteDatabase(xp);return new wc(p).toPromise()}(),d(yield Cp()))}))})}function WD(p,d,h){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,S.Z)(function*(p,d,h){const f=xc(p,!0).put({[U_]:d,value:h});return new wc(f).toPromise()})).apply(this,arguments)}function j_(){return(j_=(0,S.Z)(function*(p,d){const h=xc(p,!1).get(d),f=yield new wc(h).toPromise();return void 0===f?null:f.value})).apply(this,arguments)}function Iw(p,d){const h=xc(p,!0).delete(d);return new wc(h).toPromise()}const Nd=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield Cp()),h.db})()}_withRetries(h){var f=this;return(0,S.Z)(function*(){let y=0;for(;;)try{const T=yield f._openDb();return yield h(T)}catch(T){if(y++>3)throw T;f.db&&(f.db.close(),f.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return wp()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=at._getInstance(function H_(){return wp()?self:null}()),h.receiver._subscribe("keyChanged",function(){var f=(0,S.Z)(function*(y,T){return{keyProcessed:(yield h._poll()).includes(T.key)}});return function(y,T){return f.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var f=(0,S.Z)(function*(y,T){return["keyChanged"]});return function(y,T){return f.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var f,y;if(h.activeServiceWorker=yield function Ew(){return wh.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new mi(h.activeServiceWorker);const T=yield h.sender._send("ping",{},800);T&&null!==(f=T[0])&&void 0!==f&&f.fulfilled&&null!==(y=T[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var f=this;return(0,S.Z)(function*(){if(f.sender&&f.activeServiceWorker&&function Tw(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===f.activeServiceWorker)try{yield f.sender._send("keyChanged",{key:h},f.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Cp();return yield WD(h,Rd,"1"),yield Iw(h,Rd),!0}catch{}return!1})()}_withPendingWrite(h){var f=this;return(0,S.Z)(function*(){f.pendingWrites++;try{yield h()}finally{f.pendingWrites--}})()}_set(h,f){var y=this;return(0,S.Z)(function*(){return y._withPendingWrite((0,S.Z)(function*(){return yield y._withRetries(T=>WD(T,h,f)),y.localCache[h]=f,y.notifyServiceWorker(h)}))})()}_get(h){var f=this;return(0,S.Z)(function*(){const y=yield f._withRetries(T=>function KF(p,d){return j_.apply(this,arguments)}(T,h));return f.localCache[h]=y,y})()}_remove(h){var f=this;return(0,S.Z)(function*(){return f._withPendingWrite((0,S.Z)(function*(){return yield f._withRetries(y=>Iw(y,h)),delete f.localCache[h],f.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const f=yield h._withRetries(F=>{const q=xc(F,!1).getAll();return new wc(q).toPromise()});if(!f)return[];if(0!==h.pendingWrites)return[];const y=[],T=new Set;if(0!==f.length)for(const{fbase_key:F,value:q}of f)T.add(F),JSON.stringify(h.localCache[F])!==JSON.stringify(q)&&(h.notifyListeners(F,q),y.push(F));for(const F of Object.keys(h.localCache))h.localCache[F]&&!T.has(F)&&(h.notifyListeners(F,null),y.push(F));return y})()}notifyListeners(h,f){this.localCache[h]=f;const y=this.listeners[h];if(y)for(const T of Array.from(y))T(f)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,f){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(f)}_removeListener(h,f){this.listeners[h]&&(this.listeners[h].delete(f),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Ch=1e12;class qD{constructor(d){this.auth=d,this.counter=Ch,this._widgets=new Map}render(d,h){const f=this.counter;return this._widgets.set(f,new YD(d,this.auth.name,h||{})),this.counter++,f}reset(d){var h;const f=d||Ch;null===(h=this._widgets.get(f))||void 0===h||h.delete(),this._widgets.delete(f)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Ch))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,S.Z)(function*(){var f;return null===(f=h._widgets.get(d||Ch))||void 0===f||f.execute(),""})()}}class YD{constructor(d,h,f){this.params=f,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof d?document.getElementById(d):d;ue(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ZD(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<p;f++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ep=R_("rcb"),KD=new ls(3e4,6e4);class QD{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Ui().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ue(function eL(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&Vn(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((f,y)=>{const T=Ui().setTimeout(()=>{y(Oi(d,"network-request-failed"))},KD.get());Ui()[Ep]=()=>{Ui().clearTimeout(T),delete Ui()[Ep];const q=Ui().grecaptcha;if(!q||!Vn(q))return void y(Oi(d,"internal-error"));const de=q.render;q.render=(Ae,je)=>{const Ge=de(Ae,je);return this.counter++,Ge},this.hostLanguage=h,f(q)},Mi(`https://www.google.com/recaptcha/api.js??${(0,se.xO)({onload:Ep,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(T),y(Oi(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=Ui().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class XD{load(d){return(0,S.Z)(function*(){return new qD(d)})()}clearedOneInstance(){}}const Kn="recaptcha",Pw={theme:"light",type:"image"};class JD{constructor(d,h,f=Object.assign({},Pw)){this.parameters=f,this.type=Kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ji(d),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;ue(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XD:new QD,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),f=d.getAssertedRecaptcha();return f.getResponse(h)||new Promise(T=>{const F=q=>{q&&(d.tokenChangeListeners.delete(F),T(q))};d.tokenChangeListeners.add(F),d.isInvisible&&f.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(f=>f(h)),"function"==typeof d)d(h);else if("string"==typeof d){const f=Ui()[d];"function"==typeof f&&f(h)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const f=document.createElement("div");h.appendChild(f),h=f}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){ue(vt()&&!wp(),d.auth,"internal-error"),yield function eI(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ds(p){return As.apply(this,arguments)}(d.auth);ue(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tp{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=ye._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function W_(){return(W_=(0,S.Z)(function*(p,d,h){const f=Ji(p),y=yield Eh(f,d,(0,se.m9)(h));return new Tp(y,T=>bl(f,T))})).apply(this,arguments)}function q_(){return(q_=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p);yield yr(!1,f,"phone");const y=yield Eh(f.auth,d,(0,se.m9)(h));return new Tp(y,T=>mh(f,T))})).apply(this,arguments)}function kp(){return(kp=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p),y=yield Eh(f.auth,d,(0,se.m9)(h));return new Tp(y,T=>ph(f,T))})).apply(this,arguments)}function Eh(p,d,h){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,S.Z)(function*(p,d,h){var f;const y=yield h.verify();try{let T;if(ue("string"==typeof y,p,"argument-error"),ue(h.type===Kn,p,"argument-error"),T="string"==typeof d?{phoneNumber:d}:d,"session"in T){const F=T.session;if("phoneNumber"in T)return ue("enroll"===F.type,p,"internal-error"),(yield function Rn(p,d){return X(p,"POST","/v2/accounts/mfaEnrollment:start",me(p,d))}(p,{idToken:F.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{ue("signin"===F.type,p,"internal-error");const q=(null===(f=T.multiFactorHint)||void 0===f?void 0:f.uid)||T.multiFactorUid;return ue(q,p,"missing-multi-factor-info"),(yield function $_(p,d){return X(p,"POST","/v2/accounts/mfaSignIn:start",me(p,d))}(p,{mfaPendingCredential:F.credential,mfaEnrollmentId:q,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:F}=yield function L_(p,d){return ah.apply(this,arguments)}(p,{phoneNumber:T.phoneNumber,recaptchaToken:y});return F}}finally{h._reset()}}),Fi.apply(this,arguments)}function Fd(){return(Fd=(0,S.Z)(function*(p,d){yield xd((0,se.m9)(p),d)})).apply(this,arguments)}let wr=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=Ji(h)}verifyPhoneNumber(h,f){return Eh(this.auth,h,(0,se.m9)(f))}static credential(h,f){return ye._fromVerification(h,f)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:f,temporaryProof:y}=h;return f&&y?ye._fromTokenResponse(f,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Dl(p,d){return d?Dt(d):(ue(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Dp extends us{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Yn(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Yn(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Yn(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function Ld(p){return vl(p.auth,new Dp(p),p.bypassAuthState)}function qo(p){const{auth:d,user:h}=p;return ue(h,d,"internal-error"),Ed(h,new Dp(p),p.bypassAuthState)}function tI(p){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,S.Z)(function*(p){const{auth:d,user:h}=p;return ue(h,d,"internal-error"),xd(h,new Dp(p),p.bypassAuthState)})).apply(this,arguments)}class Nw{constructor(d,h,f,y,T=!1){this.auth=d,this.resolver=f,this.user=y,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,S.Z)(function*(f,y){d.pendingPromise={resolve:f,reject:y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(T){d.reject(T)}});return function(f,y){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,S.Z)(function*(){const{urlResponse:f,sessionId:y,postBody:T,tenantId:F,error:q,type:de}=d;if(q)return void h.reject(q);const Ae={auth:h.auth,requestUri:f,sessionId:y,tenantId:F||void 0,postBody:T||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(de)(Ae))}catch(je){h.reject(je)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ld;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:bi(this.auth,"internal-error")}}resolve(d){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cc=new ls(2e3,1e4);function K_(){return(K_=(0,S.Z)(function*(p,d,h){const f=Ji(p);Nt(p,d,so);const y=Dl(f,h);return new yt(f,"signInViaPopup",d,y).executeNotNull()})).apply(this,arguments)}function Ip(){return(Ip=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p);Nt(f.auth,d,so);const y=Dl(f.auth,h);return new yt(f.auth,"reauthViaPopup",d,y,f).executeNotNull()})).apply(this,arguments)}function Q_(){return(Q_=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p);Nt(f.auth,d,so);const y=Dl(f.auth,h);return new yt(f.auth,"linkViaPopup",d,y,f).executeNotNull()})).apply(this,arguments)}let yt=(()=>{class p extends Nw{constructor(h,f,y,T,F){super(h,f,T,F),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const f=yield h.execute();return ue(f,h.auth,"internal-error"),f})()}onExecution(){var h=this;return(0,S.Z)(function*(){Zi(1===h.filter.length,"Popup operations only handle one event");const f=St();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],f),h.authWindow.associatedEvent=f,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject(Oi(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var f,y;this.pollId=null!==(y=null===(f=this.authWindow)||void 0===f?void 0:f.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Cc.get())};h()}}return p.currentPopupAction=null,p})();const Bw="pendingRedirect",Sp=new Map;class iI extends Nw{constructor(d,h,f=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,f),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,S.Z)(function*(){let f=Sp.get(h.auth._key());if(!f){try{const T=(yield function nI(p,d){return X_.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;f=()=>Promise.resolve(T)}catch(y){f=()=>Promise.reject(y)}Sp.set(h.auth._key(),f)}return h.bypassAuthState||Sp.set(h.auth._key(),()=>Promise.resolve(null)),f()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,f=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(f,d);if("unknown"!==d.type){if(d.eventId){const y=yield f.auth._redirectUserForId(d.eventId);if(y)return f.user=y,h().call(f,d);f.resolve(null)}}else f.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function X_(){return(X_=(0,S.Z)(function*(p,d){const h=Hw(d),f=zw(p);if(!(yield f._isAvailable()))return!1;const y="true"===(yield f._get(h));return yield f._remove(h),y})).apply(this,arguments)}function Mp(p,d){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,S.Z)(function*(p,d){return zw(p)._set(Hw(d),"true")})).apply(this,arguments)}function J_(p,d){Sp.set(p._key(),d)}function zw(p){return Dt(p._redirectPersistence)}function Hw(p){return zn(Bw,p.config.apiKey,p.name)}function oI(p,d,h){return function fe(p,d,h){return ui.apply(this,arguments)}(p,d,h)}function ui(){return(ui=(0,S.Z)(function*(p,d,h){const f=Ji(p);Nt(p,d,so),yield f._initializationPromise;const y=Dl(f,h);return yield Mp(y,f),y._openRedirect(f,d,"signInViaRedirect")})).apply(this,arguments)}function sI(p,d,h){return function aI(p,d,h){return lr.apply(this,arguments)}(p,d,h)}function lr(){return(lr=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p);Nt(f.auth,d,so),yield f.auth._initializationPromise;const y=Dl(f.auth,h);yield Mp(y,f.auth);const T=yield tv(f);return y._openRedirect(f.auth,d,"reauthViaRedirect",T)})).apply(this,arguments)}function Uw(p,d,h){return function Th(p,d,h){return vs.apply(this,arguments)}(p,d,h)}function vs(){return(vs=(0,S.Z)(function*(p,d,h){const f=(0,se.m9)(p);Nt(f.auth,d,so),yield f.auth._initializationPromise;const y=Dl(f.auth,h);yield yr(!1,f,d.providerId),yield Mp(y,f.auth);const T=yield tv(f);return y._openRedirect(f.auth,d,"linkViaRedirect",T)})).apply(this,arguments)}function kh(){return(kh=(0,S.Z)(function*(p,d){return yield Ji(p)._initializationPromise,Ap(p,d,!1)})).apply(this,arguments)}function Ap(p,d){return jw.apply(this,arguments)}function jw(){return(jw=(0,S.Z)(function*(p,d,h=!1){const f=Ji(p),y=Dl(f,d),F=yield new iI(f,y,h).execute();return F&&!h&&(delete F.user._redirectEventId,yield f._persistUserIfCurrent(F.user),yield f._setRedirectUser(null,d)),F})).apply(this,arguments)}function tv(p){return Or.apply(this,arguments)}function Or(){return(Or=(0,S.Z)(function*(p){const d=St(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class iv{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(f=>{this.isEventForConsumer(d,f)&&(h=!0,this.sendToConsumer(d,f),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function cI(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var f;if(d.error&&!da(d)){const y=(null===(f=d.error.code)||void 0===f?void 0:f.split("auth/")[1])||"internal-error";h.onError(Oi(this.auth,y))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const f=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&f}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Il(d))}saveEventToCache(d){this.cachedEventUids.add(Il(d)),this.lastProcessedEventTime=Date.now()}}function Il(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function da({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function nv(p){return rv.apply(this,arguments)}function rv(){return(rv=(0,S.Z)(function*(p,d={}){return X(p,"GET","/v1/projects",d)})).apply(this,arguments)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ov=/^https?/;function Rp(){return(Rp=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield nv(p);for(const h of d)try{if(av(h))return}catch{}bi(p,"unauthorized-domain")})).apply(this,arguments)}function av(p){const d=Mn(),{protocol:h,hostname:f}=new URL(d);if(p.startsWith("chrome-extension://")){const F=new URL(p);return""===F.hostname&&""===f?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&F.hostname===f}if(!ov.test(h))return!1;if(lI.test(p))return f===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(f)}const dI=new ls(3e4,6e4);function cv(){const p=Ui().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Dh=null;const Ww=new ls(5e3,15e3),Gw="__/auth/iframe",dv="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ho(p){const d=p.config;ue(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?M(d,dv):`https://${p.config.authDomain}/${Gw}`,f={apiKey:d.apiKey,appName:p.name,v:ft.SDK_VERSION},y=hI.get(p.config.apiHost);y&&(f.eid=y);const T=p._getFrameworks();return T.length&&(f.fw=T.join(",")),`${h}?${(0,se.xO)(f).slice(1)}`}function an(){return an=(0,S.Z)(function*(p){const d=yield function $w(p){return Dh=Dh||function lv(p){return new Promise((d,h)=>{var f,y,T;function F(){cv(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cv(),h(Oi(p,"network-request-failed"))},timeout:dI.get()})}if(null!==(y=null===(f=Ui().gapi)||void 0===f?void 0:f.iframes)&&void 0!==y&&y.Iframe)d(gapi.iframes.getContext());else{if(null===(T=Ui().gapi)||void 0===T||!T.load){const q=R_("iframefcb");return Ui()[q]=()=>{gapi.load?F():h(Oi(p,"network-request-failed"))},Mi(`https://apis.google.com/js/api.js?onload=${q}`).catch(de=>h(de))}F()}}).catch(d=>{throw Dh=null,d})}(p),Dh}(p),h=Ui().gapi;return ue(h,p,"internal-error"),d.open({where:document.body,url:ho(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},f=>new Promise(function(){var y=(0,S.Z)(function*(T,F){yield f.restyle({setHideOnLeave:!1});const q=Oi(p,"network-request-failed"),de=Ui().setTimeout(()=>{F(q)},Ww.get());function Ae(){Ui().clearTimeout(de),T(f)}f.ping(Ae).then(Ae,()=>{F(q)})});return function(T,F){return y.apply(this,arguments)}}()))}),an.apply(this,arguments)}const Tc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uv{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fI="__/auth/handler",Op="emulator/auth/handler",Np=encodeURIComponent("fac");function Bd(p,d,h,f,y,T){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,S.Z)(function*(p,d,h,f,y,T){ue(p.config.authDomain,p,"auth-domain-config-required"),ue(p.config.apiKey,p,"invalid-api-key");const F={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:f,v:ft.SDK_VERSION,eventId:y};if(d instanceof so){d.setDefaultLanguage(p.languageCode),F.providerId=d.providerId||"",(0,se.xb)(d.getCustomParameters())||(F.customParameters=JSON.stringify(d.getCustomParameters()));for(const[je,Ge]of Object.entries(T||{}))F[je]=Ge}if(d instanceof Yr){const je=d.getScopes().filter(Ge=>""!==Ge);je.length>0&&(F.scopes=je.join(","))}p.tenantId&&(F.tid=p.tenantId);const q=F;for(const je of Object.keys(q))void 0===q[je]&&delete q[je];const de=yield p._getAppCheckToken(),Ae=de?`#${Np}=${encodeURIComponent(de)}`:"";return`${function Yw({config:p}){return p.emulator?M(p,Op):`https://${p.authDomain}/${fI}`}(p)}?${(0,se.xO)(q).slice(1)}${Ae}`})).apply(this,arguments)}const Fp="webStorageSupport",Ml=class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oe,this._completeRedirectFn=Ap,this._overrideRedirectResult=J_}_openPopup(d,h,f,y){var T=this;return(0,S.Z)(function*(){var F;Zi(null===(F=T.eventManagers[d._key()])||void 0===F?void 0:F.manager,"_initialize() not called before _openPopup()");const q=yield Bd(d,h,f,Mn(),y);return function Pp(p,d,h,f=500,y=600){const T=Math.max((window.screen.availHeight-y)/2,0).toString(),F=Math.max((window.screen.availWidth-f)/2,0).toString();let q="";const de=Object.assign(Object.assign({},Tc),{width:f.toString(),height:y.toString(),top:T,left:F}),Ae=(0,se.z$)().toLowerCase();h&&(q=pd(Ae)?"_blank":h),Si(Ae)&&(d=d||"http://localhost",de.scrollbars="yes");const je=Object.entries(de).reduce((Pn,[Vs,Gp])=>`${Pn}${Vs}=${Gp},`,"");if(function Z(p=(0,se.z$)()){var d;return It(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ae)&&"_self"!==q)return function kc(p,d){const h=document.createElement("a");h.href=p,h.target=d;const f=document.createEvent("MouseEvent");f.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(f)}(d||"",q),new uv(null);const Ge=window.open(d||"",q,je);ue(Ge,p,"popup-blocked");try{Ge.focus()}catch{}return new uv(Ge)}(d,q,St())})()}_openRedirect(d,h,f,y){var T=this;return(0,S.Z)(function*(){return yield T._originValidation(d),function Cw(p){Ui().location.href=p}(yield Bd(d,h,f,Mn(),y)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:y,promise:T}=this.eventManagers[h];return y?Promise.resolve(y):(Zi(T,"If manager is not set, promise should be"),T)}const f=this.initAndGetManager(d);return this.eventManagers[h]={promise:f},f.catch(()=>{delete this.eventManagers[h]}),f}initAndGetManager(d){var h=this;return(0,S.Z)(function*(){const f=yield function Sl(p){return an.apply(this,arguments)}(d),y=new iv(d);return f.register("authEvent",T=>(ue(T?.authEvent,d,"invalid-auth-event"),{status:y.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:y},h.iframes[d._key()]=f,y})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Fp,{type:Fp},y=>{var T;const F=null===(T=y?.[0])||void 0===T?void 0:T[Fp];void 0!==F&&h(!!F),bi(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function sv(p){return Rp.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Ue()||zo()||It()}};class Sh{constructor(d){this.factorId=d}_process(d,h,f){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,f);case"signin":return this._finalizeSignIn(d,h.credential);default:return nn("unexpected MultiFactorSessionType")}}}class hv extends Sh{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new hv(d)}_finalizeEnroll(d,h,f){return function bw(p,d){return X(p,"POST","/v2/accounts/mfaEnrollment:finalize",me(p,d))}(d,{idToken:h,displayName:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function XF(p,d){return X(p,"POST","/v2/accounts/mfaSignIn:finalize",me(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tL=(()=>{class p{constructor(){}static assertion(h){return hv._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var _I="@firebase/auth";class mv{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(f=>{d(f?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dc(){return window}(0,se.Pz)("authIdTokenMaxAge"),function bI(p){(0,ft._registerComponent)(new hn.wA("auth",(d,{options:h})=>{const f=d.getProvider("app").getImmediate(),y=d.getProvider("heartbeat"),T=d.getProvider("app-check-internal"),{apiKey:F,authDomain:q}=f.options;ue(F&&!F.includes(":"),"invalid-api-key",{appName:f.name});const de={apiKey:F,authDomain:q,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eo(p)},Ae=new A_(f,y,T,de);return function lw(p,d){const h=d?.persistence||[],f=(Array.isArray(h)?h:[h]).map(Dt);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(f,d?.popupRedirectResolver)}(Ae,h),Ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,f)=>{d.getProvider("auth-internal").initialize()})),(0,ft._registerComponent)(new hn.wA("auth-internal",d=>{const h=Ji(d.getProvider("auth").getImmediate());return new mv(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ft.registerVersion)(_I,"1.5.1",function Mh(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,ft.registerVersion)(_I,"1.5.1","esm2017")}("Browser");function fv(){return fv=(0,S.Z)(function*(p,d,h){var f;const{BuildInfo:y}=Dc();Zi(d.sessionId,"AuthEvent did not contain a session ID");const T=yield function Jw(p){return zp.apply(this,arguments)}(d.sessionId),F={};return It()?F.ibi=y.packageName:j()?F.apn=y.packageName:bi(p,"operation-not-supported-in-this-environment"),y.displayName&&(F.appDisplayName=y.displayName),F.sessionId=T,Bd(p,h,d.type,void 0,null!==(f=d.eventId)&&void 0!==f?f:void 0,F)}),fv.apply(this,arguments)}function Ph(){return(Ph=(0,S.Z)(function*(p){const{BuildInfo:d}=Dc(),h={};It()?h.iosBundleId=d.packageName:j()?h.androidPackageName=d.packageName:bi(p,"operation-not-supported-in-this-environment"),yield nv(p,h)})).apply(this,arguments)}function Oh(){return(Oh=(0,S.Z)(function*(p,d,h){const{cordova:f}=Dc();let y=()=>{};try{yield new Promise((T,F)=>{let q=null;function de(){var Ge;T();const Pn=null===(Ge=f.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof Pn&&Pn(),"function"==typeof h?.close&&h.close()}function Ae(){q||(q=window.setTimeout(()=>{F(Oi(p,"redirect-cancelled-by-user"))},2e3))}function je(){"visible"===document?.visibilityState&&Ae()}d.addPassiveListener(de),document.addEventListener("resume",Ae,!1),j()&&document.addEventListener("visibilitychange",je,!1),y=()=>{d.removePassiveListener(de),document.removeEventListener("resume",Ae,!1),document.removeEventListener("visibilitychange",je,!1),q&&window.clearTimeout(q)}})}finally{y()}})).apply(this,arguments)}function zp(){return(zp=(0,S.Z)(function*(p){const d=function ex(p){if(Zi(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const d=new ArrayBuffer(p.length),h=new Uint8Array(d);for(let f=0;f<p.length;f++)h[f]=p.charCodeAt(f);return h}(p),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(y=>y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class CI extends iv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,S.Z)(function*(){yield d.initPromise})()}}function ix(p){return Up.apply(this,arguments)}function Up(){return(Up=(0,S.Z)(function*(p){const d=yield gv()._get(Nr(p));return d&&(yield gv()._remove(Nr(p))),d})).apply(this,arguments)}function Nh(){const p=[];for(let h=0;h<20;h++){const f=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(f))}return p.join("")}function gv(){return Dt(w)}function Nr(p){return zn("authEvent",p.config.apiKey,p.name)}function zd(p){if(!p?.includes("?"))return{};const[d,...h]=p.split("?");return(0,se.zd)(h.join("?"))}const ko=class rx{constructor(){this._redirectPersistence=oe,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ap,this._overrideRedirectResult=J_}_initialize(d){var h=this;return(0,S.Z)(function*(){const f=d._key();let y=h.eventManagers.get(f);return y||(y=new CI(d),h.eventManagers.set(f,y),h.attachCallbackListeners(d,y)),y})()}_openPopup(d){bi(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,f,y){var T=this;return(0,S.Z)(function*(){!function xI(p){var d,h,f,y,T,F,q,de,Ae,je;const Ge=Dc();ue("function"==typeof(null===(d=Ge?.universalLinks)||void 0===d?void 0:d.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ue(typeof(null===(h=Ge?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ue("function"==typeof(null===(T=null===(y=null===(f=Ge?.cordova)||void 0===f?void 0:f.plugins)||void 0===y?void 0:y.browsertab)||void 0===T?void 0:T.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(de=null===(q=null===(F=Ge?.cordova)||void 0===F?void 0:F.plugins)||void 0===q?void 0:q.browsertab)||void 0===de?void 0:de.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ue("function"==typeof(null===(je=null===(Ae=Ge?.cordova)||void 0===Ae?void 0:Ae.InAppBrowser)||void 0===je?void 0:je.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const F=yield T._initialize(d);yield F.initialized(),F.resetRedirect(),function rI(){Sp.clear()}(),yield T._originValidation(d);const q=function Hp(p,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:Nh(),postBody:null,tenantId:p.tenantId,error:Oi(p,"no-auth-event")}}(d,f,y);yield function Al(p,d){return gv()._set(Nr(p),d)}(d,q);const de=yield function ua(p,d,h){return fv.apply(this,arguments)}(d,q,h),Ae=yield function Xw(p){const{cordova:d}=Dc();return new Promise(h=>{d.plugins.browsertab.isAvailable(f=>{let y=null;f?d.plugins.browsertab.openUrl(p):y=d.InAppBrowser.open(p,function ti(p=(0,se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),h(y)})})}(de);return function Bp(p,d,h){return Oh.apply(this,arguments)}(d,F,Ae)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Vp(p){return Ph.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:f,handleOpenURL:y,BuildInfo:T}=Dc(),F=setTimeout((0,S.Z)(function*(){yield ix(d),h.onEvent(Rl())}),500),q=function(){var je=(0,S.Z)(function*(Ge){clearTimeout(F);const Pn=yield ix(d);let Vs=null;Pn&&Ge?.url&&(Vs=function nx(p,d){var h,f;const y=function Ct(p){const d=zd(p),h=d.link?decodeURIComponent(d.link):void 0,f=zd(h).link,y=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return zd(y).link||y||f||h||p}(d);if(y.includes("/__/auth/callback")){const T=zd(y),F=T.firebaseError?function EI(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(T.firebaseError)):null,q=null===(f=null===(h=F?.code)||void 0===h?void 0:h.split("auth/"))||void 0===f?void 0:f[1],de=q?Oi(q):null;return de?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:y,postBody:null}}return null}(Pn,Ge.url)),h.onEvent(Vs||Rl())});return function(Pn){return je.apply(this,arguments)}}();typeof f<"u"&&"function"==typeof f.subscribe&&f.subscribe(null,q);const de=y,Ae=`${T.packageName.toLowerCase()}://`;Dc().handleOpenURL=function(){var je=(0,S.Z)(function*(Ge){if(Ge.toLowerCase().startsWith(Ae)&&q({url:Ge}),"function"==typeof de)try{de(Ge)}catch(Pn){console.error(Pn)}});return function(Ge){return je.apply(this,arguments)}}()}};function Rl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oi("no-auth-event")}}function ha(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function sx(p=(0,se.z$)()){return!("file:"!==ha()&&"ionic:"!==ha()&&"capacitor:"!==ha()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function kI(){try{const p=self.localStorage,d=St();if(p)return p.setItem(d,"1"),p.removeItem(d),!function aL(p=(0,se.z$)()){return function oL(){return(0,se.w1)()&&11===document?.documentMode}()||function sL(p=(0,se.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,se.hl)()}catch{return ax()&&(0,se.hl)()}return!1}function ax(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ic(){return(function nL(){return"http:"===ha()||"https:"===ha()}()||(0,se.ru)()||sx())&&!function rL(){return(0,se.b$)()||(0,se.UG)()}()&&kI()&&!ax()}function cx(){return sx()&&typeof document<"u"}function Un(){return(Un=(0,S.Z)(function*(){return!!cx()&&new Promise(p=>{const d=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),p(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Fh=ue,Yo="persistence";function jp(p){return $d.apply(this,arguments)}function $d(){return($d=(0,S.Z)(function*(p){yield p._initializationPromise;const d=lx(),h=zn(Yo,p.config.apiKey,p.name);d&&d.setItem(h,p._getPersistence())})).apply(this,arguments)}function lx(){var p;try{return(null===(p=function II(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const cL=ue;class Sc{constructor(){this.browserResolver=Dt(Ml),this.cordovaResolver=Dt(ko),this.underlyingResolver=null,this._redirectPersistence=oe,this._completeRedirectFn=Ap,this._overrideRedirectResult=J_}_initialize(d){var h=this;return(0,S.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,f,y){var T=this;return(0,S.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(d,h,f,y)})()}_openRedirect(d,h,f,y){var T=this;return(0,S.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(d,h,f,y)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return cx()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cL(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,S.Z)(function*(){if(d.underlyingResolver)return;const h=yield function DI(){return Un.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function SI(p){return p.unwrap()}function vv(p){return MI(p)}function MI(p){const{_tokenResponse:d}=p instanceof se.ZR?p.customData:p;if(!d)return null;if(!(p instanceof se.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return wr.credentialFromResult(p);const h=d.providerId;if(!h||h===$t.PASSWORD)return null;let f;switch(h){case $t.GOOGLE:f=To;break;case $t.FACEBOOK:f=ao;break;case $t.GITHUB:f=Kt;break;case $t.TWITTER:f=ms;break;default:const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:F,pendingToken:q,nonce:de}=d;return T||F||y||q?q?h.startsWith("saml.")?sa._create(h,q):Ho._fromParams({providerId:h,signInMethod:h,pendingToken:q,idToken:y,accessToken:T}):new Ps(h).credential({idToken:y,accessToken:T,rawNonce:de}):null}return p instanceof se.ZR?f.credentialFromError(p):f.credentialFromResult(p)}function mo(p,d){return d.catch(h=>{throw h instanceof se.ZR&&function Wd(p,d){var h;const f=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new AI(p,function yh(p,d){var h;const f=(0,se.m9)(p),y=d;return ue(d.customData.operationType,f,"argument-error"),ue(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,f,"argument-error"),Go._fromError(f,y)}(p,d));else if(f){const y=MI(d),T=d;y&&(T.credential=y,T.tenantId=f.tenantId||void 0,T.email=f.email||void 0,T.phoneNumber=f.phoneNumber||void 0)}}(p,h),h}).then(h=>{const y=h.user;return{operationType:h.operationType,credential:vv(h),additionalUserInfo:cr(h),user:Ba.getOrCreate(y)}})}function bv(p,d){return yv.apply(this,arguments)}function yv(){return(yv=(0,S.Z)(function*(p,d){const h=yield d;return{verificationId:h.verificationId,confirm:f=>mo(p,h.confirm(f))}})).apply(this,arguments)}class AI{constructor(d,h){this.resolver=h,this.auth=function Zo(p){return p.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return mo(SI(this.auth),this.resolver.resolveSignIn(d))}}class Ba{constructor(d){this._delegate=d,this.multiFactor=function xw(p){const d=(0,se.m9)(p);return yp.has(d)||yp.set(d,bp._fromUser(d)),yp.get(d)}(d)}static getOrCreate(d){return Ba.USER_MAP.has(d)||Ba.USER_MAP.set(d,new Ba(d)),Ba.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,S.Z)(function*(){return mo(h.auth,mh(h._delegate,d))})()}linkWithPhoneNumber(d,h){var f=this;return(0,S.Z)(function*(){return bv(f.auth,function G_(p,d,h){return q_.apply(this,arguments)}(f._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,S.Z)(function*(){return mo(h.auth,function Vw(p,d,h){return Q_.apply(this,arguments)}(h._delegate,d,Sc))})()}linkWithRedirect(d){var h=this;return(0,S.Z)(function*(){return yield jp(Ji(h.auth)),Uw(h._delegate,d,Sc)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,S.Z)(function*(){return mo(h.auth,ph(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return bv(this.auth,function la(p,d,h){return kp.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return mo(this.auth,function Lw(p,d,h){return Ip.apply(this,arguments)}(this._delegate,d,Sc))}reauthenticateWithRedirect(d){var h=this;return(0,S.Z)(function*(){return yield jp(Ji(h.auth)),sI(h._delegate,d,Sc)})()}sendEmailVerification(d){return function gc(p,d){return sn.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,S.Z)(function*(){return yield function z_(p,d){return wd.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function $o(p,d){return vc((0,se.m9)(p),d,null)}(this._delegate,d)}updatePassword(d){return function El(p,d){return vc((0,se.m9)(p),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Y_(p,d){return Fd.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function _p(p,d){return jo.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function _c(p,d,h){return Ns.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ba.USER_MAP=new WeakMap;const Vh=ue;let dx=(()=>{class p{constructor(h,f){if(this.app=h,f.isInitialized())return this._delegate=f.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:y}=h.options;Vh(y,"invalid-api-key",{appName:h.name}),Vh(y,"invalid-api-key",{appName:h.name});const T=typeof window<"u"?Sc:void 0;this._delegate=f.initialize({options:{persistence:Wp(y,h.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(or),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,f){!function De(p,d,h){const f=Ji(p);ue(f._canInitEmulator,f,"emulator-config-failed"),ue(/^https?:\/\//.test(d),f,"invalid-emulator-scheme");const y=!!h?.disableWarnings,T=cc(d),{host:F,port:q}=function N_(p){const d=cc(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const f=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(f);if(y){const T=y[1];return{host:T,port:nh(f.substr(T.length+1))}}{const[T,F]=f.split(":");return{host:T,port:nh(F)}}}(d);f.config.emulator={url:`${T}//${F}${null===q?"":`:${q}`}/`},f.settings.appVerificationDisabledForTesting=!0,f.emulatorConfig=Object.freeze({host:F,port:q,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function F_(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,h,f)}applyActionCode(h){return function fh(p,d){return mc.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return gh(this._delegate,h)}confirmPasswordReset(h,f){return function lo(p,d,h){return Id.apply(this,arguments)}(this._delegate,h,f)}createUserWithEmailAndPassword(h,f){var y=this;return(0,S.Z)(function*(){return mo(y._delegate,function Pt(p,d,h){return Ni.apply(this,arguments)}(y._delegate,h,f))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Cl(p,d){return Sd.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function pc(p,d){const h=br.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,S.Z)(function*(){Vh(Ic(),h._delegate,"operation-not-supported-in-this-environment");const f=yield function ev(p,d){return kh.apply(this,arguments)}(h._delegate,Sc);return f?mo(h._delegate,Promise.resolve(f)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Hd(p,d){Ji(p)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,f,y){const{next:T,error:F,complete:q}=$p(h,f,y);return this._delegate.onAuthStateChanged(T,F,q)}onIdTokenChanged(h,f,y){const{next:T,error:F,complete:q}=$p(h,f,y);return this._delegate.onIdTokenChanged(T,F,q)}sendSignInLinkToEmail(h,f){return function xl(p,d,h){return wn.apply(this,arguments)}(this._delegate,h,f)}sendPasswordResetEmail(h,f){return function Pr(p,d,h){return aa.apply(this,arguments)}(this._delegate,h,f||void 0)}setPersistence(h){var f=this;return(0,S.Z)(function*(){let y;switch(function jd(p,d){Fh(Object.values(Fr).includes(d),p,"invalid-persistence-type"),(0,se.b$)()?Fh(d!==Fr.SESSION,p,"unsupported-persistence-type"):(0,se.UG)()?Fh(d===Fr.NONE,p,"unsupported-persistence-type"):ax()?Fh(d===Fr.NONE||d===Fr.LOCAL&&(0,se.hl)(),p,"unsupported-persistence-type"):Fh(d===Fr.NONE||kI(),p,"unsupported-persistence-type")}(f._delegate,h),h){case Fr.SESSION:y=oe;break;case Fr.LOCAL:y=(yield Dt(Nd)._isAvailable())?Nd:w;break;case Fr.NONE:y=Hi;break;default:return bi("argument-error",{appName:f._delegate.name})}return f._delegate.setPersistence(y)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return mo(this._delegate,function pp(p){return gl.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return mo(this._delegate,bl(this._delegate,h))}signInWithCustomToken(h){return mo(this._delegate,function gp(p,d){return Ee.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,f){return mo(this._delegate,function Uo(p,d,h){return bl((0,se.m9)(p),_d.credential(d,h)).catch(function(){var f=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&ni(p),y});return function(y){return f.apply(this,arguments)}}())}(this._delegate,h,f))}signInWithEmailLink(h,f){return mo(this._delegate,function xn(p,d,h){return ps.apply(this,arguments)}(this._delegate,h,f))}signInWithPhoneNumber(h,f){return bv(this._delegate,function Ow(p,d,h){return W_.apply(this,arguments)}(this._delegate,h,f))}signInWithPopup(h){var f=this;return(0,S.Z)(function*(){return Vh(Ic(),f._delegate,"operation-not-supported-in-this-environment"),mo(f._delegate,function Fw(p,d,h){return K_.apply(this,arguments)}(f._delegate,h,Sc))})()}signInWithRedirect(h){var f=this;return(0,S.Z)(function*(){return Vh(Ic(),f._delegate,"operation-not-supported-in-this-environment"),yield jp(f._delegate),oI(f._delegate,h,Sc)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function on(p,d){return Se.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Fr,p})();function $p(p,d,h){let f=p;"function"!=typeof p&&({next:f,error:d,complete:h}=p);const y=f;return{next:F=>y(F&&Ba.getOrCreate(F)),error:d,complete:h}}function Wp(p,d){const h=function Lh(p,d){const h=lx();if(!h)return[];const f=zn(Yo,p,d);switch(h.getItem(f)){case Fr.NONE:return[Hi];case Fr.LOCAL:return[Nd,oe];case Fr.SESSION:return[oe];default:return[]}}(p,d);if(typeof self<"u"&&!h.includes(Nd)&&h.push(Nd),typeof window<"u")for(const f of[w,oe])h.includes(f)||h.push(f);return h.includes(Hi)||h.push(Hi),h}class wv{constructor(){this.providerId="phone",this._delegate=new wr(SI(ht.Z.auth()))}static credential(d,h){return wr.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}wv.PHONE_SIGN_IN_METHOD=wr.PHONE_SIGN_IN_METHOD,wv.PROVIDER_ID=wr.PROVIDER_ID;const Do=ue;class RI{constructor(d,h,f=ht.Z.app()){var y;Do(null===(y=f.options)||void 0===y?void 0:y.apiKey,"invalid-api-key",{appName:f.name}),this._delegate=new JD(f.auth(),d,h),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function PI(p){p.INTERNAL.registerComponent(new hn.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),f=d.getProvider("auth");return new dx(h,f)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_d,FacebookAuthProvider:ao,GithubAuthProvider:Kt,GoogleAuthProvider:To,OAuthProvider:Ps,SAMLAuthProvider:fl,PhoneAuthProvider:wv,PhoneMultiFactorGenerator:tL,RecaptchaVerifier:RI,TwitterAuthProvider:ms,Auth:dx,AuthCredential:us,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.5.1")}(ht.Z)},537:(Ss,un,dt)=>{"use strict";dt.d(un,{H0:()=>di,wA:()=>se,zt:()=>Mt});var S=dt(861),ht=dt(58);class se{constructor(he,be,ze){this.name=he,this.instanceFactory=be,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const ft="[DEFAULT]";class Mt{constructor(he,be){this.name=he,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const be=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(be)){const ze=new ht.BH;if(this.instancesDeferred.set(be,ze),this.isInitialized(be)||this.shouldAutoInitialize())try{const At=this.getOrInitializeService({instanceIdentifier:be});At&&ze.resolve(At)}catch{}}return this.instancesDeferred.get(be).promise}getImmediate(he){var be;const ze=this.normalizeInstanceIdentifier(he?.identifier),At=null!==(be=he?.optional)&&void 0!==be&&be;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(At)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(si){if(At)return null;throw si}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function hn($t){return"EAGER"===$t.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:ft})}catch{}for(const[be,ze]of this.instancesDeferred.entries()){const At=this.normalizeInstanceIdentifier(be);try{const si=this.getOrInitializeService({instanceIdentifier:At});ze.resolve(si)}catch{}}}}clearInstance(he=ft){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,S.Z)(function*(){const be=Array.from(he.instances.values());yield Promise.all([...be.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...be.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=ft){return this.instances.has(he)}getOptions(he=ft){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:be={}}=he,ze=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const At=this.getOrInitializeService({instanceIdentifier:ze,options:be});for(const[si,or]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(si)&&or.resolve(At);return At}onInit(he,be){var ze;const At=this.normalizeInstanceIdentifier(be),si=null!==(ze=this.onInitCallbacks.get(At))&&void 0!==ze?ze:new Set;si.add(he),this.onInitCallbacks.set(At,si);const or=this.instances.get(At);return or&&he(or,At),()=>{si.delete(he)}}invokeOnInitCallbacks(he,be){const ze=this.onInitCallbacks.get(be);if(ze)for(const At of ze)try{At(he,be)}catch{}}getOrInitializeService({instanceIdentifier:he,options:be={}}){let ze=this.instances.get(he);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:($t=he,$t===ft?void 0:$t),options:be}),this.instances.set(he,ze),this.instancesOptions.set(he,be),this.invokeOnInitCallbacks(ze,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ze)}catch{}var $t;return ze||null}normalizeInstanceIdentifier(he=ft){return this.component?this.component.multipleInstances?he:ft:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class di{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const be=this.getProvider(he.name);if(be.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);be.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const be=new Mt(he,this);return this.providers.set(he,be),be}getProviders(){return Array.from(this.providers.values())}}},879:(Ss,un,dt)=>{"use strict";dt.d(un,{Am:()=>$t,Ub:()=>di,Yd:()=>hn,in:()=>ht});const S=[];var ht=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(ht||{});const se={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},ft=ht.INFO,Mt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},qi=(he,be,...ze)=>{if(be<he.logLevel)return;const At=(new Date).toISOString(),si=Mt[be];if(!si)throw new Error(`Attempted to log a message with an invalid logType (value: ${be})`);console[si](`[${At}]  ${he.name}:`,...ze)};class hn{constructor(be){this.name=be,this._logLevel=ft,this._logHandler=qi,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(be){if(!(be in ht))throw new TypeError(`Invalid value "${be}" assigned to \`logLevel\``);this._logLevel=be}setLogLevel(be){this._logLevel="string"==typeof be?se[be]:be}get logHandler(){return this._logHandler}set logHandler(be){if("function"!=typeof be)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=be}get userLogHandler(){return this._userLogHandler}set userLogHandler(be){this._userLogHandler=be}debug(...be){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...be),this._logHandler(this,ht.DEBUG,...be)}log(...be){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...be),this._logHandler(this,ht.VERBOSE,...be)}info(...be){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...be),this._logHandler(this,ht.INFO,...be)}warn(...be){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...be),this._logHandler(this,ht.WARN,...be)}error(...be){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...be),this._logHandler(this,ht.ERROR,...be)}}function di(he){S.forEach(be=>{be.setLogLevel(he)})}function $t(he,be){for(const ze of S){let At=null;be&&be.level&&(At=se[be.level]),ze.userLogHandler=null===he?null:(si,or,...vi)=>{const xt=vi.map(Rt=>{if(null==Rt)return null;if("string"==typeof Rt)return Rt;if("number"==typeof Rt||"boolean"==typeof Rt)return Rt.toString();if(Rt instanceof Error)return Rt.message;try{return JSON.stringify(Rt)}catch{return null}}).filter(Rt=>Rt).join(" ");or>=(At??si.logLevel)&&he({level:ht[or].toLowerCase(),message:xt,args:vi,type:si.name})}}}},861:(Ss,un,dt)=>{"use strict";function S(se,ft,Mt,qi,hn,di,$t){try{var he=se[di]($t),be=he.value}catch(ze){return void Mt(ze)}he.done?ft(be):Promise.resolve(be).then(qi,hn)}function ht(se){return function(){var ft=this,Mt=arguments;return new Promise(function(qi,hn){var di=se.apply(ft,Mt);function $t(be){S(di,qi,hn,$t,he,"next",be)}function he(be){S(di,qi,hn,$t,he,"throw",be)}$t(void 0)})}}dt.d(un,{Z:()=>ht})},582:(Ss,un,dt)=>{"use strict";function ft(M,ne){var G={};for(var ce in M)Object.prototype.hasOwnProperty.call(M,ce)&&ne.indexOf(ce)<0&&(G[ce]=M[ce]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(ce=Object.getOwnPropertySymbols(M);me<ce.length;me++)ne.indexOf(ce[me])<0&&Object.prototype.propertyIsEnumerable.call(M,ce[me])&&(G[ce[me]]=M[ce[me]])}return G}function ze(M,ne,G,ce){return new(G||(G=Promise))(function(X,Te){function oi(ei){try{Xe(ce.next(ei))}catch(zi){Te(zi)}}function Ie(ei){try{Xe(ce.throw(ei))}catch(zi){Te(zi)}}function Xe(ei){ei.done?X(ei.value):function me(X){return X instanceof G?X:new G(function(Te){Te(X)})}(ei.value).then(oi,Ie)}Xe((ce=ce.apply(M,ne||[])).next())})}function Yi(M){return this instanceof Yi?(this.v=M,this):new Yi(M)}function bi(M,ne,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ce=G.apply(M,ne||[]),X=[];return me={},Te("next"),Te("throw"),Te("return"),me[Symbol.asyncIterator]=function(){return this},me;function Te(Ci){ce[Ci]&&(me[Ci]=function(Ln){return new Promise(function(fi,Vn){X.push([Ci,Ln,fi,Vn])>1||oi(Ci,Ln)})})}function oi(Ci,Ln){try{!function Ie(Ci){Ci.value instanceof Yi?Promise.resolve(Ci.value.v).then(Xe,ei):zi(X[0][2],Ci)}(ce[Ci](Ln))}catch(fi){zi(X[0][3],fi)}}function Xe(Ci){oi("next",Ci)}function ei(Ci){oi("throw",Ci)}function zi(Ci,Ln){Ci(Ln),X.shift(),X.length&&oi(X[0][0],X[0][1])}}function Ar(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,ne=M[Symbol.asyncIterator];return ne?ne.call(M):(M=function vi(M){var ne="function"==typeof Symbol&&Symbol.iterator,G=ne&&M[ne],ce=0;if(G)return G.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&ce>=M.length&&(M=void 0),{value:M&&M[ce++],done:!M}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(M),G={},ce("next"),ce("throw"),ce("return"),G[Symbol.asyncIterator]=function(){return this},G);function ce(X){G[X]=M[X]&&function(Te){return new Promise(function(oi,Ie){!function me(X,Te,oi,Ie){Promise.resolve(Ie).then(function(Xe){X({value:Xe,done:oi})},Te)}(oi,Ie,(Te=M[X](Te)).done,Te.value)})}}}dt.d(un,{FC:()=>bi,KL:()=>Ar,_T:()=>ft,mG:()=>ze,qq:()=>Yi}),"function"==typeof SuppressedError&&SuppressedError}},Ss=>{Ss(Ss.s=276)}]);