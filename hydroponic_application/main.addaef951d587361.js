(self.webpackChunkhydroponic_application=self.webpackChunkhydroponic_application||[]).push([[179],{58:(ra,En,bt)=>{"use strict";bt.d(En,{BH:()=>Wi,DV:()=>Vi,Dv:()=>wo,G6:()=>Fs,GJ:()=>wi,L:()=>Yt,LL:()=>te,Pz:()=>Ti,Sg:()=>Gr,UG:()=>ge,UI:()=>Ls,US:()=>on,Wj:()=>xo,Wl:()=>dt,Yr:()=>oa,ZB:()=>et,ZR:()=>be,aH:()=>sn,b$:()=>qn,cI:()=>Le,dS:()=>os,eu:()=>le,g5:()=>he,gK:()=>gn,gQ:()=>ln,h$:()=>fi,hl:()=>O,hu:()=>yt,jU:()=>fn,lb:()=>Or,m9:()=>Xt,ne:()=>so,p$:()=>Se,pd:()=>Oa,r3:()=>nr,ru:()=>an,tV:()=>_e,uI:()=>dr,ug:()=>ss,vZ:()=>sa,w1:()=>Ns,w9:()=>ir,xO:()=>Uc,xb:()=>Ut,z$:()=>Bt,zd:()=>yo});const P={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},yt=function(U,B){if(!U)throw he(B)},he=function(U){return new Error("Firebase Database ("+P.SDK_VERSION+") INTERNAL ASSERT FAILED: "+U)},Et=function(U){const B=[];let j=0;for(let ee=0;ee<U.length;ee++){let G=U.charCodeAt(ee);G<128?B[j++]=G:G<2048?(B[j++]=G>>6|192,B[j++]=63&G|128):55296==(64512&G)&&ee+1<U.length&&56320==(64512&U.charCodeAt(ee+1))?(G=65536+((1023&G)<<10)+(1023&U.charCodeAt(++ee)),B[j++]=G>>18|240,B[j++]=G>>12&63|128,B[j++]=G>>6&63|128,B[j++]=63&G|128):(B[j++]=G>>12|224,B[j++]=G>>6&63|128,B[j++]=63&G|128)}return B},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,B){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let G=0;G<U.length;G+=3){const ae=U[G],xt=G+1<U.length,Pt=xt?U[G+1]:0,kt=G+2<U.length,Ki=kt?U[G+2]:0;let sr=(15&Pt)<<2|Ki>>6,Bi=63&Ki;kt||(Bi=64,xt||(sr=64)),ee.push(j[ae>>2],j[(3&ae)<<4|Pt>>4],j[sr],j[Bi])}return ee.join("")},encodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(U):this.encodeByteArray(Et(U),B)},decodeString(U,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(U):function(U){const B=[];let j=0,ee=0;for(;j<U.length;){const G=U[j++];if(G<128)B[ee++]=String.fromCharCode(G);else if(G>191&&G<224){const ae=U[j++];B[ee++]=String.fromCharCode((31&G)<<6|63&ae)}else if(G>239&&G<365){const kt=((7&G)<<18|(63&U[j++])<<12|(63&U[j++])<<6|63&U[j++])-65536;B[ee++]=String.fromCharCode(55296+(kt>>10)),B[ee++]=String.fromCharCode(56320+(1023&kt))}else{const ae=U[j++],xt=U[j++];B[ee++]=String.fromCharCode((15&G)<<12|(63&ae)<<6|63&xt)}}return B.join("")}(this.decodeStringToByteArray(U,B))},decodeStringToByteArray(U,B){this.init_();const j=B?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let G=0;G<U.length;){const ae=j[U.charAt(G++)],Pt=G<U.length?j[U.charAt(G)]:0;++G;const Ki=G<U.length?j[U.charAt(G)]:64;++G;const Je=G<U.length?j[U.charAt(G)]:64;if(++G,null==ae||null==Pt||null==Ki||null==Je)throw new kn;ee.push(ae<<2|Pt>>4),64!==Ki&&(ee.push(Pt<<4&240|Ki>>2),64!==Je&&ee.push(Ki<<6&192|Je))}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class kn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fi=function(U){const B=Et(U);return on.encodeByteArray(B,!0)},Yt=function(U){return fi(U).replace(/\./g,"")},_e=function(U){try{return on.decodeString(U,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Se(U){return et(void 0,U)}function et(U,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return B}for(const j in B)!B.hasOwnProperty(j)||!Ft(j)||(U[j]=et(U[j],B[j]));return U}function Ft(U){return"__proto__"!==U}const Lt=()=>{try{return function hi(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=U&&_e(U[1]);return B&&JSON.parse(B)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},sn=()=>{var U;return null===(U=Lt())||void 0===U?void 0:U.config},Ti=U=>{var B;return null===(B=Lt())||void 0===B?void 0:B[`_${U}`]};class Wi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,j)=>{this.resolve=B,this.reject=j})}wrapCallback(B){return(j,ee)=>{j?this.reject(j):this.resolve(ee),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(j):B(j,ee))}}}function Gr(U,B){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ee=B||"demo-project",G=U.iat||0,ae=U.sub||U.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:G,exp:G+3600,auth_time:G,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Yt(JSON.stringify({alg:"none",type:"JWT"})),Yt(JSON.stringify(xt)),""].join(".")}function Bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function ge(){var U;const B=null===(U=Lt())||void 0===U?void 0:U.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fn(){return"object"==typeof self&&self.self===self}function an(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function qn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ns(){const U=Bt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function oa(){return!0===P.NODE_CLIENT||!0===P.NODE_ADMIN}function Fs(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((U,B)=>{try{let j=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(ee);G.onsuccess=()=>{G.result.close(),j||self.indexedDB.deleteDatabase(ee),U(!0)},G.onupgradeneeded=()=>{j=!1},G.onerror=()=>{var ae;B((null===(ae=G.error)||void 0===ae?void 0:ae.message)||"")}}catch(j){B(j)}})}class be extends Error{constructor(B,j,ee){super(j),this.code=B,this.customData=ee,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(B,j,ee){this.service=B,this.serviceName=j,this.errors=ee}create(B,...j){const ee=j[0]||{},G=`${this.service}/${B}`,ae=this.errors[B],xt=ae?function Oe(U,B){return U.replace(ui,(j,ee)=>{const G=B[ee];return null!=G?String(G):`<${ee}?>`})}(ae,ee):"Error";return new be(G,`${this.serviceName}: ${xt} (${G}).`,ee)}}const ui=/\{\$([^}]+)}/g;function Le(U){return JSON.parse(U)}function dt(U){return JSON.stringify(U)}const si=function(U){let B={},j={},ee={},G="";try{const ae=U.split(".");B=Le(_e(ae[0])||""),j=Le(_e(ae[1])||""),G=ae[2],ee=j.d||{},delete j.d}catch{}return{header:B,claims:j,data:ee,signature:G}},ir=function(U){const j=si(U).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},wi=function(U){const B=si(U).claims;return"object"==typeof B&&!0===B.admin};function nr(U,B){return Object.prototype.hasOwnProperty.call(U,B)}function Vi(U,B){if(Object.prototype.hasOwnProperty.call(U,B))return U[B]}function Ut(U){for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B))return!1;return!0}function Ls(U,B,j){const ee={};for(const G in U)Object.prototype.hasOwnProperty.call(U,G)&&(ee[G]=B.call(j,U[G],G,U));return ee}function sa(U,B){if(U===B)return!0;const j=Object.keys(U),ee=Object.keys(B);for(const G of j){if(!ee.includes(G))return!1;const ae=U[G],xt=B[G];if(cn(ae)&&cn(xt)){if(!sa(ae,xt))return!1}else if(ae!==xt)return!1}for(const G of ee)if(!j.includes(G))return!1;return!0}function cn(U){return null!==U&&"object"==typeof U}function Uc(U){const B=[];for(const[j,ee]of Object.entries(U))Array.isArray(ee)?ee.forEach(G=>{B.push(encodeURIComponent(j)+"="+encodeURIComponent(G))}):B.push(encodeURIComponent(j)+"="+encodeURIComponent(ee));return B.length?"&"+B.join("&"):""}function yo(U){const B={};return U.replace(/^\?/,"").split("&").forEach(ee=>{if(ee){const[G,ae]=ee.split("=");B[decodeURIComponent(G)]=decodeURIComponent(ae)}}),B}function Oa(U){const B=U.indexOf("?");if(!B)return"";const j=U.indexOf("#",B);return U.substring(B,j>0?j:void 0)}class ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,j){j||(j=0);const ee=this.W_;if("string"==typeof B)for(let Je=0;Je<16;Je++)ee[Je]=B.charCodeAt(j)<<24|B.charCodeAt(j+1)<<16|B.charCodeAt(j+2)<<8|B.charCodeAt(j+3),j+=4;else for(let Je=0;Je<16;Je++)ee[Je]=B[j]<<24|B[j+1]<<16|B[j+2]<<8|B[j+3],j+=4;for(let Je=16;Je<80;Je++){const sr=ee[Je-3]^ee[Je-8]^ee[Je-14]^ee[Je-16];ee[Je]=4294967295&(sr<<1|sr>>>31)}let Ki,or,G=this.chain_[0],ae=this.chain_[1],xt=this.chain_[2],Pt=this.chain_[3],kt=this.chain_[4];for(let Je=0;Je<80;Je++){Je<40?Je<20?(Ki=Pt^ae&(xt^Pt),or=1518500249):(Ki=ae^xt^Pt,or=1859775393):Je<60?(Ki=ae&xt|Pt&(ae|xt),or=2400959708):(Ki=ae^xt^Pt,or=3395469782);const sr=(G<<5|G>>>27)+Ki+kt+or+ee[Je]&4294967295;kt=Pt,Pt=xt,xt=4294967295&(ae<<30|ae>>>2),ae=G,G=sr}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+ae&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+kt&4294967295}update(B,j){if(null==B)return;void 0===j&&(j=B.length);const ee=j-this.blockSize;let G=0;const ae=this.buf_;let xt=this.inbuf_;for(;G<j;){if(0===xt)for(;G<=ee;)this.compress_(B,G),G+=this.blockSize;if("string"==typeof B){for(;G<j;)if(ae[xt]=B.charCodeAt(G),++xt,++G,xt===this.blockSize){this.compress_(ae),xt=0;break}}else for(;G<j;)if(ae[xt]=B[G],++xt,++G,xt===this.blockSize){this.compress_(ae),xt=0;break}}this.inbuf_=xt,this.total_+=j}digest(){const B=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&j,j/=256;this.compress_(this.buf_);let ee=0;for(let G=0;G<5;G++)for(let ae=24;ae>=0;ae-=8)B[ee]=this.chain_[G]>>ae&255,++ee;return B}}function so(U,B){const j=new ao(U,B);return j.subscribe.bind(j)}class ao{constructor(B,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{B(this)}).catch(ee=>{this.error(ee)})}next(B){this.forEachObserver(j=>{j.next(B)})}error(B){this.forEachObserver(j=>{j.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,j,ee){let G;if(void 0===B&&void 0===j&&void 0===ee)throw new Error("Missing Observer.");G=function Ho(U,B){if("object"!=typeof U||null===U)return!1;for(const j of B)if(j in U&&"function"==typeof U[j])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:j,complete:ee},void 0===G.next&&(G.next=Mi),void 0===G.error&&(G.error=Mi),void 0===G.complete&&(G.complete=Mi);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),ae}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,B)}sendOne(B,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{j(this.observers[B])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mi(){}const wo=function(U,B,j,ee){let G;if(ee<B?G="at least "+B:ee>j&&(G=0===j?"none":"no more than "+j),G)throw new Error(U+" failed: Was called with "+ee+(1===ee?" argument.":" arguments.")+" Expects "+G+".")};function gn(U,B){return`${U} failed: ${B} argument `}function xo(U,B,j,ee){if((!ee||j)&&"function"!=typeof j)throw new Error(gn(U,B)+"must be a valid function.")}function Or(U,B,j,ee){if((!ee||j)&&("object"!=typeof j||null===j))throw new Error(gn(U,B)+"must be a valid context object.")}const os=function(U){const B=[];let j=0;for(let ee=0;ee<U.length;ee++){let G=U.charCodeAt(ee);if(G>=55296&&G<=56319){const ae=G-55296;ee++,yt(ee<U.length,"Surrogate pair missing trail surrogate."),G=65536+(ae<<10)+(U.charCodeAt(ee)-56320)}G<128?B[j++]=G:G<2048?(B[j++]=G>>6|192,B[j++]=63&G|128):G<65536?(B[j++]=G>>12|224,B[j++]=G>>6&63|128,B[j++]=63&G|128):(B[j++]=G>>18|240,B[j++]=G>>12&63|128,B[j++]=G>>6&63|128,B[j++]=63&G|128)}return B},ss=function(U){let B=0;for(let j=0;j<U.length;j++){const ee=U.charCodeAt(j);ee<128?B++:ee<2048?B+=2:ee>=55296&&ee<=56319?(B+=4,j++):B+=3}return B};function Xt(U){return U&&U._delegate?U._delegate:U}},650:(ra,En,bt)=>{"use strict";function P(i){return"function"==typeof i}function yt(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const he=yt(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Et(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class wt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(P(n))try{n()}catch(o){t=o instanceof he?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{fi(o)}catch(s){t=t??[],s instanceof he?t=[...t,...s.errors]:t.push(s)}}if(t)throw new he(t)}}add(t){var e;if(t&&t!==this)if(this.closed)fi(t);else{if(t instanceof wt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Et(e,t)}remove(t){const{_finalizers:e}=this;e&&Et(e,t),t instanceof wt&&t._removeParent(this)}}wt.EMPTY=(()=>{const i=new wt;return i.closed=!0,i})();const on=wt.EMPTY;function kn(i){return i instanceof wt||i&&"closed"in i&&P(i.remove)&&P(i.add)&&P(i.unsubscribe)}function fi(i){P(i)?i():i.unsubscribe()}const Yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_e={setTimeout(i,t,...e){const{delegate:n}=_e;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=_e;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Se(i){_e.setTimeout(()=>{const{onUnhandledError:t}=Yt;if(!t)throw i;t(i)})}function et(){}const Ft=ki("C",void 0,void 0);function ki(i,t,e){return{kind:i,value:t,error:e}}let Mt=null;function Lt(i){if(Yt.useDeprecatedSynchronousErrorHandling){const t=!Mt;if(t&&(Mt={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=Mt;if(Mt=null,e)throw n}}else i()}class Er extends wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,kn(t)&&t.add(this)):this.destination=fn}static create(t,e,n){return new Gr(t,e,n)}next(t){this.isStopped?ge(function xr(i){return ki("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ge(function hi(i){return ki("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ge(Ft,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sn=Function.prototype.bind;function Ti(i,t){return sn.call(i,t)}class Wi{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Bt(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Bt(n)}else Bt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Bt(e)}}}class Gr extends Er{constructor(t,e,n){let r;if(super(),P(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&Yt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ti(t.next,o),error:t.error&&Ti(t.error,o),complete:t.complete&&Ti(t.complete,o)}):r=t}this.destination=new Wi(r)}}function Bt(i){Yt.useDeprecatedSynchronousErrorHandling?function Cr(i){Yt.useDeprecatedSynchronousErrorHandling&&Mt&&(Mt.errorThrown=!0,Mt.error=i)}(i):Se(i)}function ge(i,t){const{onStoppedNotification:e}=Yt;e&&_e.setTimeout(()=>e(i,t))}const fn={closed:!0,next:et,error:function dr(i){throw i},complete:et},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function qn(i){return i}function Ns(i){return 0===i.length?qn:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}let zt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function O(i){return i&&i instanceof Er||function Fs(i){return i&&P(i.next)&&P(i.error)&&P(i.complete)}(i)&&kn(i)}(e)?e:new Gr(e,n,r);return Lt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=oa(n))((r,o)=>{const s=new Gr({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[an](){return this}pipe(...e){return Ns(e)(this)}toPromise(e){return new(e=oa(e))((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function oa(i){var t;return null!==(t=i??Yt.Promise)&&void 0!==t?t:Promise}const le=yt(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let q=(()=>{class i extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new me(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new le}next(e){Lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){Lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?on:(this.currentObservers=null,o.push(e),new wt(()=>{this.currentObservers=null,Et(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new zt;return e.source=this,e}}return i.create=(t,e)=>new me(t,e),i})();class me extends q{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:on}}function be(i){return P(i?.lift)}function te(i){return t=>{if(be(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(i,t,e,n,r){return new ui(i,t,e,n,r)}class ui extends Er{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Le(i,t){return te((e,n)=>{let r=0;e.subscribe(Oe(n,o=>{n.next(i.call(t,o,r++))}))})}var dt=bt(582);const si=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Zi(i){return P(i?.then)}function Ri(i){return P(i[an])}function ir(i){return Symbol.asyncIterator&&P(i?.[Symbol.asyncIterator])}function wi(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vi=function nr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ut(i){return P(i?.[Vi])}function Ls(i){return(0,dt.FC)(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield(0,dt.qq)(e.read());if(r)return yield(0,dt.qq)(void 0);yield yield(0,dt.qq)(n)}}finally{e.releaseLock()}})}function sa(i){return P(i?.getReader)}function cn(i){if(i instanceof zt)return i;if(null!=i){if(Ri(i))return function Pa(i){return new zt(t=>{const e=i[an]();if(P(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(si(i))return function Uc(i){return new zt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(Zi(i))return function yo(i){return new zt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Se)})}(i);if(ir(i))return ln(i);if(Ut(i))return function Oa(i){return new zt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(sa(i))return function so(i){return ln(Ls(i))}(i)}throw wi(i)}function ln(i){return new zt(t=>{(function ao(i,t){var e,n,r,o;return(0,dt.mG)(this,void 0,void 0,function*(){try{for(e=(0,dt.KL)(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Pr(i,t,e,n=0,r=!1){const o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function Mi(i,t,e=1/0){return P(t)?Mi((n,r)=>Le((o,s)=>t(n,o,r,s))(cn(i(n,r))),e):("number"==typeof t&&(e=t),te((n,r)=>function Ho(i,t,e,n,r,o,s,a){const c=[];let l=0,d=0,h=!1;const p=()=>{h&&!c.length&&!l&&t.complete()},g=w=>l<n?b(w):c.push(w),b=w=>{o&&t.next(w),l++;let x=!1;cn(e(w,d++)).subscribe(Oe(t,S=>{r?.(S),o?g(S):t.next(S)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<n;){const S=c.shift();s?Pr(t,s,()=>b(S)):b(S)}p()}catch(S){t.error(S)}}))};return i.subscribe(Oe(t,g,()=>{h=!0,p()})),()=>{a?.()}}(n,r,i,e)))}function wo(i=1/0){return Mi(qn,i)}const gn=new zt(i=>i.complete());function Or(i){return i&&P(i.schedule)}function os(i){return i[i.length-1]}function ss(i){return P(os(i))?i.pop():void 0}function Fa(i){return Or(os(i))?i.pop():void 0}function _n(i,t=0){return te((e,n)=>{e.subscribe(Oe(n,r=>Pr(n,i,()=>n.next(r),t),()=>Pr(n,i,()=>n.complete(),t),r=>Pr(n,i,()=>n.error(r),t)))})}function co(i,t=0){return te((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function Xt(i,t){if(!i)throw new Error("Iterable cannot be null");return new zt(e=>{Pr(e,t,()=>{const n=i[Symbol.asyncIterator]();Pr(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function j(i,t){return t?function B(i,t){if(null!=i){if(Ri(i))return function rr(i,t){return cn(i).pipe(co(t),_n(t))}(i,t);if(si(i))return function Wl(i,t){return new zt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(Zi(i))return function aa(i,t){return cn(i).pipe(co(t),_n(t))}(i,t);if(ir(i))return Xt(i,t);if(Ut(i))return function jc(i,t){return new zt(e=>{let n;return Pr(e,t,()=>{n=i[Vi](),Pr(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>P(n?.return)&&n.return()})}(i,t);if(sa(i))return function U(i,t){return Xt(Ls(i),t)}(i,t)}throw wi(i)}(i,t):cn(i)}function ee(...i){const t=Fa(i),e=function ur(i,t){return"number"==typeof os(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?cn(n[0]):wo(e)(j(n,t)):gn}class G extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function ae(...i){return j(i,Fa(i))}function xt(i={}){const{connector:t=(()=>new q),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,c,l=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=c=void 0,d=h=!1},b=()=>{const w=s;g(),w?.unsubscribe()};return te((w,x)=>{l++,!h&&!d&&p();const S=c=c??t();x.add(()=>{l--,0===l&&!h&&!d&&(a=Pt(b,r))}),S.subscribe(x),!s&&l>0&&(s=new Gr({next:D=>S.next(D),error:D=>{h=!0,p(),a=Pt(g,e,D),S.error(D)},complete:()=>{d=!0,p(),a=Pt(g,n),S.complete()}}),cn(w).subscribe(s))})(o)}}function Pt(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new Gr({next:()=>{n.unsubscribe(),i()}});return cn(t(...e)).subscribe(n)}function kt(i,t){return te((e,n)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&n.complete();e.subscribe(Oe(n,c=>{r?.unsubscribe();let l=0;const d=o++;cn(i(c,d)).subscribe(r=Oe(n,h=>n.next(t?t(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ki(i,t=qn){return i=i??or,te((e,n)=>{let r,o=!0;e.subscribe(Oe(n,s=>{const a=t(s);(o||!i(r,a))&&(o=!1,r=a,n.next(s))}))})}function or(i,t){return i===t}function Je(i){for(let t in i)if(i[t]===Je)return t;throw Error("Could not find renamed property on target object.")}function sr(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function Bi(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Bi).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function as(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const lu=Je({__forward_ref__:Je});function Q(i){return i.__forward_ref__=Q,i.toString=function(){return Bi(this())},i}function $(i){return ke(i)?i():i}function ke(i){return"function"==typeof i&&i.hasOwnProperty(lu)&&i.__forward_ref__===Q}function tt(i){return i&&!!i.\u0275providers}const ai="https://g.co/ng/security#xss";class X extends Error{constructor(t,e){super(function dn(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function it(i){return"string"==typeof i?i:null==i?"":String(i)}function $l(i,t){throw new X(-201,!1)}function Nr(i,t){null==i&&function ft(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function Ce(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ne(i){return{providers:i.providers||[],imports:i.imports||[]}}function Wc(i){return am(i,Gl)||am(i,Tf)}function am(i,t){return i.hasOwnProperty(t)?i[t]:null}function Vs(i){return i&&(i.hasOwnProperty($c)||i.hasOwnProperty(cm))?i[$c]:null}const Gl=Je({\u0275prov:Je}),$c=Je({\u0275inj:Je}),Tf=Je({ngInjectableDef:Je}),cm=Je({ngInjectorDef:Je});var ci=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(ci||{});let ql;function Fr(i){const t=ql;return ql=i,t}function If(i,t,e){const n=Wc(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&ci.Optional?null:void 0!==t?t:void $l(Bi(i))}const Pi=globalThis;class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hr={},Zl="__NG_DI_FLAG__",Kl="ngTempTokenPath",cb=/\n/gm,Pf="__source";let Ba;function Bs(i){const t=Ba;return Ba=i,t}function db(i,t=ci.Default){if(void 0===Ba)throw new X(-203,!1);return null===Ba?If(i,void 0,t):Ba.get(i,t&ci.Optional?null:void 0,t)}function W(i,t=ci.Default){return(function Df(){return ql}()||db)($(i),t)}function Ie(i,t=ci.Default){return W(i,Ql(t))}function Ql(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function hm(i){const t=[];for(let e=0;e<i.length;e++){const n=$(i[e]);if(Array.isArray(n)){if(0===n.length)throw new X(900,!1);let r,o=ci.Default;for(let s=0;s<n.length;s++){const a=n[s],c=uC(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(W(r,o))}else t.push(W(n))}return t}function Lr(i,t){return i[Zl]=t,i.prototype[Zl]=t,i}function uC(i){return i[Zl]}function lo(i){return{toString:i}.toString()}var ca=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(ca||{}),Eo=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Eo||{});const jo={},ei=[],mu=Je({\u0275cmp:Je}),za=Je({\u0275dir:Je}),mm=Je({\u0275pipe:Je}),Xl=Je({\u0275mod:Je}),zs=Je({\u0275fac:Je}),qc=Je({__NG_ELEMENT_ID__:Je}),pu=Je({__NG_ENV_ID__:Je});function ko(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function fu(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],s=e[n++],a=e[n++];i.setAttribute(t,s,a,o)}else{const o=r,s=e[++n];Jl(o)?i.setProperty(t,o,s):i.setAttribute(t,o,s),n++}}return n}function Of(i){return 3===i||4===i||6===i}function Jl(i){return 64===i.charCodeAt(0)}function la(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||Yc(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function Yc(i,t,e,n,r){let o=0,s=i.length;if(-1===t)s=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(i[o+1]=r));if(n===i[o+1])return void(i[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==s&&(i.splice(s,0,t),o=s+1),i.splice(o++,0,e),null!==n&&i.splice(o++,0,n),null!==r&&i.splice(o++,0,r)}const pm="ng-template";function ub(i,t,e){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if("string"==typeof o&&r){const s=i[n++];if(e&&"class"===o&&-1!==ko(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;n<i.length&&"string"==typeof(o=i[n++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function gu(i){return 4===i.type&&i.value!==pm}function _u(i,t,e){return t===(4!==i.type||e?i.value:pm)}function fm(i,t,e){let n=4;const r=i.attrs||[],o=function td(i){for(let t=0;t<i.length;t++)if(Of(i[t]))return t;return i.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&n){if(n=2|1&n,""!==c&&!_u(i,c,e)||""===c&&1===t.length){if(Vr(n))return!1;s=!0}}else{const l=8&n?c:t[++a];if(8&n&&null!==i.attrs){if(!ub(i.attrs,l,e)){if(Vr(n))return!1;s=!0}continue}const h=vu(8&n?"class":c,r,gu(i),e);if(-1===h){if(Vr(n))return!1;s=!0;continue}if(""!==l){let p;p=h>o?"":r[h+1].toLowerCase();const g=8&n?p:null;if(g&&-1!==ko(g,l,0)||2&n&&l!==p){if(Vr(n))return!1;s=!0}}}}else{if(!s&&!Vr(n)&&!Vr(c))return!1;if(s&&Vr(c))continue;s=!1,n=c|1&n}}return Vr(n)||s}function Vr(i){return 0==(1&i)}function vu(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===i)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function gm(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function bu(i,t,e=!1){for(let n=0;n<t.length;n++)if(fm(i,t[n],e))return!0;return!1}function id(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function nd(i,t){return i?":not("+t.trim()+")":t}function _m(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let s=i[e];if("string"==typeof s)if(2&n){const a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+s:4&n&&(r+=" "+s);else""!==r&&!Vr(s)&&(t+=nd(o,r),r=""),n=s,o=o||!Vr(n);e++}return""!==r&&(t+=nd(o,r)),t}function ct(i){return lo(()=>{const t=Cu(i),e={...t,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ca.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Eo.Emulated,styles:i.styles||ei,_:null,schemas:i.schemas||null,tView:null,id:""};bm(e);const n=i.dependencies;return e.directiveDefs=Zc(n,!1),e.pipeDefs=Zc(n,!0),e.id=function wm(i){let t=0;const e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function wu(i){return li(i)||Yn(i)}function Ff(i){return null!==i}function Re(i){return lo(()=>({type:i.type,bootstrap:i.bootstrap||ei,declarations:i.declarations||ei,imports:i.imports||ei,exports:i.exports||ei,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function xu(i,t){if(null==i)return jo;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}function ne(i){return lo(()=>{const t=Cu(i);return bm(t),t})}function mr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function li(i){return i[mu]||null}function Yn(i){return i[za]||null}function Yr(i){return i[mm]||null}function To(i,t){const e=i[Xl]||null;if(!e&&!0===t)throw new Error(`Type ${Bi(i)} does not have '\u0275mod' property.`);return e}function Cu(i){const t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||jo,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ei,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xu(i.inputs,t),outputs:xu(i.outputs)}}function bm(i){i.features?.forEach(t=>t(i))}function Zc(i,t){if(!i)return null;const e=t?Yr:wu;return()=>("function"==typeof i?i():i).map(n=>e(n)).filter(Ff)}const vn=0,Be=1,Vt=2,$i=3,ls=4,od=5,Nn=6,Kc=7,Fn=8,Hs=9,Qc=10,Dt=11,sd=12,Eu=13,Xc=14,bn=15,Jc=16,da=17,Us=18,gc=19,Lf=20,ds=21,us=22,ad=23,el=24,Zt=25,ua=1,xm=2,js=7,tl=9,kr=11;function Do(i){return Array.isArray(i)&&"object"==typeof i[ua]}function uo(i){return Array.isArray(i)&&!0===i[ua]}function hs(i){return 0!=(4&i.flags)}function Ua(i){return i.componentOffset>-1}function Tu(i){return 1==(1&i.flags)}function Ws(i){return!!i.template}function Vf(i){return 0!=(512&i[Vt])}function E(i,t){return i.hasOwnProperty(zs)?i[zs]:null}let _t=null,Nt=!1;function bi(i){const t=_t;return _t=i,t}const Qi={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hf(i){if(!rl(i)||i.dirty){if(!i.producerMustRecompute(i)&&!EC(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function CC(i){i.dirty=!0,function xC(i){if(void 0===i.liveConsumerNode)return;const t=Nt;Nt=!0;try{for(const e of i.liveConsumerNode)e.dirty||CC(e)}finally{Nt=t}}(i),i.consumerMarkedDirty?.(i)}function hb(i){return i&&(i.nextProducerIndex=0),bi(i)}function Uf(i,t){if(bi(t),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(rl(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)nl(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function EC(i){Su(i);for(let t=0;t<i.producerNode.length;t++){const e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(Hf(e),n!==e.version))return!0}return!1}function Tm(i){if(Su(i),rl(i))for(let t=0;t<i.producerNode.length;t++)nl(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function nl(i,t){if(function jf(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Su(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)nl(i.producerNode[n],i.producerIndexOfThis[n]);const e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];Su(r),r.producerIndexOfThis[n]=t}}function rl(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Su(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let DC=null;const MC=()=>{},IM=(()=>({...Qi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:MC}))();class SM{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Xi(){return AC}function AC(i){return i.type.prototype.ngOnChanges&&(i.setInput=AM),MM}function MM(){const i=RC(this),t=i?.current;if(t){const e=i.previous;if(e===jo)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function AM(i,t,e,n){const r=this.declaredInputs[e],o=RC(i)||function gb(i,t){return i[$f]=t}(i,{previous:jo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new SM(c&&c.currentValue,t,a===jo),i[n]=t}Xi.ngInherit=!0;const $f="__ngSimpleChanges__";function RC(i){return i[$f]||null}const ja=function(i,t,e){},Gf="svg";function Gi(i){for(;Array.isArray(i);)i=i[vn];return i}function Au(i,t){return Gi(t[i])}function Br(i,t){return Gi(t[i.index])}function qf(i,t){return i.data[t]}function ps(i,t){const e=t[i];return Do(e)?e:e[vn]}function ol(i,t){return null==t?null:i[t]}function OC(i){i[da]=0}function wb(i){1024&i[Vt]||(i[Vt]|=1024,Yf(i,1))}function NC(i){1024&i[Vt]&&(i[Vt]&=-1025,Yf(i,-1))}function Yf(i,t){let e=i[$i];if(null===e)return;e[od]+=t;let n=e;for(e=e[$i];null!==e&&(1===t&&1===n[od]||-1===t&&0===n[od]);)e[od]+=t,n=e,e=e[$i]}const It={lFrame:UC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kf(){return It.bindingsEnabled}function sl(){return null!==It.skipHydrationRootTNode}function Ee(){return It.lFrame.lView}function gi(){return It.lFrame.tView}function fs(i){return It.lFrame.contextLView=i,i[Fn]}function gs(i){return It.lFrame.contextLView=null,i}function Tr(){let i=zC();for(;null!==i&&64===i.type;)i=i.parent;return i}function zC(){return It.lFrame.currentTNode}function $s(i,t){const e=It.lFrame;e.currentTNode=i,e.isParent=t}function kb(){return It.lFrame.isParent}function Mm(){It.lFrame.isParent=!1}function Zr(){const i=It.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function ud(){return It.lFrame.bindingIndex++}function Sb(i,t){const e=It.lFrame;e.bindingIndex=e.bindingRootIndex=i,Mb(t)}function Mb(i){It.lFrame.currentDirectiveIndex=i}function Ab(i){const t=It.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function Xf(){return It.lFrame.currentQueryIndex}function Rb(i){It.lFrame.currentQueryIndex=i}function BM(i){const t=i[Be];return 2===t.type?t.declTNode:1===t.type?i[Nn]:null}function Pb(i,t,e){if(e&ci.SkipSelf){let r=t,o=i;for(;!(r=r.parent,null!==r||e&ci.Host||(r=BM(o),null===r||(o=o[Xc],10&r.type))););if(null===r)return!1;t=r,i=o}const n=It.lFrame=Am();return n.currentTNode=t,n.lView=i,!0}function Ob(i){const t=Am(),e=i[Be];It.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Am(){const i=It.lFrame,t=null===i?null:i.child;return null===t?UC(i):t}function UC(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function jC(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const WC=jC;function Nb(){const i=jC();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Io(){return It.lFrame.selectedIndex}function hd(i){It.lFrame.selectedIndex=i}function yn(){const i=It.lFrame;return qf(i.tView,i.selectedIndex)}function $a(){It.lFrame.currentNamespace=Gf}function md(){!function jM(){It.lFrame.currentNamespace=null}()}let Fb=!0;function Jf(){return Fb}function al(i){Fb=i}function eg(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),c&&(i.viewHooks??=[]).push(-e,c),l&&((i.viewHooks??=[]).push(e,l),(i.viewCheckHooks??=[]).push(e,l)),null!=d&&(i.destroyHooks??=[]).push(e,d)}}function tg(i,t,e){GC(i,t,3,e)}function Pu(i,t,e,n){(3&i[Vt])===e&&GC(i,t,e,n)}function Rm(i,t){let e=i[Vt];(3&e)===t&&(e&=8191,e+=1,i[Vt]=e)}function GC(i,t,e,n){const o=n??-1,s=t.length-1;let a=0;for(let c=void 0!==n?65535&i[da]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=n&&a>=n)break}else t[c]<0&&(i[da]+=65536),(a<o||-1==o)&&($M(i,e,t,c),i[da]=(4294901760&i[da])+c+2),c++}function ig(i,t){ja(4,i,t);const e=bi(null);try{t.call(i)}finally{bi(e),ja(5,i,t)}}function $M(i,t,e,n){const r=e[n]<0,o=e[n+1],a=i[r?-e[n]:e[n]];r?i[Vt]>>13<i[da]>>16&&(3&i[Vt])===t&&(i[Vt]+=8192,ig(a,o)):ig(a,o)}const pd=-1;class Pm{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Vb(i){return i!==pd}function Om(i){return 32767&i}function Nm(i,t){let e=function YM(i){return i>>16}(i),n=t;for(;e>0;)n=n[Xc],e--;return n}let Bb=!0;function Fm(i){const t=Bb;return Bb=i,t}const ZM=255,cl=5;let KM=0;const Ga={};function rg(i,t){const e=KC(i,t);if(-1!==e)return e;const n=t[Be];n.firstCreatePass&&(i.injectorIndex=t.length,Lm(n.data,i),Lm(t,null),Lm(n.blueprint,null));const r=og(i,t),o=i.injectorIndex;if(Vb(r)){const s=Om(r),a=Nm(r,t),c=a[Be].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Lm(i,t){i.push(0,0,0,0,0,0,0,0,t)}function KC(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function og(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=iE(r),null===n)return pd;if(e++,r=r[Xc],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return pd}function Vm(i,t,e){!function zb(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(qc)&&(n=e[qc]),null==n&&(n=e[qc]=KM++);const r=n&ZM;t.data[i+(r>>cl)]|=1<<r}(i,t,e)}function QC(i,t,e){if(e&ci.Optional||void 0!==i)return i;$l()}function sg(i,t,e,n){if(e&ci.Optional&&void 0===n&&(n=null),!(e&(ci.Self|ci.Host))){const r=i[Hs],o=Fr(void 0);try{return r?r.get(t,n,e&ci.Optional):If(t,n,e&ci.Optional)}finally{Fr(o)}}return QC(n,0,e)}function XC(i,t,e,n=ci.Default,r){if(null!==i){if(2048&t[Vt]&&!(n&ci.Self)){const s=function e1(i,t,e,n,r){let o=i,s=t;for(;null!==o&&null!==s&&2048&s[Vt]&&!(512&s[Vt]);){const a=JC(o,s,e,n|ci.Self,Ga);if(a!==Ga)return a;let c=o.parent;if(!c){const l=s[Lf];if(l){const d=l.get(e,Ga,n);if(d!==Ga)return d}c=iE(s),s=s[Xc]}o=c}return r}(i,t,e,n,Ga);if(s!==Ga)return s}const o=JC(i,t,e,n,Ga);if(o!==Ga)return o}return sg(t,e,n,r)}function JC(i,t,e,n,r){const o=function eE(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(qc)?i[qc]:void 0;return"number"==typeof t?t>=0?t&ZM:JM:t}(e);if("function"==typeof o){if(!Pb(t,i,n))return n&ci.Host?QC(r,0,n):sg(t,e,n,r);try{let s;if(s=o(n),null!=s||n&ci.Optional)return s;$l()}finally{WC()}}else if("number"==typeof o){let s=null,a=KC(i,t),c=pd,l=n&ci.Host?t[bn][Nn]:null;for((-1===a||n&ci.SkipSelf)&&(c=-1===a?og(i,t):t[a+8],c!==pd&&tE(n,!1)?(s=t[Be],a=Om(c),t=Nm(c,t)):a=-1);-1!==a;){const d=t[Be];if(cg(o,a,d.data)){const h=XM(a,t,e,s,n,l);if(h!==Ga)return h}c=t[a+8],c!==pd&&tE(n,t[Be].data[a+8]===l)&&cg(o,a,t)?(s=d,a=Om(c),t=Nm(c,t)):a=-1}}return r}function XM(i,t,e,n,r,o){const s=t[Be],a=s.data[i+8],d=ag(a,s,e,null==n?Ua(a)&&Bb:n!=s&&0!=(3&a.type),r&ci.Host&&o===a);return null!==d?fd(t,s,d,a):Ga}function ag(i,t,e,n,r){const o=i.providerIndexes,s=t.data,a=1048575&o,c=i.directiveStart,d=o>>20,p=r?a+d:i.directiveEnd;for(let g=n?a:a+d;g<p;g++){const b=s[g];if(g<c&&e===b||g>=c&&b.type===e)return g}if(r){const g=s[c];if(g&&Ws(g)&&g.type===e)return c}return null}function fd(i,t,e,n){let r=i[e];const o=t.data;if(function Lb(i){return i instanceof Pm}(r)){const s=r;s.resolving&&function Uo(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new X(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Jt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():it(i)}(o[e]));const a=Fm(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Fr(s.injectImpl):null;Pb(i,n,ci.Default);try{r=i[e]=s.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&function WM(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){const s=AC(t);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}(e,o[e],t)}finally{null!==l&&Fr(l),Fm(a),s.resolving=!1,WC()}}return r}function cg(i,t,e){return!!(e[t+(i>>cl)]&1<<i)}function tE(i,t){return!(i&ci.Self||i&ci.Host&&t)}class Kr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return XC(this._tNode,this._lView,t,Ql(n),e)}}function JM(){return new Kr(Tr(),Ee())}function St(i){return lo(()=>{const t=i.prototype.constructor,e=t[zs]||Ou(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const o=r[zs]||Ou(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ou(i){return ke(i)?()=>{const t=Ou($(i));return t&&t()}:E(i)}function iE(i){const t=i[Be],e=t.type;return 2===e?t.declTNode:1===e?i[Nn]:null}function So(i){return function QM(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(Of(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Tr(),i)}const Nu="__parameters__";function qa(i,t,e){return lo(()=>{const n=function Ub(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(Nu)?c[Nu]:Object.defineProperty(c,Nu,{value:[]})[Nu];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function Lu(i,t){i.forEach(e=>Array.isArray(e)?Lu(e,t):t(e))}function lg(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Vu(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Hm(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function vs(i,t,e){let n=Bu(i,t);return n>=0?i[1|n]=e:(n=~n,function dl(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function jb(i,t){const e=Bu(i,t);if(e>=0)return i[1|e]}function Bu(i,t){return function Mo(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const o=n+(r-n>>1),s=i[o<<e];if(t===s)return o<<e;s>t?r=o:n=o+1}return~(r<<e)}(i,t,1)}const Wo=Lr(qa("Optional"),8),ha=Lr(qa("SkipSelf"),4);function fE(i){return 128==(128&i.flags)}var Hu=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Hu||{});const vne=/^>|^->|<!--|-->|--!>|<!-$/g,bne=/(<|>)/g,yne="\u200b$1\u200b";const m1=new Map;let wne=0;const f1="__ngContext__";function $o(i,t){Do(t)?(i[f1]=t[gc],function Cne(i){m1.set(i[gc],i)}(t)):i[f1]=t}let g1;function _1(i,t){return g1(i,t)}function Kb(i){const t=i[$i];return uo(t)?t[$i]:t}function K3(i){return X3(i[sd])}function Q3(i){return X3(i[ls])}function X3(i){for(;null!==i&&!uo(i);)i=i[ls];return i}function fg(i,t,e,n,r){if(null!=n){let o,s=!1;uo(n)?o=n:Do(n)&&(s=!0,n=n[vn]);const a=Gi(n);0===i&&null!==e?null==r?n4(t,e,a):Wm(t,e,a,r||null,!0):1===i&&null!==e?Wm(t,e,a,r||null,!0):2===i?function xE(i,t,e){const n=yE(i,t);n&&function Une(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,a,s):3===i&&t.destroyNode(a),null!=o&&function $ne(i,t,e,n,r){const o=e[js];o!==Gi(e)&&fg(t,i,n,o,r);for(let a=kr;a<e.length;a++){const c=e[a];Xb(c[Be],c,i,t,n,o)}}(t,i,o,e,r)}}function v1(i,t){return i.createComment(function U3(i){return i.replace(vne,t=>t.replace(bne,yne))}(t))}function vE(i,t,e){return i.createElement(t,e)}function e4(i,t){const e=i[tl],n=e.indexOf(t);NC(t),e.splice(n,1)}function bE(i,t){if(i.length<=kr)return;const e=kr+t,n=i[e];if(n){const r=n[Jc];null!==r&&r!==i&&e4(r,n),t>0&&(i[e-1][ls]=n[ls]);const o=Vu(i,kr+t);!function One(i,t){Xb(i,t,t[Dt],2,null,null),t[vn]=null,t[Nn]=null}(n[Be],n);const s=o[Us];null!==s&&s.detachView(o[Be]),n[$i]=null,n[ls]=null,n[Vt]&=-129}return n}function b1(i,t){if(!(256&t[Vt])){const e=t[Dt];t[ad]&&Tm(t[ad]),t[el]&&Tm(t[el]),e.destroyNode&&Xb(i,t,e,3,null,null),function Lne(i){let t=i[sd];if(!t)return y1(i[Be],i);for(;t;){let e=null;if(Do(t))e=t[sd];else{const n=t[kr];n&&(e=n)}if(!e){for(;t&&!t[ls]&&t!==i;)Do(t)&&y1(t[Be],t),t=t[$i];null===t&&(t=i),Do(t)&&y1(t[Be],t),e=t&&t[ls]}t=e}}(t)}}function y1(i,t){if(!(256&t[Vt])){t[Vt]&=-129,t[Vt]|=256,function Hne(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof Pm)){const o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];ja(4,a,c);try{c.call(a)}finally{ja(5,a,c)}}else{ja(4,r,o);try{o.call(r)}finally{ja(5,r,o)}}}}}(i,t),function zne(i,t){const e=i.cleanup,n=t[Kc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else e[o].call(n[e[o+1]]);null!==n&&(t[Kc]=null);const r=t[ds];if(null!==r){t[ds]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(i,t),1===t[Be].type&&t[Dt].destroy();const e=t[Jc];if(null!==e&&uo(t[$i])){e!==t[$i]&&e4(e,t);const n=t[Us];null!==n&&n.detachView(i)}!function Ene(i){m1.delete(i[gc])}(t)}}function w1(i,t,e){return function t4(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[vn];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=i.data[n.directiveStart+r];if(o===Eo.None||o===Eo.Emulated)return null}return Br(n,e)}}(i,t.parent,e)}function Wm(i,t,e,n,r){i.insertBefore(t,e,n,r)}function n4(i,t,e){i.appendChild(t,e)}function r4(i,t,e,n,r){null!==n?Wm(i,t,e,n,r):n4(i,t,e)}function yE(i,t){return i.parentNode(t)}function o4(i,t,e){return a4(i,t,e)}let x1,CE,T1,EE,a4=function s4(i,t,e){return 40&i.type?Br(i,e):null};function wE(i,t,e,n){const r=w1(i,n,t),o=t[Dt],a=o4(n.parent||t[Nn],n,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)r4(o,r,e[c],a,!1);else r4(o,r,e,a,!1);void 0!==x1&&x1(o,n,t,e,r)}function Qb(i,t){if(null!==t){const e=t.type;if(3&e)return Br(t,i);if(4&e)return C1(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Qb(i,n);{const r=i[t.index];return uo(r)?C1(-1,r):Gi(r)}}if(32&e)return _1(t,i)()||Gi(i[t.index]);{const n=l4(i,t);return null!==n?Array.isArray(n)?n[0]:Qb(Kb(i[bn]),n):Qb(i,t.next)}}return null}function l4(i,t){return null!==t?i[bn][Nn].projection[t.projection]:null}function C1(i,t){const e=kr+i+1;if(e<t.length){const n=t[e],r=n[Be].firstChild;if(null!==r)return Qb(n,r)}return t[js]}function E1(i,t,e,n,r,o,s){for(;null!=e;){const a=n[e.index],c=e.type;if(s&&0===t&&(a&&$o(Gi(a),n),e.flags|=2),32!=(32&e.flags))if(8&c)E1(i,t,e.child,n,r,o,!1),fg(t,i,r,a,o);else if(32&c){const l=_1(e,n);let d;for(;d=l();)fg(t,i,r,d,o);fg(t,i,r,a,o)}else 16&c?u4(i,t,n,e,r,o):fg(t,i,r,a,o);e=s?e.projectionNext:e.next}}function Xb(i,t,e,n,r,o){E1(e,n,i.firstChild,t,r,o,!1)}function u4(i,t,e,n,r,o){const s=e[bn],c=s[Nn].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)fg(t,i,r,c[l],o);else{let l=c;const d=s[$i];fE(n)&&(l.flags|=128),E1(i,t,l,d,r,o,!0)}}function h4(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function m4(i,t,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&fu(i,t,n),null!==r&&h4(i,t,r),null!==o&&function qne(i,t,e){i.setAttribute(t,"style",e)}(i,t,o)}function gg(i){return function k1(){if(void 0===CE&&(CE=null,Pi.trustedTypes))try{CE=Pi.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return CE}()?.createHTML(i)||i}function g4(i){return function D1(){if(void 0===EE&&(EE=null,Pi.trustedTypes))try{EE=Pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return EE}()?.createScriptURL(i)||i}class $m{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ai})`}}class Xne extends $m{getTypeName(){return"HTML"}}class Jne extends $m{getTypeName(){return"Style"}}class ere extends $m{getTypeName(){return"Script"}}class tre extends $m{getTypeName(){return"URL"}}class ire extends $m{getTypeName(){return"ResourceURL"}}function pa(i){return i instanceof $m?i.changingThisBreaksApplicationSecurity:i}function ul(i,t){const e=function nre(i){return i instanceof $m&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ai})`)}return e===t}class lre{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(gg(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class dre{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=gg(t),e}}const hre=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kE(i){return(i=String(i)).match(hre)?i:"unsafe:"+i}function _d(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Jb(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const v4=_d("area,br,col,hr,img,wbr"),b4=_d("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y4=_d("rp,rt"),I1=Jb(v4,Jb(b4,_d("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jb(y4,_d("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jb(y4,b4)),S1=_d("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),w4=Jb(S1,_d("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_d("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mre=_d("script,style,template");class pre{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!I1.hasOwnProperty(e))return this.sanitizedSomething=!0,!mre.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),s=o.name,a=s.toLowerCase();if(!w4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;S1[a]&&(c=kE(c)),this.buf.push(" ",s,'="',x4(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();I1.hasOwnProperty(e)&&!v4.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(x4(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fre=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gre=/([^\#-~ |!])/g;function x4(i){return i.replace(/&/g,"&amp;").replace(fre,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gre,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let TE;function C4(i,t){let e=null;try{TE=TE||function _4(i){const t=new dre(i);return function ure(){try{return!!(new window.DOMParser).parseFromString(gg(""),"text/html")}catch{return!1}}()?new lre(t):t}(i);let n=t?String(t):"";e=TE.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=TE.getInertBodyElement(n)}while(n!==o);return gg((new pre).sanitizeChildren(M1(e)||e))}finally{if(e){const n=M1(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function M1(i){return"content"in i&&function _re(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ao=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Ao||{});function E4(i){const t=ey();return t?t.sanitize(Ao.URL,i)||"":ul(i,"URL")?pa(i):kE(it(i))}function k4(i){const t=ey();if(t)return g4(t.sanitize(Ao.RESOURCE_URL,i)||"");if(ul(i,"ResourceURL"))return g4(pa(i));throw new X(904,!1)}function ey(){const i=Ee();return i&&i[Qc].sanitizer}const ty=new Y("ENVIRONMENT_INITIALIZER"),D4=new Y("INJECTOR",-1),I4=new Y("INJECTOR_DEF_TYPES");class A1{get(t,e=hr){if(e===hr){const n=new Error(`NullInjectorError: No provider for ${Bi(t)}!`);throw n.name="NullInjectorError",n}return e}}function Ere(...i){return{\u0275providers:S4(0,i),\u0275fromNgModule:!0}}function S4(i,...t){const e=[],n=new Set;let r;const o=s=>{e.push(s)};return Lu(t,s=>{const a=s;DE(a,o,[],n)&&(r||=[],r.push(a))}),void 0!==r&&M4(r,o),e}function M4(i,t){for(let e=0;e<i.length;e++){const{ngModule:n,providers:r}=i[e];P1(r,o=>{t(o,n)})}}function DE(i,t,e,n){if(!(i=$(i)))return!1;let r=null,o=Vs(i);const s=!o&&li(i);if(o||s){if(s&&!s.standalone)return!1;r=i}else{const c=i.ngModule;if(o=Vs(c),!o)return!1;r=c}const a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)DE(l,t,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;n.add(r);try{Lu(o.imports,d=>{DE(d,t,e,n)&&(l||=[],l.push(d))})}finally{}void 0!==l&&M4(l,t)}if(!a){const l=E(r)||(()=>new r);t({provide:r,useFactory:l,deps:ei},r),t({provide:I4,useValue:r,multi:!0},r),t({provide:ty,useValue:()=>W(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=i;P1(c,d=>{t(d,l)})}}}return r!==i&&void 0!==i.providers}function P1(i,t){for(let e of i)tt(e)&&(e=e.\u0275providers),Array.isArray(e)?P1(e,t):t(e)}const kre=Je({provide:String,useValue:Je});function O1(i){return null!==i&&"object"==typeof i&&kre in i}function Gm(i){return"function"==typeof i}const N1=new Y("Set Injector scope."),IE={},Dre={};let F1;function SE(){return void 0===F1&&(F1=new A1),F1}class fa{}class vg extends fa{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,V1(t,s=>this.processProvider(s)),this.records.set(D4,bg(void 0,this)),r.has("environment")&&this.records.set(fa,bg(void 0,this));const o=this.records.get(N1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(I4.multi,ei,ci.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Bs(this),n=Fr(void 0);try{return t()}finally{Bs(e),Fr(n)}}get(t,e=hr,n=ci.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(pu))return t[pu](this);n=Ql(n);const o=Bs(this),s=Fr(void 0);try{if(!(n&ci.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function Rre(i){return"function"==typeof i||"object"==typeof i&&i instanceof Y}(t)&&Wc(t);c=l&&this.injectableDefInScope(l)?bg(L1(t),IE):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(n&ci.Self?SE():this.parent).get(t,e=n&ci.Optional&&e===hr?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Kl]=a[Kl]||[]).unshift(Bi(t)),o)throw a;return function hu(i,t,e,n){const r=i[Kl];throw t[Pf]&&r.unshift(t[Pf]),i.message=function Co(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=Bi(t);if(Array.isArray(t))r=t.map(Bi).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Bi(a)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(cb,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[Kl]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{Fr(s),Bs(o)}}resolveInjectorInitializers(){const t=Bs(this),e=Fr(void 0);try{const r=this.get(ty.multi,ei,ci.Self);for(const o of r)o()}finally{Bs(t),Fr(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Bi(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(t){let e=Gm(t=$(t))?t:$(t&&t.provide);const n=function Sre(i){return O1(i)?bg(void 0,i.useValue):bg(P4(i),IE)}(t);if(Gm(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=bg(void 0,IE,!0),r.factory=()=>hm(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===IE&&(e.value=Dre,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Are(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=$(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function L1(i){const t=Wc(i),e=null!==t?t.factory:E(i);if(null!==e)return e;if(i instanceof Y)throw new X(204,!1);if(i instanceof Function)return function Ire(i){const t=i.length;if(t>0)throw Hm(t,"?"),new X(204,!1);const e=function ab(i){return i&&(i[Gl]||i[Tf])||null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new X(204,!1)}function P4(i,t,e){let n;if(Gm(i)){const r=$(i);return E(r)||L1(r)}if(O1(i))n=()=>$(i.useValue);else if(function R4(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...hm(i.deps||[]));else if(function A4(i){return!(!i||!i.useExisting)}(i))n=()=>W($(i.useExisting));else{const r=$(i&&(i.useClass||i.provide));if(!function Mre(i){return!!i.deps}(i))return E(r)||L1(r);n=()=>new r(...hm(i.deps))}return n}function bg(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function V1(i,t){for(const e of i)Array.isArray(e)?V1(e,t):e&&tt(e)?V1(e.\u0275providers,t):t(e)}const ME=new Y("AppId",{providedIn:"root",factory:()=>Pre}),Pre="ng",O4=new Y("Platform Initializer"),Ya=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ro=new Y("AnimationModuleType"),B1=new Y("CSP nonce",{providedIn:"root",factory:()=>function _g(){if(void 0!==T1)return T1;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let N4=(i,t,e)=>null;function q1(i,t,e=!1){return N4(i,t,e)}class jre{}class V4{}class $re{resolveComponentFactory(t){throw function Wre(i){const t=Error(`No component factory found for ${Bi(i)}.`);return t.ngComponent=i,t}(t)}}let xg=(()=>{class i{static#e=this.NULL=new $re}return i})();function Gre(){return Cg(Tr(),Ee())}function Cg(i,t){return new rt(Br(i,t))}let rt=(()=>{class i{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Gre}return i})();function qre(i){return i instanceof rt?i.nativeElement:i}class ry{}let vd=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Yre(){const i=Ee(),e=ps(Tr().index,i);return(Do(e)?e:i)[Dt]}()}return i})(),Zre=(()=>{class i{static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>null})}return i})();class Uu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const z4=new Uu("16.2.12"),K1={};function W4(i,t=null,e=null,n){const r=$4(i,t,e,n);return r.resolveInjectorInitializers(),r}function $4(i,t=null,e=null,n,r=new Set){const o=[e||ei,Ere(i)];return n=n||("object"==typeof i?void 0:Bi(i)),new vg(o,t||SE(),n||null,r)}let zr=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=hr;static#t=this.NULL=new A1;static create(e,n){if(Array.isArray(e))return W4({name:""},n,e,"");{const r=e.name??"";return W4({name:r},e.parent,e.providers,r)}}static#i=this.\u0275prov=Ce({token:i,providedIn:"any",factory:()=>W(D4)});static#n=this.__NG_ELEMENT_ID__=-1}return i})();function X1(i){return i.ngOriginalError}class Za{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&X1(t);for(;e&&X1(e);)e=X1(e);return e||null}}function eA(i){return t=>{setTimeout(i,void 0,t)}}const ze=class ioe extends q{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),s=n;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=eA(o),r&&(r=eA(r)),s&&(s=eA(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof wt&&t.add(a),a}};function q4(...i){}class Ke{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function noe(){const i="function"==typeof Pi.requestAnimationFrame;let t=Pi[i?"requestAnimationFrame":"setTimeout"],e=Pi[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function soe(i){const t=()=>{!function ooe(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Pi,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,iA(i),i.isCheckStableRunning=!0,tA(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),iA(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,a)=>{if(function coe(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return Y4(i),e.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&t(),Z4(i)}},onInvoke:(e,n,r,o,s,a,c)=>{try{return Y4(i),e.invoke(r,o,s,a,c)}finally{i.shouldCoalesceRunChangeDetection&&t(),Z4(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,iA(i),tA(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new X(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,roe,q4,q4);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const roe={};function tA(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function iA(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Y4(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Z4(i){i._nesting--,tA(i)}class aoe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const K4=new Y("",{providedIn:"root",factory:Q4});function Q4(){const i=Ie(Ke);let t=!0;return ee(new zt(r=>{t=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(t),r.complete()})}),new zt(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=i.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),t&&(t=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(xt()))}function bd(i){return i instanceof Function?i():i}let nA=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>new i})}return i})();function oy(i){for(;i;){i[Vt]|=64;const t=Kb(i);if(Vf(i)&&!t)return i;i=t}return null}const iz=new Y("",{providedIn:"root",factory:()=>!1});let LE=null;function sz(i,t){return i[t]??lz()}function az(i,t){const e=lz();e.producerNode?.length&&(i[t]=LE,e.lView=i,LE=cz())}const voe={...Qi,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{oy(i.lView)},lView:null};function cz(){return Object.create(voe)}function lz(){return LE??=cz(),LE}const $t={};function re(i){dz(gi(),Ee(),Io()+i,!1)}function dz(i,t,e,n){if(!n)if(3==(3&t[Vt])){const o=i.preOrderCheckHooks;null!==o&&tg(t,o,e)}else{const o=i.preOrderHooks;null!==o&&Pu(t,o,0,e)}hd(e)}function T(i,t=ci.Default){const e=Ee();return null===e?W(i,t):XC(Tr(),e,$(i),t)}function ju(){throw new Error("invalid")}function VE(i,t,e,n,r,o,s,a,c,l,d){const h=t.blueprint.slice();return h[vn]=r,h[Vt]=140|n,(null!==l||i&&2048&i[Vt])&&(h[Vt]|=2048),OC(h),h[$i]=h[Xc]=i,h[Fn]=e,h[Qc]=s||i&&i[Qc],h[Dt]=a||i&&i[Dt],h[Hs]=c||i&&i[Hs]||null,h[Nn]=o,h[gc]=function xne(){return wne++}(),h[us]=d,h[Lf]=l,h[bn]=2==t.type?i[bn]:h,h}function Tg(i,t,e,n,r){let o=i.data[t];if(null===o)o=function rA(i,t,e,n,r){const o=zC(),s=kb(),c=i.data[t]=function Toe(i,t,e,n,r,o){let s=t?t.injectorIndex:-1,a=0;return sl()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(i,t,e,n,r),function LM(){return It.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const s=function Sm(){const i=It.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return $s(o,!0),o}function sy(i,t,e,n){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function uz(i,t,e,n,r){const o=sz(t,ad),s=Io(),a=2&n;try{hd(-1),a&&t.length>Zt&&dz(i,t,Zt,!1),ja(a?2:0,r);const l=a?o:null,d=hb(l);try{null!==l&&(l.dirty=!1),e(n,r)}finally{Uf(l,d)}}finally{a&&null===t[ad]&&az(t,ad),hd(s),ja(a?3:1,r)}}function oA(i,t,e){if(hs(t)){const n=bi(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=i.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{bi(n)}}}function sA(i,t,e){Kf()&&(function Poe(i,t,e,n){const r=e.directiveStart,o=e.directiveEnd;Ua(e)&&function zoe(i,t,e){const n=Br(t,i),r=hz(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=BE(i,VE(i,r,null,s,n,t,null,i[Qc].rendererFactory.createRenderer(n,e),null,null,null));i[t.index]=a}(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||rg(e,t),$o(n,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=i.data[a],l=fd(t,i,a,e);$o(l,t),null!==s&&Hoe(0,a-r,l,c,0,s),Ws(c)&&(ps(e.index,t)[Fn]=fd(t,i,a,e))}}(i,t,e,Br(e,t)),64==(64&e.flags)&&_z(i,t,e))}function aA(i,t,e=Br){const n=t.localNames;if(null!==n){let r=t.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?e(t,i):i[s];i[r++]=a}}}function hz(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=cA(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function cA(i,t,e,n,r,o,s,a,c,l,d){const h=Zt+n,p=h+r,g=function yoe(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:$t);return e}(h,p),b="function"==typeof l?l():l;return g[Be]={type:i,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}let mz=i=>null;function pz(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=null===e?{}:e;const o=i[r];null===n?fz(e,t,r,o):n.hasOwnProperty(r)&&fz(e,t,n[r],o)}return e}function fz(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function ga(i,t,e,n,r,o,s,a){const c=Br(t,e);let d,l=t.inputs;!a&&null!=l&&(d=l[n])?(mA(i,e,d,n,r),Ua(t)&&function Soe(i,t){const e=ps(t,i);16&e[Vt]||(e[Vt]|=64)}(e,t.index)):3&t.type&&(n=function Ioe(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=s?s(r,t.value||"",n):r,o.setProperty(c,n,r))}function lA(i,t,e,n){if(Kf()){const r=null===n?null:{"":-1},o=function Noe(i,t){const e=i.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(bu(t,s.selectors,!1))if(n||(n=[]),Ws(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s),dA(i,t,a.length)}else n.unshift(s),dA(i,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return null===n?null:[n,r]}(i,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&gz(i,t,e,s,r,a),r&&function Foe(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new X(-301,!1);n.push(t[r],o)}}}(e,n,r)}e.mergedAttrs=la(e.mergedAttrs,e.attrs)}function gz(i,t,e,n,r,o){for(let l=0;l<n.length;l++)Vm(rg(e,t),i,n[l].type);!function Voe(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}(e,i.data.length,n.length);for(let l=0;l<n.length;l++){const d=n[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=sy(i,t,n.length,null);for(let l=0;l<n.length;l++){const d=n[l];e.mergedAttrs=la(e.mergedAttrs,d.hostAttrs),Boe(i,e,t,c,d),Loe(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function Doe(i,t,e){const r=t.directiveEnd,o=i.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<r;d++){const h=o[d],p=e?e.get(h):null,b=p?p.outputs:null;c=pz(h.inputs,d,c,p?p.inputs:null),l=pz(h.outputs,d,l,b);const w=null===c||null===s||gu(t)?null:Uoe(c,d,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(i,e,o)}function _z(i,t,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,s=function VM(){return It.lFrame.currentDirectiveIndex}();try{hd(o);for(let a=n;a<r;a++){const c=i.data[a],l=t[a];Mb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Ooe(c,l)}}finally{hd(-1),Mb(s)}}function Ooe(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function dA(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function Loe(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Ws(t)&&(e[""]=i)}}function Boe(i,t,e,n,r){i.data[n]=r;const o=r.factory||(r.factory=E(r.type)),s=new Pm(o,Ws(r),T);i.blueprint[n]=s,e[n]=s,function Aoe(i,t,e,n,r){const o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;null===s&&(s=i.hostBindingOpCodes=[]);const a=~t.index;(function Roe(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,n,o)}}(i,t,n,sy(i,e,r.hostVars,$t),r)}function hl(i,t,e,n,r,o){const s=Br(i,t);!function uA(i,t,e,n,r,o,s){if(null==o)i.removeAttribute(t,r,e);else{const a=null==s?it(o):s(o,n||"",r);i.setAttribute(t,r,a,e)}}(t[Dt],s,o,i.value,e,n,r)}function Hoe(i,t,e,n,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)vz(n,e,s[a++],s[a++],s[a++])}function vz(i,t,e,n,r){const o=bi(null);try{const s=i.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==i.setInput?i.setInput(t,r,e,n):t[n]=r}finally{bi(o)}}function Uoe(i,t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(i.hasOwnProperty(o)){null===n&&(n=[]);const s=i[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function bz(i,t,e,n){return[i,!0,!1,t,null,0,n,e,null,null,null]}function yz(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const o=e[n+1];if(-1!==o){const s=i.data[o];Rb(e[n]),s.contentQueries(2,t[o],o)}}}function BE(i,t){return i[sd]?i[Eu][ls]=t:i[sd]=t,i[Eu]=t,t}function hA(i,t,e){Rb(0);const n=bi(null);try{t(i,e)}finally{bi(n)}}function wz(i){return i[Kc]||(i[Kc]=[])}function xz(i){return i.cleanup||(i.cleanup=[])}function Cz(i,t,e){return(null===i||Ws(i))&&(e=function bb(i){for(;Array.isArray(i);){if("object"==typeof i[ua])return i;i=i[vn]}return null}(e[t.index])),e[Dt]}function Ez(i,t){const e=i[Hs],n=e?e.get(Za,null):null;n&&n.handleError(t)}function mA(i,t,e,n,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];vz(i.data[s],t[s],n,a,r)}}function joe(i,t){const e=ps(t,i),n=e[Be];!function Woe(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}(n,e);const r=e[vn];null!==r&&null===e[us]&&(e[us]=q1(r,e[Hs])),pA(n,e,e[Fn])}function pA(i,t,e){Ob(t);try{const n=i.viewQuery;null!==n&&hA(1,n,e);const r=i.template;null!==r&&uz(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&yz(i,t),i.staticViewQueries&&hA(2,i.viewQuery,e);const o=i.components;null!==o&&function $oe(i,t){for(let e=0;e<t.length;e++)joe(i,t[e])}(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[Vt]&=-5,Nb()}}let kz=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(e,n,r){const o=typeof Zone>"u"?null:Zone.current,s=function DM(i,t,e){const n=Object.create(IM);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;const r=s=>{n.cleanupFn=s};return n.ref={notify:()=>CC(n),run:()=>{if(n.dirty=!1,n.hasRun&&!EC(n))return;n.hasRun=!0;const s=hb(n);try{n.cleanupFn(),n.cleanupFn=MC,n.fn(r)}finally{Uf(n,s)}},cleanup:()=>n.cleanupFn()},n.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=n?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,n]of this.queue)this.queue.delete(e),n?n.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>new i})}return i})();function zE(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=as(r,a):2==o&&(n=as(n,a+": "+t[++s]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}function ay(i,t,e,n,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&n.push(Gi(o)),uo(o)&&Tz(o,n);const s=e.type;if(8&s)ay(i,t,e.child,n);else if(32&s){const a=_1(e,t);let c;for(;c=a();)n.push(c)}else if(16&s){const a=l4(t,e);if(Array.isArray(a))n.push(...a);else{const c=Kb(t[bn]);ay(c[Be],c,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function Tz(i,t){for(let e=kr;e<i.length;e++){const n=i[e],r=n[Be].firstChild;null!==r&&ay(n[Be],n,r,t)}i[js]!==i[vn]&&t.push(i[js])}function HE(i,t,e,n=!0){const r=t[Qc],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{Dz(i,t,i.template,e)}catch(c){throw n&&Ez(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function Dz(i,t,e,n){const r=t[Vt];if(256!=(256&r)){t[Qc].effectManager?.flush(),Ob(t);try{OC(t),function Db(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&uz(i,t,e,2,n);const s=3==(3&r);if(s){const l=i.preOrderCheckHooks;null!==l&&tg(t,l,null)}else{const l=i.preOrderHooks;null!==l&&Pu(t,l,0,null),Rm(t,0)}if(function Yoe(i){for(let t=K3(i);null!==t;t=Q3(t)){if(!t[xm])continue;const e=t[tl];for(let n=0;n<e.length;n++){wb(e[n])}}}(t),Iz(t,2),null!==i.contentQueries&&yz(i,t),s){const l=i.contentCheckHooks;null!==l&&tg(t,l)}else{const l=i.contentHooks;null!==l&&Pu(t,l,1),Rm(t,1)}!function boe(i,t){const e=i.hostBindingOpCodes;if(null===e)return;const n=sz(t,el);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)hd(~o);else{const s=o,a=e[++r],c=e[++r];Sb(a,s),n.dirty=!1;const l=hb(n);try{c(2,t[s])}finally{Uf(n,l)}}}}finally{null===t[el]&&az(t,el),hd(-1)}}(i,t);const a=i.components;null!==a&&Mz(t,a,0);const c=i.viewQuery;if(null!==c&&hA(2,c,n),s){const l=i.viewCheckHooks;null!==l&&tg(t,l)}else{const l=i.viewHooks;null!==l&&Pu(t,l,2),Rm(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[Vt]&=-73,NC(t)}finally{Nb()}}}function Iz(i,t){for(let e=K3(i);null!==e;e=Q3(e))for(let n=kr;n<e.length;n++)Sz(e[n],t)}function Zoe(i,t,e){Sz(ps(t,i),e)}function Sz(i,t){if(!function yb(i){return 128==(128&i[Vt])}(i))return;const e=i[Be],n=i[Vt];if(80&n&&0===t||1024&n||2===t)Dz(e,i,e.template,i[Fn]);else if(i[od]>0){Iz(i,1);const r=e.components;null!==r&&Mz(i,r,1)}}function Mz(i,t,e){for(let n=0;n<t.length;n++)Zoe(i,t[n],e)}class cy{get rootNodes(){const t=this._lView,e=t[Be];return ay(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(t){this._lView[Fn]=t}get destroyed(){return 256==(256&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[$i];if(uo(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(bE(t,n),Vu(e,n))}this._attachedToViewContainer=!1}b1(this._lView[Be],this._lView)}onDestroy(t){!function FC(i,t){if(256==(256&i[Vt]))throw new X(911,!1);null===i[ds]&&(i[ds]=[]),i[ds].push(t)}(this._lView,t)}markForCheck(){oy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-129}reattach(){this._lView[Vt]|=128}detectChanges(){HE(this._lView[Be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fne(i,t){Xb(i,t,t[Dt],2,null,null)}(this._lView[Be],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=t}}class Koe extends cy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;HE(t[Be],t,t[Fn],!1)}checkNoChanges(){}get context(){return null}}class Az extends xg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=li(t);return new ly(e,this.ngModule)}}function Rz(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class Xoe{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=Ql(n);const r=this.injector.get(t,K1,n);return r!==K1||e===K1?r:this.parentInjector.get(t,e,n)}}class ly extends V4{get inputs(){const t=this.componentDef,e=t.inputTransforms,n=Rz(t.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return Rz(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function yu(i){return i.map(_m).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let o=(r=r||this.ngModule)instanceof fa?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Xoe(t,o):t,a=s.get(ry,null);if(null===a)throw new X(407,!1);const h={rendererFactory:a,sanitizer:s.get(Zre,null),effectManager:s.get(kz,null),afterRenderEventManager:s.get(nA,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function woe(i,t,e,n){const o=n.get(iz,!1)||e===Eo.ShadowDom,s=i.selectRootElement(t,o);return function xoe(i){mz(i)}(s),s}(p,n,this.componentDef.encapsulation,s):vE(p,g,function Qoe(i){const t=i.toLowerCase();return"svg"===t?Gf:"math"===t?"math":null}(g)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==b&&(D=q1(b,s,!0));const M=cA(0,null,null,1,0,null,null,null,null,null,null),L=VE(null,M,null,S,null,null,h,p,s,null,D);let z,Z;Ob(L);try{const ue=this.componentDef;let ie,fe=null;ue.findHostDirectiveDefs?(ie=[],fe=new Map,ue.findHostDirectiveDefs(ue,ie,fe),ie.push(ue)):ie=[ue];const Me=function ese(i,t){const e=i[Be],n=Zt;return i[n]=t,Tg(e,n,2,"#host",null)}(L,b),ve=function tse(i,t,e,n,r,o,s){const a=r[Be];!function ise(i,t,e,n){for(const r of i)t.mergedAttrs=la(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(zE(t,t.mergedAttrs,!0),null!==e&&m4(n,e,t))}(n,i,t,s);let c=null;null!==t&&(c=q1(t,r[Hs]));const l=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const h=VE(r,hz(e),null,d,r[i.index],i,o,l,null,null,c);return a.firstCreatePass&&dA(a,i,n.length-1),BE(r,h),r[i.index]=h}(Me,b,ue,ie,L,h,p);Z=qf(M,Zt),b&&function rse(i,t,e,n){if(n)fu(i,e,["ng-version",z4.full]);else{const{attrs:r,classes:o}=function vm(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===r?""!==o&&t.push(o,i[++n]):8===r&&e.push(o);else{if(!Vr(r))break;r=o}n++}return{attrs:t,classes:e}}(t.selectors[0]);r&&fu(i,e,r),o&&o.length>0&&h4(i,e,o.join(" "))}}(p,ue,b,n),void 0!==e&&function ose(i,t,e){const n=i.projection=[];for(let r=0;r<t.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(Z,this.ngContentSelectors,e),z=function nse(i,t,e,n,r,o){const s=Tr(),a=r[Be],c=Br(s,r);gz(a,r,s,e,null,n);for(let d=0;d<e.length;d++)$o(fd(r,a,s.directiveStart+d,s),r);_z(a,r,s),c&&$o(c,r);const l=fd(r,a,s.directiveStart+s.componentOffset,s);if(i[Fn]=r[Fn]=l,null!==o)for(const d of o)d(l,t);return oA(a,s,i),l}(ve,ue,ie,fe,L,[sse]),pA(M,L,null)}finally{Nb()}return new Joe(this.componentType,z,Cg(Z,L),L,Z)}}class Joe extends jre{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Koe(r),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;mA(o[Be],o,r,t,e),this.previousInputValues.set(t,e),oy(ps(this._tNode.index,o))}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sse(){const i=Tr();eg(Ee()[Be],i)}function Ae(i){let t=function Pz(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(Ws(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new X(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const s=i;s.inputs=UE(i.inputs),s.inputTransforms=UE(i.inputTransforms),s.declaredInputs=UE(i.declaredInputs),s.outputs=UE(i.outputs);const a=r.hostBindings;a&&dse(i,a);const c=r.viewQuery,l=r.contentQueries;if(c&&cse(i,c),l&&lse(i,l),sr(i.inputs,r.inputs),sr(i.declaredInputs,r.declaredInputs),sr(i.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),sr(s.inputTransforms,r.inputTransforms)),Ws(r)&&r.data.animation){const d=i.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(i),a===Ae&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ase(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=la(r.hostAttrs,e=la(e,r.hostAttrs))}}(n)}function UE(i){return i===jo?{}:i===ei?[]:i}function cse(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function lse(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,o)=>{t(n,r,o),e(n,r,o)}:t}function dse(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}function Lz(i){const t=i.inputConfig,e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(e[n]=r[2])}i.inputTransforms=e}function jE(i){return!!fA(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function fA(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ml(i,t,e){return i[t]=e}function Go(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function vt(i,t,e,n){const r=Ee();return Go(r,ud(),t)&&(gi(),hl(yn(),r,i,t,e,n)),vt}function mt(i,t,e,n,r,o,s,a){const c=Ee(),l=gi(),d=i+Zt,h=l.firstCreatePass?function Nse(i,t,e,n,r,o,s,a,c){const l=t.consts,d=Tg(t,i,4,s||null,ol(l,a));lA(t,e,d,ol(l,c)),eg(t,d);const h=d.tView=cA(2,d,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,l,c,t,e,n,r,o,s):l.data[d];$s(h,!1);const p=Kz(l,c,h,i);Jf()&&wE(l,c,p,h),$o(p,c),BE(c,c[d]=bz(p,c,p,h)),Tu(h)&&sA(l,c,h),null!=s&&aA(c,h,a)}let Kz=function Qz(i,t,e,n){return al(!0),t[Dt].createComment("")};function bs(i){return function Ru(i,t){return i[t]}(function Qf(){return It.lFrame.contextLView}(),Zt+i)}function ye(i,t,e){const n=Ee();return Go(n,ud(),t)&&ga(gi(),yn(),n,i,t,n[Dt],e,!1),ye}function wA(i,t,e,n,r){const s=r?"class":"style";mA(i,e,t.inputs[s],s,n)}function N(i,t,e,n){const r=Ee(),o=gi(),s=Zt+i,a=r[Dt],c=o.firstCreatePass?function Bse(i,t,e,n,r,o){const s=t.consts,c=Tg(t,i,2,n,ol(s,r));return lA(t,e,c,ol(s,o)),null!==c.attrs&&zE(c,c.attrs,!1),null!==c.mergedAttrs&&zE(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,n):o.data[s],l=Xz(o,r,c,a,t,i);r[s]=l;const d=Tu(c);return $s(c,!0),m4(a,l,c),32!=(32&c.flags)&&Jf()&&wE(o,r,l,c),0===function PM(){return It.lFrame.elementDepthCount}()&&$o(l,r),function OM(){It.lFrame.elementDepthCount++}(),d&&(sA(o,r,c),oA(o,c,r)),null!==n&&aA(r,c),N}function F(){let i=Tr();kb()?Mm():(i=i.parent,$s(i,!1));const t=i;(function NM(i){return It.skipHydrationRootTNode===i})(t)&&function FM(){It.skipHydrationRootTNode=null}(),function Cb(){It.lFrame.elementDepthCount--}();const e=gi();return e.firstCreatePass&&(eg(e,i),hs(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function ZC(i){return 0!=(8&i.flags)}(t)&&wA(e,t,Ee(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ng(i){return 0!=(16&i.flags)}(t)&&wA(e,t,Ee(),t.stylesWithoutHost,!1),F}function Fe(i,t,e,n){return N(i,t,e,n),F(),Fe}let Xz=(i,t,e,n,r,o)=>(al(!0),vE(n,r,function $C(){return It.lFrame.currentNamespace}()));function pl(i,t,e){const n=Ee(),r=gi(),o=i+Zt,s=r.firstCreatePass?function Use(i,t,e,n,r){const o=t.consts,s=ol(o,n),a=Tg(t,i,8,"ng-container",s);return null!==s&&zE(a,s,!0),lA(t,e,a,ol(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,n,t,e):r.data[o];$s(s,!0);const a=Jz(r,n,s,i);return n[o]=a,Jf()&&wE(r,n,a,s),$o(a,n),Tu(s)&&(sA(r,n,s),oA(r,s,n)),null!=e&&aA(n,s),pl}function fl(){let i=Tr();const t=gi();return kb()?Mm():(i=i.parent,$s(i,!1)),t.firstCreatePass&&(eg(t,i),hs(i)&&t.queries.elementEnd(i)),fl}let Jz=(i,t,e,n)=>(al(!0),v1(t[Dt],""));function py(){return Ee()}function fy(i){return!!i&&"function"==typeof i.then}function eH(i){return!!i&&"function"==typeof i.subscribe}function we(i,t,e,n){const r=Ee(),o=gi(),s=Tr();return tH(o,r,r[Dt],s,i,t,n),we}function xA(i,t){const e=Tr(),n=Ee(),r=gi();return tH(r,n,Cz(Ab(r.data),e,n),e,i,t),xA}function tH(i,t,e,n,r,o,s){const a=Tu(n),l=i.firstCreatePass&&xz(i),d=t[Fn],h=wz(t);let p=!0;if(3&n.type||s){const w=Br(n,t),x=s?s(w):w,S=h.length,D=s?L=>s(Gi(L[n.index])):n.index;let M=null;if(!s&&a&&(M=function $se(i,t,e,n){const r=i.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===n){const a=t[Kc],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(i,t,r,n.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,p=!1;else{o=nH(n,t,d,o,!1);const L=e.listen(x,r,o);h.push(o,L),l&&l.push(r,D,S,S+1)}}else o=nH(n,t,d,o,!1);const g=n.outputs;let b;if(p&&null!==g&&(b=g[r])){const w=b.length;if(w)for(let x=0;x<w;x+=2){const z=t[b[x]][b[x+1]].subscribe(o),Z=h.length;h.push(o,z),l&&l.push(r,n.index,Z,-(Z+1))}}}function iH(i,t,e,n){try{return ja(6,t,e),!1!==e(n)}catch(r){return Ez(i,r),!1}finally{ja(7,t,e)}}function nH(i,t,e,n,r){return function o(s){if(s===Function)return n;oy(i.componentOffset>-1?ps(i.index,t):t);let c=iH(t,e,n,s),l=o.__ngNextListenerFn__;for(;l;)c=iH(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function ti(i=1){return function zM(i){return(It.lFrame.contextLView=function HM(i,t){for(;i>0;)t=t[Xc],i--;return t}(i,It.lFrame.contextLView))[Fn]}(i)}function Gse(i,t){let e=null;const n=function ed(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===n?bu(i,o,!0):id(n,o))return r}else e=r}return e}function Dn(i){const t=Ee()[bn][Nn];if(!t.projection){const n=t.projection=Hm(i?i.length:1,null),r=n.slice();let o=t.child;for(;null!==o;){const s=i?Gse(o,i):0;null!==s&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function Ct(i,t=0,e){const n=Ee(),r=gi(),o=Tg(r,Zt+i,16,null,e||null);null===o.projection&&(o.projection=t),Mm(),(!n[us]||sl())&&32!=(32&o.flags)&&function Wne(i,t,e){u4(t[Dt],0,t,e,w1(i,e,t),o4(e.parent||t[Nn],e,t))}(r,n,o)}function YE(i,t){return i<<17|t<<2}function Wu(i){return i>>17&32767}function EA(i){return 2|i}function Ym(i){return(131068&i)>>2}function kA(i,t){return-131069&i|t<<2}function TA(i){return 1|i}function mH(i,t,e,n,r){const o=i[e+1],s=null===t;let a=n?Wu(o):Ym(o),c=!1;for(;0!==a&&(!1===c||s);){const d=i[a+1];Xse(i[a],t)&&(c=!0,i[a+1]=n?TA(d):EA(d)),a=n?Wu(d):Ym(d)}c&&(i[e+1]=n?EA(o):TA(o))}function Xse(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&Bu(i,t)>=0}function wd(i,t,e){return bc(i,t,e,!1),wd}function Ve(i,t){return bc(i,t,null,!0),Ve}function bc(i,t,e,n){const r=Ee(),o=gi(),s=function Wa(i){const t=It.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}(2);o.firstUpdatePass&&function wH(i,t,e,n){const r=i.data;if(null===r[e+1]){const o=r[Io()],s=function yH(i,t){return t>=i.expandoStartIndex}(i,e);(function kH(i,t){return 0!=(i.flags&(t?8:16))})(o,n)&&null===t&&!s&&(t=!1),t=function aae(i,t,e,n){const r=Ab(i);let o=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=gy(e=DA(null,i,t,e,n),t.attrs,n),o=null);else{const s=t.directiveStylingLast;if(-1===s||i[s]!==r)if(e=DA(r,i,t,e,n),null===o){let c=function cae(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==Ym(n))return i[Wu(n)]}(i,t,n);void 0!==c&&Array.isArray(c)&&(c=DA(null,i,t,c[1],n),c=gy(c,t.attrs,n),function lae(i,t,e,n){i[Wu(e?t.classBindings:t.styleBindings)]=n}(i,t,n,c))}else o=function dae(i,t,e){let n;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)n=gy(n,i[o].hostAttrs,e);return gy(n,t.attrs,e)}(i,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,n),function Kse(i,t,e,n,r,o){let s=o?t.classBindings:t.styleBindings,a=Wu(s),c=Ym(s);i[n]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||Bu(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const p=Wu(i[a+1]);i[n+1]=YE(p,a),0!==p&&(i[p+1]=kA(i[p+1],n)),i[a+1]=function Yse(i,t){return 131071&i|t<<17}(i[a+1],n)}else i[n+1]=YE(a,0),0!==a&&(i[a+1]=kA(i[a+1],n)),a=n;else i[n+1]=YE(c,0),0===a?a=n:i[c+1]=kA(i[c+1],n),c=n;l&&(i[n+1]=EA(i[n+1])),mH(i,d,n,!0),mH(i,d,n,!1),function Qse(i,t,e,n,r){const o=r?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof t&&Bu(o,t)>=0&&(e[n+1]=TA(e[n+1]))}(t,d,i,n,o),s=YE(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,n)}}(o,i,s,n),t!==$t&&Go(r,s,t)&&function CH(i,t,e,n,r,o,s,a){if(!(3&t.type))return;const c=i.data,l=c[a+1],d=function Zse(i){return 1==(1&i)}(l)?EH(c,t,e,r,Ym(l),s):void 0;ZE(d)||(ZE(o)||function qse(i){return 2==(2&i)}(l)&&(o=EH(c,null,e,r,a,s)),function Gne(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:Hu.DashCase;null==r?i.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Hu.Important),i.setStyle(e,n,r,o))}}(n,s,Au(Io(),e),r,o))}(o,o.data[Io()],r,r[Dt],i,r[s+1]=function pae(i,t){return null==i||""===i||("string"==typeof t?i+=t:"object"==typeof i&&(i=Bi(pa(i)))),i}(t,e),n,s)}function DA(i,t,e,n,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],n=gy(n,o.hostAttrs,r),o!==i);)a++;return null!==i&&(e.directiveStylingLast=a),n}function gy(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),vs(i,s,!!e||t[++o]))}return void 0===i?null:i}function EH(i,t,e,n,r,o){const s=null===t;let a;for(;r>0;){const c=i[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let p=e[r+1];p===$t&&(p=h?ei:void 0);let g=h?jb(p,n):d===n?p:void 0;if(l&&!ZE(g)&&(g=jb(c,n)),ZE(g)&&(a=g,s))return a;const b=i[r+1];r=s?Wu(b):Ym(b)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=jb(c,n))}return a}function ZE(i){return void 0!==i}function oe(i,t=""){const e=Ee(),n=gi(),r=i+Zt,o=n.firstCreatePass?Tg(n,r,1,t,null):n.data[r],s=TH(n,e,o,t,i);e[r]=s,Jf()&&wE(n,e,s,o),$s(o,!1)}let TH=(i,t,e,n,r)=>(al(!0),function _E(i,t){return i.createText(t)}(t[Dt],n));function wc(i){return ys("",i,""),wc}function ys(i,t,e){const n=Ee(),r=function Ig(i,t,e,n){return Go(i,ud(),e)?t+it(e)+n:$t}(n,i,t,e);return r!==$t&&function yd(i,t,e){const n=Au(t,i);!function J3(i,t,e){i.setValue(t,e)}(i[Dt],n,e)}(n,Io(),r),ys}function qs(i,t,e){const n=Ee();return Go(n,ud(),t)&&ga(gi(),yn(),n,i,t,n[Dt],e,!0),qs}function IA(i,t,e){const n=Ee();if(Go(n,ud(),t)){const o=gi(),s=yn();ga(o,s,n,i,t,Cz(Ab(o.data),s,n),e,!0)}return IA}const Zm=void 0;var Fae=["en",[["a","p"],["AM","PM"],Zm],[["AM","PM"],Zm,Zm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zm,"{1} 'at' {0}",Zm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Nae(i){const e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Lg={};function ws(i){const t=function Vae(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=$H(t);if(e)return e;const n=t.split("-")[0];if(e=$H(n),e)return e;if("en"===n)return Fae;throw new X(701,!1)}function $H(i){return i in Lg||(Lg[i]=Pi.ng&&Pi.ng.common&&Pi.ng.common.locales&&Pi.ng.common.locales[i]),Lg[i]}var In=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(In||{});const Vg="en-US";let GH=Vg;function AA(i,t,e,n,r){if(i=$(i),Array.isArray(i))for(let o=0;o<i.length;o++)AA(i[o],t,e,n,r);else{const o=gi(),s=Ee(),a=Tr();let c=Gm(i)?i:$(i.provide);const l=P4(i),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(Gm(i)||!i.multi){const g=new Pm(l,r,T),b=PA(c,t,r?d:d+p,h);-1===b?(Vm(rg(a,s),o,c),RA(o,i,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{const g=PA(c,t,d+p,h),b=PA(c,t,d,d+p),x=b>=0&&e[b];if(r&&!x||!r&&!(g>=0&&e[g])){Vm(rg(a,s),o,c);const S=function Fce(i,t,e,n,r){const o=new Pm(i,e,T);return o.multi=[],o.index=t,o.componentProviders=0,v5(o,r,n&&!e),o}(r?Nce:Oce,e.length,r,n,l);!r&&x&&(e[b].providerFactory=S),RA(o,i,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(S),s.push(S)}else RA(o,i,g>-1?g:b,v5(e[r?b:g],l,!r&&n));!r&&n&&x&&e[b].componentProviders++}}}function RA(i,t,e,n){const r=Gm(t),o=function Tre(i){return!!i.useClass}(t);if(r||o){const c=(o?$(t.useClass):t).prototype.ngOnDestroy;if(c){const l=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[n,c]):l[d+1].push(n,c)}else l.push(e,c)}}}function v5(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function PA(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function Oce(i,t,e,n){return OA(this.multi,[])}function Nce(i,t,e,n){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=fd(e,e[Be],this.providerFactory.index,n);o=a.slice(0,s),OA(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],OA(r,o);return o}function OA(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function qe(i,t=[]){return e=>{e.providersResolver=(n,r)=>function Pce(i,t,e){const n=gi();if(n.firstCreatePass){const r=Ws(i);AA(e,n.data,n.blueprint,r,!0),AA(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class Km{}class b5{}class NA extends Km{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Az(this);const r=To(t);this._bootstrapComponents=bd(r.bootstrap),this._r3Injector=$4(t,e,[{provide:Km,useValue:this},{provide:xg,useValue:this.componentFactoryResolver},...n],Bi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class FA extends b5{constructor(t){super(),this.moduleType=t}create(t){return new NA(this.moduleType,t,[])}}class y5 extends Km{constructor(t){super(),this.componentFactoryResolver=new Az(this),this.instance=null;const e=new vg([...t.providers,{provide:Km,useValue:this},{provide:xg,useValue:this.componentFactoryResolver}],t.parent||SE(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function LA(i,t,e=null){return new y5({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Bce=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=S4(0,e.type),r=n.length>0?LA([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ce({token:i,providedIn:"environment",factory:()=>new i(W(fa))})}return i})();function w5(i){i.getStandaloneInjector=t=>t.get(Bce).getOrCreateStandaloneInjector(i)}function xd(i,t,e,n){return function S5(i,t,e,n,r,o){const s=t+e;return Go(i,s,r)?ml(i,s+1,o?n.call(o,r):n(r)):xy(i,s+1)}(Ee(),Zr(),i,t,e,n)}function I5(i,t,e,n,r){return function M5(i,t,e,n,r,o,s){const a=t+e;return function qm(i,t,e,n){const r=Go(i,t,e);return Go(i,t+1,n)||r}(i,a,r,o)?ml(i,a+2,s?n.call(s,r,o):n(r,o)):xy(i,a+2)}(Ee(),Zr(),i,t,e,n,r)}function xy(i,t){const e=i[t];return e===$t?void 0:e}function lle(){return this._results[Symbol.iterator]()}class Bg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ze)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Bg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lle)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=function _s(i){return i.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zm(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ule(i,t,e,n=!0){const r=t[Be];if(function Vne(i,t,e,n){const r=kr+n,o=e.length;n>0&&(e[r-1][ls]=t),n<o-kr?(t[ls]=e[r],lg(e,kr+n,t)):(e.push(t),t[ls]=null),t[$i]=e;const s=t[Jc];null!==s&&e!==s&&function Bne(i,t){const e=i[tl];t[bn]!==t[$i][$i][bn]&&(i[xm]=!0),null===e?i[tl]=[t]:e.push(t)}(s,t);const a=t[Us];null!==a&&a.insertView(i),t[Vt]|=128}(r,t,i,e),n){const o=C1(e,i),s=t[Dt],a=yE(s,i[js]);null!==a&&function Nne(i,t,e,n,r,o){n[vn]=r,n[Nn]=t,Xb(i,n,e,1,r,o)}(r,i[Nn],s,t,a,o)}}let Jr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=ple}return i})();const hle=Jr,mle=class extends hle{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){const r=function dle(i,t,e,n){const r=t.tView,a=VE(i,r,e,4096&i[Vt]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[Jc]=i[t.index];const l=i[Us];return null!==l&&(a[Us]=l.createEmbeddedView(r)),pA(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:n});return new cy(r)}};function ple(){return ek(Tr(),Ee())}function ek(i,t){return 4&i.type?new mle(t,i,Cg(i,t)):null}let Dr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=yle}return i})();function yle(){return z5(Tr(),Ee())}const wle=Dr,V5=class extends wle{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Cg(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const t=og(this._hostTNode,this._hostLView);if(Vb(t)){const e=Nm(t,this._hostLView),n=Om(t);return new Kr(e[Be].data[n+8],e)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=B5(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(t,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,n,r,o){const s=t&&!function Qr(i){return"function"==typeof i}(t);let a;if(s)a=e;else{const w=e||{};a=w.index,n=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?t:new ly(li(t)),l=n||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(fa,null);x&&(o=x)}li(c.componentType??{});const g=c.create(l,r,null,o);return this.insertImpl(g.hostView,a,false),g}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,n){const r=t._lView;if(function PC(i){return uo(i[$i])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[$i],d=new V5(l,l[Nn],l[$i]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return ule(a,r,s,!n),t.attachToViewContainerRef(),lg(BA(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=B5(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=bE(this._lContainer,e);n&&(Vu(BA(this._lContainer),e),b1(n[Be],n))}detach(t){const e=this._adjustIndex(t,-1),n=bE(this._lContainer,e);return n&&null!=Vu(BA(this._lContainer),e)?new cy(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function B5(i){return i[8]}function BA(i){return i[8]||(i[8]=[])}function z5(i,t){let e;const n=t[i.index];return uo(n)?e=n:(e=bz(n,t,null,i),t[i.index]=e,BE(t,e)),H5(e,t,i,n),new V5(e,i,t)}let H5=function U5(i,t,e,n){if(i[js])return;let r;r=8&e.type?Gi(n):function xle(i,t){const e=i[Dt],n=e.createComment(""),r=Br(t,i);return Wm(e,yE(e,r),n,function jne(i,t){return i.nextSibling(t)}(e,r),!1),n}(t,e),i[js]=r};class zA{constructor(t){this.queryList=t,this.matches=null}clone(){return new zA(this.queryList)}setDirty(){this.queryList.setDirty()}}class HA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new HA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==q5(t,e).matches&&this.queries[e].setDirty()}}class j5{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class UA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new UA(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new jA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,kle(e,o)),this.matchTNodeWithReadOption(t,e,ag(e,t,o,!1,!1))}else n===Jr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ag(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===rt||r===Dr||r===Jr&&4&e.type)this.addMatch(e.index,-2);else{const o=ag(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function kle(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function Dle(i,t,e,n){return-1===e?function Tle(i,t){return 11&i.type?Cg(i,t):4&i.type?ek(i,t):null}(t,i):-2===e?function Ile(i,t,e){return e===rt?Cg(t,i):e===Jr?ek(t,i):e===Dr?z5(t,i):void 0}(i,t,n):fd(i,i[Be],e,t)}function W5(i,t,e,n){const r=t[Us].queries[n];if(null===r.matches){const o=i.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:Dle(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function WA(i,t,e,n){const r=i.queries.getByIndex(e),o=r.matches;if(null!==o){const s=W5(i,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)n.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let h=kr;h<d.length;h++){const p=d[h];p[Jc]===p[$i]&&WA(p[Be],p,l,n)}if(null!==d[tl]){const h=d[tl];for(let p=0;p<h.length;p++){const g=h[p];WA(g[Be],g,l,n)}}}}}return n}function Qe(i){const t=Ee(),e=gi(),n=Xf();Rb(n+1);const r=q5(e,n);if(i.dirty&&function RM(i){return 4==(4&i[Vt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const o=r.crossesNgTemplate?WA(e,t,n,[]):W5(e,t,r,n);i.reset(o,qre),i.notifyOnChanges()}return!0}return!1}function Di(i,t,e){const n=gi();n.firstCreatePass&&(G5(n,new j5(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),$5(n,Ee(),t)}function _i(i,t,e,n){const r=gi();if(r.firstCreatePass){const o=Tr();G5(r,new j5(t,e,n),o.index),function Mle(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}$5(r,Ee(),e)}function Xe(){return function Sle(i,t){return i[Us].queries[t].queryList}(Ee(),Xf())}function $5(i,t,e){const n=new Bg(4==(4&e));(function koe(i,t,e,n){const r=wz(t);r.push(e),i.firstCreatePass&&xz(i).push(n,r.length-1)})(i,t,n,n.destroy),null===t[Us]&&(t[Us]=new HA),t[Us].queries.push(new zA(n))}function G5(i,t,e){null===i.queries&&(i.queries=new UA),i.queries.track(new jA(t,e))}function q5(i,t){return i.queries.getByIndex(t)}function zg(i,t){return ek(i,t)}const KA=new Y("Application Initializer");let QA=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=Ie(KA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(fy(o))e.push(o);else if(eH(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dU=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const vl=new Y("LocaleId",{providedIn:"root",factory:()=>Ie(vl,ci.Optional|ci.SkipSelf)||function Qle(){return typeof $localize<"u"&&$localize.locale||Vg}()});let nk=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new G(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class ede{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let uU=(()=>{class i{compileModuleSync(e){return new FA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=bd(To(e).declarations).reduce((s,a)=>{const c=li(a);return c&&s.push(new ly(c)),s},[]);return new ede(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const fU=new Y(""),ok=new Y("");let iR,eR=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iR||(function xde(i){iR=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||i)(W(Ke),W(tR),W(ok))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),tR=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return iR?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),$u=null;const gU=new Y("AllowMultipleToken"),nR=new Y("PlatformDestroyListeners"),rR=new Y("appBootstrapListener");class vU{constructor(t,e){this.name=t,this.token=e}}function yU(i,t,e=[]){const n=`Platform: ${t}`,r=new Y(n);return(o=[])=>{let s=oR();if(!s||s.injector.get(gU,!1)){const a=[...e,...o,{provide:r,useValue:!0}];i?i(a):function kde(i){if($u&&!$u.get(gU,!1))throw new X(400,!1);(function _U(){!function Mu(i){DC=i}(()=>{throw new X(600,!1)})})(),$u=i;const t=i.get(xU);(function bU(i){i.get(O4,null)?.forEach(e=>e())})(i)}(function wU(i=[],t){return zr.create({name:t,providers:[{provide:N1,useValue:"platform"},{provide:nR,useValue:new Set([()=>$u=null])},...i]})}(a,n))}return function Dde(i){const t=oR();if(!t)throw new X(401,!1);return t}()}}function oR(){return $u?.get(xU)??null}let xU=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function Ide(i="zone.js",t){return"noop"===i?new aoe:"zone.js"===i?new Ke(t):i}(n?.ngZone,function CU(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Vce(i,t,e){return new NA(i,t,e)}(e.moduleType,this.injector,function IU(i){return[{provide:Ke,useFactory:i},{provide:ty,multi:!0,useFactory:()=>{const t=Ie(Mde,{optional:!0});return()=>t.initialize()}},{provide:DU,useFactory:Sde},{provide:K4,useFactory:Q4}]}(()=>r)),s=o.injector.get(Za,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{sk(this._modules,o),a.unsubscribe()})}),function EU(i,t,e){try{const n=e();return fy(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(s,r,()=>{const a=o.injector.get(QA);return a.runInitializers(),a.donePromise.then(()=>(function qH(i){Nr(i,"Expected localeId to be defined"),"string"==typeof i&&(GH=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(vl,Vg)||Vg),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,n=[]){const r=kU({},n);return function Cde(i,t,e){const n=new FA(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(Gu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new X(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(nR,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||i)(W(zr))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function kU(i,t){return Array.isArray(t)?t.reduce(kU,i):{...i,...t}}let Gu=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(DU),this.zoneIsStable=Ie(K4),this.componentTypes=[],this.components=[],this.isStable=Ie(nk).hasPendingTasks.pipe(kt(e=>e?ae(!1):this.zoneIsStable),Ki(),xt()),this._injector=Ie(fa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof V4;if(!this._injector.get(QA).done)throw!r&&function Ha(i){const t=li(i)||Yn(i)||Yr(i);return null!==t&&t.standalone}(e),new X(405,!1);let s;s=r?e:this._injector.get(xg).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Ede(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Km),l=s.create(zr.NULL,[],n||s.selector,a),d=l.location.nativeElement,h=l.injector.get(fU,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),sk(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;sk(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(rR,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sk(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new X(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function sk(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const DU=new Y("",{providedIn:"root",factory:()=>Ie(Za).handleError.bind(void 0)});function Sde(){const i=Ie(Ke),t=Ie(Za);return e=>i.runOutsideAngular(()=>t.handleError(e))}let Mde=(()=>{class i{constructor(){this.zone=Ie(Ke),this.applicationRef=Ie(Gu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();let hn=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Rde}return i})();function Rde(i){return function Pde(i,t,e){if(Ua(i)&&!e){const n=ps(i.index,t);return new cy(n,n)}return 47&i.type?new cy(t[bn],t):null}(Tr(),Ee(),16==(16&i))}class PU{constructor(){}supports(t){return jE(t)}create(t){return new Bde(t)}}const Vde=(i,t)=>t;class Bde{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Vde}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const s=!n||e&&e.currentIndex<NU(n,r,o)?e:n,a=NU(s,r,o),c=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const g=p<o.length?o[p]:o[p]=0,b=g+p;d<=b&&b<l&&(o[p]=g+1)}o[s.previousIndex]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jE(t))throw new X(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),n=!0),e=e._next}else r=0,function _se(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Symbol.iterator]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new zde(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new OU),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zde{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hde{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class OU{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Hde,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NU(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class FU{constructor(){}supports(t){return t instanceof Map||fA(t)}create(){return new Ude}}class Ude{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fA(t)))throw new X(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const n=new jde(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class jde{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LU(){return new Xa([new PU])}let Xa=(()=>{class i{static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:LU});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||LU()),deps:[[i,new ha,new Wo]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new X(901,!1)}}return i})();function VU(){return new Ty([new FU])}let Ty=(()=>{class i{static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:VU});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||VU()),deps:[[i,new ha,new Wo]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new X(901,!1)}}return i})();const Gde=yU(null,"core",[]);let qde=(()=>{class i{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||i)(W(Gu))};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();function jg(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let uR=null;function qu(){return uR}class aue{}const At=new Y("DocumentToken");let hR=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return Ie(lue)},providedIn:"platform"})}return i})();const cue=new Y("Location Initialized");let lue=(()=>{class i extends hR{constructor(){super(),this._doc=Ie(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qu().getBaseHref(this._doc)}onPopState(e){const n=qu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=qu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function mR(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function qU(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Cd(i){return i&&"?"!==i[0]?"?"+i:i}let Xm=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return Ie(ZU)},providedIn:"root"})}return i})();const YU=new Y("appBaseHref");let ZU=(()=>{class i extends Xm{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Ie(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return mR(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Cd(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const s=this.prepareExternalUrl(r+Cd(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){const s=this.prepareExternalUrl(r+Cd(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(W(hR),W(YU,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),due=(()=>{class i extends Xm{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=mR(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Cd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Cd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(W(hR),W(YU,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),Dy=(()=>{class i{constructor(e){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function mue(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(qU(KU(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Cd(n))}normalize(e){return i.stripTrailingSlash(function hue(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,KU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cd(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cd(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=Cd;static#t=this.joinWithSlash=mR;static#i=this.stripTrailingSlash=qU;static#n=this.\u0275fac=function(n){return new(n||i)(W(Xm))};static#r=this.\u0275prov=Ce({token:i,factory:function(){return function uue(){return new Dy(W(Xm))}()},providedIn:"root"})}return i})();function KU(i){return i.replace(/\/index.html$/,"")}var Wg=function(i){return i[i.Zero=0]="Zero",i[i.One=1]="One",i[i.Two=2]="Two",i[i.Few=3]="Few",i[i.Many=4]="Many",i[i.Other=5]="Other",i}(Wg||{}),Cs=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(Cs||{}),wn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(wn||{}),_a=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(_a||{}),Ir=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(Ir||{});function uk(i,t){return ec(ws(i)[In.DateFormat],t)}function hk(i,t){return ec(ws(i)[In.TimeFormat],t)}function mk(i,t){return ec(ws(i)[In.DateTimeFormat],t)}function Ja(i,t){const e=ws(i),n=e[In.NumberSymbols][t];if(typeof n>"u"){if(t===Ir.CurrencyDecimal)return e[In.NumberSymbols][Ir.Decimal];if(t===Ir.CurrencyGroup)return e[In.NumberSymbols][Ir.Group]}return n}const wue=function WH(i){return ws(i)[In.PluralCase]};function XU(i){if(!i[In.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[In.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ec(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function fR(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const Due=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Iy={},Iue=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ed=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(Ed||{}),Hi=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(Hi||{}),Ui=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(Ui||{});function eo(i,t,e,n){let r=function Lue(i){if(tj(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[r,o=1,s=1]=i.split("-").map(a=>+a);return pk(r,o-1,s)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(Due))return function Vue(i){const t=new Date(0);let e=0,n=0;const r=i[8]?t.setUTCFullYear:t.setFullYear,o=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const s=Number(i[4]||0)-e,a=Number(i[5]||0)-n,c=Number(i[6]||0),l=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return o.call(t,s,a,c,l),t}(n)}const t=new Date(i);if(!tj(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=kd(e,t)||t;let a,s=[];for(;t;){if(a=Iue.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let c=r.getTimezoneOffset();n&&(c=ej(n,c),r=function Fue(i,t,e){const n=e?-1:1,r=i.getTimezoneOffset();return function Nue(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,n*(ej(t,r)-r))}(r,n,!0));let l="";return s.forEach(d=>{const h=function Oue(i){if(_R[i])return _R[i];let t;switch(i){case"G":case"GG":case"GGG":t=Sn(Ui.Eras,wn.Abbreviated);break;case"GGGG":t=Sn(Ui.Eras,wn.Wide);break;case"GGGGG":t=Sn(Ui.Eras,wn.Narrow);break;case"y":t=Hr(Hi.FullYear,1,0,!1,!0);break;case"yy":t=Hr(Hi.FullYear,2,0,!0,!0);break;case"yyy":t=Hr(Hi.FullYear,3,0,!1,!0);break;case"yyyy":t=Hr(Hi.FullYear,4,0,!1,!0);break;case"Y":t=vk(1);break;case"YY":t=vk(2,!0);break;case"YYY":t=vk(3);break;case"YYYY":t=vk(4);break;case"M":case"L":t=Hr(Hi.Month,1,1);break;case"MM":case"LL":t=Hr(Hi.Month,2,1);break;case"MMM":t=Sn(Ui.Months,wn.Abbreviated);break;case"MMMM":t=Sn(Ui.Months,wn.Wide);break;case"MMMMM":t=Sn(Ui.Months,wn.Narrow);break;case"LLL":t=Sn(Ui.Months,wn.Abbreviated,Cs.Standalone);break;case"LLLL":t=Sn(Ui.Months,wn.Wide,Cs.Standalone);break;case"LLLLL":t=Sn(Ui.Months,wn.Narrow,Cs.Standalone);break;case"w":t=gR(1);break;case"ww":t=gR(2);break;case"W":t=gR(1,!0);break;case"d":t=Hr(Hi.Date,1);break;case"dd":t=Hr(Hi.Date,2);break;case"c":case"cc":t=Hr(Hi.Day,1);break;case"ccc":t=Sn(Ui.Days,wn.Abbreviated,Cs.Standalone);break;case"cccc":t=Sn(Ui.Days,wn.Wide,Cs.Standalone);break;case"ccccc":t=Sn(Ui.Days,wn.Narrow,Cs.Standalone);break;case"cccccc":t=Sn(Ui.Days,wn.Short,Cs.Standalone);break;case"E":case"EE":case"EEE":t=Sn(Ui.Days,wn.Abbreviated);break;case"EEEE":t=Sn(Ui.Days,wn.Wide);break;case"EEEEE":t=Sn(Ui.Days,wn.Narrow);break;case"EEEEEE":t=Sn(Ui.Days,wn.Short);break;case"a":case"aa":case"aaa":t=Sn(Ui.DayPeriods,wn.Abbreviated);break;case"aaaa":t=Sn(Ui.DayPeriods,wn.Wide);break;case"aaaaa":t=Sn(Ui.DayPeriods,wn.Narrow);break;case"b":case"bb":case"bbb":t=Sn(Ui.DayPeriods,wn.Abbreviated,Cs.Standalone,!0);break;case"bbbb":t=Sn(Ui.DayPeriods,wn.Wide,Cs.Standalone,!0);break;case"bbbbb":t=Sn(Ui.DayPeriods,wn.Narrow,Cs.Standalone,!0);break;case"B":case"BB":case"BBB":t=Sn(Ui.DayPeriods,wn.Abbreviated,Cs.Format,!0);break;case"BBBB":t=Sn(Ui.DayPeriods,wn.Wide,Cs.Format,!0);break;case"BBBBB":t=Sn(Ui.DayPeriods,wn.Narrow,Cs.Format,!0);break;case"h":t=Hr(Hi.Hours,1,-12);break;case"hh":t=Hr(Hi.Hours,2,-12);break;case"H":t=Hr(Hi.Hours,1);break;case"HH":t=Hr(Hi.Hours,2);break;case"m":t=Hr(Hi.Minutes,1);break;case"mm":t=Hr(Hi.Minutes,2);break;case"s":t=Hr(Hi.Seconds,1);break;case"ss":t=Hr(Hi.Seconds,2);break;case"S":t=Hr(Hi.FractionalSeconds,1);break;case"SS":t=Hr(Hi.FractionalSeconds,2);break;case"SSS":t=Hr(Hi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=gk(Ed.Short);break;case"ZZZZZ":t=gk(Ed.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=gk(Ed.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=gk(Ed.Long);break;default:return null}return _R[i]=t,t}(d);l+=h?h(r,e,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function pk(i,t,e){const n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function kd(i,t){const e=function fue(i){return ws(i)[In.LocaleId]}(i);if(Iy[e]=Iy[e]||{},Iy[e][t])return Iy[e][t];let n="";switch(t){case"shortDate":n=uk(i,_a.Short);break;case"mediumDate":n=uk(i,_a.Medium);break;case"longDate":n=uk(i,_a.Long);break;case"fullDate":n=uk(i,_a.Full);break;case"shortTime":n=hk(i,_a.Short);break;case"mediumTime":n=hk(i,_a.Medium);break;case"longTime":n=hk(i,_a.Long);break;case"fullTime":n=hk(i,_a.Full);break;case"short":const r=kd(i,"shortTime"),o=kd(i,"shortDate");n=fk(mk(i,_a.Short),[r,o]);break;case"medium":const s=kd(i,"mediumTime"),a=kd(i,"mediumDate");n=fk(mk(i,_a.Medium),[s,a]);break;case"long":const c=kd(i,"longTime"),l=kd(i,"longDate");n=fk(mk(i,_a.Long),[c,l]);break;case"full":const d=kd(i,"fullTime"),h=kd(i,"fullDate");n=fk(mk(i,_a.Full),[d,h])}return n&&(Iy[e][t]=n),n}function fk(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),i}function xc(i,t,e="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=1-i:(i=-i,o=e));let s=String(i);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function Hr(i,t,e=0,n=!1,r=!1){return function(o,s){let a=function Mue(i,t){switch(i){case Hi.FullYear:return t.getFullYear();case Hi.Month:return t.getMonth();case Hi.Date:return t.getDate();case Hi.Hours:return t.getHours();case Hi.Minutes:return t.getMinutes();case Hi.Seconds:return t.getSeconds();case Hi.FractionalSeconds:return t.getMilliseconds();case Hi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,o);if((e>0||a>-e)&&(a+=e),i===Hi.Hours)0===a&&-12===e&&(a=12);else if(i===Hi.FractionalSeconds)return function Sue(i,t){return xc(i,3).substring(0,t)}(a,t);const c=Ja(s,Ir.MinusSign);return xc(a,t,c,n,r)}}function Sn(i,t,e=Cs.Format,n=!1){return function(r,o){return function Aue(i,t,e,n,r,o){switch(e){case Ui.Months:return function vue(i,t,e){const n=ws(i),o=ec([n[In.MonthsFormat],n[In.MonthsStandalone]],t);return ec(o,e)}(t,r,n)[i.getMonth()];case Ui.Days:return function _ue(i,t,e){const n=ws(i),o=ec([n[In.DaysFormat],n[In.DaysStandalone]],t);return ec(o,e)}(t,r,n)[i.getDay()];case Ui.DayPeriods:const s=i.getHours(),a=i.getMinutes();if(o){const l=function xue(i){const t=ws(i);return XU(t),(t[In.ExtraData][2]||[]).map(n=>"string"==typeof n?fR(n):[fR(n[0]),fR(n[1])])}(t),d=function Cue(i,t,e){const n=ws(i);XU(n);const o=ec([n[In.ExtraData][0],n[In.ExtraData][1]],t)||[];return ec(o,e)||[]}(t,r,n),h=l.findIndex(p=>{if(Array.isArray(p)){const[g,b]=p,w=s>=g.hours&&a>=g.minutes,x=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(w&&x)return!0}else if(w||x)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function gue(i,t,e){const n=ws(i),o=ec([n[In.DayPeriodsFormat],n[In.DayPeriodsStandalone]],t);return ec(o,e)}(t,r,n)[s<12?0:1];case Ui.Eras:return function bue(i,t){return ec(ws(i)[In.Eras],t)}(t,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,i,t,e,n)}}function gk(i){return function(t,e,n){const r=-1*n,o=Ja(e,Ir.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Ed.Short:return(r>=0?"+":"")+xc(s,2,o)+xc(Math.abs(r%60),2,o);case Ed.ShortGMT:return"GMT"+(r>=0?"+":"")+xc(s,1,o);case Ed.Long:return"GMT"+(r>=0?"+":"")+xc(s,2,o)+":"+xc(Math.abs(r%60),2,o);case Ed.Extended:return 0===n?"Z":(r>=0?"+":"")+xc(s,2,o)+":"+xc(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}const Rue=0,_k=4;function JU(i){return pk(i.getFullYear(),i.getMonth(),i.getDate()+(_k-i.getDay()))}function gR(i,t=!1){return function(e,n){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=JU(e),s=function Pue(i){const t=pk(i,Rue,1).getDay();return pk(i,0,1+(t<=_k?_k:_k+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return xc(r,i,Ja(n,Ir.MinusSign))}}function vk(i,t=!1){return function(e,n){return xc(JU(e).getFullYear(),i,Ja(n,Ir.MinusSign),t)}}const _R={};function ej(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function tj(i){return i instanceof Date&&!isNaN(i.valueOf())}let xR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(n){let r=null;return n?r=new n:(o=W(vl),r=new Zue(o)),r;var o},providedIn:"root"})}return i})();let Zue=(()=>{class i extends xR{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(wue(n||this.locale)(e)){case Wg.Zero:return"zero";case Wg.One:return"one";case Wg.Two:return"two";case Wg.Few:return"few";case Wg.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(n){return new(n||i)(W(vl))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function oj(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const CR=/\s+/,sj=[];let $g=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=sj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(CR):sj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(CR):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(CR).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(T(Xa),T(Ty),T(rt),T(vd))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class Xue{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ER=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Xue(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)n.remove(null===o?void 0:o);else if(null!==o){const a=n.get(o);n.move(a,s),cj(a,r)}});for(let r=0,o=n.length;r<o;r++){const a=n.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{cj(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(T(Dr),T(Jr),T(Xa))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function cj(i,t){i.context.$implicit=t.item}let Td=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Jue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lj("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lj("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(T(Dr),T(Jr))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class Jue{constructor(){this.$implicit=null,this.ngIf=null}}function lj(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Bi(t)}'.`)}class kR{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Gg=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),yk=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new kR(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||i)(T(Dr),T(Jr),T(Gg,9))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),TR=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=n.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Dr))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Xi]})}return i})();function Cc(i,t){return new X(2100,!1)}const mhe=new Y("DATE_PIPE_DEFAULT_TIMEZONE"),phe=new Y("DATE_PIPE_DEFAULT_OPTIONS");let DR=(()=>{class i{constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,o){if(null==e||""===e||e!=e)return null;try{return eo(e,n??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Cc()}}static#e=this.\u0275fac=function(n){return new(n||i)(T(vl,16),T(mhe,24),T(phe,24))};static#t=this.\u0275pipe=mr({name:"date",type:i,pure:!0,standalone:!0})}return i})();const fhe=/#/g;let IR=(()=>{class i{constructor(e){this._localization=e}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw Cc();return n[function rj(i,t,e,n){let r=`=${i}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(i,n),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${i}"`)}(e,Object.keys(n),this._localization,r)].replace(fhe,e.toString())}static#e=this.\u0275fac=function(n){return new(n||i)(T(xR,16))};static#t=this.\u0275pipe=mr({name:"i18nPlural",type:i,pure:!0,standalone:!0})}return i})(),qi=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();const hj="browser";function wk(i){return"server"===i}let Dhe=(()=>{class i{static#e=this.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>new Ihe(W(At),window)})}return i})();class Ihe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function She(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class mj{}class Xhe extends aue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PR extends Xhe{static makeCurrent(){!function sue(i){uR||(uR=i)}(new PR)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Jhe(){return Ay=Ay||document.querySelector("base"),Ay?Ay.getAttribute("href"):null}();return null==e?null:function eme(i){Ek=Ek||document.createElement("a"),Ek.setAttribute("href",i);const t=Ek.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ay=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return oj(document.cookie,t)}}let Ek,Ay=null,ime=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const OR=new Y("EventManagerPlugins");let vj=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new X(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(W(OR),W(Ke))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();class bj{constructor(t){this._doc=t}}const NR="ng-app-id";let yj=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wk(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${NR}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(NR),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(NR,this.appId),s}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const o=this.styleRef,s=o.get(n)?.elements;s?s.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(ME),W(B1,8),W(Ya))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const FR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LR=/%COMP%/g,sme=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xj(i,t){return t.map(e=>e.replace(LR,i))}let VR=(()=>{class i{constructor(e,n,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=wk(a),this.defaultRenderer=new BR(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Eo.ShadowDom&&(n={...n,encapsulation:Eo.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof Ej?r.applyToHost(e):r instanceof zR&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(n.encapsulation){case Eo.Emulated:o=new Ej(c,l,n,this.appId,d,s,a,h);break;case Eo.ShadowDom:return new dme(c,l,e,n,s,a,this.nonce,h);default:o=new zR(c,l,n,d,s,a,h)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(W(vj),W(yj),W(ME),W(sme),W(At),W(Ya),W(Ke),W(B1))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();class BR{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(FR[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Cj(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Cj(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new X(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=FR[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=FR[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Hu.DashCase|Hu.Important)?t.style.setProperty(e,n,r&Hu.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Hu.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=qu().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Cj(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class dme extends BR{constructor(t,e,n,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=xj(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zR extends BR{constructor(t,e,n,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?xj(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ej extends zR{constructor(t,e,n,r,o,s,a,c){const l=r+"-"+n.id;super(t,e,n,o,s,a,c,l),this.contentAttr=function ame(i){return"_ngcontent-%COMP%".replace(LR,i)}(l),this.hostAttr=function cme(i){return"_nghost-%COMP%".replace(LR,i)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let ume=(()=>{class i extends bj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const kj=["alt","control","meta","shift"],hme={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mme={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let pme=(()=>{class i extends bj{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qu().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),kj.forEach(l=>{const d=n.indexOf(l);d>-1&&(n.splice(d,1),s+=l+".")}),s+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=hme[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),kj.forEach(s=>{s!==r&&(0,mme[s])(e)&&(o+=s+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const Dj=[{provide:Ya,useValue:hj},{provide:O4,useValue:function fme(){PR.makeCurrent()},multi:!0},{provide:At,useFactory:function _me(){return function Qne(i){T1=i}(document),document},deps:[]}],vme=yU(Gde,"browser",Dj),bme=new Y(""),Ij=[{provide:ok,useClass:class tme{addToWindow(t){Pi.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new X(5103,!1);return o},Pi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pi.getAllAngularRootElements=()=>t.getAllRootElements(),Pi.frameworkStabilizers||(Pi.frameworkStabilizers=[]),Pi.frameworkStabilizers.push(n=>{const r=Pi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&n(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?qu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:fU,useClass:eR,deps:[Ke,tR,ok]},{provide:eR,useClass:eR,deps:[Ke,tR,ok]}],Sj=[{provide:N1,useValue:"root"},{provide:Za,useFactory:function gme(){return new Za},deps:[]},{provide:OR,useClass:ume,multi:!0,deps:[At,Ke,Ya]},{provide:OR,useClass:pme,multi:!0,deps:[At]},VR,yj,vj,{provide:ry,useExisting:VR},{provide:mj,useClass:ime,deps:[]},[]];let Mj=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:ME,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(W(bme,12))};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[...Sj,...Ij],imports:[qi,qde]})}return i})(),Aj=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(W(At))};static#t=this.\u0275prov=Ce({token:i,factory:function(n){let r=null;return r=n?new n:function wme(){return new Aj(W(At))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let UR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(n){let r=null;return r=n?new(n||i):W(Oj),r},providedIn:"root"})}return i})(),Oj=(()=>{class i extends UR{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case Ao.NONE:return n;case Ao.HTML:return ul(n,"HTML")?pa(n):C4(this._doc,String(n)).toString();case Ao.STYLE:return ul(n,"Style")?pa(n):n;case Ao.SCRIPT:if(ul(n,"Script"))return pa(n);throw new X(5200,!1);case Ao.URL:return ul(n,"URL")?pa(n):kE(String(n));case Ao.RESOURCE_URL:if(ul(n,"ResourceURL"))return pa(n);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(e){return function rre(i){return new Xne(i)}(e)}bypassSecurityTrustStyle(e){return function ore(i){return new Jne(i)}(e)}bypassSecurityTrustScript(e){return function sre(i){return new ere(i)}(e)}bypassSecurityTrustUrl(e){return function are(i){return new tre(i)}(e)}bypassSecurityTrustResourceUrl(e){return function cre(i){return new ire(i)}(e)}static#e=this.\u0275fac=function(n){return new(n||i)(W(At))};static#t=this.\u0275prov=Ce({token:i,factory:function(n){let r=null;return r=n?new n:function kme(i){return new Oj(i.get(At))}(W(zr)),r},providedIn:"root"})}return i})();const{isArray:Tme}=Array,{getPrototypeOf:Dme,prototype:Ime,keys:Sme}=Object;function Fj(i){if(1===i.length){const t=i[0];if(Tme(t))return{args:t,keys:null};if(function Mme(i){return i&&"object"==typeof i&&Dme(i)===Ime}(t)){const e=Sme(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:Ame}=Array;function jR(i){return Le(t=>function Rme(i,t){return Ame(t)?i(...t):i(t)}(i,t))}function Lj(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function Tk(...i){const t=Fa(i),e=ss(i),{args:n,keys:r}=Fj(i);if(0===n.length)return j([],t);const o=new zt(function Pme(i,t,e=qn){return n=>{Vj(t,()=>{const{length:r}=i,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Vj(t,()=>{const l=j(i[c],t);let d=!1;l.subscribe(Oe(n,h=>{o[c]=h,d||(d=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,r?s=>Lj(r,s):qn));return e?o.pipe(jR(e)):o}function Vj(i,t,e){i?Pr(e,i,t):t()}const Dk=yt(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Ry(...i){return function Ome(){return wo(1)}()(j(i,Fa(i)))}function Py(i){return new zt(t=>{cn(i()).subscribe(t)})}function qg(i,t){const e=P(i)?i:()=>i,n=r=>r.error(e());return new zt(t?r=>t.schedule(n,0,r):n)}function WR(){return te((i,t)=>{let e=null;i._refCount++;const n=Oe(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class $R extends zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,be(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wt;const e=this.getSubject();t.add(this.source.subscribe(Oe(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wt.EMPTY)}return t}refCount(){return WR()(this)}}function Ln(i){return i<=0?()=>gn:te((t,e)=>{let n=0;t.subscribe(Oe(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function Es(...i){const t=Fa(i);return te((e,n)=>{(t?Ry(i,e,t):Ry(i,e)).subscribe(n)})}function Vn(i,t){return te((e,n)=>{let r=0;e.subscribe(Oe(n,o=>i.call(t,o,r++)&&n.next(o)))})}function Ik(i){return te((t,e)=>{let n=!1;t.subscribe(Oe(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function Bj(i=Nme){return te((t,e)=>{let n=!1;t.subscribe(Oe(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Nme(){return new Dk}function Zu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Vn((r,o)=>i(r,o,n)):qn,Ln(1),e?Ik(t):Bj(()=>new Dk))}function Yg(i,t){return P(t)?Mi(i,t,1):Mi(i,1)}function fr(i,t,e){const n=P(i)||t||e?{next:i,error:t,complete:e}:i;return n?te((r,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;r.subscribe(Oe(o,c=>{var l;null===(l=n.next)||void 0===l||l.call(n,c),o.next(c)},()=>{var c;a=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var l;a=!1,null===(l=n.error)||void 0===l||l.call(n,c),o.error(c)},()=>{var c,l;a&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):qn}function Ku(i){return te((t,e)=>{let o,n=null,r=!1;n=t.subscribe(Oe(e,void 0,void 0,s=>{o=cn(i(s,Ku(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function Zg(i,t){return te(function Fme(i,t,e,n,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Oe(s,d=>{const h=l++;c=a?i(c,d,h):(a=!0,d),n&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(i,t,arguments.length>=2,!0))}function GR(i){return i<=0?()=>gn:te((t,e)=>{let n=[];t.subscribe(Oe(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Kg(i){return te((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function Ji(i){return te((t,e)=>{cn(i).subscribe(Oe(e,()=>e.complete(),et)),!e.closed&&t.subscribe(e)})}const ii="primary",Oy=Symbol("RouteTitle");class Vme{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qg(i){return new Vme(i)}function Bme(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function bl(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Hj(i[r],t[r]))return!1;return!0}function Hj(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function Uj(i){return i.length>0?i[i.length-1]:null}function Qu(i){return function kk(i){return!!i&&(i instanceof zt||P(i.lift)&&P(i.subscribe))}(i)?i:fy(i)?j(Promise.resolve(i)):ae(i)}const Hme={exact:function $j(i,t,e){if(!Jm(i.segments,t.segments)||!Sk(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!$j(i.children[n],t.children[n],e))return!1;return!0},subset:Gj},jj={exact:function Ume(i,t){return bl(i,t)},subset:function jme(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Hj(i[e],t[e]))},ignored:()=>!0};function Wj(i,t,e){return Hme[e.paths](i.root,t.root,e.matrixParams)&&jj[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function Gj(i,t,e){return qj(i,t,t.segments,e)}function qj(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Jm(r,e)||t.hasChildren()||!Sk(r,e,n))}if(i.segments.length===e.length){if(!Jm(i.segments,e)||!Sk(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!Gj(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(Jm(i.segments,r)&&Sk(i.segments,r,n)&&i.children[ii])&&qj(i.children[ii],t,o,n)}}function Sk(i,t,e){return t.every((n,r)=>jj[e](i[r].parameters,n.parameters))}class Xg{constructor(t=new en([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qg(this.queryParams)),this._queryParamMap}toString(){return Gme.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mk(this)}}class Ny{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qg(this.parameters)),this._parameterMap}toString(){return Kj(this)}}function Jm(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Fy=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return new qR},providedIn:"root"})}return i})();class qR{parse(t){const e=new npe(t);return new Xg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ly(t.root,!0)}`,n=function Zme(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${Ak(e)}=${Ak(r)}`).join("&"):`${Ak(e)}=${Ak(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function qme(i){return encodeURI(i)}(t.fragment)}`:""}`}}const Gme=new qR;function Mk(i){return i.segments.map(t=>Kj(t)).join("/")}function Ly(i,t){if(!i.hasChildren())return Mk(i);if(t){const e=i.children[ii]?Ly(i.children[ii],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==ii&&n.push(`${r}:${Ly(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function $me(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===ii&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==ii&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===ii?[Ly(i.children[ii],!1)]:[`${r}:${Ly(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ii]?`${Mk(i)}/${e[0]}`:`${Mk(i)}/(${e.join("//")})`}}function Yj(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ak(i){return Yj(i).replace(/%3B/gi,";")}function YR(i){return Yj(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rk(i){return decodeURIComponent(i)}function Zj(i){return Rk(i.replace(/\+/g,"%20"))}function Kj(i){return`${YR(i.path)}${function Yme(i){return Object.keys(i).map(t=>`;${YR(t)}=${YR(i[t])}`).join("")}(i.parameters)}`}const Kme=/^[^\/()?;#]+/;function ZR(i){const t=i.match(Kme);return t?t[0]:""}const Qme=/^[^\/()?;=#]+/,Jme=/^[^=?&#]+/,tpe=/^[^&#]+/;class npe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ii]=new en(t,e)),n}parseSegment(){const t=ZR(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new Ny(Rk(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Xme(i){const t=i.match(Qme);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=ZR(this.remaining);r&&(n=r,this.capture(n))}t[Rk(e)]=Rk(n)}parseQueryParam(t){const e=function epe(i){const t=i.match(Jme);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function ipe(i){const t=i.match(tpe);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const r=Zj(e),o=Zj(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ZR(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new X(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ii);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ii]:new en([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}}function Qj(i){return i.segments.length>0?new en([],{[ii]:i}):i}function Xj(i){const t={};for(const n of Object.keys(i.children)){const o=Xj(i.children[n]);if(n===ii&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function rpe(i){if(1===i.numberOfChildren&&i.children[ii]){const t=i.children[ii];return new en(i.segments.concat(t.segments),t.children)}return i}(new en(i.segments,t))}function ep(i){return i instanceof Xg}function Jj(i){let t;const r=Qj(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new en(o.url,s);return o===i&&(t=a),a}(i.root));return t??r}function e6(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return KR(r,r,r,e,n);const o=function spe(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new n6(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new n6(e,t,n)}(t);if(o.toRoot())return KR(r,r,new en([],{}),e,n);const s=function ape(i,t,e){if(i.isAbsolute)return new Ok(t,!0,0);if(!e)return new Ok(t,!1,NaN);if(null===e.parent)return new Ok(e,!0,0);const n=Pk(i.commands[0])?0:1;return function cpe(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new X(4005,!1);r=n.segments.length}return new Ok(n,!1,r-o)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(o,r,i),a=s.processChildren?By(s.segmentGroup,s.index,o.commands):r6(s.segmentGroup,s.index,o.commands);return KR(r,s.segmentGroup,a,e,n)}function Pk(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Vy(i){return"object"==typeof i&&null!=i&&i.outlets}function KR(i,t,e,n,r){let s,o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=i===t?e:t6(i,t,e);const a=Qj(Xj(s));return new Xg(a,o,r)}function t6(i,t,e){const n={};return Object.entries(i.children).forEach(([r,o])=>{n[r]=o===t?e:t6(o,t,e)}),new en(i.segments,n)}class n6{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pk(n[0]))throw new X(4003,!1);const r=n.find(Vy);if(r&&r!==Uj(n))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ok{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function r6(i,t,e){if(i||(i=new en([],{})),0===i.segments.length&&i.hasChildren())return By(i,t,e);const n=function dpe(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const s=i.segments[r],a=e[n];if(Vy(a))break;const c=`${a}`,l=n<e.length-1?e[n+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!s6(c,l,s))return o;n+=2}else{if(!s6(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new en(i.segments.slice(0,n.pathIndex),{});return o.children[ii]=new en(i.segments.slice(n.pathIndex),i.children),By(o,0,r)}return n.match&&0===r.length?new en(i.segments,{}):n.match&&!i.hasChildren()?QR(i,t,e):n.match?By(i,0,r):QR(i,t,e)}function By(i,t,e){if(0===e.length)return new en(i.segments,{});{const n=function lpe(i){return Vy(i[0])?i[0].outlets:{[ii]:i}}(e),r={};if(Object.keys(n).some(o=>o!==ii)&&i.children[ii]&&1===i.numberOfChildren&&0===i.children[ii].segments.length){const o=By(i.children[ii],t,e);return new en(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=r6(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{void 0===n[o]&&(r[o]=s)}),new en(i.segments,r)}}function QR(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Vy(o)){const c=upe(o.outlets);return new en(n,c)}if(0===r&&Pk(e[0])){n.push(new Ny(i.segments[t].path,o6(e[0]))),r++;continue}const s=Vy(o)?o.outlets[ii]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Pk(a)?(n.push(new Ny(s,o6(a))),r+=2):(n.push(new Ny(s,{})),r++)}return new en(n,{})}function upe(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=QR(new en([],{}),0,n))}),t}function o6(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function s6(i,t,e){return i==e.path&&bl(t,e.parameters)}const zy="imperative";class yl{constructor(t,e){this.id=t,this.url=e}}class Nk extends yl{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xu extends yl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hy extends yl{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jg extends yl{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class Fk extends yl{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a6 extends yl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hpe extends yl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mpe extends yl{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ppe extends yl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fpe extends yl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gpe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _pe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vpe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bpe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ype{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wpe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c6{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XR{}class JR{constructor(t){this.url=t}}class xpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uy,this.attachRef=null}}let Uy=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new xpe,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class l6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=eP(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=eP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tP(t,this._root).map(e=>e.value)}}function eP(i,t){if(i===t.value)return t;for(const e of t.children){const n=eP(i,e);if(n)return n}return null}function tP(i,t){if(i===t.value)return[t];for(const e of t.children){const n=tP(i,e);if(n.length)return n.unshift(t),n}return[]}class Dd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function e_(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class d6 extends l6{constructor(t,e){super(t),this.snapshot=e,iP(this,t)}toString(){return this.snapshot.toString()}}function u6(i,t){const e=function Cpe(i,t){const s=new Lk([],{},{},"",{},ii,t,null,{});return new m6("",new Dd(s,[]))}(0,t),n=new G([new Ny("",{})]),r=new G({}),o=new G({}),s=new G({}),a=new G(""),c=new t_(n,r,s,a,o,ii,t,e.root);return c.snapshot=e.root,new d6(new Dd(c,[]),e)}class t_{constructor(t,e,n,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Le(l=>l[Oy]))??ae(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Le(t=>Qg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Le(t=>Qg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function h6(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function Epe(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Lk{get title(){return this.data?.[Oy]}constructor(t,e,n,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m6 extends l6{constructor(t,e){super(e),this.url=t,iP(this,e)}toString(){return p6(this._root)}}function iP(i,t){t.value._routerState=i,t.children.forEach(e=>iP(i,e))}function p6(i){const t=i.children.length>0?` { ${i.children.map(p6).join(", ")} } `:"";return`${i.value}${t}`}function nP(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,bl(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),bl(t.params,e.params)||i.paramsSubject.next(e.params),function zme(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!bl(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),bl(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function rP(i,t){const e=bl(i.params,t.params)&&function Wme(i,t){return Jm(i,t)&&i.every((e,n)=>bl(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||rP(i.parent,t.parent))}let jy=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=ii,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=Ie(Uy),this.location=Ie(Dr),this.changeDetector=Ie(hn),this.environmentInjector=Ie(fa),this.inputBinder=Ie(Vk,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kpe(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xi]})}return i})();class kpe{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===t_?this.route:t===Uy?this.childContexts:this.parent.get(t,e)}}const Vk=new Y("");let f6=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=Tk([n.queryParams,n.params,n.data]).pipe(kt(([o,s,a],c)=>(a={...o,...s,...a},0===c?ae(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const s=function oue(i){const t=li(i);if(!t)return null;const e=new ly(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function Wy(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function Dpe(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Wy(i,n,r);return Wy(i,n)})}(i,t,e);return new Dd(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Wy(i,a)),s}}const n=function Ipe(i){return new t_(new G(i.url),new G(i.params),new G(i.queryParams),new G(i.fragment),new G(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>Wy(i,o));return new Dd(n,r)}}const oP="ngNavigationCancelingError";function g6(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=ep(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=_6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function _6(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[oP]=!0,n.cancellationCode=t,e&&(n.url=e),n}function v6(i){return i&&i[oP]}let b6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=ct({type:i,selectors:[["ng-component"]],standalone:!0,features:[w5],decls:1,vars:0,template:function(n,r){1&n&&Fe(0,"router-outlet")},dependencies:[jy],encapsulation:2})}return i})();function sP(i){const t=i.children&&i.children.map(sP),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ii&&(e.component=b6),e}function Ec(i){return i.outlet||ii}function $y(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Fpe{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),nP(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=e_(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=e_(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=e_(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=e_(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new wpe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new bpe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(nP(r),r===o)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nP(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=$y(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class y6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bk{constructor(t,e){this.component=t,this.route=e}}function Lpe(i,t,e){const n=i._root;return Gy(n,t?t._root:null,e,[n.value])}function i_(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||function sb(i){return null!==Wc(i)}(i)?t.get(i):i:n}function Gy(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e_(t);return i.children.forEach(s=>{(function Bpe(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function zpe(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Jm(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Jm(i.url,t.url)||!bl(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rP(i,t)||!bl(i.queryParams,t.queryParams);default:return!rP(i,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new y6(n)):(o.data=s.data,o._resolvedData=s._resolvedData),Gy(i,t,o.component?a?a.children:null:e,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Bk(a.outlet.component,s))}else s&&qy(t,a,r),r.canActivateChecks.push(new y6(n)),Gy(i,null,o.component?a?a.children:null:e,n,r)})(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qy(a,e.getContext(s),r)),r}function qy(i,t,e){const n=e_(i),r=i.value;Object.entries(n).forEach(([o,s])=>{qy(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Bk(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Yy(i){return"function"==typeof i}function w6(i){return i instanceof Dk||"EmptyError"===i?.name}const zk=Symbol("INITIAL_VALUE");function n_(){return kt(i=>Tk(i.map(t=>t.pipe(Ln(1),Es(zk)))).pipe(Le(t=>{for(const e of t)if(!0!==e){if(e===zk)return zk;if(!1===e||e instanceof Xg)return e}return!0}),Vn(t=>t!==zk),Ln(1)))}function x6(i){return function Tt(...i){return Ns(i)}(fr(t=>{if(ep(t))throw g6(0,t)}),Le(t=>!0===t))}class Hk{constructor(t){this.segmentGroup=t||null}}class C6{constructor(t){this.urlTree=t}}function r_(i){return qg(new Hk(i))}function E6(i){return qg(new C6(i))}class sfe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new X(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ae(n);if(r.numberOfChildren>1||!r.children[ii])return qg(new X(4e3,!1));r=r.children[ii]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new Xg(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,r)}),new en(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const aP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function afe(i,t,e,n,r){const o=cP(i,t,e);return o.matched?(n=function Mpe(i,t){return i.providers&&!i._injector&&(i._injector=LA(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function nfe(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?ae(r.map(s=>{const a=i_(s,i);return Qu(function Gpe(i){return i&&Yy(i.canMatch)}(a)?a.canMatch(t,e):i.runInContext(()=>a(t,e)))})).pipe(n_(),x6()):ae(!0)}(n,t,e).pipe(Le(s=>!0===s?o:{...aP}))):ae(o)}function cP(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...aP}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Bme)(e,i,t);if(!r)return{...aP};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function k6(i,t,e,n){return e.length>0&&function dfe(i,t,e){return e.some(n=>Uk(i,t,n)&&Ec(n)!==ii)}(i,e,n)?{segmentGroup:new en(t,lfe(n,new en(e,i.children))),slicedSegments:[]}:0===e.length&&function ufe(i,t,e){return e.some(n=>Uk(i,t,n))}(i,e,n)?{segmentGroup:new en(i.segments,cfe(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new en(i.segments,i.children),slicedSegments:e}}function cfe(i,t,e,n,r){const o={};for(const s of n)if(Uk(i,e,s)&&!r[Ec(s)]){const a=new en([],{});o[Ec(s)]=a}return{...r,...o}}function lfe(i,t){const e={};e[ii]=t;for(const n of i)if(""===n.path&&Ec(n)!==ii){const r=new en([],{});e[Ec(n)]=r}return e}function Uk(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ffe{constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sfe(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,!1)}recognize(){const t=k6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ii).pipe(Ku(e=>{if(e instanceof C6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Hk?this.noMatchError(e):e}),Le(e=>{const n=new Lk([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ii,this.rootComponentType,null,{}),r=new Dd(n,e),o=new m6("",r),s=function ope(i,t,e=null,n=null){return e6(Jj(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ii).pipe(Ku(n=>{throw n instanceof Hk?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=h6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return j(r).pipe(Yg(o=>{const s=n.children[o],a=function Ope(i,t){const e=i.filter(n=>Ec(n)===t);return e.push(...i.filter(n=>Ec(n)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Zg((o,s)=>(o.push(...s),o)),Ik(null),function Lme(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Vn((r,o)=>i(r,o,n)):qn,GR(1),e?Ik(t):Bj(()=>new Dk))}(),Mi(o=>{if(null===o)return r_(n);const s=T6(o);return function gfe(i){i.sort((t,e)=>t.value.outlet===ii?-1:e.value.outlet===ii?1:t.value.outlet.localeCompare(e.value.outlet))}(s),ae(s)}))}processSegment(t,e,n,r,o,s){return j(e).pipe(Yg(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,r,o,s).pipe(Ku(c=>{if(c instanceof Hk)return ae(null);throw c}))),Zu(a=>!!a),Ku(a=>{if(w6(a))return function mfe(i,t,e){return 0===t.length&&!i.children[e]}(n,r,o)?ae([]):r_(n);throw a}))}processSegmentAgainstRoute(t,e,n,r,o,s,a){return function hfe(i,t,e,n){return!!(Ec(i)===n||n!==ii&&Uk(t,e,i))&&("**"===i.path||cP(t,i,e).matched)}(n,r,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s):r_(r):r_(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?E6(o):this.applyRedirects.lineralizeSegments(n,o).pipe(Mi(s=>{const a=new en(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:d}=cP(e,r,o);if(!a)return r_(e);const h=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return r.redirectTo.startsWith("/")?E6(h):this.applyRedirects.lineralizeSegments(r,h).pipe(Mi(p=>this.processSegment(t,n,e,p.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a;if("**"===n.path){const c=r.length>0?Uj(r).parameters:{};a=ae({snapshot:new Lk(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D6(n),Ec(n),n.component??n._loadedComponent??null,n,I6(n)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=afe(e,n,r,t).pipe(Le(({matched:c,consumedSegments:l,remainingSegments:d,parameters:h})=>c?{snapshot:new Lk(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D6(n),Ec(n),n.component??n._loadedComponent??null,n,I6(n)),consumedSegments:l,remainingSegments:d}:null));return a.pipe(kt(c=>null===c?r_(e):this.getChildConfig(t=n._injector??t,n,r).pipe(kt(({routes:l})=>{const d=n._loadedInjector??t,{snapshot:h,consumedSegments:p,remainingSegments:g}=c,{segmentGroup:b,slicedSegments:w}=k6(e,p,g,l);if(0===w.length&&b.hasChildren())return this.processChildren(d,l,b).pipe(Le(S=>null===S?null:[new Dd(h,S)]));if(0===l.length&&0===w.length)return ae([new Dd(h,[])]);const x=Ec(n)===o;return this.processSegment(d,l,b,w,x?ii:o,!0).pipe(Le(S=>[new Dd(h,S)]))}))))}getChildConfig(t,e,n){return e.children?ae({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ae({routes:e._loadedRoutes,injector:e._loadedInjector}):function ife(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?ae(!0):ae(r.map(s=>{const a=i_(s,i);return Qu(function Upe(i){return i&&Yy(i.canLoad)}(a)?a.canLoad(t,e):i.runInContext(()=>a(t,e)))})).pipe(n_(),x6())}(t,e,n).pipe(Mi(r=>r?this.configLoader.loadChildren(t,e).pipe(fr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function ofe(i){return qg(_6(!1,3))}())):ae({routes:[],injector:t})}}function _fe(i){const t=i.value.routeConfig;return t&&""===t.path}function T6(i){const t=[],e=new Set;for(const n of i){if(!_fe(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=T6(n.children);t.push(new Dd(n.value,r))}return t.filter(n=>!e.has(n))}function D6(i){return i.data||{}}function I6(i){return i.resolve||{}}function bfe(i,t){return Mi(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ae(e);let o=0;return j(r).pipe(Yg(s=>function yfe(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!S6(r)&&(o[Oy]=r.title),function wfe(i,t,e,n){const r=function xfe(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return ae({});const o={};return j(r).pipe(Mi(s=>function Cfe(i,t,e,n){const r=$y(t)??n,o=i_(i,r);return Qu(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(i[s],t,e,n).pipe(Zu(),fr(a=>{o[s]=a}))),GR(1),function zj(i){return Le(()=>i)}(o),Ku(s=>w6(s)?gn:qg(s)))}(o,i,t,n).pipe(Le(s=>(i._resolvedData=s,i.data=h6(i,e).resolve,r&&S6(r)&&(i.data[Oy]=r.title),null)))}(s.route,n,i,t)),fr(()=>o++),GR(1),Mi(s=>o===r.length?ae(e):gn))})}function S6(i){return"string"==typeof i.title||null===i.title}function lP(i){return kt(t=>{const e=i(t);return e?j(e).pipe(Le(()=>t)):ae(t)})}const o_=new Y("ROUTES");let dP=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(uU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ae(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Qu(e.loadComponent()).pipe(Le(M6),fr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Kg(()=>{this.componentLoaders.delete(e)})),r=new $R(n,()=>new q).pipe(WR());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ae({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function Efe(i,t,e,n){return Qu(i.loadChildren()).pipe(Le(M6),Mi(r=>r instanceof b5||Array.isArray(r)?ae(r):j(t.compileModuleAsync(r))),Le(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(o_,[],{optional:!0,self:!0}).flat()),{routes:s.map(sP),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Kg(()=>{this.childrenLoaders.delete(n)})),s=new $R(o,()=>new q).pipe(WR());return this.childrenLoaders.set(n,s),s}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function M6(i){return function kfe(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let jk=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=Ie(dP),this.environmentInjector=Ie(fa),this.urlSerializer=Ie(Fy),this.rootContexts=Ie(Uy),this.inputBindingEnabled=null!==Ie(Vk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new _pe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new gpe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new G({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zy,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(o=>0!==o.id),Le(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),kt(o=>{this.currentTransition=o;let s=!1,a=!1;return ae(o).pipe(fr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kt(c=>{const l=c.currentBrowserUrl.toString(),d=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new Jg(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),gn}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe(kt(p=>{const g=this.transitions?.getValue();return this.events.next(new Nk(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?gn:Promise.resolve(p)}),function vfe(i,t,e,n,r,o){return Mi(s=>function pfe(i,t,e,n,r,o,s="emptyOnly"){return new ffe(i,t,e,n,r,s,o).recognize()}(i,t,e,n,s.extractedUrl,r,o).pipe(Le(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),fr(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new a6(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:b,restoredState:w,extras:x}=c,S=new Nk(p,this.urlSerializer.serialize(g),b,w);this.events.next(S);const D=u6(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:D,urlAfterRedirects:g,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},ae(o)}{const p="";return this.events.next(new Jg(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),gn}}),fr(c=>{const l=new hpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Le(c=>(this.currentTransition=o={...c,guards:Lpe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ype(i,t){return Mi(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ae({...e,guardsResult:!0}):function Zpe(i,t,e,n){return j(i).pipe(Mi(r=>function tfe(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ae(o.map(a=>{const c=$y(t)??r,l=i_(a,c);return Qu(function $pe(i){return i&&Yy(i.canDeactivate)}(l)?l.canDeactivate(i,t,e,n):c.runInContext(()=>l(i,t,e,n))).pipe(Zu())})).pipe(n_()):ae(!0)}(r.component,r.route,e,t,n)),Zu(r=>!0!==r,!0))}(s,n,r,i).pipe(Mi(a=>a&&function Hpe(i){return"boolean"==typeof i}(a)?function Kpe(i,t,e,n){return j(t).pipe(Yg(r=>Ry(function Xpe(i,t){return null!==i&&t&&t(new vpe(i)),ae(!0)}(r.route.parent,n),function Qpe(i,t){return null!==i&&t&&t(new ype(i)),ae(!0)}(r.route,n),function efe(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Vpe(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Py(()=>ae(s.guards.map(c=>{const l=$y(s.node)??e,d=i_(c,l);return Qu(function Wpe(i){return i&&Yy(i.canActivateChild)}(d)?d.canActivateChild(n,i):l.runInContext(()=>d(n,i))).pipe(Zu())})).pipe(n_())));return ae(o).pipe(n_())}(i,r.path,e),function Jpe(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return ae(!0);const r=n.map(o=>Py(()=>{const s=$y(t)??e,a=i_(o,s);return Qu(function jpe(i){return i&&Yy(i.canActivate)}(a)?a.canActivate(t,i):s.runInContext(()=>a(t,i))).pipe(Zu())}));return ae(r).pipe(n_())}(i,r.route,e))),Zu(r=>!0!==r,!0))}(n,o,i,t):ae(a)),Le(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),fr(c=>{if(o.guardsResult=c.guardsResult,ep(c.guardsResult))throw g6(0,c.guardsResult);const l=new mpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Vn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),lP(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe(fr(l=>{const d=new ppe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),kt(l=>{let d=!1;return ae(l).pipe(bfe(e.paramsInheritanceStrategy,this.environmentInjector),fr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),fr(l=>{const d=new fpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lP(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(fr(p=>{d.component=p}),Le(()=>{})));for(const p of d.children)h.push(...l(p));return h};return Tk(l(c.targetSnapshot.root)).pipe(Ik(),Ln(1))}),lP(()=>this.afterPreactivation()),Le(c=>{const l=function Tpe(i,t,e){const n=Wy(i,t._root,e?e._root:void 0);return new d6(n,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),fr(()=>{this.events.next(new XR)}),((i,t,e,n)=>Le(r=>(new Fpe(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ln(1),fr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ji(this.transitionAbortSubject.pipe(fr(c=>{throw c}))),Kg(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ku(c=>{if(a=!0,v6(c))this.events.next(new Hy(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Spe(i){return v6(i)&&ep(i.url)}(c)?this.events.next(new JR(c.url)):o.resolve(!1);else{this.events.next(new Fk(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return gn}))}))}cancelNavigationTransition(e,n,r){const o=new Hy(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function A6(i){return i!==zy}let R6=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===ii);return n}getResolvedTitleForRoute(e){return e.data[Oy]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return Ie(Tfe)},providedIn:"root"})}return i})(),Tfe=(()=>{class i extends R6{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(W(Aj))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Dfe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return Ie(Sfe)},providedIn:"root"})}return i})();class Ife{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Sfe=(()=>{class i extends Ife{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=St(i)))(r||i)}}();static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Wk=new Y("",{providedIn:"root",factory:()=>({})});let Mfe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:function(){return Ie(Afe)},providedIn:"root"})}return i})(),Afe=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Zy=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Zy||{});function P6(i,t){i.events.pipe(Vn(e=>e instanceof Xu||e instanceof Hy||e instanceof Fk||e instanceof Jg),Le(e=>e instanceof Xu||e instanceof Jg?Zy.COMPLETE:e instanceof Hy&&(0===e.code||1===e.code)?Zy.REDIRECTING:Zy.FAILED),Vn(e=>e!==Zy.REDIRECTING),Ln(1)).subscribe(()=>{t()})}function Rfe(i){throw i}function Pfe(i,t,e){return t.parse("/")}const Ofe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nfe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ks=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ie(dU),this.isNgZoneEnabled=!1,this._events=new q,this.options=Ie(Wk,{optional:!0})||{},this.pendingTasks=Ie(nk),this.errorHandler=this.options.errorHandler||Rfe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pfe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ie(Mfe),this.routeReuseStrategy=Ie(Dfe),this.titleStrategy=Ie(R6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ie(o_,{optional:!0})?.flat()??[],this.navigationTransitions=Ie(jk),this.urlSerializer=Ie(Fy),this.location=Ie(Dy),this.componentInputBindingEnabled=!!Ie(Vk,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=Ie(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(O6(n)&&this._events.next(n));if(n instanceof Nk)A6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof Jg)this.rawUrlTree=r.rawUrl;else if(n instanceof a6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof XR)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof Hy)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof JR){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||A6(r.source)};this.scheduleNavigation(o,zy,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof Fk&&this.restoreHistory(r,!0),n instanceof Xu&&(this.navigated=!0),O6(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zy,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(sP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=Jj(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),h=this.currentUrlTree.root}return e6(h,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=ep(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,zy,null,n)}navigate(e,n={skipLocationChange:!1}){return function Ffe(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new X(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...Ofe}:!1===n?{...Nfe}:n,ep(e))return Wj(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Wj(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return P6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function O6(i){return!(i instanceof XR||i instanceof JR)}let $k=(()=>{class i{constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Xu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function T4(i,t,e){return function Cre(i,t){return"src"===t&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===t&&("base"===i||"link"===i)?k4:E4}(t,e)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(T(ks),T(t_),So("tabindex"),T(vd),T(rt),T(Xm))};static#t=this.\u0275dir=ne({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&we("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&vt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",jg],skipLocationChange:["skipLocationChange","skipLocationChange",jg],replaceUrl:["replaceUrl","replaceUrl",jg],routerLink:"routerLink"},standalone:!0,features:[Lz,Xi]})}return i})(),N6=(()=>{class i{get isActive(){return this._isActive}constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Xu&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(wo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=j(e).pipe(wo()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function Lfe(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(ks),T(rt),T(vd),T(hn),T($k,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&_i(o,$k,5),2&n){let s;Qe(s=Xe())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Xi]})}return i})();class F6{}let Vfe=(()=>{class i{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(e=>e instanceof Xu),Yg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=LA(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return j(r).pipe(wo())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):ae(null);const o=r.pipe(Mi(s=>null===s?ae(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return n.loadComponent&&!n._loadedComponent?j([o,this.loader.loadComponent(n)]).pipe(wo()):o})}static#e=this.\u0275fac=function(n){return new(n||i)(W(ks),W(uU),W(fa),W(F6),W(dP))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const uP=new Y("");let L6=(()=>{class i{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Nk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xu?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Jg&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof c6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){ju()};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function Id(i,t){return{\u0275kind:i,\u0275providers:t}}function B6(){const i=Ie(zr);return t=>{const e=i.get(Gu);if(t!==e.components[0])return;const n=i.get(ks),r=i.get(z6);1===i.get(hP)&&n.initialNavigation(),i.get(H6,null,ci.Optional)?.setUpPreloading(),i.get(uP,null,ci.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const z6=new Y("",{factory:()=>new q}),hP=new Y("",{providedIn:"root",factory:()=>1}),H6=new Y("");function Ufe(i){return Id(0,[{provide:H6,useExisting:Vfe},{provide:F6,useExisting:i}])}const U6=new Y("ROUTER_FORROOT_GUARD"),Wfe=[Dy,{provide:Fy,useClass:qR},ks,Uy,{provide:t_,useFactory:function V6(i){return i.routerState.root},deps:[ks]},dP,[]];function $fe(){return new vU("Router",ks)}let j6=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[Wfe,[],{provide:o_,multi:!0,useValue:e},{provide:U6,useFactory:Zfe,deps:[[ks,new Wo,new ha]]},{provide:Wk,useValue:n||{}},n?.useHash?{provide:Xm,useClass:due}:{provide:Xm,useClass:ZU},{provide:uP,useFactory:()=>{const i=Ie(Dhe),t=Ie(Ke),e=Ie(Wk),n=Ie(jk),r=Ie(Fy);return e.scrollOffset&&i.setOffset(e.scrollOffset),new L6(r,n,i,t,e)}},n?.preloadingStrategy?Ufe(n.preloadingStrategy).\u0275providers:[],{provide:vU,multi:!0,useFactory:$fe},n?.initialNavigation?Kfe(n):[],n?.bindToComponentInputs?Id(8,[f6,{provide:Vk,useExisting:f6}]).\u0275providers:[],[{provide:W6,useFactory:B6},{provide:rR,multi:!0,useExisting:W6}]]}}static forChild(e){return{ngModule:i,providers:[{provide:o_,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(W(U6,8))};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();function Zfe(i){return"guarded"}function Kfe(i){return["disabled"===i.initialNavigation?Id(3,[{provide:KA,multi:!0,useFactory:()=>{const t=Ie(ks);return()=>{t.setUpLocationChangeListener()}}},{provide:hP,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Id(2,[{provide:hP,useValue:0},{provide:KA,multi:!0,deps:[zr],useFactory:t=>{const e=t.get(cue,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get(ks),o=t.get(z6);P6(r,()=>{n(!0)}),t.get(jk).afterPreactivation=()=>(n(!0),o.closed?ae(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const W6=new Y("");var ce=bt(861);var Xfe=bt(519),Jfe=bt.n(Xfe),wl=(bt(191),bt(823));(0,wl.registerVersion)("firebase","10.7.2","app");class ige extends wt{constructor(t,e){super()}schedule(t,e=0){return this}}const Gk={setInterval(i,t,...e){const{delegate:n}=Gk;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=Gk;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class qk extends ige{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return Gk.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Gk.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Et(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const mP={now:()=>(mP.delegate||Date).now(),delegate:void 0};class Ky{constructor(t,e=Ky.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Ky.now=mP.now;class Yk extends Ky{constructor(t,e=Ky.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const oge=new class rge extends Yk{}(class nge extends qk{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,e,n):(t.flush(this),0)}}),tp=new Yk(qk),sge=tp,pP=new Uu("ANGULARFIRE2_VERSION");class fP{constructor(){return((i,t)=>{const e=(0,wl.getApps)(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n})(cge)}}const cge="app-check";function s_(){}class G6{zone;delegate;constructor(t,e=oge){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,n)}}class lge{zone;task=null;constructor(t){this.zone=t}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",s_,{},s_,s_)),e.pipe(fr({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gP=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new G6(Zone.current)),this.insideAngular=e.run(()=>new G6(Zone.current,tp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(W(Ke))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function to(i){return function uge(i){return function(e){return(e=e.lift(new lge(i.ngZone))).pipe(co(i.outsideAngular),_n(i.insideAngular))}}(function a_(){const i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return i}())(i)}var Sd=bt(399);Sd.Z.registerVersion("firebase","10.7.2","app-compat");const fge=["ngOnDestroy"];class q6{constructor(t){return t}}const Qy=new Y("angularfire2.app.options"),Xy=new Y("angularfire2.app.name");function Zk(i,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Sd.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Sd.Z.initializeApp(i,r));try{if(JSON.stringify(i)!==JSON.stringify(s.options)){const a=!!module.hot;vge("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new q6(s)}const vge=(i,...t)=>{},bge={provide:q6,useFactory:Zk,deps:[Qy,Ke,[new Wo,Xy]]};let yge=(()=>{class i{static initializeApp(e,n){return{ngModule:i,providers:[{provide:Qy,useValue:e},{provide:Xy,useValue:n}]}}constructor(e){Sd.Z.registerVersion("angularfire",pP.full,"core"),Sd.Z.registerVersion("angularfire",pP.full,"app-compat"),Sd.Z.registerVersion("angular",z4.full,e.toString())}static \u0275fac=function(n){return new(n||i)(W(Ya))};static \u0275mod=Re({type:i});static \u0275inj=Ne({providers:[bge]})}return i})();function _P(i,t,e,n,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===i)||[];if(o)return function wge(i,t){try{return i.toString()===t.toString()}catch{return i===t}}(r,s)||(Y6("error",`${t} was already initialized on the ${e} Firebase App with different settings.${xge?" You may need to reload as Firebase is not HMR aware.":""}`),Y6("warn",{is:r,was:s})),o;{const a=n();return globalThis.\u0275AngularfireInstanceCache.push([i,a,r]),a}}const xge=typeof module<"u"&&!!module.hot,Y6=(i,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class Cge extends q{constructor(t=1/0,e=1/0,n=mP){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const s=e.now();let a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}}function vP(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,xt({connector:()=>new Cge(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Z6(i,t){return P(t)?kt(()=>i,t):kt(()=>i)}const bP=new Y("angularfire2.auth.use-emulator"),yP=new Y("angularfire2.auth.settings"),wP=new Y("angularfire2.auth.tenant-id"),xP=new Y("angularfire2.auth.langugage-code"),CP=new Y("angularfire2.auth.use-device-language"),EP=new Y("angularfire.auth.persistence"),kP=(i,t,e,n,r,o,s,a)=>_P(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const c=t.runOutsideAngular(()=>i.auth());if(e&&c.useEmulator(...e),n&&(c.tenantId=n),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[e,n,r,o,s,a]);let Kk=(()=>{class i{authState;idToken;user;idTokenResult;credential;constructor(e,n,r,o,s,a,c,l,d,h,p,g){const b=new q,w=ae(void 0).pipe(_n(s.outsideAngular),kt(()=>o.runOutsideAngular(()=>Promise.resolve().then(bt.bind(bt,191)))),Le(()=>Zk(e,o,n)),Le(x=>kP(x,o,a,l,d,h,c,p)),vP({bufferSize:1,refCount:!1}));if(wk(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ae(null);else{w.pipe(Zu()).subscribe();const x=w.pipe(kt(M=>M.getRedirectResult().then(L=>L,()=>null)),to,vP({bufferSize:1,refCount:!1})),S=w.pipe(kt(M=>new zt(L=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(z=>L.next(z),z=>L.error(z),()=>L.complete()))})))),D=w.pipe(kt(M=>new zt(L=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(z=>L.next(z),z=>L.error(z),()=>L.complete()))}))));this.authState=x.pipe(Z6(S),co(s.outsideAngular),_n(s.insideAngular)),this.user=x.pipe(Z6(D),co(s.outsideAngular),_n(s.insideAngular)),this.idToken=this.user.pipe(kt(M=>M?j(M.getIdToken()):ae(null))),this.idTokenResult=this.user.pipe(kt(M=>M?j(M.getIdTokenResult()):ae(null))),this.credential=ee(x,b,this.authState.pipe(Vn(M=>!M))).pipe(Le(M=>M?.user?M:null),co(s.outsideAngular),_n(s.insideAngular))}return((i,t,e,n={})=>new Proxy(i,{get:(r,o)=>e.runOutsideAngular(()=>{if(i[o])return n?.spy?.get&&n.spy.get(o,i[o]),i[o];if(fge.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{const h=d?.(...l);return n?.spy?.apply&&n.spy.apply(o,l,h),h})})})}))(this,w,o,{spy:{apply:(x,S,D)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&D.then(M=>b.next(M))}}})}static \u0275fac=function(n){return new(n||i)(W(Qy),W(Xy,8),W(Ya),W(Ke),W(gP),W(bP,8),W(yP,8),W(wP,8),W(xP,8),W(CP,8),W(EP,8),W(fP,8))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();var Md=bt(537),R=bt(58),va=bt(879);const K6="@firebase/database";let TP="";function DP(i){TP=i}class Dge{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ige{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const X6=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dge(t)}}catch{}return new Ige},np=X6("localStorage"),IP=X6("sessionStorage"),c_=new va.Yd("@firebase/database"),J6=function(){let i=1;return function(){return i++}}(),eW=function(i){const t=(0,R.dS)(i),e=new R.gQ;e.update(t);const n=e.digest();return R.US.encodeByteArray(n)},Jy=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=Jy.apply(null,n):t+="object"==typeof n?(0,R.Wl)(n):n,t+=" "}return t};let rp=null,tW=!0;const iW=function(i,t){(0,R.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(c_.logLevel=va.in.VERBOSE,rp=c_.log.bind(c_),t&&IP.set("logging_enabled",!0)):"function"==typeof i?rp=i:(rp=null,IP.remove("logging_enabled"))},ho=function(...i){if(!0===tW&&(tW=!1,null===rp&&!0===IP.get("logging_enabled")&&iW(!0)),rp){const t=Jy.apply(null,i);rp(t)}},e0=function(i){return function(...t){ho(i,...t)}},SP=function(...i){const t="FIREBASE INTERNAL ERROR: "+Jy(...i);c_.error(t)},xl=function(...i){const t=`FIREBASE FATAL ERROR: ${Jy(...i)}`;throw c_.error(t),new Error(t)},qo=function(...i){const t="FIREBASE WARNING: "+Jy(...i);c_.warn(t)},Qk=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ju="[MIN_NAME]",Ad="[MAX_NAME]",op=function(i,t){if(i===t)return 0;if(i===Ju||t===Ad)return-1;if(t===Ju||i===Ad)return 1;{const e=oW(i),n=oW(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},Age=function(i,t){return i===t?0:i<t?-1:1},t0=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,R.Wl)(t))},MP=function(i){if("object"!=typeof i||null===i)return(0,R.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,R.Wl)(t[n]),e+=":",e+=MP(i[t[n]]);return e+="}",e},nW=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function mo(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const rW=function(i){(0,R.hu)(!Qk(i),"Invalid JSON number");const n=1023;let r,o,s,a,c;0===i?(o=0,s=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(i)/Math.LN2),n),o=a+n,s=Math.round(i*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(i/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const d=l.join("");let h="";for(c=0;c<64;c+=8){let p=parseInt(d.substr(c,8),2).toString(16);1===p.length&&(p="0"+p),h+=p}return h.toLowerCase()},Nge=new RegExp("^-?(0*)\\d{1,10}$"),oW=function(i){if(Nge.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},l_=function(i){try{i()}catch(t){setTimeout(()=>{throw qo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},n0=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Bge{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){qo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zge{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ho("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qo(t)}}let r0=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const dW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mW="websocket",pW="long_polling";class RP{constructor(t,e,n,r,o=!1,s="",a=!1,c=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=np.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&np.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function fW(i,t,e){let n;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===mW)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==pW)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Hge(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return mo(e,(o,s)=>{r.push(o+"="+s)}),n+r.join("&")}class Uge{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const PP={},OP={};function NP(i){const t=i.toString();return PP[t]||(PP[t]=new Uge),PP[t]}class Wge{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&l_(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class eh{constructor(t,e,n,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=e0(t),this.stats_=NP(e),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),fW(e,pW,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Wge(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,R.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FP((...o)=>{const[s,a,c,l,d]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&dW.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eh.forceAllow_=!0}static forceDisallow(){eh.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!eh.forceAllow_&&(eh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,R.h$)(e),r=nW(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class FP{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=J6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=FP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ho("frame writing exception"),a.stack&&ho(a.stack),ho(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ho("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const s=this.pendingSegs.shift();n=n+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{ho("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let Jk=null;typeof MozWebSocket<"u"?Jk=MozWebSocket:typeof WebSocket<"u"&&(Jk=WebSocket);let d_=(()=>{class i{constructor(e,n,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=e0(this.connId),this.stats_=NP(n),this.connURL=i.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,s){const a={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&dW.test(location.hostname)&&(a.r="f"),n&&(a.s=n),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),fW(e,mW,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,np.set("previous_websocket_failure",!0);try{let r;if((0,R.Yr)()){r={headers:{"User-Agent":`Firebase/5/${TP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Jk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Jk&&!i.forceDisallow_}static previouslyFailed(){return np.isInMemoryStorage||!0===np.get("previous_websocket_failure")}markConnectionHealthy(){np.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,R.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,R.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nW(n,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),xW=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[eh,d_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=d_&&d_.isAvailable();let r=n&&!d_.previouslyFailed();if(e.webSocketOnly&&(n||qo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[d_];else{const o=this.transports_=[];for(const s of i.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class SW{constructor(t,e,n,r,o,s,a,c,l,d){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=e0("c:"+this.id+":"),this.transportManager_=new xW(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=n0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=t0("t",t),n=t0("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=t0("t",t),n=t0("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=t0("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?SP("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&qo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),n0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):n0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(np.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class MW{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class AW{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class eT extends AW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eT}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Fi(){return new Yi("")}function mi(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function th(i){return i.pieces_.length-i.pieceNum_}function xn(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Yi(i.pieces_,t)}function VP(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function o0(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function OW(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Yi(t,0)}function Qn(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Yi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Yi(e,0)}function pi(i){return i.pieceNum_>=i.pieces_.length}function Ts(i,t){const e=mi(i),n=mi(t);if(null===e)return t;if(e===n)return Ts(xn(i),xn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function h_e(i,t){const e=o0(i,0),n=o0(t,0);for(let r=0;r<e.length&&r<n.length;r++){const o=op(e[r],n[r]);if(0!==o)return o}return e.length===n.length?0:e.length<n.length?-1:1}function BP(i,t){if(th(i)!==th(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function tc(i,t){let e=i.pieceNum_,n=t.pieceNum_;if(th(i)>th(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class m_e{constructor(t,e){this.errorPrefix_=e,this.parts_=o0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,R.ug)(this.parts_[n]);NW(this)}}function NW(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sp(i))}function sp(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class zP extends AW{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new zP}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const s0=1e3;let iT,ap=(()=>{class i extends MW{constructor(e,n,r,o,s,a,c,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=i.nextPersistentConnectionId_++,this.log_=e0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=s0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,s={r:o,a:e,b:n};this.log_((0,R.Wl)(s)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new R.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?n.resolve(c):n.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,d=c.s;i.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),"ok"!==d&&this.removeListen_(r,o),e.onComplete&&e.onComplete(d,l))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const r=(0,R.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();qo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,R.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,s){this.initConnection_();const a={p:n,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):SP("Unrecognized action received from server: "+(0,R.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=s0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=s0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=s0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ce.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+i.nextConnectionId_++,a=e.lastSessionId;let c=!1,l=null;const d=function(){l?l.close():(c=!0,o())};e.realtime_={close:d,sendRequest:function(g){(0,R.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)}};const p=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[g,b]=yield Promise.all([e.authTokenProvider_.getToken(p),e.appCheckTokenProvider_.getToken(p)]);c?ho("getToken() completed but was canceled"):(ho("getToken() completed. Creating connection."),e.authToken_=g&&g.accessToken,e.appCheckToken_=b&&b.token,l=new SW(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,o,w=>{qo(w+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(g){e.log_("Failed to get token: "+g),c||(e.repoInfo_.nodeAdmin&&qo(g),d())}}})()}interrupt(e){ho("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ho("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=s0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(s=>MP(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Yi(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){ho("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ho("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,R.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+TP.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eT.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class vi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vi(t,e)}}class tT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new vi(Ju,t),r=new vi(Ju,e);return 0!==this.compare(n,r)}minPost(){return vi.MIN}}class VW extends tT{static get __EMPTY_NODE(){return iT}static set __EMPTY_NODE(t){iT=t}compare(t,e){return op(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vi.MIN}maxPost(){return new vi(Ad,iT)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new vi(t,iT)}toString(){return".key"}}const Cl=new VW;class nT{constructor(t,e,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let UP,kc=(()=>{class i{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??i.RED,this.left=o??Ks.EMPTY_NODE,this.right=s??Ks.EMPTY_NODE}copy(e,n,r,o,s){return new i(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===s?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ks.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return Ks.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Ks{constructor(t,e=Ks.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ks(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,kc.BLACK,null,null))}remove(t){return new Ks(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kc.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new nT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new nT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new nT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new nT(this.root_,null,this.comparator_,!0,t)}}function w_e(i,t){return op(i.name,t.name)}function HP(i,t){return op(i,t)}Ks.EMPTY_NODE=new class y_e{copy(t,e,n,r,o){return this}insert(t,e,n){return new kc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const BW=function(i){return"number"==typeof i?"number:"+rW(i):"string:"+i},zW=function(i){if(i.isLeafNode()){const t=i.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(i===UP||i.isEmpty(),"priority of unexpected type.");(0,R.hu)(i===UP||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let HW,UW,jW,u_=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zW(this.priorityNode_)}static set __childrenNodeConstructor(e){HW=e}static get __childrenNodeConstructor(){return HW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pi(e)?this:".priority"===mi(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=mi(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,R.hu)(".priority"!==r||1===th(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(xn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BW(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?rW(this.value_):this.value_,this.lazyHash_=eW(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=i.VALUE_TYPE_ORDER.indexOf(n),s=i.VALUE_TYPE_ORDER.indexOf(r);return(0,R.hu)(o>=0,"Unknown leaf type: "+n),(0,R.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Mn=new class k_e extends tT{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?op(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vi.MIN}maxPost(){return new vi(Ad,new u_("[PRIORITY-POST]",jW))}makePost(t,e){const n=UW(t);return new vi(e,new u_("[PRIORITY-POST]",n))}toString(){return".priority"}},T_e=Math.log(2);class D_e{constructor(t){this.count=parseInt(Math.log(t+1)/T_e,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rT=function(i,t,e,n){i.sort(t);const r=function(c,l){const d=l-c;let h,p;if(0===d)return null;if(1===d)return h=i[c],p=e?e(h):h,new kc(p,h.node,kc.BLACK,null,null);{const g=parseInt(d/2,10)+c,b=r(c,g),w=r(g+1,l);return h=i[g],p=e?e(h):h,new kc(p,h.node,kc.BLACK,b,w)}},a=function(c){let l=null,d=null,h=i.length;const p=function(b,w){const x=h-b,S=h;h-=b;const D=r(x+1,S),M=i[x],L=e?e(M):M;g(new kc(L,M.node,w,null,D))},g=function(b){l?(l.left=b,l=b):(d=b,l=b)};for(let b=0;b<c.count;++b){const w=c.nextBitIsOne(),x=Math.pow(2,c.count-(b+1));w?p(x,kc.BLACK):(p(x,kc.BLACK),p(x,kc.RED))}return d}(new D_e(i.length));return new Ks(n||t,a)};let jP;const h_={};class Rd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(h_&&Mn,"ChildrenNode.ts has not been loaded"),jP=jP||new Rd({".priority":h_},{".priority":Mn}),jP}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ks?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=e.getIterator(vi.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),n.push(s),s=o.getNext();a=r?rT(n,t.getCompare()):h_;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const d=Object.assign({},this.indexes_);return d[c]=a,new Rd(d,l)}addToIndexes(t,e){const n=(0,R.UI)(this.indexes_,(r,o)=>{const s=(0,R.DV)(this.indexSet_,o);if((0,R.hu)(s,"Missing index implementation for "+o),r===h_){if(s.isDefinedOn(t.node)){const a=[],c=e.getIterator(vi.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),rT(a,s.getCompare())}return h_}{const a=e.get(t.name);let c=r;return a&&(c=c.remove(new vi(t.name,a))),c.insert(t,t.node)}});return new Rd(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,R.UI)(this.indexes_,r=>{if(r===h_)return r;{const o=e.get(t.name);return o?r.remove(new vi(t.name,o)):r}});return new Rd(n,this.indexSet_)}}let a0,Kt=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zW(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return a0||(a0=new i(new Ks(HP),null,Rd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||a0}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?a0:n}}getChild(e){const n=mi(e);return null===n?this:this.getImmediateChild(n).getChild(xn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,R.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new vi(e,n);let o,s;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?a0:this.priorityNode_;return new i(o,a,s)}}updateChild(e,n){const r=mi(e);if(null===r)return n;{(0,R.hu)(".priority"!==mi(e)||1===th(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(xn(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(Mn,(a,c)=>{n[a]=c.val(e),r++,s&&i.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const c in n)a[c]=n[c];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+BW(this.getPriority().val())+":"),this.forEachChild(Mn,(n,r)=>{const o=r.hash();""!==o&&(e+=":"+n+":"+o)}),this.lazyHash_=""===e?"":eW(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new vi(e,n));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new vi(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new vi(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,vi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,vi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===c0?-1:0}withIndex(e){if(e===Cl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Cl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mn),o=n.getIterator(Mn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Cl?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const c0=new class I_e extends Kt{constructor(){super(new Ks(HP),Kt.EMPTY_NODE,Rd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vi,{MIN:{value:new vi(Ju,Kt.EMPTY_NODE)},MAX:{value:new vi(Ad,c0)}}),VW.__EMPTY_NODE=Kt.EMPTY_NODE,u_.__childrenNodeConstructor=Kt,function x_e(i){UP=i}(c0),function E_e(i){jW=i}(c0);const S_e=!0;function cr(i,t=null){if(null===i)return Kt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new u_(i,cr(t));if(i instanceof Array||!S_e){let e=Kt.EMPTY_NODE;return mo(i,(n,r)=>{if((0,R.r3)(i,n)&&"."!==n.substring(0,1)){const o=cr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(n,o))}}),e.updatePriority(cr(t))}{const e=[];let n=!1;if(mo(i,(s,a)=>{if("."!==s.substring(0,1)){const c=cr(a);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),e.push(new vi(s,c)))}}),0===e.length)return Kt.EMPTY_NODE;const o=rT(e,w_e,s=>s.name,HP);if(n){const s=rT(e,Mn.getCompare());return new Kt(o,cr(t),new Rd({".priority":s},{".priority":Mn}))}return new Kt(o,cr(t),Rd.Default)}}!function C_e(i){UW=i}(cr);class WP extends tT{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!pi(t)&&".priority"!==mi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?op(t.name,e.name):o}makePost(t,e){const n=cr(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,n);return new vi(e,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,c0);return new vi(Ad,t)}toString(){return o0(this.indexPath_,0).join("/")}}const $P=new class M_e extends tT{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?op(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vi.MIN}maxPost(){return vi.MAX}makePost(t,e){const n=cr(t);return new vi(e,n)}toString(){return".value"}};function WW(i){return{type:"value",snapshotNode:i}}function m_(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function l0(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function d0(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class GP{constructor(t){this.index_=t}updateChild(t,e,n,r,o,s){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()||(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(l0(e,a)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(m_(e,n)):s.trackChildChange(d0(e,n,a))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Mn,(r,o)=>{e.hasChild(r)||n.trackChildChange(l0(r,o))}),e.isLeafNode()||e.forEachChild(Mn,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||n.trackChildChange(d0(r,o,s))}else n.trackChildChange(m_(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class u0{constructor(t){this.indexedFilter_=new GP(t.getIndex()),this.index_=t.getIndex(),this.startPost_=u0.getStartPost_(t),this.endPost_=u0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,o,s){return this.matches(new vi(e,n))||(n=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=Kt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const o=this;return e.forEachChild(Mn,(s,a)=>{o.matches(new vi(s,a))||(r=r.updateImmediateChild(s,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class R_e{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new u0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,o,s){return this.rangedFilter_.matches(new vi(e,n))||(n=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,s):this.fullLimitUpdateChild_(t,e,n,o,s)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Kt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,o){let s;if(this.reverse_){const h=this.index_.getCompare();s=(p,g)=>h(g,p)}else s=this.index_.getCompare();const a=t;(0,R.hu)(a.numChildren()===this.limit_,"");const c=new vi(e,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(a.hasChild(e)){const h=a.getImmediateChild(e);let p=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=p&&(p.name===e||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);const g=null==p?1:s(p,c);if(d&&!n.isEmpty()&&g>=0)return o?.trackChildChange(d0(e,n,h)),a.updateImmediateChild(e,n);{o?.trackChildChange(l0(e,h));const w=a.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(o?.trackChildChange(m_(p.name,p.node)),w.updateImmediateChild(p.name,p.node)):w}}return n.isEmpty()?t:d&&s(l,c)>=0?(null!=o&&(o.trackChildChange(l0(l.name,l.node)),o.trackChildChange(m_(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(l.name,Kt.EMPTY_NODE)):t}}class oT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ju}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ad}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mn}copy(){const t=new oT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function qP(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function YP(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function sT(i,t){const e=i.copy();return e.index_=t,e}function $W(i){const t={};if(i.isDefault())return t;let e;if(i.index_===Mn?e="$priority":i.index_===$P?e="$value":i.index_===Cl?e="$key":((0,R.hu)(i.index_ instanceof WP,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,R.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,R.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,R.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,R.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,R.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function GW(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==Mn&&(t.i=i.index_.toString()),t}class aT extends MW{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=e0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=aT.getListenId_(t,n),a={};this.listens_[s]=a;const c=$W(t._queryParams);this.restRequest_(o+".json",c,(l,d)=>{let h=d;if(404===l&&(h=null,l=null),null===l&&this.onDataUpdate_(o,h,!1,n),(0,R.DV)(this.listens_,s)===a){let p;p=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(p,null)}})}unlisten(t,e){const n=aT.getListenId_(t,e);delete this.listens_[n]}get(t){const e=$W(t._queryParams),n=t._path.toString(),r=new R.BH;return this.restRequest_(n+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,R.cI)(a.responseText)}catch{qo("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,c)}else 401!==a.status&&404!==a.status&&qo("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class V_e{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function cT(){return{value:null,children:new Map}}function p_(i,t,e){if(pi(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=mi(t);i.children.has(n)||i.children.set(n,cT()),p_(i.children.get(n),t=xn(t),e)}}function ZP(i,t){if(pi(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Mn,(n,r)=>{p_(i,new Yi(n),r)}),ZP(i,t)}}if(i.children.size>0){const e=mi(t);return t=xn(t),i.children.has(e)&&ZP(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function KP(i,t,e){null!==i.value?e(t,i.value):function B_e(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{KP(r,new Yi(t.toString()+"/"+n),e)})}class z_e{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&mo(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class j_e{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new z_e(t);const n=1e4+2e4*Math.random();n0(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;mo(t,(r,o)=>{o>0&&(0,R.r3)(this.statsToReport_,r)&&(e[r]=o,n=!0)}),n&&this.server_.reportStats(e),n0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var El=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(El||{});function JP(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class lT{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=El.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(pi(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yi(t));return new lT(Fi(),e,this.revert)}}return(0,R.hu)(mi(this.path)===t,"operationForChild called for unrelated child."),new lT(xn(this.path),this.affectedTree,this.revert)}}class h0{constructor(t,e){this.source=t,this.path=e,this.type=El.LISTEN_COMPLETE}operationForChild(t){return pi(this.path)?new h0(this.source,Fi()):new h0(this.source,xn(this.path))}}class cp{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=El.OVERWRITE}operationForChild(t){return pi(this.path)?new cp(this.source,Fi(),this.snap.getImmediateChild(t)):new cp(this.source,xn(this.path),this.snap)}}class f_{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=El.MERGE}operationForChild(t){if(pi(this.path)){const e=this.children.subtree(new Yi(t));return e.isEmpty()?null:e.value?new cp(this.source,Fi(),e.value):new f_(this.source,Fi(),e)}return(0,R.hu)(mi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new f_(this.source,xn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ih{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pi(t))return this.isFullyInitialized()&&!this.filtered_;const e=mi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class W_e{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function m0(i,t,e,n,r,o){const s=n.filter(a=>a.type===e);s.sort((a,c)=>function q_e(i,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const n=new vi(t.childName,t.snapshotNode),r=new vi(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,a,c)),s.forEach(a=>{const c=function G_e(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,i.query_))})})}function dT(i,t){return{eventCache:i,serverCache:t}}function p0(i,t,e,n){return dT(new ih(t,e,n),i.serverCache)}function YW(i,t,e,n){return dT(i.eventCache,new ih(t,e,n))}function uT(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function lp(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let eO;class An{constructor(t,e=(()=>(eO||(eO=new Ks(Age)),eO))()){this.value=t,this.children=e}static fromObject(t){let e=new An(null);return mo(t,(n,r)=>{e=e.set(new Yi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Fi(),value:this.value};if(pi(t))return null;{const n=mi(t),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(xn(t),e);return null!=o?{path:Qn(new Yi(n),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pi(t))return this;{const e=mi(t),n=this.children.get(e);return null!==n?n.subtree(xn(t)):new An(null)}}set(t,e){if(pi(t))return new An(e,this.children);{const n=mi(t),o=(this.children.get(n)||new An(null)).set(xn(t),e),s=this.children.insert(n,o);return new An(this.value,s)}}remove(t){if(pi(t))return this.children.isEmpty()?new An(null):new An(null,this.children);{const e=mi(t),n=this.children.get(e);if(n){const r=n.remove(xn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new An(null):new An(this.value,o)}return this}}get(t){if(pi(t))return this.value;{const e=mi(t),n=this.children.get(e);return n?n.get(xn(t)):null}}setTree(t,e){if(pi(t))return e;{const n=mi(t),o=(this.children.get(n)||new An(null)).setTree(xn(t),e);let s;return s=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),new An(this.value,s)}}fold(t){return this.fold_(Fi(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(Qn(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Fi(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(pi(t))return null;{const o=mi(t),s=this.children.get(o);return s?s.findOnPath_(xn(t),Qn(e,o),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Fi(),e)}foreachOnPath_(t,e,n){if(pi(t))return this;{this.value&&n(e,this.value);const r=mi(t),o=this.children.get(r);return o?o.foreachOnPath_(xn(t),Qn(e,r),n):new An(null)}}foreach(t){this.foreach_(Fi(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_(Qn(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class Tc{constructor(t){this.writeTree_=t}static empty(){return new Tc(new An(null))}}function f0(i,t,e){if(pi(t))return new Tc(new An(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let o=n.value;const s=Ts(r,t);return o=o.updateChild(s,e),new Tc(i.writeTree_.set(r,o))}{const r=new An(e),o=i.writeTree_.setTree(t,r);return new Tc(o)}}}function tO(i,t,e){let n=i;return mo(e,(r,o)=>{n=f0(n,Qn(t,r),o)}),n}function ZW(i,t){if(pi(t))return Tc.empty();{const e=i.writeTree_.setTree(t,new An(null));return new Tc(e)}}function iO(i,t){return null!=dp(i,t)}function dp(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(Ts(e.path,t)):null}function KW(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Mn,(n,r)=>{t.push(new vi(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new vi(n,r.value))}),t}function nh(i,t){if(pi(t))return i;{const e=dp(i,t);return new Tc(null!=e?new An(e):i.writeTree_.subtree(t))}}function nO(i){return i.writeTree_.isEmpty()}function g_(i,t){return QW(Fi(),i.writeTree_,t)}function QW(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,R.hu)(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):e=QW(Qn(i,r),o,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild(Qn(i,".priority"),n)),e}}function hT(i,t){return i$(t,i)}function J_e(i,t){if(i.snap)return tc(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&tc(Qn(i.path,e),t))return!0;return!1}function tve(i){return i.visible}function XW(i,t,e){let n=Tc.empty();for(let r=0;r<i.length;++r){const o=i[r];if(t(o)){const s=o.path;let a;if(o.snap)tc(e,s)?(a=Ts(e,s),n=f0(n,a,o.snap)):tc(s,e)&&(a=Ts(s,e),n=f0(n,Fi(),o.snap.getChild(a)));else{if(!o.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(tc(e,s))a=Ts(e,s),n=tO(n,a,o.children);else if(tc(s,e))if(a=Ts(s,e),pi(a))n=tO(n,Fi(),o.children);else{const c=(0,R.DV)(o.children,mi(a));if(c){const l=c.getChild(xn(a));n=f0(n,Fi(),l)}}}}}return n}function JW(i,t,e,n,r){if(n||r){const o=nh(i.visibleWrites,t);return!r&&nO(o)?e:r||null!=e||iO(o,Fi())?g_(XW(i.allWrites,function(l){return(l.visible||r)&&(!n||!~n.indexOf(l.writeId))&&(tc(l.path,t)||tc(t,l.path))},t),e||Kt.EMPTY_NODE):null}{const o=dp(i.visibleWrites,t);if(null!=o)return o;{const s=nh(i.visibleWrites,t);return nO(s)?e:null!=e||iO(s,Fi())?g_(s,e||Kt.EMPTY_NODE):null}}}function mT(i,t,e,n){return JW(i.writeTree,i.treePath,t,e,n)}function rO(i,t){return function ive(i,t,e){let n=Kt.EMPTY_NODE;const r=dp(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Mn,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(e){const o=nh(i.visibleWrites,t);return e.forEachChild(Mn,(s,a)=>{const c=g_(nh(o,new Yi(s)),a);n=n.updateImmediateChild(s,c)}),KW(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}return KW(nh(i.visibleWrites,t)).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}(i.writeTree,i.treePath,t)}function e$(i,t,e,n){return function nve(i,t,e,n,r){(0,R.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const o=Qn(t,e);if(iO(i.visibleWrites,o))return null;{const s=nh(i.visibleWrites,o);return nO(s)?r.getChild(e):g_(s,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function pT(i,t){return function ove(i,t){return dp(i.visibleWrites,t)}(i.writeTree,Qn(i.treePath,t))}function oO(i,t,e){return function rve(i,t,e,n){const r=Qn(t,e),o=dp(i.visibleWrites,r);return null!=o?o:n.isCompleteForChild(e)?g_(nh(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function t$(i,t){return i$(Qn(i.treePath,t),i.writeTree)}function i$(i,t){return{treePath:i,writeTree:t}}class lve{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,d0(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,l0(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,m_(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,d0(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const n$=new class dve{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class sO{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new ih(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oO(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lp(this.viewCache_),o=function cve(i,t,e,n,r,o){return function sve(i,t,e,n,r,o,s){let a;const c=nh(i.visibleWrites,t),l=dp(c,Fi());if(null!=l)a=l;else{if(null==e)return[];a=g_(c,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const d=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let g=p.getNext();for(;g&&d.length<r;)0!==h(g,n)&&d.push(g),g=p.getNext();return d}}(i.writeTree,i.treePath,t,e,n,r,o)}(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]}}function r$(i,t,e,n,r,o){const s=t.eventCache;if(null!=pT(n,e))return t;{let a,c;if(pi(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=lp(t),h=rO(n,l instanceof Kt?l:Kt.EMPTY_NODE);a=i.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{const l=mT(n,lp(t));a=i.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=mi(e);if(".priority"===l){(0,R.hu)(1===th(e),"Can't have a priority with additional path components");const d=s.getNode();c=t.serverCache.getNode();const h=e$(n,e,d,c);a=null!=h?i.filter.updatePriority(d,h):s.getNode()}else{const d=xn(e);let h;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const p=e$(n,e,s.getNode(),c);h=null!=p?s.getNode().getImmediateChild(l).updateChild(d,p):s.getNode().getImmediateChild(l)}else h=oO(n,l,t.serverCache);a=null!=h?i.filter.updateChild(s.getNode(),l,h,d,r,o):s.getNode()}}return p0(t,a,s.isFullyInitialized()||pi(e),i.filter.filtersNodes())}}function fT(i,t,e,n,r,o,s,a){const c=t.serverCache;let l;const d=s?i.filter:i.filter.getIndexedFilter();if(pi(e))l=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(e,n);l=d.updateFullNode(c.getNode(),g,null)}else{const g=mi(e);if(!c.isCompleteForPath(e)&&th(e)>1)return t;const b=xn(e),x=c.getNode().getImmediateChild(g).updateChild(b,n);l=".priority"===g?d.updatePriority(c.getNode(),x):d.updateChild(c.getNode(),g,x,b,n$,null)}const h=YW(t,l,c.isFullyInitialized()||pi(e),d.filtersNodes());return r$(i,h,e,r,new sO(r,h,o),a)}function aO(i,t,e,n,r,o,s){const a=t.eventCache;let c,l;const d=new sO(r,t,o);if(pi(e))l=i.filter.updateFullNode(t.eventCache.getNode(),n,s),c=p0(t,l,!0,i.filter.filtersNodes());else{const h=mi(e);if(".priority"===h)l=i.filter.updatePriority(t.eventCache.getNode(),n),c=p0(t,l,a.isFullyInitialized(),a.isFiltered());else{const p=xn(e),g=a.getNode().getImmediateChild(h);let b;if(pi(p))b=n;else{const w=d.getCompleteChild(h);b=null!=w?".priority"===VP(p)&&w.getChild(OW(p)).isEmpty()?w:w.updateChild(p,n):Kt.EMPTY_NODE}c=g.equals(b)?t:p0(t,i.filter.updateChild(a.getNode(),h,b,p,d,s),a.isFullyInitialized(),i.filter.filtersNodes())}}return c}function o$(i,t){return i.eventCache.isCompleteForChild(t)}function s$(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function cO(i,t,e,n,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=pi(e)?n:new An(null).setTree(e,n);const d=t.serverCache.getNode();return l.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const b=s$(0,t.serverCache.getNode().getImmediateChild(h),p);c=fT(i,c,new Yi(h),b,r,o,s,a)}}),l.children.inorderTraversal((h,p)=>{const g=!t.serverCache.isCompleteForChild(h)&&null===p.value;if(!d.hasChild(h)&&!g){const w=s$(0,t.serverCache.getNode().getImmediateChild(h),p);c=fT(i,c,new Yi(h),w,r,o,s,a)}}),c}class bve{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new GP(n.getIndex()),o=function P_e(i){return i.loadsAllData()?new GP(i.getIndex()):i.hasLimit()?new R_e(i):new u0(i)}(n);this.processor_=function uve(i){return{filter:i}}(o);const s=e.serverCache,a=e.eventCache,c=r.updateFullNode(Kt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Kt.EMPTY_NODE,a.getNode(),null),d=new ih(c,s.isFullyInitialized(),r.filtersNodes()),h=new ih(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=dT(h,d),this.eventGenerator_=new W_e(this.query_)}get query(){return this.query_}}function xve(i,t){const e=lp(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!pi(t)&&!e.getImmediateChild(mi(t)).isEmpty())?e.getChild(t):null}function a$(i){return 0===i.eventRegistrations_.length}function c$(i,t,e){const n=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&n.push(s)})}if(t){let r=[];for(let o=0;o<i.eventRegistrations_.length;++o){const s=i.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(o+1));break}}else r.push(s)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function l$(i,t,e,n){t.type===El.MERGE&&null!==t.source.queryId&&((0,R.hu)(lp(i.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(uT(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,o=function mve(i,t,e,n,r){const o=new lve;let s,a;if(e.type===El.OVERWRITE){const l=e;l.source.fromUser?s=aO(i,t,l.path,l.snap,n,r,o):((0,R.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!pi(l.path),s=fT(i,t,l.path,l.snap,n,r,a,o))}else if(e.type===El.MERGE){const l=e;l.source.fromUser?s=function fve(i,t,e,n,r,o,s){let a=t;return n.foreach((c,l)=>{const d=Qn(e,c);o$(t,mi(d))&&(a=aO(i,a,d,l,r,o,s))}),n.foreach((c,l)=>{const d=Qn(e,c);o$(t,mi(d))||(a=aO(i,a,d,l,r,o,s))}),a}(i,t,l.path,l.children,n,r,o):((0,R.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=cO(i,t,l.path,l.children,n,r,a,o))}else if(e.type===El.ACK_USER_WRITE){const l=e;s=l.revert?function vve(i,t,e,n,r,o){let s;if(null!=pT(n,e))return t;{const a=new sO(n,t,r),c=t.eventCache.getNode();let l;if(pi(e)||".priority"===mi(e)){let d;if(t.serverCache.isFullyInitialized())d=mT(n,lp(t));else{const h=t.serverCache.getNode();(0,R.hu)(h instanceof Kt,"serverChildren would be complete if leaf node"),d=rO(n,h)}l=i.filter.updateFullNode(c,d,o)}else{const d=mi(e);let h=oO(n,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),l=null!=h?i.filter.updateChild(c,d,h,xn(e),a,o):t.eventCache.getNode().hasChild(d)?i.filter.updateChild(c,d,Kt.EMPTY_NODE,xn(e),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=mT(n,lp(t)),s.isLeafNode()&&(l=i.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=pT(n,Fi()),p0(t,l,s,i.filter.filtersNodes())}}(i,t,l.path,n,r,o):function gve(i,t,e,n,r,o,s){if(null!=pT(r,e))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=n.value){if(pi(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return fT(i,t,e,c.getNode().getChild(e),r,o,a,s);if(pi(e)){let l=new An(null);return c.getNode().forEachChild(Cl,(d,h)=>{l=l.set(new Yi(d),h)}),cO(i,t,e,l,r,o,a,s)}return t}{let l=new An(null);return n.foreach((d,h)=>{const p=Qn(e,d);c.isCompleteForPath(p)&&(l=l.set(d,c.getNode().getChild(p)))}),cO(i,t,e,l,r,o,a,s)}}(i,t,l.path,l.affectedTree,n,r,o)}else{if(e.type!==El.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);s=function _ve(i,t,e,n,r){const o=t.serverCache;return r$(i,YW(t,o.getNode(),o.isFullyInitialized()||pi(e),o.isFiltered()),e,n,n$,r)}(i,t,e.path,n,o)}const c=o.getChanges();return function pve(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=uT(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&e.push(WW(uT(t)))}}(t,s,c),{viewCache:s,changes:c}}(i.processor_,r,t,e,n);return function hve(i,t){(0,R.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,o.viewCache),(0,R.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=o.viewCache,d$(i,o.changes,o.viewCache.eventCache.getNode(),null)}function d$(i,t,e,n){return function $_e(i,t,e,n){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&i.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function A_e(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(s.childName,s.snapshotNode))}),m0(i,r,"child_removed",t,n,e),m0(i,r,"child_added",t,n,e),m0(i,r,"child_moved",o,n,e),m0(i,r,"child_changed",t,n,e),m0(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let gT,vT;class u${constructor(){this.views=new Map}}function lO(i,t,e,n){const r=t.source.queryId;if(null!==r){const o=i.views.get(r);return(0,R.hu)(null!=o,"SyncTree gave us an op for an invalid query."),l$(o,t,e,n)}{let o=[];for(const s of i.views.values())o=o.concat(l$(s,t,e,n));return o}}function h$(i,t,e,n,r){const s=i.views.get(t._queryIdentifier);if(!s){let a=mT(e,r?n:null),c=!1;a?c=!0:n instanceof Kt?(a=rO(e,n),c=!1):(a=Kt.EMPTY_NODE,c=!1);const l=dT(new ih(a,c,!1),new ih(n,r,!1));return new bve(t,l)}return s}function m$(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function rh(i,t){let e=null;for(const n of i.views.values())e=e||xve(n,t);return e}function p$(i,t){return t._queryParams.loadsAllData()?_T(i):i.views.get(t._queryIdentifier)}function f$(i,t){return null!=p$(i,t)}function oh(i){return null!=_T(i)}function _T(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Rve=1;class g${constructor(t){this.listenProvider_=t,this.syncPointTree_=new An(null),this.pendingWriteTree_=function ave(){return{visibleWrites:Tc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dO(i,t,e,n,r){return function Z_e(i,t,e,n,r){(0,R.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=f0(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?__(i,new cp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function sh(i,t,e=!1){const n=function Q_e(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function X_e(i,t){const e=i.allWrites.findIndex(a=>a.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,o=!1,s=i.allWrites.length-1;for(;r&&s>=0;){const a=i.allWrites[s];a.visible&&(s>=e&&J_e(a,n.path)?r=!1:tc(n.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function eve(i){i.visibleWrites=XW(i.allWrites,tve,Fi()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=ZW(i.visibleWrites,n.path):mo(n.children,c=>{i.visibleWrites=ZW(i.visibleWrites,Qn(n.path,c))}),!0))}(i.pendingWriteTree_,t)){let o=new An(null);return null!=n.snap?o=o.set(Fi(),!0):mo(n.children,s=>{o=o.set(new Yi(s),!0)}),__(i,new lT(n.path,o,e))}return[]}function g0(i,t,e){return __(i,new cp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bT(i,t,e,n,r=!1){const o=t._path,s=i.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||f$(s,t))){const c=function Sve(i,t,e,n){const r=t._queryIdentifier,o=[];let s=[];const a=oh(i);if("default"===r)for(const[c,l]of i.views.entries())s=s.concat(c$(l,e,n)),a$(l)&&(i.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=i.views.get(r);c&&(s=s.concat(c$(c,e,n)),a$(c)&&(i.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!oh(i)&&o.push(new(function Tve(){return(0,R.hu)(gT,"Reference.ts has not been loaded"),gT}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,n);(function Dve(i){return 0===i.views.size})(s)&&(i.syncPointTree_=i.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!r){const d=-1!==l.findIndex(p=>p._queryParams.loadsAllData()),h=i.syncPointTree_.findOnPath(o,(p,g)=>oh(g));if(d&&!h){const p=i.syncPointTree_.subtree(o);if(!p.isEmpty()){const g=function Bve(i){return i.fold((t,e,n)=>{if(e&&oh(e))return[_T(e)];{let r=[];return e&&(r=m$(e)),mo(n,(o,s)=>{r=r.concat(s)}),r}})}(p);for(let b=0;b<g.length;++b){const w=g[b],x=w.query,S=y$(i,w);i.listenProvider_.startListening(v0(x),_0(i,x),S.hashFn,S.onComplete)}}}!h&&l.length>0&&!n&&(d?i.listenProvider_.stopListening(v0(t),null):l.forEach(p=>{const g=i.queryToTagMap.get(wT(p));i.listenProvider_.stopListening(v0(p),g)}))}!function zve(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=wT(n),o=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(o)}}}(i,l)}return a}function _$(i,t,e,n){const r=hO(i,n);if(null!=r){const o=mO(r),s=o.path,a=o.queryId,c=Ts(s,t);return pO(i,s,new cp(JP(a),c,e))}return[]}function uO(i,t,e,n=!1){const r=t._path;let o=null,s=!1;i.syncPointTree_.foreachOnPath(r,(p,g)=>{const b=Ts(p,r);o=o||rh(g,b),s=s||oh(g)});let c,a=i.syncPointTree_.get(r);a?(s=s||oh(a),o=o||rh(a,Fi())):(a=new u$,i.syncPointTree_=i.syncPointTree_.set(r,a)),null!=o?c=!0:(c=!1,o=Kt.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((g,b)=>{const w=rh(b,Fi());w&&(o=o.updateImmediateChild(g,w))}));const l=f$(a,t);if(!l&&!t._queryParams.loadsAllData()){const p=wT(t);(0,R.hu)(!i.queryToTagMap.has(p),"View does not exist, but we have a tag");const g=function Hve(){return Rve++}();i.queryToTagMap.set(p,g),i.tagToQueryMap.set(g,p)}let h=function Ive(i,t,e,n,r,o){const s=h$(i,t,n,r,o);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,s),function Cve(i,t){i.eventRegistrations_.push(t)}(s,e),function Eve(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Mn,(o,s)=>{n.push(m_(o,s))}),e.isFullyInitialized()&&n.push(WW(e.getNode())),d$(i,n,e.getNode(),t)}(s,e)}(a,t,e,hT(i.pendingWriteTree_,r),o,c);if(!l&&!s&&!n){const p=p$(a,t);h=h.concat(function Uve(i,t,e){const n=t._path,r=_0(i,t),o=y$(i,e),s=i.listenProvider_.startListening(v0(t),r,o.hashFn,o.onComplete),a=i.syncPointTree_.subtree(n);if(r)(0,R.hu)(!oh(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,d,h)=>{if(!pi(l)&&d&&oh(d))return[_T(d).query];{let p=[];return d&&(p=p.concat(m$(d).map(g=>g.query))),mo(h,(g,b)=>{p=p.concat(b)}),p}});for(let l=0;l<c.length;++l){const d=c[l];i.listenProvider_.stopListening(v0(d),_0(i,d))}}return s}(i,t,p))}return h}function yT(i,t,e){const r=i.pendingWriteTree_,o=i.syncPointTree_.findOnPath(t,(s,a)=>{const l=rh(a,Ts(s,t));if(l)return l});return JW(r,t,o,e,!0)}function __(i,t){return v$(t,i.syncPointTree_,null,hT(i.pendingWriteTree_,Fi()))}function v$(i,t,e,n){if(pi(i.path))return b$(i,t,e,n);{const r=t.get(Fi());null==e&&null!=r&&(e=rh(r,Fi()));let o=[];const s=mi(i.path),a=i.operationForChild(s),c=t.children.get(s);if(c&&a){const l=e?e.getImmediateChild(s):null,d=t$(n,s);o=o.concat(v$(a,c,l,d))}return r&&(o=o.concat(lO(r,i,n,e))),o}}function b$(i,t,e,n){const r=t.get(Fi());null==e&&null!=r&&(e=rh(r,Fi()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=e?e.getImmediateChild(s):null,l=t$(n,s),d=i.operationForChild(s);d&&(o=o.concat(b$(d,a,c,l)))}),r&&(o=o.concat(lO(r,i,n,e))),o}function y$(i,t){const e=t.query,n=_0(i,e);return{hashFn:()=>(function yve(i){return i.viewCache_.serverCache.getNode()}(t)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function Fve(i,t,e){const n=hO(i,e);if(n){const r=mO(n),o=r.path,s=r.queryId,a=Ts(o,t);return pO(i,o,new h0(JP(s),a))}return[]}(i,e._path,n):function Nve(i,t){return __(i,new h0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const o=function Oge(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return bT(i,e,null,o)}}}}function _0(i,t){const e=wT(t);return i.queryToTagMap.get(e)}function wT(i){return i._path.toString()+"$"+i._queryIdentifier}function hO(i,t){return i.tagToQueryMap.get(t)}function mO(i){const t=i.indexOf("$");return(0,R.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Yi(i.substr(0,t))}}function pO(i,t,e){const n=i.syncPointTree_.get(t);return(0,R.hu)(n,"Missing sync point for query tag that we're tracking"),lO(n,e,hT(i.pendingWriteTree_,t),null)}function v0(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function Ave(){return(0,R.hu)(vT,"Reference.ts has not been loaded"),vT}())(i._repo,i._path):i}class fO{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new fO(e)}node(){return this.node_}}class gO{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Qn(this.path_,t);return new gO(this.syncTree_,e)}node(){return yT(this.syncTree_,this.path_)}}const jve=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},w$=function(i,t,e){return i&&"object"==typeof i?((0,R.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Wve(i[".sv"],t,e):"object"==typeof i[".sv"]?$ve(i[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Wve=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+i)},$ve=function(i,t,e){i.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,R.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,R.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const s=r.getValue();return"number"!=typeof s?n:s+n},x$=function(i,t,e,n){return vO(t,new gO(e,i),n)},_O=function(i,t,e){return vO(i,new fO(t),e)};function vO(i,t,e){const n=i.getPriority().val(),r=w$(n,t.getImmediateChild(".priority"),e);let o;if(i.isLeafNode()){const s=i,a=w$(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new u_(a,cr(r)):i}{const s=i;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new u_(r))),s.forEachChild(Mn,(a,c)=>{const l=vO(c,t.getImmediateChild(a),e);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class bO{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function xT(i,t){let e=t instanceof Yi?t:new Yi(t),n=i,r=mi(e);for(;null!==r;){const o=(0,R.DV)(n.node.children,r)||{children:{},childCount:0};n=new bO(r,n,o),e=xn(e),r=mi(e)}return n}function up(i){return i.node.value}function yO(i,t){i.node.value=t,wO(i)}function C$(i){return i.node.childCount>0}function CT(i,t){mo(i.node.children,(e,n)=>{t(new bO(e,i,n))})}function E$(i,t,e,n){e&&!n&&t(i),CT(i,r=>{E$(r,t,!0,n)}),e&&n&&t(i)}function b0(i){return new Yi(null===i.parent?i.name:b0(i.parent)+"/"+i.name)}function wO(i){null!==i.parent&&function Yve(i,t,e){const n=function Gve(i){return void 0===up(i)&&!C$(i)}(e),r=(0,R.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,wO(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,wO(i))}(i.parent,i.name,i)}const Zve=/[\[\].#$\/\u0000-\u001F\u007F]/,Kve=/[\[\].#$\u0000-\u001F\u007F]/,xO=10485760,ET=function(i){return"string"==typeof i&&0!==i.length&&!Zve.test(i)},k$=function(i){return"string"==typeof i&&0!==i.length&&!Kve.test(i)},y0=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!Qk(i)||i&&"object"==typeof i&&(0,R.r3)(i,".sv")},kl=function(i,t,e,n){n&&void 0===t||w0((0,R.gK)(i,"value"),t,e)},w0=function(i,t,e){const n=e instanceof Yi?new m_e(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+sp(n));if("function"==typeof t)throw new Error(i+"contains a function "+sp(n)+" with contents = "+t.toString());if(Qk(t))throw new Error(i+"contains "+t.toString()+" "+sp(n));if("string"==typeof t&&t.length>xO/3&&(0,R.ug)(t)>xO)throw new Error(i+"contains a string greater than "+xO+" utf8 bytes "+sp(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(mo(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!ET(s)))throw new Error(i+" contains an invalid key ("+s+") "+sp(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function p_e(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,R.ug)(t),NW(i)})(n,s),w0(i,a,n),function f_e(i){const t=i.parts_.pop();i.byteLength_-=(0,R.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&o)throw new Error(i+' contains ".value" child '+sp(n)+" in addition to actual children.")}},T$=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,R.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];mo(t,(s,a)=>{const c=new Yi(s);if(w0(r,a,Qn(e,c)),".priority"===VP(c)&&!y0(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const o=o0(n);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!ET(o[s]))throw new Error(i+"contains an invalid key ("+o[s]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(h_e);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&tc(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,o)},CO=function(i,t,e){if(!e||void 0!==t){if(Qk(t))throw new Error((0,R.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!y0(t))throw new Error((0,R.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},x0=function(i,t,e,n){if(!(n&&void 0===e||ET(e)))throw new Error((0,R.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},C0=function(i,t,e,n){if(!(n&&void 0===e||k$(e)))throw new Error((0,R.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Jve=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),C0(i,t,e,n)},ic=function(i,t){if(".info"===mi(t))throw new Error(i+" failed = Can't modify data under /.info/")},D$=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ET(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),k$(i)}(e))throw new Error((0,R.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ebe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kT(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],o=r.getPath();null!==e&&!BP(o,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&i.eventLists_.push(e)}function I$(i,t,e){kT(i,e),S$(i,n=>BP(n,t))}function ba(i,t,e){kT(i,e),S$(i,n=>tc(n,t)||tc(t,n))}function S$(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(tbe(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function tbe(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();rp&&ho("event: "+e.toString()),l_(n)}}}const M$="repo_interrupt",ibe=25;class nbe{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ebe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cT(),this.transactionQueueTree_=new bO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function A$(i){const e=i.infoData_.getNode(new Yi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function E0(i){return jve({timestamp:A$(i)})}function R$(i,t,e,n,r){i.dataUpdateCount++;const o=new Yi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(n){const c=(0,R.UI)(e,l=>cr(l));s=function Lve(i,t,e,n){const r=hO(i,n);if(r){const o=mO(r),s=o.path,a=o.queryId,c=Ts(s,t),l=An.fromObject(e);return pO(i,s,new f_(JP(a),c,l))}return[]}(i.serverSyncTree_,o,c,r)}else{const c=cr(e);s=_$(i.serverSyncTree_,o,c,r)}else if(n){const c=(0,R.UI)(e,l=>cr(l));s=function Ove(i,t,e){const n=An.fromObject(e);return __(i,new f_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,o,c)}else{const c=cr(e);s=g0(i.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=b_(i,o)),ba(i.eventQueue_,a,s)}function P$(i,t){EO(i,"connected",t),!1===t&&function cbe(i){v_(i,"onDisconnectEvents");const t=E0(i),e=cT();KP(i.onDisconnect_,Fi(),(r,o)=>{const s=x$(r,o,i.serverSyncTree_,t);p_(e,r,s)});let n=[];KP(e,Fi(),(r,o)=>{n=n.concat(g0(i.serverSyncTree_,r,o));const s=IO(i,r);b_(i,s)}),i.onDisconnect_=cT(),ba(i.eventQueue_,Fi(),n)}(i)}function EO(i,t,e){const n=new Yi("/.info/"+t),r=cr(e);i.infoData_.updateSnapshot(n,r);const o=g0(i.infoSyncTree_,n,r);ba(i.eventQueue_,n,o)}function TT(i){return i.nextWriteId_++}function kO(i,t,e,n,r){v_(i,"set",{path:t.toString(),value:e,priority:n});const o=E0(i),s=cr(e,n),a=yT(i.serverSyncTree_,t),c=_O(s,a,o),l=TT(i),d=dO(i.serverSyncTree_,t,c,l,!0);kT(i.eventQueue_,d),i.server_.put(t.toString(),s.val(!0),(p,g)=>{const b="ok"===p;b||qo("set at "+t+" failed: "+p);const w=sh(i.serverSyncTree_,l,!b);ba(i.eventQueue_,t,w),ah(0,r,p,g)});const h=IO(i,t);b_(i,h),ba(i.eventQueue_,h,[])}function lbe(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&ZP(i.onDisconnect_,t),ah(0,e,n,r)})}function O$(i,t,e,n){const r=cr(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&p_(i.onDisconnect_,t,r),ah(0,n,o,s)})}function TO(i,t,e){let n;n=".info"===mi(t._path)?bT(i.infoSyncTree_,t,e):bT(i.serverSyncTree_,t,e),I$(i.eventQueue_,t._path,n)}function N$(i){i.persistentConnection_&&i.persistentConnection_.interrupt(M$)}function v_(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),ho(e,...t)}function ah(i,t,e,n){t&&l_(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;n&&(o+=": "+n);const s=new Error(o);s.code=r,t(s)}})}function DO(i,t,e){return yT(i.serverSyncTree_,t,e)||Kt.EMPTY_NODE}function DT(i,t=i.transactionQueueTree_){if(t||IT(i,t),up(t)){const e=L$(i,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function fbe(i,t,e){const n=e.map(l=>l.currentWriteId),r=DO(i,t,n);let o=r;const s=r.hash();for(let l=0;l<e.length;l++){const d=e[l];(0,R.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ts(t,d.path);o=o.updateChild(h,d.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;i.server_.put(c.toString(),a,l=>{v_(i,"transaction put response",{path:c.toString(),status:l});let d=[];if("ok"===l){const h=[];for(let p=0;p<e.length;p++)e[p].status=2,d=d.concat(sh(i.serverSyncTree_,e[p].currentWriteId)),e[p].onComplete&&h.push(()=>e[p].onComplete(null,!0,e[p].currentOutputSnapshotResolved)),e[p].unwatcher();IT(i,xT(i.transactionQueueTree_,t)),DT(i,i.transactionQueueTree_),ba(i.eventQueue_,t,d);for(let p=0;p<h.length;p++)l_(h[p])}else{if("datastale"===l)for(let h=0;h<e.length;h++)e[h].status=3===e[h].status?4:0;else{qo("transaction at "+c.toString()+" failed: "+l);for(let h=0;h<e.length;h++)e[h].status=4,e[h].abortReason=l}b_(i,t)}},s)}(i,b0(t),e)}else C$(t)&&CT(t,e=>{DT(i,e)})}function b_(i,t){const e=F$(i,t),n=b0(e);return function gbe(i,t,e){if(0===t.length)return;const n=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=Ts(e,c.path);let h,d=!1;if((0,R.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,h=c.abortReason,r=r.concat(sh(i.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=ibe)d=!0,h="maxretry",r=r.concat(sh(i.serverSyncTree_,c.currentWriteId,!0));else{const p=DO(i,c.path,s);c.currentInputSnapshot=p;const g=t[a].update(p.val());if(void 0!==g){w0("transaction failed: Data returned ",g,c.path);let b=cr(g);"object"==typeof g&&null!=g&&(0,R.r3)(g,".priority")||(b=b.updatePriority(p.getPriority()));const x=c.currentWriteId,S=E0(i),D=_O(b,p,S);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=D,c.currentWriteId=TT(i),s.splice(s.indexOf(x),1),r=r.concat(dO(i.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),r=r.concat(sh(i.serverSyncTree_,x,!0))}else d=!0,h="nodata",r=r.concat(sh(i.serverSyncTree_,c.currentWriteId,!0))}ba(i.eventQueue_,e,r),r=[],d&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&n.push("nodata"===h?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(h),!1,null)))}IT(i,i.transactionQueueTree_);for(let a=0;a<n.length;a++)l_(n[a]);DT(i,i.transactionQueueTree_)}(i,L$(i,e),n),n}function F$(i,t){let e,n=i.transactionQueueTree_;for(e=mi(t);null!==e&&void 0===up(n);)n=xT(n,e),e=mi(t=xn(t));return n}function L$(i,t){const e=[];return V$(i,t,e),e.sort((n,r)=>n.order-r.order),e}function V$(i,t,e){const n=up(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);CT(t,r=>{V$(i,r,e)})}function IT(i,t){const e=up(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,yO(t,e.length>0?e:void 0)}CT(t,n=>{IT(i,n)})}function IO(i,t){const e=b0(F$(i,t)),n=xT(i.transactionQueueTree_,t);return function qve(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{SO(i,r)}),SO(i,n),E$(n,r=>{SO(i,r)}),e}function SO(i,t){const e=up(t);if(e){const n=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,R.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,R.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(sh(i.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yO(t,void 0):e.length=o+1,ba(i.eventQueue_,b0(t),r);for(let s=0;s<n.length;s++)l_(n[s])}}const MO=function(i,t){const e=bbe(i),n=e.namespace;return"firebase.com"===e.domain&&xl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&xl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new RP(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Yi(e.pathString)}},bbe=function(i){let t="",e="",n="",r="",o="",s=!0,a="https",c=443;if("string"==typeof i){let l=i.indexOf("//");l>=0&&(a=i.substring(0,l-1),i=i.substring(l+2));let d=i.indexOf("/");-1===d&&(d=i.length);let h=i.indexOf("?");-1===h&&(h=i.length),t=i.substring(0,Math.min(d,h)),d<h&&(r=function _be(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(d,h)));const p=function vbe(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):qo(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,h)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const g=t.slice(0,l);if("localhost"===g.toLowerCase())e="localhost";else if(g.split(".").length<=2)e=g;else{const b=t.indexOf(".");n=t.substring(0,b).toLowerCase(),e=t.substring(b+1),o=n}"ns"in p&&(o=p.ns)}return{host:t,port:c,domain:e,subdomain:n,secure:s,scheme:a,pathString:r,namespace:o}},B$="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ybe=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=B$.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=B$.charAt(t[r]);return(0,R.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class z${constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class H${constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class AO{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class U${constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return lbe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ic("OnDisconnect.remove",this._path);const t=new R.BH;return O$(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ic("OnDisconnect.set",this._path),kl("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return O$(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ic("OnDisconnect.setWithPriority",this._path),kl("OnDisconnect.setWithPriority",t,this._path,!1),CO("OnDisconnect.setWithPriority",e,!1);const n=new R.BH;return function dbe(i,t,e,n,r){const o=cr(e,n);i.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&p_(i.onDisconnect_,t,o),ah(0,r,s,a)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){ic("OnDisconnect.update",this._path),T$("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function ube(i,t,e,n){if((0,R.xb)(e))return ho("onDisconnect().update() called with empty data.  Don't do anything."),void ah(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&mo(e,(s,a)=>{const c=cr(a);p_(i.onDisconnect_,Qn(t,s),c)}),ah(0,n,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qs{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return pi(this._path)?null:VP(this._path)}get ref(){return new nc(this._repo,this._path)}get _queryIdentifier(){const t=GW(this._queryParams),e=MP(t);return"{}"===e?"default":e}get _queryObject(){return GW(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof Qs))return!1;const e=this._repo===t._repo,n=BP(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function u_e(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function ST(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ch(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Cl){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Ju)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==Ad)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===Mn){if(null!=t&&!y0(t)||null!=e&&!y0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(i.getIndex()instanceof WP||i.getIndex()===$P,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function MT(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nc extends Qs{constructor(t,e){super(t,e,new oT,!1)}get parent(){const t=OW(this._path);return null===t?null:new nc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class hp{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yi(t),n=mp(this.ref,t);return new hp(this._node.getChild(e),n,Mn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new hp(r,mp(this.ref,n),Mn)))}hasChild(t){const e=new Yi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function j$(i,t){return(i=(0,R.m9)(i))._checkNotDeleted("ref"),void 0!==t?mp(i._root,t):i._root}function W$(i,t){(i=(0,R.m9)(i))._checkNotDeleted("refFromURL");const e=MO(t,i._repo.repoInfo_.nodeAdmin);D$("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&xl("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),j$(i,e.path.toString())}function mp(i,t){return null===mi((i=(0,R.m9)(i))._path)?Jve("child","path",t,!1):C0("child","path",t,!1),new nc(i._repo,Qn(i._path,t))}function RO(i,t){i=(0,R.m9)(i),ic("set",i._path),kl("set",t,i._path,!1);const e=new R.BH;return kO(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function kbe(i,t){T$("update",t,i._path,!1);const e=new R.BH;return function abe(i,t,e,n){v_(i,"update",{path:t.toString(),value:e});let r=!0;const o=E0(i),s={};if(mo(e,(a,c)=>{r=!1,s[a]=x$(Qn(t,a),cr(c),i.serverSyncTree_,o)}),r)ho("update() called with empty data.  Don't do anything."),ah(0,n,"ok",void 0);else{const a=TT(i),c=function Pve(i,t,e,n){!function K_e(i,t,e,n){(0,R.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=tO(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=An.fromObject(e);return __(i,new f_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,s,a);kT(i.eventQueue_,c),i.server_.merge(t.toString(),e,(l,d)=>{const h="ok"===l;h||qo("update at "+t+" failed: "+l);const p=sh(i.serverSyncTree_,a,!h),g=p.length>0?b_(i,t):t;ba(i.eventQueue_,g,p),ah(0,n,l,d)}),mo(e,l=>{const d=IO(i,Qn(t,l));b_(i,d)}),ba(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function Tbe(i){i=(0,R.m9)(i);const t=new AO(()=>{}),e=new k0(t);return function sbe(i,t,e){const n=function Vve(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(l,d)=>{const h=Ts(l,e);n=n||rh(d,h)});let r=i.syncPointTree_.get(e);r?n=n||rh(r,Fi()):(r=new u$,i.syncPointTree_=i.syncPointTree_.set(e,r));const o=null!=n,s=o?new ih(n,!0,!1):null;return function wve(i){return uT(i.viewCache_)}(h$(r,t,hT(i.pendingWriteTree_,t._path),o?s.getNode():Kt.EMPTY_NODE,o))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const o=cr(r).withIndex(t._queryParams.getIndex());let s;if(uO(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=g0(i.serverSyncTree_,t._path,o);else{const a=_0(i.serverSyncTree_,t);s=_$(i.serverSyncTree_,t._path,o,a)}return ba(i.eventQueue_,t._path,s),bT(i.serverSyncTree_,t,e,null,!0),o},r=>(v_(i,"get for query "+(0,R.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new hp(n,new nc(i._repo,i._path),i._queryParams.getIndex()))}class k0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new z$("value",this,new hp(t.snapshotNode,new nc(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new H$(this,t,e):null}matches(t){return t instanceof k0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class AT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new H$(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const n=mp(new nc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new z$(t.type,this,new hp(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof AT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function T0(i,t,e,n,r){let o;if("object"==typeof n&&(o=void 0,r=n),"function"==typeof n&&(o=n),r&&r.onlyOnce){const c=e,l=(d,h)=>{TO(i._repo,i,a),c(d,h)};l.userCallback=e.userCallback,l.context=e.context,e=l}const s=new AO(e,o||void 0),a="value"===t?new k0(s):new AT(t,s);return function hbe(i,t,e){let n;n=".info"===mi(t._path)?uO(i.infoSyncTree_,t,e):uO(i.serverSyncTree_,t,e),I$(i.eventQueue_,t._path,n)}(i._repo,i,a),()=>TO(i._repo,i,a)}function PO(i,t,e,n){return T0(i,"value",t,e,n)}function $$(i,t,e,n){return T0(i,"child_added",t,e,n)}function G$(i,t,e,n){return T0(i,"child_changed",t,e,n)}function q$(i,t,e,n){return T0(i,"child_moved",t,e,n)}function Y$(i,t,e,n){return T0(i,"child_removed",t,e,n)}function Z$(i,t,e){let n=null;const r=e?new AO(e):null;"value"===t?n=new k0(r):t&&(n=new AT(t,r)),TO(i._repo,i,n)}class Dc{}class K$ extends Dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kl("endAt",this._value,t._path,!0);const e=YP(t._queryParams,this._value,this._key);if(MT(e),ch(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class Ibe extends Dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kl("endBefore",this._value,t._path,!1);const e=function L_e(i,t,e){let n;return n=YP(i,t,i.index_===Cl||e?e:Ju),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(MT(e),ch(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class Q$ extends Dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kl("startAt",this._value,t._path,!0);const e=qP(t._queryParams,this._value,this._key);if(MT(e),ch(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class Abe extends Dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kl("startAfter",this._value,t._path,!1);const e=function F_e(i,t,e){let n;return n=qP(i,t,i.index_===Cl||e?e:Ad),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(MT(e),ch(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class Pbe extends Dc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(t._repo,t._path,function O_e(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Nbe extends Dc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(t._repo,t._path,function N_e(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Lbe extends Dc{constructor(t){super(),this._path=t}_apply(t){ST(t,"orderByChild");const e=new Yi(this._path);if(pi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new WP(e),r=sT(t._queryParams,n);return ch(r),new Qs(t._repo,t._path,r,!0)}}class Bbe extends Dc{_apply(t){ST(t,"orderByKey");const e=sT(t._queryParams,Cl);return ch(e),new Qs(t._repo,t._path,e,!0)}}class Hbe extends Dc{_apply(t){ST(t,"orderByPriority");const e=sT(t._queryParams,Mn);return ch(e),new Qs(t._repo,t._path,e,!0)}}class jbe extends Dc{_apply(t){ST(t,"orderByValue");const e=sT(t._queryParams,$P);return ch(e),new Qs(t._repo,t._path,e,!0)}}class $be extends Dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(kl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new K$(this._value,this._key)._apply(new Q$(this._value,this._key)._apply(t))}}function Ic(i,...t){let e=(0,R.m9)(i);for(const n of t)e=n._apply(e);return e}(function kve(i){(0,R.hu)(!gT,"__referenceConstructor has already been defined"),gT=i})(nc),function Mve(i){(0,R.hu)(!vT,"__referenceConstructor has already been defined"),vT=i}(nc);const OO={};function NO(i,t,e,n,r){let o=n||i.options.databaseURL;void 0===o&&(i.options.projectId||xl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ho("Using default host for project ",i.options.projectId),o=`${i.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=MO(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=MO(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const d=r&&c?new r0(r0.OWNER):new zge(i.name,i.options,t);D$("Invalid Firebase Database URL",s),pi(s.path)||xl("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function Kbe(i,t,e,n){let r=OO[t.name];r||(r={},OO[t.name]=r);let o=r[i.toURLString()];return o&&xl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new nbe(i,false,e,n),r[i.toURLString()]=o,o}(a,i,d,new Bge(i.name,e));return new Xbe(h,i)}class Xbe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function rbe(i,t,e){if(i.stats_=NP(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new aT(i.repoInfo_,(n,r,o,s)=>{R$(i,n,r,o,s)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>P$(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new ap(i.repoInfo_,t,(n,r,o,s)=>{R$(i,n,r,o,s)},n=>{P$(i,n)},n=>{!function obe(i,t){mo(t,(e,n)=>{EO(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function jge(i,t){const e=i.toString();return OP[e]||(OP[e]=t()),OP[e]}(i.repoInfo_,()=>new j_e(i.stats_,i.server_)),i.infoData_=new V_e,i.infoSyncTree_=new g$({startListening:(n,r,o,s)=>{let a=[];const c=i.infoData_.getNode(n._path);return c.isEmpty()||(a=g0(i.infoSyncTree_,n._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),EO(i,"connected",!1),i.serverSyncTree_=new g$({startListening:(n,r,o,s)=>(i.server_.listen(n,o,r,(a,c)=>{const l=s(a,c);ba(i.eventQueue_,n._path,l)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nc(this._repo,Fi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zbe(i,t){const e=OO[t];(!e||e[i.key]!==i)&&xl(`Database ${t}(${i.repoInfo_}) has already been deleted.`),N$(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&xl("Cannot call "+t+" on a deleted database.")}}function J$(){xW.IS_TRANSPORT_INITIALIZED&&qo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jbe(){J$(),eh.forceDisallow()}function eye(){J$(),d_.forceDisallow(),eh.forceAllow()}function nye(i,t){iW(i,t)}const oye={".sv":"timestamp"};class cye{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ap.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},ap.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function rye(i){DP(wl.SDK_VERSION),(0,wl._registerComponent)(new Md.wA("database",(t,{instanceIdentifier:e})=>NO(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,wl.registerVersion)(K6,"1.0.2",i),(0,wl.registerVersion)(K6,"1.0.2","esm2017")}();const hye=new va.Yd("@firebase/database-compat"),t8=function(i){hye.warn("FIREBASE WARNING: "+i)};class fye{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),o=>n(o)),r}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,t8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class gye{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class lh{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),C0("DataSnapshot.child","path",t,!1),new lh(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),C0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new lh(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Po{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var o;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const s=Po.getCancelAndContextArgs_("Query.on",n,r),a=(l,d)=>{e.call(s.context,new lh(this.database,l),d)};a.userCallback=e,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return PO(this._delegate,a,c),e;case"child_added":return $$(this._delegate,a,c),e;case"child_removed":return Y$(this._delegate,a,c),e;case"child_changed":return G$(this._delegate,a,c),e;case"child_moved":return q$(this._delegate,a,c),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,R.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,Z$(this._delegate,t,r)}else Z$(this._delegate,t)}get(){return Tbe(this._delegate).then(t=>new lh(this.database,t))}once(t,e,n,r){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const o=Po.getCancelAndContextArgs_("Query.once",n,r),s=new R.BH,a=(l,d)=>{const h=new lh(this.database,l);e&&e.call(o.context,h,d),s.resolve(h)};a.userCallback=e,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(t){case"value":PO(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":$$(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":Y$(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":G$(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":q$(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Po(this.database,Ic(this._delegate,function Obe(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pbe(i)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Po(this.database,Ic(this._delegate,function Fbe(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nbe(i)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Po(this.database,Ic(this._delegate,function Vbe(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return C0("orderByChild","path",i,!1),new Lbe(i)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Po(this.database,Ic(this._delegate,function zbe(){return new Bbe}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Po(this.database,Ic(this._delegate,function Ube(){return new Hbe}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Po(this.database,Ic(this._delegate,function Wbe(){return new jbe}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Po(this.database,Ic(this._delegate,function Mbe(i=null,t){return x0("startAt","key",t,!0),new Q$(i,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Po(this.database,Ic(this._delegate,function Rbe(i,t){return x0("startAfter","key",t,!0),new Abe(i,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Po(this.database,Ic(this._delegate,function Dbe(i,t){return x0("endAt","key",t,!0),new K$(i,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Po(this.database,Ic(this._delegate,function Sbe(i,t){return x0("endBefore","key",t,!0),new Ibe(i,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Po(this.database,Ic(this._delegate,function Gbe(i,t){return x0("equalTo","key",t,!0),new $be(i,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Po))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,R.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,R.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ya(this.database,new nc(this._delegate._repo,this._delegate._path))}}class ya extends Po{constructor(t,e){super(t,new Qs(e._repo,e._path,new oT,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ya(this.database,mp(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ya(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new ya(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const n=RO(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,t8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ic("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const n=kbe(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function Ebe(i,t,e){if(ic("setWithPriority",i._path),kl("setWithPriority",t,i._path,!1),CO("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new R.BH;return kO(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),o=>n(o)),r}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function xbe(i){return ic("remove",i._path),RO(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function lye(i,t,e){var n;if(i=(0,R.m9)(i),ic("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,o=new R.BH,a=PO(i,()=>{});return function pbe(i,t,e,n,r,o){v_(i,"transaction on "+t);const s={path:t,update:e,onComplete:n,status:null,order:J6(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=DO(i,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{w0("transaction failed: Data returned ",c,s.path),s.status=0;const l=xT(i.transactionQueueTree_,t),d=up(l)||[];let h;d.push(s),yO(l,d),"object"==typeof c&&null!==c&&(0,R.r3)(c,".priority")?(h=(0,R.DV)(c,".priority"),(0,R.hu)(y0(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(yT(i.serverSyncTree_,t)||Kt.EMPTY_NODE).getPriority().val();const p=E0(i),g=cr(c,h),b=_O(g,a,p);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=b,s.currentWriteId=TT(i);const w=dO(i.serverSyncTree_,t,b,s.currentWriteId,s.applyLocally);ba(i.eventQueue_,t,w),DT(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(c,l,d)=>{let h=null;c?o.reject(c):(h=new hp(d,new nc(i._repo,i._path),Mn),o.resolve(new cye(l,h)))},a,r),o.promise}(this._delegate,t,{applyLocally:n}).then(o=>new gye(o.committed,new lh(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const n=function Cbe(i,t){i=(0,R.m9)(i),ic("setPriority",i._path),CO("setPriority",t,!1);const e=new R.BH;return kO(i._repo,Qn(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const n=function wbe(i,t){i=(0,R.m9)(i),ic("push",i._path),kl("push",t,i._path,!0);const e=A$(i._repo),n=ybe(e),r=mp(i,n),o=mp(i,n);let s;return s=null!=t?RO(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=n.then(s=>new ya(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ya(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ic("Reference.onDisconnect",this._delegate._path),new fye(new U$(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class D0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jbe,forceLongPolling:eye}}useEmulator(t,e,n={}){!function e8(i,t,e,n={}){(i=(0,R.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&xl("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let o;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&xl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new r0(r0.OWNER);else if(n.mockUserToken){const s="string"==typeof n.mockUserToken?n.mockUserToken:(0,R.Sg)(n.mockUserToken,i.app.options.projectId);o=new r0(s)}!function Ybe(i,t,e,n){i.repoInfo_=new RP(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,o)}(this._delegate,t,e,n)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof ya){const e=W$(this._delegate,t.toString());return new ya(this,e)}{const e=j$(this._delegate,t);return new ya(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const n=W$(this._delegate,t);return new ya(this,n)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function tye(i){(i=(0,R.m9)(i))._checkNotDeleted("goOffline"),N$(i._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function iye(i){(i=(0,R.m9)(i))._checkNotDeleted("goOnline"),function mbe(i){i.persistentConnection_&&i.persistentConnection_.resume(M$)}(i._repo)}(this._delegate)}}D0.ServerValue={TIMESTAMP:function sye(){return oye}(),increment:i=>function aye(i){return{".sv":{increment:i}}}(i)};var vye=Object.freeze({__proto__:null,initStandalone:function _ye({app:i,url:t,version:e,customAuthImpl:n,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){DP(e);const a=new Md.H0("database-standalone"),c=new Md.zt("auth-internal",a);let l;return c.setComponent(new Md.wA("auth-internal",()=>n,"PRIVATE")),r&&(l=new Md.zt("app-check-internal",a),l.setComponent(new Md.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new D0(NO(i,c,l,t,s),i),namespace:o}}});const bye=D0.ServerValue;function I0(i,t,e="on",n=tp){return new zt(r=>{let o=null;return o=i[e](t,(s,a)=>{n.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&n.schedule(()=>r.complete())},s=>{n.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&i.off(t,o)}}:{unsubscribe(){}}}).pipe(Le(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),xt())}function n8(i){return null==i}function r8(i){return"function"==typeof i.set}function o8(i,t){return r8(t)?t:i.ref(t)}function s8(i,t){if(function wye(i){return"string"==typeof i}(i))return t.stringCase();if(r8(i))return t.firebaseCase();if(function xye(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function a8(i){return(n8(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function c8(i,t,e){return ee(...(t=a8(t)).map(r=>I0(i,r,"on",e)))}function l8(i,t){return function(n,r){return s8(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function Tye(i){return function(e){return e?s8(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function d8(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function Sye(i,t){const{payload:e,prevKey:n,key:r}=t,o=d8(i,r),s=function Iye(i,t){if(n8(t))return 0;{const e=d8(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,i=[...i,l],!1})}return i;case"child_added":if(o>-1)(i[o-1]?.key||null)!==n&&(i=i.filter(c=>c.payload.key!==e.key)).splice(s,0,t);else{if(null==n)return[t,...i];(i=i.slice()).splice(s,0,t)}return i;case"child_removed":return i.filter(a=>a.payload.key!==e.key);case"child_changed":return i.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=i.splice(o,1)[0];return(i=i.slice()).splice(s,0,a),i}return i;default:return i}}function u8(i,t,e){return function Dye(i,t,e){return I0(i,"value","once",e).pipe(kt(n=>{const r=[ae(n)];return t.forEach(o=>r.push(I0(i,o,"on",e))),ee(...r).pipe(Zg(Sye,[]))}),Ki())}(i,t=a8(t),e)}function h8(i,t){return function(){return I0(i,"value","on",t)}}!function yye(i){i.INTERNAL.registerComponent(new Md.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new D0(r,n)},"PUBLIC").setServiceProps({Reference:ya,Query:Po,Database:D0,DataSnapshot:lh,enableLogging:nye,INTERNAL:vye,ServerValue:bye}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","1.0.2")}(Sd.Z);const Rye=new Y("angularfire2.realtimeDatabaseURL"),Pye=new Y("angularfire2.database.use-emulator");let y_=(()=>{class i{schedulers;database;constructor(e,n,r,o,s,a,c,l,d,h,p,g,b,w,x){this.schedulers=a;const S=c,D=Zk(e,s,n);l&&kP(D,s,d,p,g,b,h,w),this.database=_P(`${D.name}.database.${r}`,"AngularFireDatabase",D.name,()=>{const M=s.runOutsideAngular(()=>D.database(r||void 0));return S&&M.useEmulator(...S),M},[S])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>o8(this.database,e));let o=r;return n&&(o=n(r)),function Mye(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:l8(n,"update"),set:l8(n,"set"),push:r=>n.push(r),remove:Tye(n),snapshotChanges:r=>u8(i,r,e).pipe(to),stateChanges:r=>c8(i,r,e).pipe(to),auditTrail:r=>function Cye(i,t,e){return function kye(i,t,e){return function Eye(i,t){return I0(i,"value","on",t).pipe(Le(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function kge(...i){const t=ss(i);return te((e,n)=>{const r=i.length,o=new Array(r);let s=i.map(()=>!1),a=!1;for(let c=0;c<r;c++)cn(i[c]).subscribe(Oe(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(qn))&&(s=null))},et));e.subscribe(Oe(n,c=>{if(a){const l=[c,...o];n.next(t?t(...l):l)}}))})}(t),Le(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Tge(i){return te((t,e)=>{let n=!1,r=0;t.subscribe(Oe(e,o=>(n||(n=!i(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Le(r=>r.actions))}(i,c8(i,t).pipe(Zg((r,o)=>[...r,o],[])),e)}(i,r,e).pipe(to),valueChanges:(r,o)=>u8(i,r,e).pipe(Le(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),to)}}(o,this)}object(e){return function Aye(i,t){return{query:i,snapshotChanges:()=>h8(i,t.schedulers.outsideAngular)().pipe(to),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>h8(i,t.schedulers.outsideAngular)().pipe(to,Le(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>o8(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(n){return new(n||i)(W(Qy),W(Xy,8),W(Rye,8),W(Ya),W(Ke),W(gP),W(Pye,8),W(Kk,8),W(bP,8),W(yP,8),W(wP,8),W(xP,8),W(CP,8),W(EP,8),W(fP,8))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();function lt(i){return null!=i&&"false"!=`${i}`}function Oo(i,t=0){return function Oye(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function RT(i){return Array.isArray(i)?i:[i]}function Ur(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Pd(i){return i instanceof rt?i.nativeElement:i}const Fye=["addListener","removeListener"],Lye=["addEventListener","removeEventListener"],Vye=["on","off"];function w_(i,t,e,n){if(P(e)&&(n=e,e=void 0),n)return w_(i,t,e).pipe(jR(n));const[r,o]=function Hye(i){return P(i.addEventListener)&&P(i.removeEventListener)}(i)?Lye.map(s=>a=>i[s](t,a,e)):function Bye(i){return P(i.addListener)&&P(i.removeListener)}(i)?Fye.map(m8(i,t)):function zye(i){return P(i.on)&&P(i.off)}(i)?Vye.map(m8(i,t)):[];if(!r&&si(i))return Mi(s=>w_(s,t,e))(cn(i));if(!r)throw new TypeError("Invalid event target");return new zt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function m8(i,t){return e=>n=>i[e](t,n)}const S0={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=S0;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new wt(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=S0;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=S0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class jye extends Yk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Uye extends qk{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=S0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(S0.cancelAnimationFrame(e),t._scheduled=void 0)}});let FO,$ye=1;const PT={};function p8(i){return i in PT&&(delete PT[i],!0)}const Gye={setImmediate(i){const t=$ye++;return PT[t]=!0,FO||(FO=Promise.resolve()),FO.then(()=>p8(t)&&i()),t},clearImmediate(i){p8(i)}},{setImmediate:qye,clearImmediate:Yye}=Gye,OT={setImmediate(...i){const{delegate:t}=OT;return(t?.setImmediate||qye)(...i)},clearImmediate(i){const{delegate:t}=OT;return(t?.clearImmediate||Yye)(i)},delegate:void 0};new class Kye extends Yk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Zye extends qk{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=OT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(OT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function g8(i,t=tp){return function Xye(i){return te((t,e)=>{let n=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Oe(e,l=>{n=!0,r=l,o||cn(i(l)).subscribe(o=Oe(e,a,c))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>function f8(i=0,t,e=sge){let n=-1;return null!=t&&(Or(t)?e=t:n=t),new zt(r=>{let o=function Jye(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,t))}let LO;try{LO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{LO=!1}let x_,Xn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function The(i){return i===hj}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(W(Ya))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const _8=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function v8(){if(x_)return x_;if("object"!=typeof document||!document)return x_=new Set(_8),x_;let i=document.createElement("input");return x_=new Set(_8.filter(t=>(i.setAttribute("type",t),i.type===t))),x_}let M0,pp,VO;function Sc(i){return function e0e(){if(null==M0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M0=!0}))}finally{M0=M0||!1}return M0}()?i:!!i.capture}function t0e(){if(null==pp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pp=!1,pp;if("scrollBehavior"in document.documentElement.style)pp=!0;else{const i=Element.prototype.scrollTo;pp=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return pp}function C_(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Od(i){return i.composedPath?i.composedPath()[0]:i.target}function BO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const r0e=new Y("cdk-dir-doc",{providedIn:"root",factory:function o0e(){return Ie(At)}}),s0e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wa=(()=>{class i{constructor(e){this.value="ltr",this.change=new ze,e&&(this.value=function a0e(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?s0e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(W(r0e,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),E_=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),l0e=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(g8(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Vn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Pd(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>w_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(W(Ke),W(Xn),W(At,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),FT=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new q,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(g8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn),W(Ke),W(At,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Nd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),zO=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[E_,Nd,E_,Nd]})}return i})();class HO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class A0 extends HO{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class UO extends HO{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class u0e extends HO{constructor(t){super(),this.element=t instanceof rt?t.nativeElement:t}}class jO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof A0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof UO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof u0e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class h0e extends jO{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||zr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let R0=(()=>{class i extends jO{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ze,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(T(xg),T(Dr),T(At))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ae]})}return i})(),Tl=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();const b8=t0e();class m0e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ur(-this._previousScrollPosition.left),t.style.top=Ur(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),b8&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b8&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class p0e{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Vn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class y8{enable(){}disable(){}attach(){}}function WO(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function w8(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class f0e{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();WO(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let g0e=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new y8,this.close=s=>new p0e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new m0e(this._viewportRuler,this._document),this.reposition=s=>new f0e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(n){return new(n||i)(W(l0e),W(FT),W(Ke),W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class LT{constructor(t){if(this.scrollStrategy=new y8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class _0e{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let x8=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),v0e=(()=>{class i extends x8{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(Ke,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),b0e=(()=>{class i extends x8{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Od(o)},this._clickListener=o=>{const s=Od(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(Xn),W(Ke,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),VT=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||BO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),BO()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(Xn))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class P0{constructor(t,e,n,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new q,this._attachments=new q,this._detachments=new q,this._locationChanges=wt.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new q,this._outsidePointerEvents=new q,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ur(this._config.width),t.height=Ur(this._config.height),t.minWidth=Ur(this._config.minWidth),t.minHeight=Ur(this._config.minHeight),t.maxWidth=Ur(this._config.maxWidth),t.maxHeight=Ur(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=RT(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ji(ee(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const C8="cdk-overlay-connected-position-bounding-box",y0e=/([A-Za-z%]+)$/;class E8{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q,this._resizeSubscription=wt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(C8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,n,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,n)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(C8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?s:a}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=T8(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,g=a+o.height-n.height,b=this._subtractOverflows(o.width,0-s,s+o.width-n.width),w=this._subtractOverflows(o.height,p,g),x=b*w;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=k8(this._overlayRef.getConfig().minHeight),a=k8(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=T8(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,h=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new _0e(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,s,a,d,h,p;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,o=n.height-a+this._viewportMargin;else{const g=Math.min(n.bottom-t.y+n.top,t.y),b=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=n.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,d=n.right-t.x;else{const g=Math.min(n.right-t.x+n.left,t.x),b=this._lastBoundingBoxSize.width;d=2*g,h=t.x-g,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-b/2)}return{top:s,left:h,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Ur(n.height),r.top=Ur(n.top),r.bottom=Ur(n.bottom),r.width=Ur(n.width),r.left=Ur(n.left),r.right=Ur(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Ur(o)),s&&(r.maxWidth=Ur(s))}this._lastBoundingBoxSize=n,fp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();fp(n,this._getExactOverlayY(e,t,d)),fp(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Ur(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Ur(s.maxWidth):o&&(n.maxWidth="")),fp(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Ur(o.y),r}_getExactOverlayX(t,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Ur(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:w8(t,n),isOriginOutsideView:WO(t,n),isOverlayClipped:w8(e,n),isOverlayOutsideView:WO(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&RT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof rt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function fp(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function k8(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(y0e);return e&&"px"!==e?null:parseFloat(t)}return i||null}function T8(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const D8="cdk-global-overlay-wrapper";class w0e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(D8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let g="",b="",w="";c?w="flex-start":"center"===d?(w="center",p?b=h:g=h):p?"left"===d||"end"===d?(w="flex-end",g=h):("right"===d||"start"===d)&&(w="flex-start",b=h):"left"===d||"start"===d?(w="flex-start",g=h):("right"===d||"end"===d)&&(w="flex-end",b=h),t.position=this._cssPosition,t.marginLeft=c?"0":g,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":b,e.justifyContent=w,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(D8),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let x0e=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new w0e}flexibleConnectedTo(e){return new E8(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(W(FT),W(At),W(Xn),W(VT))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),C0e=0,xa=(()=>{class i{constructor(e,n,r,o,s,a,c,l,d,h,p,g){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=g}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new LT(e);return s.direction=s.direction||this._directionality.value,new P0(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+C0e++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gu)),new h0e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(W(g0e),W(VT),W(xg),W(x0e),W(v0e),W(zr),W(Ke),W(At),W(wa),W(Dy),W(b0e),W(Ro,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const T0e={provide:new Y("cdk-connected-overlay-scroll-strategy"),deps:[xa],useFactory:function k0e(i){return()=>i.scrollStrategies.reposition()}};let dh=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[xa,T0e],imports:[E_,Tl,zO,zO]})}return i})();function Ds(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function S8(i){return Vn((t,e)=>i<=e)}let M8=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),UT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[M8]})}return i})();const A8=new Set;let _p,V0e=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):z0e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function B0e(i,t){if(!A8.has(i))try{_p||(_p=document.createElement("style"),t&&(_p.nonce=t),_p.setAttribute("type","text/css"),document.head.appendChild(_p)),_p.sheet&&(_p.sheet.insertRule(`@media ${i} {body{ }}`,0),A8.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn),W(B1,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function z0e(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let H0e=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return R8(RT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Tk(R8(RT(e)).map(s=>this._registerQuery(s).observable));return o=Ry(o.pipe(Ln(1)),o.pipe(S8(1),function GO(i,t=tp){return te((e,n)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,n.next(l)}};function c(){const l=s+i,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void n.add(r);a()}e.subscribe(Oe(n,l=>{o=l,s=t.now(),r||(r=t.schedule(c,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Le(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new zt(s=>{const a=c=>this._zone.run(()=>s.next(c));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(Es(n),Le(({matches:s})=>({query:e,matches:s})),Ji(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||i)(W(V0e),W(Ke))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function R8(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let jT=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function G0e(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function $0e(i){try{return i.frameElement}catch{return null}}(function ewe(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===V8(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=V8(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function X0e(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function J0e(i){return!function Y0e(i){return function K0e(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function q0e(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function Z0e(i){return function Q0e(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||L8(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function L8(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function V8(i){if(!L8(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class twe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ln(1)).subscribe(t)}}let WT=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new twe(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(W(jT),W(Ke),W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),iwe=(()=>{class i{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=lt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=lt(e)}constructor(e,n,r){this._elementRef=e,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=C_(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(WT),T(At))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Xi]})}return i})();function B8(i){return 0===i.buttons||0===i.detail}function z8(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const nwe=new Y("cdk-input-modality-detector-options"),rwe={ignoreKeys:[18,17,224,91,16]},T_=Sc({passive:!0,capture:!0});let owe=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new G(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Od(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(B8(s)?"keyboard":"mouse"),this._mostRecentTarget=Od(s))},this._onTouchstart=s=>{z8(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Od(s))},this._options={...rwe,...o},this.modalityDetected=this._modality.pipe(S8(1)),this.modalityChanged=this.modalityDetected.pipe(Ki()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,T_),r.addEventListener("mousedown",this._onMousedown,T_),r.addEventListener("touchstart",this._onTouchstart,T_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,T_),document.removeEventListener("mousedown",this._onMousedown,T_),document.removeEventListener("touchstart",this._onTouchstart,T_))}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn),W(Ke),W(At),W(nwe,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const awe=new Y("cdk-focus-monitor-default-options"),$T=Sc({passive:!0,capture:!0});let Dl=(()=>{class i{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q,this._rootNodeFocusAndBlurListener=a=>{for(let l=Od(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const r=Pd(e);if(!this._platform.isBrowser||1!==r.nodeType)return ae();const o=function n0e(i){if(function i0e(){if(null==VO){const i=typeof document<"u"?document.head:null;VO=!(!i||!i.createShadowRoot&&!i.attachShadow)}return VO}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;const a={checkChildren:n,subject:new q,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const n=Pd(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=Pd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,n,c)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=Od(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,$T),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,$T)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ji(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$T),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$T),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(W(Ke),W(Xn),W(owe),W(At,8),W(awe,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),cwe=(()=>{class i{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new ze}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Dl))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return i})();const U8="cdk-high-contrast-black-on-white",j8="cdk-high-contrast-white-on-black",YO="cdk-high-contrast-active";let W8=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=Ie(H0e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(YO,U8,j8),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(YO,U8):2===n&&e.add(YO,j8)}}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn),W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),V0=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(W(W8))};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[UT]})}return i})();function lwe(i,t){}class GT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let $8=(()=>{class i extends jO{constructor(e,n,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=C_(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=C_();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=C_())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(WT),T(At,8),T(GT),T(jT),T(Ke),T(P0),T(Dl))};static#t=this.\u0275cmp=ct({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Di(R0,7),2&n){let o;Qe(o=Xe())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&vt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ae],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&mt(0,lwe,0,0,"ng-template",0)},dependencies:[R0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class ZO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new q,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Ds(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const G8=new Y("DialogScrollStrategy"),dwe=new Y("DialogData"),uwe=new Y("DefaultDialogConfig"),mwe={provide:G8,deps:[xa],useFactory:function hwe(i){return()=>i.scrollStrategies.block()}};let pwe=0,q8=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,s,a){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q,this._afterOpenedAtThisLevel=new q,this._ariaHiddenElements=new Map,this.afterAllClosed=Py(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Es(void 0))),this._scrollStrategy=a}open(e,n){(n={...this._defaultOptions||new GT,...n}).id=n.id||"cdk-dialog-"+pwe++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),s=this._overlay.create(o),a=new ZO(s,n),c=this._attachContainer(s,a,n);return a.containerInstance=c,this._attachDialogContent(e,a,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){KO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){KO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),KO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new LT({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:GT,useValue:r},{provide:ZO,useValue:n},{provide:P0,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=$8;const c=new A0(a,r.viewContainerRef,zr.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,n,r,o){if(e instanceof Jr){const s=this._createInjector(o,n,r,void 0);let a={$implicit:o.data,dialogRef:n};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new UO(e,null,a,s))}else{const s=this._createInjector(o,n,r,this._injector),a=r.attachComponentPortal(new A0(e,o.viewContainerRef,s,o.componentFactoryResolver));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(e,n,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:dwe,useValue:e.data},{provide:ZO,useValue:n}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(n,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(wa,null,{optional:!0}))&&a.push({provide:wa,useValue:{value:e.direction,change:ae()}}),zr.create({parent:s||o,providers:a})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(W(xa),W(zr),W(uwe,8),W(i,12),W(VT),W(G8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function KO(i,t){let e=i.length;for(;e--;)t(i[e])}let Y8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[q8,mwe],imports:[dh,Tl,V0,Tl]})}return i})();const gwe=new Y("mat-sanity-checks",{providedIn:"root",factory:function fwe(){return!0}});let ut=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!BO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(W(W8),W(gwe,8),W(At))};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[E_,E_]})}return i})();function B0(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=lt(t)}constructor(...t){super(...t),this._disabled=!1}}}function vp(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function D_(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=lt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Q8(i){return class extends i{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const _we=new Y("MAT_DATE_LOCALE",{providedIn:"root",factory:function vwe(){return Ie(vl)}});class No{constructor(){this._localeChanges=new q,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const yp=new Y("mat-date-formats"),bwe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function JO(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let ywe=(()=>{class i extends No{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return JO(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return JO(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return JO(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth(),o}today(){return new Date}parse(e,n){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(bwe.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,r){const o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(n){return new(n||i)(W(_we,8),W(Xn))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const wwe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let xwe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[{provide:No,useClass:ywe}]})}return i})(),Cwe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[{provide:yp,useValue:wwe}],imports:[xwe]})}return i})(),qT=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),X8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,ut]})}return i})();class Ewe{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const J8=Sc({passive:!0,capture:!0});class kwe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Od(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,J8)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,J8)))}}const e9={enterDuration:225,exitDuration:150},t9=Sc({passive:!0,capture:!0}),i9=["mousedown","touchstart"],n9=["mouseup","mouseleave","touchend","touchcancel"];class H0{static#e=this._eventManager=new kwe;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pd(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...e9,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function Dwe(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),g=h.transitionDuration,b="none"===h.transitionProperty||"0s"===g||"0s, 0s"===g||0===r.width&&0===r.height,w=new Ewe(this,d,n,b);d.style.transform="scale3d(1, 1, 1)",w.state=0,n.persistent||(this._mostRecentTransientRipple=w);let x=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(w),D=()=>this._destroyRipple(w);d.addEventListener("transitionend",S),d.addEventListener("transitioncancel",D),x={onTransitionEnd:S,onTransitionCancel:D}}),this._activeRipples.set(w,x),(b||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...e9,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pd(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,i9.forEach(n=>{H0._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{n9.forEach(e=>{this._triggerElement.addEventListener(e,this,t9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=B8(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!z8(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(i9.forEach(e=>H0._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&n9.forEach(e=>t.removeEventListener(e,this,t9)))}}const I_=new Y("mat-ripple-global-options");let S_=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new H0(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Ke),T(Xn),T(I_,8),T(Ro,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Ve("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),Ca=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,ut]})}return i})(),r9=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut]})}return i})(),YT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[Ca,qi,ut,r9]})}return i})();const o9={capture:!0},s9=["focus","click","mouseenter","touchstart"],e2="mat-ripple-loader-uninitialized",t2="mat-ripple-loader-class-name",a9="mat-ripple-loader-centered",ZT="mat-ripple-loader-disabled";let c9=(()=>{class i{constructor(){this._document=Ie(At,{optional:!0}),this._animationMode=Ie(Ro,{optional:!0}),this._globalRippleOptions=Ie(I_,{optional:!0}),this._platform=Ie(Xn),this._ngZone=Ie(Ke),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${e2}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of s9)this._document?.addEventListener(e,this._onInteraction,o9)})}ngOnDestroy(){const e=this._hosts.keys();for(const n of e)this.destroyRipple(n);for(const n of s9)this._document?.removeEventListener(n,this._onInteraction,o9)}configureRipple(e,n){e.setAttribute(e2,""),(n.className||!e.hasAttribute(t2))&&e.setAttribute(t2,n.className||""),n.centered&&e.setAttribute(a9,""),n.disabled&&e.setAttribute(ZT,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,n){const r=this._hosts.get(e);r?r.disabled=n:n?e.setAttribute(ZT,""):e.removeAttribute(ZT)}_createRipple(e){if(!this._document)return;const n=this._hosts.get(e);if(n)return n;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(t2)),e.append(r);const o=new S_(new rt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(a9),o.disabled=e.hasAttribute(ZT),this.attachRipple(e,o),o}attachRipple(e,n){e.removeAttribute(e2),this._hosts.set(e,n)}destroyRipple(e){const n=this._hosts.get(e);n&&(n.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class l9{}class Awe{}const Ld="*";function Bn(i,t){return{type:7,name:i,definitions:t,options:{}}}function di(i,t=null){return{type:4,styles:t,timings:i}}function d9(i,t=null){return{type:2,steps:i,options:t}}function Ye(i){return{type:6,styles:i,offset:null}}function Gt(i,t,e){return{type:0,name:i,styles:t,options:e}}function M_(i){return{type:5,steps:i}}function ni(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}class U0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class u9{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function Rwe(i,t){}class KT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const r2="mdc-dialog--open",h9="mdc-dialog--opening",m9="mdc-dialog--closing";let Nwe=(()=>{class i extends $8{constructor(e,n,r,o,s,a,c,l){super(e,n,r,o,s,a,c,l),this._animationStateChanged=new ze}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(WT),T(At,8),T(KT),T(jT),T(Ke),T(P0),T(Dl))};static#t=this.\u0275cmp=ct({type:i,selectors:[["ng-component"]],features:[Ae],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const p9="--mat-dialog-transition-duration";function f9(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?Oo(i.substring(0,i.length-2)):i.endsWith("s")?1e3*Oo(i.substring(0,i.length-1)):"0"===i?0:null}let Fwe=(()=>{class i extends Nwe{constructor(e,n,r,o,s,a,c,l,d){super(e,n,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?f9(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?f9(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(p9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(h9,r2)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(r2),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(r2),this._animationsEnabled?(this._hostElement.style.setProperty(p9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(m9)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(h9,m9)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(WT),T(At,8),T(KT),T(jT),T(Ke),T(P0),T(Ro,8),T(Dl))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(qs("id",r._config.id),vt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ve("_mat-animation-noopable",!r._animationsEnabled))},features:[Ae],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1),mt(2,Rwe,0,0,"ng-template",2),F()())},dependencies:[R0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class Lwe{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new q,this._beforeClosed=new q,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(Vn(r=>"opened"===r.state),Ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Vn(r=>"closed"===r.state),Ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ee(this.backdropClick(),this.keydownEvents().pipe(Vn(r=>27===r.keyCode&&!this.disableClose&&!Ds(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Vwe(i,t,e){i._closeInteractionType=t,i.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Vn(e=>"closing"===e.state),Ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Bwe=new Y("MatMdcDialogData"),zwe=new Y("mat-mdc-dialog-default-options"),g9=new Y("mat-mdc-dialog-scroll-strategy"),Uwe={provide:g9,deps:[xa],useFactory:function Hwe(i){return()=>i.scrollStrategies.block()}};let jwe=0,Wwe=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,s,a,c,l,d,h){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new q,this._afterOpenedAtThisLevel=new q,this._idPrefix="mat-dialog-",this.dialogConfigClass=KT,this.afterAllClosed=Py(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Es(void 0))),this._scrollStrategy=a,this._dialog=n.get(q8)}open(e,n){let r;(n={...this._defaultOptions||new KT,...n}).id=n.id||`${this._idPrefix}${jwe++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:GT,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){ju()};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),_9=(()=>{class i extends Wwe{constructor(e,n,r,o,s,a,c,l){super(e,n,o,a,c,s,Lwe,Fwe,Bwe,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(W(xa),W(zr),W(Dy,8),W(zwe,8),W(g9),W(i,12),W(VT),W(Ro,8))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),$we=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[_9,Uwe],imports:[Y8,dh,Tl,ut,ut]})}return i})();class QT{}class XT{}class Il{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Il?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Il;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Il?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Gwe{encodeKey(t){return b9(t)}encodeValue(t){return b9(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Ywe=/%(\d[a-f0-9])/gi,Zwe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function b9(i){return encodeURIComponent(i).replace(Ywe,(t,e)=>Zwe[e]??t)}function JT(i){return`${i}`}class ph{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gwe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qwe(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(JT):[JT(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ph({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(JT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(JT(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Kwe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function y9(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function w9(i){return typeof Blob<"u"&&i instanceof Blob}function x9(i){return typeof FormData<"u"&&i instanceof FormData}class j0{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Qwe(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Il),this.context||(this.context=new Kwe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new ph,this.urlWithParams=e}serializeBody(){return null===this.body?null:y9(this.body)||w9(this.body)||x9(this.body)||function Xwe(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ph?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x9(this.body)?null:w9(this.body)?this.body.type||null:y9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ph?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),l)),new j0(e,n,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var A_=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(A_||{});class o2{constructor(t,e=200,n="OK"){this.headers=t.headers||new Il,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class s2 extends o2{constructor(t={}){super(t),this.type=A_.ResponseHeader}clone(t={}){return new s2({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class R_ extends o2{constructor(t={}){super(t),this.type=A_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new R_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C9 extends o2{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function a2(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let eD=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof j0)o=e;else{let c,l;c=r.headers instanceof Il?r.headers:new Il(r.headers),r.params&&(l=r.params instanceof ph?r.params:new ph({fromObject:r.params})),o=new j0(e,n,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ae(o).pipe(Yg(c=>this.handler.handle(c)));if(e instanceof j0||"events"===r.observe)return s;const a=s.pipe(Vn(c=>c instanceof R_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Le(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Le(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Le(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Le(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new ph).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,a2(r,n))}post(e,n,r={}){return this.request("POST",e,a2(r,n))}put(e,n,r={}){return this.request("PUT",e,a2(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(W(QT))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function T9(i,t){return t(i)}function exe(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const ixe=new Y(""),W0=new Y(""),D9=new Y("");function nxe(){let i=null;return(t,e)=>{null===i&&(i=(Ie(ixe,{optional:!0})??[]).reduceRight(exe,T9));const n=Ie(nk),r=n.add();return i(t,e).pipe(Kg(()=>n.remove(r)))}}let I9=(()=>{class i extends QT{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=Ie(nk)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(W0),...this.injector.get(D9,[])]));this.chain=r.reduceRight((o,s)=>function txe(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(o,s,this.injector),T9)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Kg(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(W(XT),W(fa))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const axe=/^\)\]\}',?\n/;let M9=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new X(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?j(n.\u0275loadImpl()):ae(null)).pipe(kt(()=>new zt(o=>{const s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,x)=>s.setRequestHeader(w,x.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const w=s.statusText||"OK",x=new Il(s.getAllResponseHeaders()),S=function cxe(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new s2({headers:x,status:s.status,statusText:w,url:S}),c},d=()=>{let{headers:w,status:x,statusText:S,url:D}=l(),M=null;204!==x&&(M=typeof s.response>"u"?s.responseText:s.response),0===x&&(x=M?200:0);let L=x>=200&&x<300;if("json"===e.responseType&&"string"==typeof M){const z=M;M=M.replace(axe,"");try{M=""!==M?JSON.parse(M):null}catch(Z){M=z,L&&(L=!1,M={error:Z,text:M})}}L?(o.next(new R_({body:M,headers:w,status:x,statusText:S,url:D||void 0})),o.complete()):o.error(new C9({error:M,headers:w,status:x,statusText:S,url:D||void 0}))},h=w=>{const{url:x}=l(),S=new C9({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(S)};let p=!1;const g=w=>{p||(o.next(l()),p=!0);let x={type:A_.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),"text"===e.responseType&&s.responseText&&(x.partialText=s.responseText),o.next(x)},b=w=>{let x={type:A_.UploadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),o.next(x)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:A_.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(W(mj))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const c2=new Y("XSRF_ENABLED"),A9=new Y("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),R9=new Y("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class P9{}let uxe=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=oj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(Ya),W(A9))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();function hxe(i,t){const e=i.url.toLowerCase();if(!Ie(c2)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=Ie(P9).getToken(),r=Ie(R9);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var fh=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(fh||{});function mxe(...i){const t=[eD,M9,I9,{provide:QT,useExisting:I9},{provide:XT,useExisting:M9},{provide:W0,useValue:hxe,multi:!0},{provide:c2,useValue:!0},{provide:P9,useClass:uxe}];for(const e of i)t.push(...e.\u0275providers);return function R1(i){return{\u0275providers:i}}(t)}const O9=new Y("LEGACY_INTERCEPTOR_FN");function pxe(){return function xp(i,t){return{\u0275kind:i,\u0275providers:t}}(fh.LegacyInterceptors,[{provide:O9,useFactory:nxe},{provide:W0,useExisting:O9,multi:!0}])}let fxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[mxe(pxe())]})}return i})(),Mc=(()=>{class i{constructor(e,n,r,o,s){this.fireauth=e,this.router=n,this.db=r,this.dialog=o,this.http=s,this.loggedIn=!1,this.sidebarVisibilitySubject=new G(!1),this.sidebarVisibility$=this.sidebarVisibilitySubject.asObservable()}login(e,n){this.fireauth.signInWithEmailAndPassword(e,n).then(r=>{const o=r.user;this.router.navigate(["/home"]),console.log(o),this.loggedIn=!0,localStorage.setItem("loggedIn","true"),localStorage.setItem("user",JSON.stringify(o))}).catch(r=>{this.loggedIn=!1;const s=r.message;console.error(s),"Firebase: Error (auth/missing-email)."==s||"Firebase: The email address is badly formatted. (auth/invalid-email)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: The supplied auth credential is incorrect, malformed or has expired. (auth/invalid-credential)."==s?this.Swal("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==s&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/login"])})}register(e,n){this.fireauth.createUserWithEmailAndPassword(e,n).then(()=>{this.Swal("\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"),this.router.navigate(["/login"])},r=>{let o=r.message;console.log(o),"Firebase: Error (auth/missing-email)."==o||"Firebase: The email address is badly formatted. (auth/invalid-email)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: Password should be at least 6 characters (auth/weak-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 6 \u0e15\u0e31\u0e27","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==o&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{this.loggedIn=!1,localStorage.removeItem("loggedIn"),localStorage.removeItem("user"),this.router.navigate(["/login"])},e=>{alert(e.message)})}isLoggedIn(){return"true"===localStorage.getItem("loggedIn")}humidityValue(){return this.db.object("Humidity").valueChanges()}temperatureValue(){return this.db.object("Temperature").valueChanges()}pHValue(){return this.db.object("pHValue").valueChanges()}waterStateLow(){return this.db.object("waterstatelow").valueChanges()}waterStateHigh(){return this.db.object("waterstatehigh").valueChanges()}timeSFT(){return this.db.object("timeSFT").valueChanges()}timeSWT(){return this.db.object("timeSWT").valueChanges()}timeFT(){return this.db.object("timeFT").valueChanges()}timeMB(){return this.db.object("timeMB").valueChanges()}timePHU(){return this.db.object("timePHU").valueChanges()}timePHD(){return this.db.object("timePHD").valueChanges()}Swal(e,n,r="",o="",s=""){return(0,ce.Z)(function*(){yield Jfe().fire({title:`<b style="color:${s};" class="fs-3">${e}</b>`,text:r,reverseButtons:!0,showCloseButton:!0,confirmButtonColor:"#00C514",icon:n,confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",customClass:{confirmButton:"alert-btn-confirm"}}).then(function(){var a=(0,ce.Z)(function*(c){o&&(window.location.href=`./${o}`)});return function(c){return a.apply(this,arguments)}}())})()}Post(e,n,r=null){var o=this;return(0,ce.Z)(function*(){const s=n;try{return yield o.http.post(`http://localhost:3000/${e}`,s).subscribe()}catch(a){return console.error("An error occurred:",a),!1}})()}Get(e){var n=this;return(0,ce.Z)(function*(){return new Promise((r,o)=>{n.http.get(`http://localhost:3000/${e}`).subscribe(s=>{r(s)},s=>{r(!1)})})})()}toggleSidebar(){this.sidebarVisibilitySubject.next(!this.sidebarVisibilitySubject.value)}static#e=this.\u0275fac=function(n){return new(n||i)(W(Kk),W(ks),W(y_),W(_9),W(eD))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function N9(...i){const t=ss(i),{args:e,keys:n}=Fj(i),r=new zt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;cn(e[d]).subscribe(Oe(o,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(n?Lj(n,a):a),o.complete())}))}});return t?r.pipe(jR(t)):r}let F9=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(vd),T(rt))};static#t=this.\u0275dir=ne({type:i})}return i})(),Cp=(()=>{class i extends F9{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=St(i)))(r||i)}}();static#t=this.\u0275dir=ne({type:i,features:[Ae]})}return i})();const jr=new Y("NgValueAccessor"),xxe={provide:jr,useExisting:Q(()=>gh),multi:!0},Exe=new Y("CompositionEventMode");let gh=(()=>{class i extends F9{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cxe(){const i=qu()?qu().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(vd),T(rt),T(Exe,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&we("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[qe([xxe]),Ae]})}return i})();function _h(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function V9(i){return null!=i&&"number"==typeof i.length}const io=new Y("NgValidators"),vh=new Y("NgAsyncValidators"),kxe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class l2{static min(t){return function B9(i){return t=>{if(_h(t.value)||_h(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function z9(i){return t=>{if(_h(t.value)||_h(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function H9(i){return _h(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function U9(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function j9(i){return _h(i.value)||kxe.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function W9(i){return t=>_h(t.value)||!V9(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function $9(i){return t=>V9(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function G9(i){if(!i)return iD;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(_h(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return X9(t)}static composeAsync(t){return J9(t)}}function iD(i){return null}function q9(i){return null!=i}function Y9(i){return fy(i)?j(i):i}function Z9(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function K9(i,t){return t.map(e=>e(i))}function Q9(i){return i.map(t=>function Txe(i){return!i.validate}(t)?t:e=>t.validate(e))}function X9(i){if(!i)return null;const t=i.filter(q9);return 0==t.length?null:function(e){return Z9(K9(e,t))}}function d2(i){return null!=i?X9(Q9(i)):null}function J9(i){if(!i)return null;const t=i.filter(q9);return 0==t.length?null:function(e){return N9(K9(e,t).map(Y9)).pipe(Le(Z9))}}function u2(i){return null!=i?J9(Q9(i)):null}function eG(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function tG(i){return i._rawValidators}function iG(i){return i._rawAsyncValidators}function h2(i){return i?Array.isArray(i)?i:[i]:[]}function nD(i,t){return Array.isArray(i)?i.includes(t):i===t}function nG(i,t){const e=h2(t);return h2(i).forEach(r=>{nD(e,r)||e.push(r)}),e}function rG(i,t){return h2(t).filter(e=>!nD(i,e))}class oG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=d2(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=u2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Is extends oG{get formDirective(){return null}get path(){return null}}class Sl extends oG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sG{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let P_=(()=>{class i extends sG{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Sl,2))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]})}return i})(),m2=(()=>{class i extends sG{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Is,10))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ae]})}return i})();const $0="VALID",oD="INVALID",O_="PENDING",G0="DISABLED";function g2(i){return(sD(i)?i.validators:i)||null}function _2(i,t){return(sD(t)?t.asyncValidators:i)||null}function sD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class dG{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$0}get invalid(){return this.status===oD}get pending(){return this.status==O_}get disabled(){return this.status===G0}get enabled(){return this.status!==G0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rG(t,this._rawAsyncValidators))}hasValidator(t){return nD(this._rawValidators,t)}hasAsyncValidator(t){return nD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=O_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=G0,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$0,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$0||this.status===O_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G0:$0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=O_,this._hasOwnPendingAsyncValidator=!0;const e=Y9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?G0:this.errors?oD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(O_)?O_:this._anyControlsHaveStatus(oD)?oD:$0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Mxe(i){return Array.isArray(i)?d2(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Axe(i){return Array.isArray(i)?u2(i):i||null}(this._rawAsyncValidators)}}class v2 extends dG{constructor(t,e,n){super(g2(e),_2(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function lG(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new X(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function cG(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new X(1e3,"");if(!n[e])throw new X(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Ep=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>q0}),q0="always";function Y0(i,t,e=q0){b2(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function Oxe(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&uG(i,t)})}(i,t),function Fxe(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Nxe(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&uG(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function Pxe(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function cD(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),dD(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function lD(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function b2(i,t){const e=tG(i);null!==t.validator?i.setValidators(eG(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=iG(i);null!==t.asyncValidator?i.setAsyncValidators(eG(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();lD(t._rawValidators,r),lD(t._rawAsyncValidators,r)}function dD(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=tG(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=iG(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return lD(t._rawValidators,n),lD(t._rawAsyncValidators,n),e}function uG(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function hG(i,t){b2(i,t)}function mG(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const Hxe={provide:Is,useExisting:Q(()=>kp)},Z0=(()=>Promise.resolve())();let kp=(()=>{class i extends Is{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new v2({},d2(e),u2(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Z0.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Y0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Z0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Z0.then(()=>{const n=this._findContainer(e.path),r=new v2({});hG(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Z0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Z0.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,mG(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(T(io,10),T(vh,10),T(Ep,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&we("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([Hxe]),Ae]})}return i})();function pG(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function fG(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const gG=class extends dG{constructor(t=null,e,n){super(g2(e),_2(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=fG(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){fG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Wxe={provide:Sl,useExisting:Q(()=>Tp)},bG=(()=>Promise.resolve())();let Tp=(()=>{class i extends Sl{constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new gG,this._registered=!1,this.name="",this.update=new ze,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function x2(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===gh?e=o:function Bxe(i){return Object.getPrototypeOf(i.constructor)===Cp}(o)?n=o:r=o}),r||n||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function w2(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Y0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){bG.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&jg(n);bG.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function aD(i,t){return[...t.path,i]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||i)(T(Is,9),T(io,10),T(vh,10),T(jr,10),T(hn,8),T(Ep,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([Wxe]),Ae,Xi]})}return i})(),C2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),wG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();const E2=new Y("NgModelWithFormControlWarning"),Kxe={provide:Is,useExisting:Q(()=>K0)};let K0=(()=>{class i extends Is{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ze,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Y0(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){cD(e.control||null,e,!1),function zxe(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,mG(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(cD(n||null,e),(i=>i instanceof gG)(r)&&(Y0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);hG(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Lxe(i,t){return dD(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b2(this.form,this),this._oldForm&&dD(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||i)(T(io,10),T(vh,10),T(Ep,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&we("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([Kxe]),Ae,Xi]})}return i})(),LG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[wG]})}return i})(),VG=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ep,useValue:e.callSetDisabledState??q0}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[LG]})}return i})(),BG=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:E2,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ep,useValue:e.callSetDisabledState??q0}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[LG]})}return i})(),fCe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}login(){this.auth.login(this.email,this.password)}GoRegister(){window.location.href="register"}switch(){const e=Array.from(document.querySelectorAll(".switcher"));e.forEach(n=>{n.addEventListener("click",function(){e.forEach(r=>r.parentElement?.classList.remove("is-active")),this.parentElement?.classList.add("is-active")})})}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","register",1,"c-g","fw-500"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),oe(4,"Login"),F(),pl(5),N(6,"form",4)(7,"input",5),we("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.login()}),F(),N(8,"label",6),oe(9,"Email"),F()(),N(10,"form",4)(11,"input",7),we("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.login()}),F(),N(12,"label",6),oe(13,"Password"),F()(),N(14,"div",8)(15,"div",9)(16,"button",10),we("click",function(){return r.login()}),oe(17," Login "),F()()(),N(18,"div",11)(19,"div",12)(20,"span"),oe(21,"Already have an account?"),F(),oe(22," \xa0 "),N(23,"a",13),oe(24,"Register"),F()()(),fl(),F()()()),2&n&&(re(7),ye("ngModel",r.email),re(4),ye("ngModel",r.password))},dependencies:[C2,gh,P_,m2,Tp,kp],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})(),gCe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}register(){this.auth.register(this.email,this.password)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-register"]],decls:26,vars:2,consts:[[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","container","mb-4"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","login",1,"c-g","fw-500"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),oe(5,"Register"),F(),pl(6),N(7,"form",5)(8,"input",6),we("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.register()}),F(),N(9,"label",7),oe(10,"Email"),F()(),N(11,"form",5)(12,"input",8),we("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.register()}),F(),N(13,"label",7),oe(14,"Password"),F()(),N(15,"div",9)(16,"div",10)(17,"button",11),we("click",function(){return r.register()}),oe(18," Register "),F()()(),N(19,"div",12)(20,"div",13)(21,"span"),oe(22,"Already have an account?"),F(),oe(23," \xa0 "),N(24,"a",14),oe(25,"Login"),F()()(),fl(),F()()()()),2&n&&(re(8),ye("ngModel",r.email),re(4),ye("ngModel",r.password))},dependencies:[C2,gh,P_,m2,Tp,kp],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})();function N_(i){return i+.5|0}const Vd=(i,t,e)=>Math.max(Math.min(i,e),t);function Q0(i){return Vd(N_(2.55*i),0,255)}function bh(i){return Vd(N_(255*i),0,255)}function Bd(i){return Vd(N_(i/2.55)/100,0,1)}function zG(i){return Vd(N_(100*i),0,100)}const oc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},M2=[..."0123456789ABCDEF"],_Ce=i=>M2[15&i],vCe=i=>M2[(240&i)>>4]+M2[15&i],hD=i=>(240&i)>>4==(15&i);const CCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HG(i,t,e){const n=t*Math.min(e,1-e),r=(o,s=(o+i/30)%12)=>e-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function ECe(i,t,e){const n=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function kCe(i,t,e){const n=HG(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function A2(i){const e=i.r/255,n=i.g/255,r=i.b/255,o=Math.max(e,n,r),s=Math.min(e,n,r),a=(o+s)/2;let c,l,d;return o!==s&&(d=o-s,l=a>.5?d/(2-o-s):d/(o+s),c=function TCe(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}(e,n,r,d,o),c=60*c+.5),[0|c,l||0,a]}function R2(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(bh)}function P2(i,t,e){return R2(HG,i,t,e)}function UG(i){return(i%360+360)%360}const jG={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},WG={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let mD;const OCe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,O2=i=>i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055,F_=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function pD(i,t,e){if(i){let n=A2(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,0===t?360:1)),n=P2(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function $G(i,t){return i&&Object.assign(t||{},i)}function GG(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=bh(i[3]))):(t=$G(i,{r:0,g:0,b:0,a:1})).a=bh(t.a),t}function VCe(i){return"r"===i.charAt(0)?function NCe(i){const t=OCe.exec(i);let n,r,o,e=255;if(t){if(t[7]!==n){const s=+t[7];e=t[8]?Q0(s):Vd(255*s,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?Q0(n):Vd(n,0,255)),r=255&(t[4]?Q0(r):Vd(r,0,255)),o=255&(t[6]?Q0(o):Vd(o,0,255)),{r:n,g:r,b:o,a:e}}}(i):function SCe(i){const t=CCe.exec(i);let n,e=255;if(!t)return;t[5]!==n&&(e=t[6]?Q0(+t[5]):bh(+t[5]));const r=UG(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function DCe(i,t,e){return R2(kCe,i,t,e)}(r,o,s):"hsv"===t[1]?function ICe(i,t,e){return R2(ECe,i,t,e)}(r,o,s):P2(r,o,s),{r:n[0],g:n[1],b:n[2],a:e}}(i)}class L_{constructor(t){if(t instanceof L_)return t;const e=typeof t;let n;"object"===e?n=GG(t):"string"===e&&(n=function yCe(i){var e,t=i.length;return"#"===i[0]&&(4===t||5===t?e={r:255&17*oc[i[1]],g:255&17*oc[i[2]],b:255&17*oc[i[3]],a:5===t?17*oc[i[4]]:255}:(7===t||9===t)&&(e={r:oc[i[1]]<<4|oc[i[2]],g:oc[i[3]]<<4|oc[i[4]],b:oc[i[5]]<<4|oc[i[6]],a:9===t?oc[i[7]]<<4|oc[i[8]]:255})),e}(t)||function PCe(i){mD||(mD=function RCe(){const i={},t=Object.keys(WG),e=Object.keys(jG);let n,r,o,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],r=0;r<e.length;r++)o=e[r],a=a.replace(o,jG[o]);o=parseInt(WG[s],16),i[a]=[o>>16&255,o>>8&255,255&o]}return i}(),mD.transparent=[0,0,0,0]);const t=mD[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||VCe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=$G(this._rgb);return t&&(t.a=Bd(t.a)),t}set rgb(t){this._rgb=GG(t)}rgbString(){return this._valid?function FCe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Bd(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}(this._rgb):void 0}hexString(){return this._valid?function xCe(i){var t=(i=>hD(i.r)&&hD(i.g)&&hD(i.b)&&hD(i.a))(i)?_Ce:vCe;return i?"#"+t(i.r)+t(i.g)+t(i.b)+((i,t)=>i<255?t(i):"")(i.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function ACe(i){if(!i)return;const t=A2(i),e=t[0],n=zG(t[1]),r=zG(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${Bd(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=n.a-r.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,n.r=255&l*n.r+o*r.r+.5,n.g=255&l*n.g+o*r.g+.5,n.b=255&l*n.b+o*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function LCe(i,t,e){const n=F_(Bd(i.r)),r=F_(Bd(i.g)),o=F_(Bd(i.b));return{r:bh(O2(n+e*(F_(Bd(t.r))-n))),g:bh(O2(r+e*(F_(Bd(t.g))-r))),b:bh(O2(o+e*(F_(Bd(t.b))-o))),a:i.a+e*(t.a-i.a)}}(this._rgb,t._rgb,e)),this}clone(){return new L_(this.rgb)}alpha(t){return this._rgb.a=bh(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=N_(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pD(this._rgb,2,t),this}darken(t){return pD(this._rgb,2,-t),this}saturate(t){return pD(this._rgb,1,t),this}desaturate(t){return pD(this._rgb,1,-t),this}rotate(t){return function MCe(i,t){var e=A2(i);e[0]=UG(e[0]+t),e=P2(e),i.r=e[0],i.g=e[1],i.b=e[2]}(this._rgb,t),this}}function zd(){}const BCe=(()=>{let i=0;return()=>i++})();function Oi(i){return null===i||typeof i>"u"}function zn(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function xi(i){return null!==i&&"[object Object]"===Object.prototype.toString.call(i)}function gr(i){return("number"==typeof i||i instanceof Number)&&isFinite(+i)}function Ea(i,t){return gr(i)?i:t}function ri(i,t){return typeof i>"u"?t:i}const qG=(i,t)=>"string"==typeof i&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Rn(i,t,e){if(i&&"function"==typeof i.call)return i.apply(e,t)}function tn(i,t,e,n){let r,o,s;if(zn(i))if(o=i.length,n)for(r=o-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<o;r++)t.call(e,i[r],r);else if(xi(i))for(s=Object.keys(i),o=s.length,r=0;r<o;r++)t.call(e,i[s[r]],s[r])}function fD(i,t){let e,n,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function gD(i){if(zn(i))return i.map(gD);if(xi(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let r=0;for(;r<n;++r)t[e[r]]=gD(i[e[r]]);return t}return i}function YG(i){return-1===["__proto__","prototype","constructor"].indexOf(i)}function HCe(i,t,e,n){if(!YG(i))return;const r=t[i],o=e[i];xi(r)&&xi(o)?X0(r,o,n):t[i]=gD(o)}function X0(i,t,e){const n=zn(t)?t:[t],r=n.length;if(!xi(i))return i;const o=(e=e||{}).merger||HCe;let s;for(let a=0;a<r;++a){if(s=n[a],!xi(s))continue;const c=Object.keys(s);for(let l=0,d=c.length;l<d;++l)o(c[l],i,s,e)}return i}function J0(i,t){return X0(i,t,{merger:UCe})}function UCe(i,t,e){if(!YG(i))return;const n=t[i],r=e[i];xi(n)&&xi(r)?J0(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=gD(r))}const ZG={"":i=>i,x:i=>i.x,y:i=>i.y};function yh(i,t){return(ZG[t]||(ZG[t]=function WCe(i){const t=function jCe(i){const t=i.split("."),e=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}(i);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t)))(i)}function N2(i){return i.charAt(0).toUpperCase()+i.slice(1)}const ew=i=>typeof i<"u",wh=i=>"function"==typeof i,KG=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0},Hn=Math.PI,Un=2*Hn,GCe=Un+Hn,_D=Number.POSITIVE_INFINITY,qCe=Hn/180,Sr=Hn/2,Ip=Hn/4,QG=2*Hn/3,xh=Math.log10,Ml=Math.sign;function tw(i,t,e){return Math.abs(i-t)<e}function XG(i){const t=Math.round(i);i=tw(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(xh(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function V_(i){return!isNaN(parseFloat(i))&&isFinite(i)}function JG(i,t,e){let n,r,o;for(n=0,r=i.length;n<r;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ac(i){return i*(Hn/180)}function F2(i){return i*(180/Hn)}function e7(i){if(!gr(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function t7(i,t){const e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n);let o=Math.atan2(n,e);return o<-.5*Hn&&(o+=Un),{angle:o,distance:r}}function L2(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function KCe(i,t){return(i-t+GCe)%Un-Hn}function ka(i){return(i%Un+Un)%Un}function iw(i,t,e,n){const r=ka(i),o=ka(t),s=ka(e),a=ka(o-r),c=ka(s-r),l=ka(r-o),d=ka(r-s);return r===o||r===s||n&&o===s||a>c&&l<d}function po(i,t,e){return Math.max(t,Math.min(e,i))}function Hd(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function V2(i,t,e){e=e||(s=>i[s]<t);let o,n=i.length-1,r=0;for(;n-r>1;)o=r+n>>1,e(o)?r=o:n=o;return{lo:r,hi:n}}const Ud=(i,t,e,n)=>V2(i,e,n?r=>{const o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),XCe=(i,t,e)=>V2(i,e,n=>i[n][t]>=e),n7=["push","pop","shift","splice","unshift"];function r7(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),!(n.length>0)&&(n7.forEach(o=>{delete i[o]}),delete i._chartjs)}function o7(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const s7=typeof window>"u"?function(i){return i()}:window.requestAnimationFrame;function a7(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,s7.call(window,()=>{n=!1,i.apply(t,e)}))}}const B2=i=>"start"===i?"left":"end"===i?"right":"center",Yo=(i,t,e)=>"start"===i?t:"end"===i?e:(t+e)/2;function c7(i,t,e){const n=t.length;let r=0,o=n;if(i._sorted){const{iScale:s,_parsed:a}=i,c=s.axis,{min:l,max:d,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(r=po(Math.min(Ud(a,c,l).lo,e?n:Ud(t,c,s.getPixelForValue(l)).lo),0,n-1)),o=p?po(Math.max(Ud(a,s.axis,d,!0).hi+1,e?0:Ud(t,c,s.getPixelForValue(d),!0).hi+1),r,n)-r:n-r}return{start:r,count:o}}function l7(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),o}const vD=i=>0===i||1===i,d7=(i,t,e)=>-Math.pow(2,10*(i-=1))*Math.sin((i-t)*Un/e),u7=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Un/e)+1,nw={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>1-Math.cos(i*Sr),easeOutSine:i=>Math.sin(i*Sr),easeInOutSine:i=>-.5*(Math.cos(Hn*i)-1),easeInExpo:i=>0===i?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>1===i?1:1-Math.pow(2,-10*i),easeInOutExpo:i=>vD(i)?i:i<.5?.5*Math.pow(2,10*(2*i-1)):.5*(2-Math.pow(2,-10*(2*i-1))),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>vD(i)?i:d7(i,.075,.3),easeOutElastic:i=>vD(i)?i:u7(i,.075,.3),easeInOutElastic:i=>vD(i)?i:i<.5?.5*d7(2*i,.1125,.45):.5+.5*u7(2*i-1,.1125,.45),easeInBack:i=>i*i*(2.70158*i-1.70158),easeOutBack:i=>(i-=1)*i*(2.70158*i+1.70158)+1,easeInOutBack(i){let t=1.70158;return(i/=.5)<1?i*i*((1+(t*=1.525))*i-t)*.5:.5*((i-=2)*i*((1+(t*=1.525))*i+t)+2)},easeInBounce:i=>1-nw.easeOutBounce(1-i),easeOutBounce:i=>i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375,easeInOutBounce:i=>i<.5?.5*nw.easeInBounce(2*i):.5*nw.easeOutBounce(2*i-1)+.5};function z2(i){if(i&&"object"==typeof i){const t=i.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function h7(i){return z2(i)?i:new L_(i)}function H2(i){return z2(i)?i:new L_(i).saturate(.5).darken(.1).hexString()}const nEe=["x","y","borderWidth","radius","tension"],rEe=["color","borderColor","backgroundColor"],m7=new Map;function rw(i,t,e){return function aEe(i,t){t=t||{};const e=i+JSON.stringify(t);let n=m7.get(e);return n||(n=new Intl.NumberFormat(i,t),m7.set(e,n)),n}(t,e).format(i)}const p7={values:i=>zn(i)?i:""+i,numeric(i,t,e){if(0===i)return"0";const n=this.chart.options.locale;let r,o=i;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),o=function cEe(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}(i,e)}const s=xh(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),rw(i,n,c)},logarithmic(i,t,e){if(0===i)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(xh(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?p7.numeric.call(this,i,t,e):""}};var bD={formatters:p7};const Sp=Object.create(null),U2=Object.create(null);function ow(i,t){if(!t)return i;const e=t.split(".");for(let n=0,r=e.length;n<r;++n){const o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function j2(i,t,e){return"string"==typeof t?X0(ow(i,t),e):X0(ow(i,""),t)}class dEe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>H2(r.backgroundColor),this.hoverBorderColor=(n,r)=>H2(r.borderColor),this.hoverColor=(n,r)=>H2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return j2(this,t,e)}get(t){return ow(this,t)}describe(t,e){return j2(U2,t,e)}override(t,e){return j2(Sp,t,e)}route(t,e,n,r){const o=ow(this,t),s=ow(this,n),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=s[r];return xi(c)?Object.assign({},l,c):ri(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var _r=new dEe({_scriptable:i=>!i.startsWith("on"),_indexable:i=>"events"!==i,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function oEe(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),i.set("animations",{colors:{type:"color",properties:rEe},numbers:{type:"number",properties:nEe}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function sEe(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function lEe(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function yD(i,t,e,n,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>n&&(n=o),n}function hEe(i,t,e,n){let r=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let s=0;const a=e.length;let c,l,d,h,p;for(c=0;c<a;c++)if(h=e[c],null==h||zn(h)){if(zn(h))for(l=0,d=h.length;l<d;l++)p=h[l],null!=p&&!zn(p)&&(s=yD(i,r,o,s,p))}else s=yD(i,r,o,s,h);i.restore();const g=o.length/2;if(g>e.length){for(c=0;c<g;c++)delete r[o[c]];o.splice(0,g)}return s}function Mp(i,t,e){const n=i.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function f7(i,t){!t&&!i||((t=t||i.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function W2(i,t,e,n){g7(i,t,e,n,null)}function g7(i,t,e,n,r){let o,s,a,c,l,d,h,p;const g=t.pointStyle,b=t.rotation,w=t.radius;let x=(b||0)*qCe;if(g&&"object"==typeof g&&(o=g.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return i.save(),i.translate(e,n),i.rotate(x),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void i.restore();if(!(isNaN(w)||w<=0)){switch(i.beginPath(),g){default:r?i.ellipse(e,n,r/2,w,0,0,Un):i.arc(e,n,w,0,Un),i.closePath();break;case"triangle":d=r?r/2:w,i.moveTo(e+Math.sin(x)*d,n-Math.cos(x)*w),x+=QG,i.lineTo(e+Math.sin(x)*d,n-Math.cos(x)*w),x+=QG,i.lineTo(e+Math.sin(x)*d,n-Math.cos(x)*w),i.closePath();break;case"rectRounded":l=.516*w,c=w-l,s=Math.cos(x+Ip)*c,h=Math.cos(x+Ip)*(r?r/2-l:c),a=Math.sin(x+Ip)*c,p=Math.sin(x+Ip)*(r?r/2-l:c),i.arc(e-h,n-a,l,x-Hn,x-Sr),i.arc(e+p,n-s,l,x-Sr,x),i.arc(e+h,n+a,l,x,x+Sr),i.arc(e-p,n+s,l,x+Sr,x+Hn),i.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*w,d=r?r/2:c,i.rect(e-d,n-c,2*d,2*c);break}x+=Ip;case"rectRot":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+p,n-s),i.lineTo(e+h,n+a),i.lineTo(e-p,n+s),i.closePath();break;case"crossRot":x+=Ip;case"cross":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s);break;case"star":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s),x+=Ip,h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s);break;case"line":s=r?r/2:Math.cos(x)*w,a=Math.sin(x)*w,i.moveTo(e-s,n-a),i.lineTo(e+s,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(x)*(r?r/2:w),n+Math.sin(x)*w);break;case!1:i.closePath()}i.fill(),t.borderWidth>0&&i.stroke()}}function jd(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function wD(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function xD(i){i.restore()}function mEe(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else"after"===r!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function pEe(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function gEe(i,t,e,n,r){if(r.strikethrough||r.underline){const o=i.measureText(n),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,d),i.lineTo(a,d),i.stroke()}}function _Ee(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Ap(i,t,e,n,r,o={}){const s=zn(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(i.save(),i.font=r.string,function fEe(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Oi(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}(i,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&_Ee(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Oi(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(l,e,n,o.maxWidth)),i.fillText(l,e,n,o.maxWidth),gEe(i,e,n,l,o),n+=Number(r.lineHeight);i.restore()}function sw(i,t){const{x:e,y:n,w:r,h:o,radius:s}=t;i.arc(e+s.topLeft,n+s.topLeft,s.topLeft,1.5*Hn,Hn,!0),i.lineTo(e,n+o-s.bottomLeft),i.arc(e+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,Hn,Sr,!0),i.lineTo(e+r-s.bottomRight,n+o),i.arc(e+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,Sr,0,!0),i.lineTo(e+r,n+s.topRight),i.arc(e+r-s.topRight,n+s.topRight,s.topRight,0,-Sr,!0),i.lineTo(e+s.topLeft,n)}const vEe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bEe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yEe(i,t){const e=(""+i).match(vEe);if(!e||"normal"===e[1])return 1.2*t;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100}return t*i}const wEe=i=>+i||0;function $2(i,t){const e={},n=xi(t),r=n?Object.keys(t):t,o=xi(i)?n?s=>ri(i[s],i[t[s]]):s=>i[s]:()=>i;for(const s of r)e[s]=wEe(o(s));return e}function _7(i){return $2(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Rp(i){return $2(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Zo(i){const t=_7(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function no(i,t){let e=ri((i=i||{}).size,(t=t||_r.font).size);"string"==typeof e&&(e=parseInt(e,10));let n=ri(i.style,t.style);n&&!(""+n).match(bEe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:ri(i.family,t.family),lineHeight:yEe(ri(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:ri(i.weight,t.weight),string:""};return r.string=function uEe(i){return!i||Oi(i.size)||Oi(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}(r),r}function aw(i,t,e,n){let o,s,a,r=!0;for(o=0,s=i.length;o<s;++o)if(a=i[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&zn(a)&&(a=a[e%a.length],r=!1),void 0!==a))return n&&!r&&(n.cacheable=!1),a}function Ch(i,t){return Object.assign(Object.create(i),t)}function G2(i,t=[""],e,n,r=(()=>i[0])){const o=e||i;typeof n>"u"&&(n=x7("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:r,override:a=>G2([a,...i],t,o,n)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete i[0][c],!0),get:(a,c)=>b7(a,c,()=>function MEe(i,t,e,n){let r;for(const o of t)if(r=x7(CEe(o,i),e),typeof r<"u")return q2(i,r)?Y2(e,n,i,r):r}(c,t,i,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(i[0]),has:(a,c)=>C7(a).includes(c),ownKeys:a=>C7(a),set(a,c,l){const d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function B_(i,t,e,n){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:v7(i,n),setContext:o=>B_(i,o,e,n),override:o=>B_(i.override(o),t,e,n)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete i[s],!0),get:(o,s,a)=>b7(o,s,()=>function EEe(i,t,e){const{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=i;let a=n[t];return wh(a)&&s.isScriptable(t)&&(a=function kEe(i,t,e,n){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=t(o,s||n);return a.delete(i),q2(i,c)&&(c=Y2(r._scopes,r,i,c)),c}(t,a,i,e)),zn(a)&&a.length&&(a=function TEe(i,t,e,n){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if(xi(t[0])){const c=t,l=r._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=Y2(l,r,i,d);t.push(B_(h,o,s&&s[i],a))}}return t}(t,a,i,s.isIndexable)),q2(t,a)&&(a=B_(a,r,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s),getPrototypeOf:()=>Reflect.getPrototypeOf(i),has:(o,s)=>Reflect.has(i,s),ownKeys:()=>Reflect.ownKeys(i),set:(o,s,a)=>(i[s]=a,delete o[s],!0)})}function v7(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:wh(e)?e:()=>e,isIndexable:wh(n)?n:()=>n}}const CEe=(i,t)=>i?i+N2(t):t,q2=(i,t)=>xi(t)&&"adapters"!==i&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function b7(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||"constructor"===t)return i[t];const n=e();return i[t]=n,n}function y7(i,t,e){return wh(i)?i(t,e):i}const DEe=(i,t)=>!0===i?t:"string"==typeof i?yh(t,i):void 0;function IEe(i,t,e,n,r){for(const o of t){const s=DEe(e,o);if(s){i.add(s);const a=y7(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(!1===s&&typeof n<"u"&&e!==n)return null}return!1}function Y2(i,t,e,n){const r=t._rootScopes,o=y7(t._fallback,e,n),s=[...i,...r],a=new Set;a.add(n);let c=w7(a,s,e,o||e,n);return!(null===c||typeof o<"u"&&o!==e&&(c=w7(a,s,o,c,n),null===c))&&G2(Array.from(a),[""],r,o,()=>function SEe(i,t,e){const n=i._getTarget();t in n||(n[t]={});const r=n[t];return zn(r)&&xi(e)?e:r||{}}(t,e,n))}function w7(i,t,e,n,r){for(;e;)e=IEe(i,t,e,n,r);return e}function x7(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function C7(i){let t=i._keys;return t||(t=i._keys=function AEe(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}(i._scopes)),t}function E7(i,t,e,n){const{iScale:r}=i,{key:o="r"}=this._parsing,s=new Array(n);let a,c,l,d;for(a=0,c=n;a<c;++a)l=a+e,d=t[l],s[a]={r:r.parse(yh(d,o),l)};return s}const REe=Number.EPSILON||1e-14,z_=(i,t)=>t<i.length&&!i[t].skip&&i[t],k7=i=>"x"===i?"y":"x";function PEe(i,t,e,n){const r=i.skip?t:i,o=t,s=e.skip?t:e,a=L2(o,r),c=L2(s,o);let l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const h=n*l,p=n*d;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function CD(i,t,e){return Math.max(Math.min(i,e),t)}function VEe(i,t,e,n,r){let o,s,a,c;if(t.spanGaps&&(i=i.filter(l=>!l.skip)),"monotone"===t.cubicInterpolationMode)!function FEe(i,t="x"){const e=k7(t),n=i.length,r=Array(n).fill(0),o=Array(n);let s,a,c,l=z_(i,0);for(s=0;s<n;++s)if(a=c,c=l,l=z_(i,s+1),c){if(l){const d=l[t]-c[t];r[s]=0!==d?(l[e]-c[e])/d:0}o[s]=a?l?Ml(r[s-1])!==Ml(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function OEe(i,t,e){const n=i.length;let r,o,s,a,c,l=z_(i,0);for(let d=0;d<n-1;++d)if(c=l,l=z_(i,d+1),c&&l){if(tw(t[d],0,REe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}})(i,r,o),function NEe(i,t,e="x"){const n=k7(e),r=i.length;let o,s,a,c=z_(i,0);for(let l=0;l<r;++l){if(s=a,a=c,c=z_(i,l+1),!a)continue;const d=a[e],h=a[n];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${n}`]=h-o*t[l]),c&&(o=(c[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${n}`]=h+o*t[l])}}(i,o,t)}(i,r);else{let l=n?i[i.length-1]:i[0];for(o=0,s=i.length;o<s;++o)a=i[o],c=PEe(l,a,i[Math.min(o+1,s-(n?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&function LEe(i,t){let e,n,r,o,s,a=jd(i[0],t);for(e=0,n=i.length;e<n;++e)s=o,o=a,a=e<n-1&&jd(i[e+1],t),o&&(r=i[e],s&&(r.cp1x=CD(r.cp1x,t.left,t.right),r.cp1y=CD(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=CD(r.cp2x,t.left,t.right),r.cp2y=CD(r.cp2y,t.top,t.bottom)))}(i,e)}function Z2(){return typeof window<"u"&&typeof document<"u"}function K2(i){let t=i.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ED(i,t,e){let n;return"string"==typeof i?(n=parseInt(i,10),-1!==i.indexOf("%")&&(n=n/100*t.parentNode[e])):n=i,n}const kD=i=>i.ownerDocument.defaultView.getComputedStyle(i,null),zEe=["top","right","bottom","left"];function Pp(i,t,e){const n={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=zEe[r];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const HEe=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Op(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,r=kD(e),o="border-box"===r.boxSizing,s=Pp(r,"padding"),a=Pp(r,"border","width"),{x:c,y:l,box:d}=function UEe(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=n;let a,c,s=!1;if(HEe(r,o,i.target))a=r,c=o;else{const l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,s=!0}return{x:a,y:c,box:s}}(i,e),h=s.left+(d&&a.left),p=s.top+(d&&a.top);let{width:g,height:b}=t;return o&&(g-=s.width+a.width,b-=s.height+a.height),{x:Math.round((c-h)/g*e.width/n),y:Math.round((l-p)/b*e.height/n)}}const TD=i=>Math.round(10*i)/10;function T7(i,t,e){const n=t||1,r=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),(i.currentDevicePixelRatio!==n||s.height!==r||s.width!==o)&&(i.currentDevicePixelRatio=n,s.height=r,s.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0)}const $Ee=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Z2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function D7(i,t){const e=function BEe(i,t){return kD(i).getPropertyValue(t)}(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Np(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function GEe(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:"middle"===n?e<.5?i.y:t.y:"after"===n?e<1?i.y:t.y:e>0?t.y:i.y}}function qEe(i,t,e,n){const r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},s=Np(i,r,e),a=Np(r,o,e),c=Np(o,t,e),l=Np(s,a,e),d=Np(a,c,e);return Np(l,d,e)}function H_(i,t,e){return i?function(i,t){return{x:e=>i+i+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,n)=>e-n,leftForLtr:(e,n)=>e-n}}(t,e):{x:i=>i,setWidth(i){},textAlign:i=>i,xPlus:(i,t)=>i+t,leftForLtr:(i,t)=>i}}function I7(i,t){let e,n;("ltr"===t||"rtl"===t)&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function S7(i,t){void 0!==t&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function M7(i){return"angle"===i?{between:iw,compare:KCe,normalize:ka}:{between:Hd,compare:(t,e)=>t-e,normalize:t=>t}}function A7({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e==0,style:r}}function R7(i,t,e){if(!e)return[i];const{property:n,start:r,end:o}=e,s=t.length,{compare:a,between:c,normalize:l}=M7(n),{start:d,end:h,loop:p,style:g}=function KEe(i,t,e){const{property:n,start:r,end:o}=e,{between:s,normalize:a}=M7(n),c=t.length;let p,g,{start:l,end:d,loop:h}=i;if(h){for(l+=c,d+=c,p=0,g=c;p<g&&s(a(t[l%c][n]),r,o);++p)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:i.style}}(i,t,e),b=[];let S,D,M,w=!1,x=null;for(let ie=d,fe=d;ie<=h;++ie)D=t[ie%s],!D.skip&&(S=l(D[n]),S!==M&&(w=c(S,r,o),null===x&&(w||c(r,M,S)&&0!==a(r,M))&&(x=0===a(S,r)?ie:fe),null!==x&&(!w||0===a(o,S)||c(o,M,S))&&(b.push(A7({start:x,end:ie,loop:p,count:s,style:g})),x=null),fe=ie,M=S));return null!==x&&b.push(A7({start:x,end:h,loop:p,count:s,style:g})),b}function P7(i,t){const e=[],n=i.segments;for(let r=0;r<n.length;r++){const o=R7(n[r],i.points,t);o.length&&e.push(...o)}return e}function N7(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function tke(i,t){if(!t)return!1;const e=[],n=function(r,o){return z2(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(t,n)}class ike{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=s7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let c,s=o.length-1,a=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Wd=new ike;const F7="transparent",nke={boolean:(i,t,e)=>e>.5?t:i,color(i,t,e){const n=h7(i||F7),r=n.valid&&h7(t||F7);return r&&r.valid?r.mix(n,e).hexString():t},number:(i,t,e)=>i+(t-i)*e};class rke{constructor(t,e,n,r){const o=e[n];r=aw([t.to,r,o,t.from]);const s=aw([t.from,o,r]);this._active=!0,this._fn=t.fn||nke[t.type||typeof s],this._easing=nw[t.easing]||nw.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=aw([t.to,e,r,t.from]),this._from=aw([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(c=e/n%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class L7{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!xi(t))return;const e=Object.keys(_r.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!xi(o))return;const s={};for(const a of e)s[a]=o[a];(zn(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,s)})})}_animateOptions(t,e){const n=e.options,r=function ske(i,t){if(!t)return;let e=i.options;if(e)return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;i.options=t}(t,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&function oke(i,t){const e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const o=i[n[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){const n=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const l=s[c];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const d=e[l];let h=o[l];const p=n.get(l);if(h){if(p&&h.active()){h.update(p,d,a);continue}h.cancel()}p&&p.duration?(o[l]=h=new rke(p,t,l,d),r.push(h)):t[l]=d}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Wd.add(this._chart,n),!0):void 0}}function V7(i,t){const e=i&&i.options||{},n=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:n?o:r,end:n?r:o}}function B7(i,t){const e=[],n=i._getSortedDatasetMetas(t);let r,o;for(r=0,o=n.length;r<o;++r)e.push(n[r].index);return e}function z7(i,t,e,n={}){const r=i.keys,o="single"===n.mode;let s,a,c,l;if(null!==t){for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===e){if(n.all)continue;break}l=i.values[c],gr(l)&&(o||0===t||Ml(t)===Ml(l))&&(t+=l)}return t}}function H7(i,t){const e=i&&i.options.stacked;return e||void 0===e&&void 0!==t.stack}function hke(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function U7(i,t,e,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function j7(i,t){const{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=n,c=o.axis,l=s.axis,d=function dke(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}(o,s,n),h=t.length;let p;for(let g=0;g<h;++g){const b=t[g],{[c]:w,[l]:x}=b;p=(b._stacks||(b._stacks={}))[l]=hke(r,d,w),p[a]=x,p._top=U7(p,s,!0,n.type),p._bottom=U7(p,s,!1,n.type),(p._visualValues||(p._visualValues={}))[a]=x}}function Q2(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function cw(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[n]||void 0===o[n][e])return;delete o[n][e],void 0!==o[n]._visualValues&&void 0!==o[n]._visualValues[e]&&delete o[n]._visualValues[e]}}}const X2=i=>"reset"===i||"none"===i,W7=(i,t)=>t?i:Object.assign({},i);let Eh=(()=>class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=H7(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cw(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(p,g,b,w)=>"x"===p?g:"r"===p?w:b,s=n.xAxisID=ri(r.xAxisID,Q2(e,"x")),a=n.yAxisID=ri(r.yAxisID,Q2(e,"y")),c=n.rAxisID=ri(r.rAxisID,Q2(e,"r")),l=n.indexAxis,d=n.iAxisID=o(l,s,a,c),h=n.vAxisID=o(l,a,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&r7(this._data,this),e._stacked&&cw(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(xi(n))this._data=function lke(i,t){const{iScale:e,vScale:n}=t,r="x"===e.axis?"x":"y",o="x"===n.axis?"x":"y",s=Object.keys(i),a=new Array(s.length);let c,l,d;for(c=0,l=s.length;c<l;++c)d=s[c],a[c]={[r]:d,[o]:i[d]};return a}(n,this._cachedMeta);else if(r!==n){if(r){r7(r,this);const o=this._cachedMeta;cw(o),o._parsed=[]}n&&Object.isExtensible(n)&&function eEe(i,t){i._chartjs?i._chartjs.listeners.push(t):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),n7.forEach(e=>{const n="_onData"+N2(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return i._chartjs.listeners.forEach(a=>{"function"==typeof a[n]&&a[n](...o)}),s}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=n._stacked;n._stacked=H7(n.vScale,n),n.stack!==r.stack&&(o=!0,cw(n),n.stack=r.stack),this._resyncElements(e),(o||s!==n._stacked)&&j7(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,c=s.axis;let h,p,g,l=0===e&&n===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,g=o;else{g=zn(o[e])?this.parseArrayData(r,o,e,n):xi(o[e])?this.parseObjectData(r,o,e,n):this.parsePrimitiveData(r,o,e,n);const b=()=>null===p[c]||d&&p[c]<d[c];for(h=0;h<n;++h)r._parsed[h+e]=p=g[h],l&&(b()&&(l=!1),d=p);r._sorted=l}a&&j7(this,g)}parsePrimitiveData(e,n,r,o){const{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,d=s.getLabels(),h=s===a,p=new Array(o);let g,b,w;for(g=0,b=o;g<b;++g)w=g+r,p[g]={[c]:h||s.parse(d[w],w),[l]:a.parse(n[w],w)};return p}parseArrayData(e,n,r,o){const{xScale:s,yScale:a}=e,c=new Array(o);let l,d,h,p;for(l=0,d=o;l<d;++l)h=l+r,p=n[h],c[l]={x:s.parse(p[0],h),y:a.parse(p[1],h)};return c}parseObjectData(e,n,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(o);let h,p,g,b;for(h=0,p=o;h<p;++h)g=h+r,b=n[g],d[h]={x:s.parse(yh(b,c),g),y:a.parse(yh(b,l),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this._cachedMeta,a=n[e.axis];return z7({keys:B7(this.chart,!0),values:n._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,o){const s=r[n.axis];let a=null===s?NaN:s;const c=o&&r._stacks[n.axis];o&&c&&(o.values=c,a=z7(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,c=this._getOtherScale(e),l=((i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:B7(this.chart,!0),values:null})(n,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=function uke(i){const{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(c);let g,b;function w(){b=o[g];const x=b[c.axis];return!gr(b[e.axis])||h>x||p<x}for(g=0;g<a&&(w()||(this.updateRangeFromParsed(d,e,b,l),!s));++g);if(s)for(g=a-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(d,e,b,l);break}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=n.length;o<s;++o)a=n[o][e.axis],gr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,o=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=function cke(i){let t,e,n,r;return xi(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:!1===i}}(ri(this.options.clip,function ake(i,t,e){if(!1===e)return!1;const n=V7(i,e),r=V7(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,c,l),h=c;h<c+l;++h){const p=o[h];p.hidden||(p.active&&d?a.push(p):p.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function pke(i,t,e){return Ch(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function mke(i,t){return Ch(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const o="active"===n,s=this._cachedDataOpts,a=e+"-"+n,c=s[a],l=this.enableOptionSharing&&ew(r);if(c)return W7(c,l);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),h),b=Object.keys(_r.elements[e]),x=d.resolveNamedOptions(g,b,()=>this.getContext(r,o,n),p);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(W7(x,l))),x}_resolveAnimations(e,n,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,c=s[a];if(c)return c;let l;if(!1!==o.options.animation){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),p);l=h.createResolver(g,this.getContext(e,r,n))}const d=new L7(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||X2(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,o){X2(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!X2(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;const s=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const o=r.length,s=n.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,n,r=!0){const o=this._cachedMeta,s=o.data,a=e+n;let c;const l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,n);r._stacked&&cw(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function _ke(i){const t=i.iScale,e=function gke(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let r=0,o=e.length;r<o;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=o7(n.sort((r,o)=>r-o))}return i._cache.$bar}(t,i.type);let r,o,s,a,n=t._length;const c=()=>{32767===s||-32768===s||(ew(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),c();return n}function $7(i,t,e,n){return zn(i)?function yke(i,t,e,n){const r=e.parse(i[0],n),o=e.parse(i[1],n),s=Math.min(r,o),a=Math.max(r,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}(i,t,e,n):t[e.axis]=e.parse(i,n),t}function G7(i,t,e,n){const r=i.iScale,o=i.vScale,s=r.getLabels(),a=r===o,c=[];let l,d,h,p;for(l=e,d=e+n;l<d;++l)p=t[l],h={},h[r.axis]=a||r.parse(s[l],l),c.push($7(p,h,o,l));return c}function J2(i){return i&&void 0!==i.barStart&&void 0!==i.barEnd}function Cke(i,t,e,n){let r=t.borderSkipped;const o={};if(!r)return void(i.borderSkipped=o);if(!0===r)return void(i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:d}=function xke(i){let t,e,n,r,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:n,reverse:t,top:r,bottom:o}}(i);"middle"===r&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=l:(e._bottom||0)===n?r=d:(o[q7(d,s,a,c)]=!0,r=l)),o[q7(r,s,a,c)]=!0,i.borderSkipped=o}function q7(i,t,e,n){return n?(i=function Eke(i,t,e){return i===t?e:i===e?t:i}(i,t,e),i=Y7(i,e,t)):i=Y7(i,t,e),i}function Y7(i,t,e){return"start"===i?t:"end"===i?e:i}function kke(i,{inflateAmount:t},e){i.inflateAmount="auto"===t?1===e?.33:0:t}let Tke=(()=>class i extends Eh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,o){return G7(e,n,r,o)}parseArrayData(e,n,r,o){return G7(e,n,r,o)}parseObjectData(e,n,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===s.axis?c:l,h="x"===a.axis?c:l,p=[];let g,b,w,x;for(g=r,b=r+o;g<b;++g)x=n[g],w={},w[s.axis]=s.parse(yh(x,d),g),p.push($7(yh(x,h),w,a,g));return p}updateRangeFromParsed(e,n,r,o){super.updateRangeFromParsed(e,n,r,o);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:o}=n,s=this.getParsed(e),a=s._custom,c=J2(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,o);for(let b=n;b<n+r;b++){const w=this.getParsed(b),x=s||Oi(w[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(b),S=this._calculateBarIndexPixels(b,h),D=(w._stacks||{})[c.axis],M={horizontal:d,base:x.base,enableBorderRadius:!D||J2(w._custom)||a===D._top||a===D._bottom,x:d?x.head:S.center,y:d?S.center:x.head,height:d?S.size:Math.abs(x.size),width:d?Math.abs(x.size):S.size};g&&(M.options=p||this.resolveDataElementOptions(b,e[b].active?"active":o));const L=M.options||e[b].options;Cke(M,L,D,a),kke(M,L,h.ratio),this.updateElement(e[b],b,M,o)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,a=[],c=l=>{const d=l.controller.getParsed(n),h=d&&d[l.vScale.axis];if(Oi(h)||isNaN(h))return!0};for(const l of o)if((void 0===n||!c(l))&&((!1===s||-1===a.indexOf(l.stack)||void 0===s&&void 0===l.stack)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const o=this._getStacks(e,r),s=void 0!==n?o.indexOf(n):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,o=[];let s,a;for(s=0,a=n.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||_ke(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),d=l._custom,h=J2(d);let w,x,p=l[n.axis],g=0,b=r?this.applyStack(n,l,r):p;b!==p&&(g=b-p,b=p),h&&(p=d.barStart,b=d.barEnd-d.barStart,0!==p&&Ml(p)!==Ml(d.barEnd)&&(g=0),g+=p);const S=Oi(s)||h?g:s;let D=n.getPixelForValue(S);if(w=this.chart.getDataVisibility(e)?n.getPixelForValue(g+b):D,x=w-D,Math.abs(x)<a){x=function wke(i,t,e){return 0!==i?Ml(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(x,n,c)*a,p===c&&(D-=x/2);const M=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),z=Math.min(M,L),Z=Math.max(M,L);D=Math.max(Math.min(D,Z),z),w=D+x,r&&!h&&(l._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const M=Ml(x)*n.getLineWidthForValue(c)/2;D+=M,x-=M}return{size:x,base:D,head:w,center:w+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,o=this.options,s=o.skipNull,a=ri(o.maxBarThickness,1/0);let c,l;if(n.grouped){const d=s?this._getStackCount(e):n.stackCount,h="flex"===o.barThickness?function bke(i,t,e,n){const r=t.pixels,o=r[i];let s=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/n,ratio:e.barPercentage,start:l}}(e,n,o,d):function vke(i,t,e,n){const r=e.barThickness;let o,s;return Oi(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:t.pixels[i]-o/2}}(e,n,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=h.start+h.chunk*p+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[n.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),Dke=(()=>class i extends Eh{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,o){const s=super.parsePrimitiveData(e,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,n,r,o){const s=super.parseArrayData(e,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=ri(n[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,n,r,o){const s=super.parseObjectData(e,n,r,o);for(let a=0;a<s.length;a++){const c=n[r+a];s[a]._custom=ri(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,o),h=a.axis,p=c.axis;for(let g=n;g<n+r;g++){const b=e[g],w=!s&&this.getParsed(g),x={},S=x[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(w[h]),D=x[p]=s?c.getBasePixel():c.getPixelForValue(w[p]);x.skip=isNaN(S)||isNaN(D),d&&(x.options=l||this.resolveDataElementOptions(g,b.active?"active":o),s&&(x.options.radius=0)),this.updateElement(b,g,x,o)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==n&&(o.radius=0),o.radius+=ri(r&&r._custom,s),o}})(),eN=(()=>class i extends Eh{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,c,s=l=>+r[l];if(xi(r[e])){const{key:l="value"}=this._parsing;s=d=>+yh(r[d],l)}for(a=e,c=e+n;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return Ac(this.options.rotation-90)}_getCircumference(){return Ac(this.options.circumference)}_getRotationExtents(){let e=Un,n=-Un;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(((i,t)=>"string"==typeof i&&i.endsWith("%")?parseFloat(i)/100:+i/t)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:w,offsetY:x}=function Ike(i,t,e){let n=1,r=1,o=0,s=0;if(t<Un){const a=i,c=a+t,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),p=Math.sin(c),g=(M,L,z)=>iw(M,a,c,!0)?1:Math.max(L,L*e,z,z*e),b=(M,L,z)=>iw(M,a,c,!0)?-1:Math.min(L,L*e,z,z*e),w=g(0,l,h),x=g(Sr,d,p),S=b(Hn,l,h),D=b(Hn+Sr,d,p);n=(w-S)/2,r=(x-D)/2,o=-(w+S)/2,s=-(x+D)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}(p,h,l),M=Math.max(Math.min((r.width-a)/g,(r.height-a)/b)/2,0),L=qG(this.options.radius,M),Z=(L-Math.max(L*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=w*L,this.offsetY=x*L,o.total=this.calculateTotal(),this.outerRadius=L-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Un)}updateElements(e,n,r,o){const s="reset"===o,a=this.chart,c=a.chartArea,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,g=s&&a.options.animation.animateScale,b=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:x,includeOptions:S}=this._getSharedOptions(n,o);let M,D=this._getRotation();for(M=0;M<n;++M)D+=this._circumference(M,s);for(M=n;M<n+r;++M){const L=this._circumference(M,s),z=e[M],Z={x:h+this.offsetX,y:p+this.offsetY,startAngle:D,endAngle:D+L,circumference:L,outerRadius:w,innerRadius:b};S&&(Z.options=x||this.resolveDataElementOptions(M,z.active?"active":o)),D+=L,this.updateElement(z,M,Z,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let o,r=0;for(o=0;o<n.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Un*(Math.abs(e)/n):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=rw(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let o,s,a,c,l;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,c=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ri(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Ske=(()=>class i extends Eh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:c,count:l}=c7(n,o,a);this._drawStart=c,this._drawCount=l,l7(n)&&(c=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,c,l,e)}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,o),g=a.axis,b=c.axis,{spanGaps:w,segment:x}=this.options,S=V_(w)?w:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||s||"none"===o,M=n+r,L=e.length;let z=n>0&&this.getParsed(n-1);for(let Z=0;Z<L;++Z){const ue=e[Z],ie=D?ue:{};if(Z<n||Z>=M){ie.skip=!0;continue}const fe=this.getParsed(Z),Me=Oi(fe[b]),ve=ie[g]=a.getPixelForValue(fe[g],Z),xe=ie[b]=s||Me?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,fe,l):fe[b],Z);ie.skip=isNaN(ve)||isNaN(xe)||Me,ie.stop=Z>0&&Math.abs(fe[g]-z[g])>S,x&&(ie.parsed=fe,ie.raw=d.data[Z]),p&&(ie.options=h||this.resolveDataElementOptions(Z,ue.active?"active":o)),D||this.updateElement(ue,Z,ie,o),z=fe}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),Z7=(()=>class i extends Eh{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=rw(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,n,r,o){return E7.bind(this)(e,n,r,o)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,o=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(o/2,0),c=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,r,o){const s="reset"===o,a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,p=d.yCenter,g=d.getIndexAngle(0)-.5*Hn;let w,b=g;const x=360/this.countVisibleElements();for(w=0;w<n;++w)b+=this._computeAngle(w,o,x);for(w=n;w<n+r;w++){const S=e[w];let D=b,M=b+this._computeAngle(w,o,x),L=a.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;b=M,s&&(l.animateScale&&(L=0),l.animateRotate&&(D=M=g));const z={x:h,y:p,innerRadius:0,outerRadius:L,startAngle:D,endAngle:M,options:this.resolveDataElementOptions(w,S.active?"active":o)};this.updateElement(S,w,z,o)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ac(this.resolveDataElementOptions(e,n).angle||r):0}})();var Mke=Object.freeze({__proto__:null,BarController:Tke,BubbleController:Dke,DoughnutController:eN,LineController:Ske,PieController:(()=>class i extends eN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:Z7,RadarController:(()=>class i extends Eh{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,o){return E7.bind(this)(e,n,r,o)}update(e){const n=this._cachedMeta,r=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let c=n;c<n+r;c++){const l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":o),h=s.getPointPositionForValue(c,this.getParsed(c).r),p=a?s.xCenter:h.x,g=a?s.yCenter:h.y,b={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:d};this.updateElement(l,c,b,o)}}})(),ScatterController:(()=>class i extends Eh{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled;let{start:s,count:a}=c7(n,r,o);if(this._drawStart=s,this._drawCount=a,l7(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(n,o),p=this.getSharedOptions(h),g=this.includeOptions(o,p),b=a.axis,w=c.axis,{spanGaps:x,segment:S}=this.options,D=V_(x)?x:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||"none"===o;let L=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const Z=e[z],ue=this.getParsed(z),ie=M?Z:{},fe=Oi(ue[w]),Me=ie[b]=a.getPixelForValue(ue[b],z),ve=ie[w]=s||fe?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,ue,l):ue[w],z);ie.skip=isNaN(Me)||isNaN(ve)||fe,ie.stop=z>0&&Math.abs(ue[b]-L[b])>D,S&&(ie.parsed=ue,ie.raw=d.data[z]),g&&(ie.options=p||this.resolveDataElementOptions(z,Z.active?"active":o)),M||this.updateElement(Z,z,ie,o),L=ue}this.updateSharedOptions(p,o,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,s,a)/2}})()});function Fp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tN{static override(t){Object.assign(tN.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Fp()}parse(){return Fp()}format(){return Fp()}add(){return Fp()}diff(){return Fp()}startOf(){return Fp()}endOf(){return Fp()}}var Ake__date=tN;function Rke(i,t,e,n){const{controller:r,data:o,_sorted:s}=i,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const c=a._reversePixels?XCe:Ud;if(!n)return c(o,t,e);if(r._sharedOptions){const l=o[0],d="function"==typeof l.getRange&&l.getRange(t);if(d){const h=c(o,t,e-d),p=c(o,t,e+d);return{lo:h.lo,hi:p.hi}}}}return{lo:0,hi:o.length-1}}function lw(i,t,e,n,r){const o=i.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:d}=o[a],{lo:h,hi:p}=Rke(o[a],t,s,r);for(let g=h;g<=p;++g){const b=d[g];b.skip||n(b,l,g)}}}function iN(i,t,e,n,r){const o=[];return!r&&!i.isPointInArea(t)||lw(i,e,t,function(a,c,l){!r&&!jd(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function nN(i,t,e,n,r,o){return o||i.isPointInArea(t)?"r"!==e||n?function Nke(i,t,e,n,r,o){let s=[];const a=function Pke(i){const t=-1!==i.indexOf("x"),e=-1!==i.indexOf("y");return function(n,r){const o=t?Math.abs(n.x-r.x):0,s=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return lw(i,e,t,function l(d,h,p){const g=d.inRange(t.x,t.y,r);if(n&&!g)return;const b=d.getCenterPoint(r);if(!o&&!i.isPointInArea(b)&&!g)return;const x=a(t,b);x<c?(s=[{element:d,datasetIndex:h,index:p}],c=x):x===c&&s.push({element:d,datasetIndex:h,index:p})}),s}(i,t,e,n,r,o):function Oke(i,t,e,n){let r=[];return lw(i,e,t,function o(s,a,c){const{startAngle:l,endAngle:d}=s.getProps(["startAngle","endAngle"],n),{angle:h}=t7(s,{x:t.x,y:t.y});iw(h,l,d)&&r.push({element:s,datasetIndex:a,index:c})}),r}(i,t,e,r):[]}function K7(i,t,e,n,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return lw(i,e,t,(c,l,d)=>{c[s](t[e],r)&&(o.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),n&&!a?[]:o}var Fke={evaluateInteractionItems:lw,modes:{index(i,t,e,n){const r=Op(t,i),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?iN(i,r,o,n,s):nN(i,r,o,!1,n,s),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{const d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(i,t,e,n){const r=Op(t,i),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?iN(i,r,o,n,s):nN(i,r,o,!1,n,s);if(a.length>0){const c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point:(i,t,e,n)=>iN(i,Op(t,i),e.axis||"xy",n,e.includeInvisible||!1),nearest:(i,t,e,n)=>nN(i,Op(t,i),e.axis||"xy",e.intersect,n,e.includeInvisible||!1),x:(i,t,e,n)=>K7(i,Op(t,i),"x",e.intersect,n),y:(i,t,e,n)=>K7(i,Op(t,i),"y",e.intersect,n)}};const Q7=["left","top","right","bottom"];function dw(i,t){return i.filter(e=>e.pos===t)}function X7(i,t){return i.filter(e=>-1===Q7.indexOf(e.pos)&&e.box.axis===t)}function uw(i,t){return i.sort((e,n)=>{const r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function J7(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function eq(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Hke(i,t,e,n){const{pos:r,box:o}=e,s=i.maxPadding;if(!xi(r)){e.size&&(i[r]-=e.size);const h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?o.height:o.width),e.size=h.size/h.count,i[r]+=e.size}o.getPadding&&eq(s,o.getPadding());const a=Math.max(0,t.outerWidth-J7(s,i,"left","right")),c=Math.max(0,t.outerHeight-J7(s,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function jke(i,t){const e=t.maxPadding;return function n(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(i?["left","right"]:["top","bottom"])}function hw(i,t,e,n){const r=[];let o,s,a,c,l,d;for(o=0,s=i.length,l=0;o<s;++o){a=i[o],c=a.box,c.update(a.width||t.w,a.height||t.h,jke(a.horizontal,t));const{same:h,other:p}=Hke(t,e,a,n);l|=h&&r.length,d=d||p,c.fullSize||r.push(a)}return l&&hw(r,t,e,n)||d}function DD(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function tq(i,t,e,n){const r=e.padding;let{x:o,y:s}=t;for(const a of i){const c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){const h=t.w*d,p=l.size||c.height;ew(l.start)&&(s=l.start),c.fullSize?DD(c,r.left,s,e.outerWidth-r.right-r.left,p):DD(c,t.left+l.placed,s,h,p),l.start=s,l.placed+=h,s=c.bottom}else{const h=t.h*d,p=l.size||c.width;ew(l.start)&&(o=l.start),c.fullSize?DD(c,o,r.top,p,e.outerHeight-r.bottom-r.top):DD(c,o,t.top+l.placed,p,h),l.start=o,l.placed+=h,o=c.right}}t.x=o,t.y=s}var Ko={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;-1!==e&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const r=Zo(i.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=function zke(i){const t=function Lke(i){const t=[];let e,n,r,o,s,a;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(i),e=uw(t.filter(l=>l.box.fullSize),!0),n=uw(dw(t,"left"),!0),r=uw(dw(t,"right")),o=uw(dw(t,"top"),!0),s=uw(dw(t,"bottom")),a=X7(t,"x"),c=X7(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:dw(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}(i.boxes),c=a.vertical,l=a.horizontal;tn(i.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const d=c.reduce((w,x)=>x.box.options&&!1===x.box.options.display?w:w+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);eq(p,Zo(n));const g=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),b=function Bke(i,t){const e=function Vke(i){const t={};for(const e of i){const{stack:n,pos:r,stackWeight:o}=e;if(!n||!Q7.includes(r))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=i.length;o<s;++o){a=i[o];const{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&t.availableHeight)}return e}(c.concat(l),h);hw(a.fullSize,g,h,b),hw(c,g,h,b),hw(l,g,h,b)&&hw(c,g,h,b),function Uke(i){const t=i.maxPadding;function e(n){const r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}(g),tq(a.leftAndTop,g,h,b),g.x+=g.w,g.y+=g.h,tq(a.rightAndBottom,g,h,b),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},tn(a.chartArea,w=>{const x=w.box;Object.assign(x,i.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class iq{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Wke extends iq{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ID="$chartjs",$ke={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nq=i=>null===i||""===i,rq=!!$Ee&&{passive:!0};function Yke(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,rq)}function SD(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function Kke(i,t,e){const n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||SD(a.addedNodes,n),s=s&&!SD(a.removedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Qke(i,t,e){const n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||SD(a.removedNodes,n),s=s&&!SD(a.addedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const mw=new Map;let oq=0;function sq(){const i=window.devicePixelRatio;i!==oq&&(oq=i,mw.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function eTe(i,t,e){const n=i.canvas,r=n&&K2(n);if(!r)return;const o=a7((a,c)=>{const l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,d=c.contentRect.height;0===l&&0===d||o(l,d)});return s.observe(r),function Xke(i,t){mw.size||window.addEventListener("resize",sq),mw.set(i,t)}(i,o),s}function rN(i,t,e){e&&e.disconnect(),"resize"===t&&function Jke(i){mw.delete(i),mw.size||window.removeEventListener("resize",sq)}(i)}function tTe(i,t,e){const n=i.canvas,r=a7(o=>{null!==i.ctx&&e(function Zke(i,t){const e=$ke[i.type]||i.type,{x:n,y:r}=Op(i,t);return{type:e,chart:t,native:i,x:void 0!==n?n:null,y:void 0!==r?r:null}}(o,i))},i);return function qke(i,t,e){i&&i.addEventListener(t,e,rq)}(n,t,r),r}class iTe extends iq{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function Gke(i,t){const e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[ID]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",nq(r)){const o=D7(i,"width");void 0!==o&&(i.width=o)}if(nq(n))if(""===i.style.height)i.height=i.width/(t||2);else{const o=D7(i,"height");void 0!==o&&(i.height=o)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[ID])return!1;const n=e[ID].initial;["height","width"].forEach(o=>{const s=n[o];Oi(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=n.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[ID],!0}addEventListener(t,e,n){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Kke,detach:Qke,resize:eTe}[e]||tTe)(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:rN,detach:rN,resize:rN}[e]||Yke)(t,e,r),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return function WEe(i,t,e,n){const r=kD(i),o=Pp(r,"margin"),s=ED(r.maxWidth,i,"clientWidth")||_D,a=ED(r.maxHeight,i,"clientHeight")||_D,c=function jEe(i,t,e){let n,r;if(void 0===t||void 0===e){const o=i&&K2(i);if(o){const s=o.getBoundingClientRect(),a=kD(o),c=Pp(a,"border","width"),l=Pp(a,"padding");t=s.width-l.width-c.width,e=s.height-l.height-c.height,n=ED(a.maxWidth,o,"clientWidth"),r=ED(a.maxHeight,o,"clientHeight")}else t=i.clientWidth,e=i.clientHeight}return{width:t,height:e,maxWidth:n||_D,maxHeight:r||_D}}(i,t,e);let{width:l,height:d}=c;if("content-box"===r.boxSizing){const p=Pp(r,"border","width"),g=Pp(r,"padding");l-=g.width+p.width,d-=g.height+p.height}return l=Math.max(0,l-o.width),d=Math.max(0,n?l/n:d-o.height),l=TD(Math.min(l,s,c.maxWidth)),d=TD(Math.min(d,a,c.maxHeight)),l&&!d&&(d=TD(l/2)),(void 0!==t||void 0!==e)&&n&&c.height&&d>c.height&&(d=c.height,l=TD(Math.floor(d*n))),{width:l,height:d}}(t,e,n,r)}isAttached(t){const e=t&&K2(t);return!(!e||!e.isConnected)}}class $d{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return V_(this.x)&&V_(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}}function MD(i,t,e,n,r){const o=ri(n,0),s=Math.min(ri(r,i.length),i.length);let c,l,d,a=0;for(e=Math.ceil(e),r&&(c=r-n,e=c/Math.floor(c/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===d&&(t.push(i[l]),a++,d=Math.round(o+a*e))}const aq=(i,t,e)=>"top"===t||"left"===t?i[t]+e:i[t]-e,cq=(i,t)=>Math.min(t||i,i);function lq(i,t){const e=[],n=i.length/t,r=i.length;let o=0;for(;o<r;o+=n)e.push(i[Math.floor(o)]);return e}function uTe(i,t,e){const n=i.ticks.length,r=Math.min(t,n-1),o=i._startPixel,s=i._endPixel,a=1e-6;let l,c=i.getPixelForTick(r);if(!(e&&(l=1===n?Math.max(c-o,s-c):0===t?(i.getPixelForTick(1)-c)/2:(c-i.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function pw(i){return i.drawTicks?i.tickLength:0}function dq(i,t){if(!i.display)return 0;const e=no(i.font,t),n=Zo(i.padding);return(zn(i.text)?i.text.length:1)*e.lineHeight+n.height}function fTe(i,t,e){let n=B2(i);return(e&&"right"!==t||!e&&"right"===t)&&(n=(i=>"left"===i?"right":"right"===i?"left":i)(n)),n}class Lp extends $d{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=Ea(t,Number.POSITIVE_INFINITY),e=Ea(e,Number.NEGATIVE_INFINITY),n=Ea(n,Number.POSITIVE_INFINITY),r=Ea(r,Number.NEGATIVE_INFINITY),{min:Ea(t,n),max:Ea(e,r),minDefined:gr(t),maxDefined:gr(e)}}getMinMax(t){let s,{min:e,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:n};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(n=Math.max(n,s.max));return e=o&&e>n?n:e,n=r&&e>n?e:n,{min:Ea(e,Ea(n,e)),max:Ea(n,Ea(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rn(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function xEe(i,t,e){const{min:n,max:r}=i,o=qG(t,(r-n)/2),s=(a,c)=>e&&0===a?0:a+c;return{min:s(n,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?lq(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function rTe(i,t){const e=i.options.ticks,n=function oTe(i){const t=i.options.offset,e=i._tickSize();return Math.floor(Math.min(i._length/e+(t?0:1),i._maxLength/e))}(i),r=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?function aTe(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return function cTe(i,t,e,n){let s,r=0,o=e[0];for(n=Math.ceil(n),s=0;s<i.length;s++)s===o&&(t.push(i[s]),r++,o=e[r*n])}(t,l,o,s/r),l;const d=function sTe(i,t,e){const n=function lTe(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}(i),r=t.length/e;if(!n)return Math.max(r,1);const o=function YCe(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n==0&&(t.push(n),t.push(i/n));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(n);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>r)return c}return Math.max(r,1)}(o,t,r);if(s>0){let h,p;const g=s>1?Math.round((c-a)/(s-1)):null;for(MD(t,l,d,Oi(g)?0:a-g,a),h=0,p=s-1;h<p;h++)MD(t,l,d,o[h],o[h+1]);return MD(t,l,d,c,Oi(g)?t.length:c+g),l}return MD(t,l,d),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,n,t=this.options.reverse;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rn(this.options.afterUpdate,[this])}beforeSetDimensions(){Rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=Rn(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=cq(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,c,l,s=r;if(!this._isVisible()||!e.display||r>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,g=po(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:g/(n-1),h+6>a&&(a=g/(n-(t.offset?.5:1)),c=this.maxHeight-pw(t.grid)-e.padding-dq(t.title,this.chart.options.font),l=Math.sqrt(h*h+p*p),s=F2(Math.min(Math.asin(po((d.highest.height+6)/a,-1,1)),Math.asin(po(c/l,-1,1))-Math.asin(po(p/l,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=dq(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=pw(o)+c):(t.height=this.maxHeight,t.width=pw(o)+c),n.display&&this.ticks.length){const{first:l,last:d,widest:h,highest:p}=this._getLabelSizes(),g=2*n.padding,b=Ac(this.labelRotation),w=Math.cos(b),x=Math.sin(b);a?t.height=Math.min(this.maxHeight,t.height+(n.mirror?0:x*h.width+w*p.height)+g):t.width=Math.min(this.maxWidth,t.width+(n.mirror?0:w*h.width+x*p.height)+g),this._calculatePadding(l,d,x,w)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:o,padding:s},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?l?(p=r*t.width,g=n*e.height):(p=n*t.height,g=r*e.width):"start"===o?g=e.width:"end"===o?p=t.width:"inner"!==o&&(p=t.width/2,g=e.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+s)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;"start"===o?(d=0,h=t.height):"end"===o&&(d=e.height,h=0),this.paddingTop=d+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Oi(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=lq(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/cq(e,n));let h,p,g,b,w,x,S,D,M,L,z,l=0,d=0;for(h=0;h<e;h+=c){if(b=t[h].label,w=this._resolveTickFontOptions(h),r.font=x=w.string,S=o[x]=o[x]||{data:{},gc:[]},D=w.lineHeight,M=L=0,Oi(b)||zn(b)){if(zn(b))for(p=0,g=b.length;p<g;++p)z=b[p],!Oi(z)&&!zn(z)&&(M=yD(r,S.data,S.gc,M,z),L+=D)}else M=yD(r,S.data,S.gc,M,b),L=D;s.push(M),a.push(L),l=Math.max(M,l),d=Math.max(L,d)}!function hTe(i,t){tn(i,e=>{const n=e.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}})}(o,e);const Z=s.indexOf(l),ue=a.indexOf(d),ie=fe=>({width:s[fe]||0,height:a[fe]||0});return{first:ie(0),last:ie(e-1),widest:ie(Z),highest:ie(ue),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function QCe(i){return po(i,-32768,32767)}(this._alignToPixels?Mp(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function pTe(i,t,e){return Ch(i,{tick:e,index:t,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function mTe(i,t){return Ch(i,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ac(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:o,position:s,border:a}=r,c=o.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=pw(o),g=[],b=a.setContext(this.getContext()),w=b.display?b.width:0,x=w/2,S=function(Pe){return Mp(n,Pe,w)};let D,M,L,z,Z,ue,ie,fe,Me,ve,xe,Rt;if("top"===s)D=S(this.bottom),ue=this.bottom-p,fe=D-x,ve=S(t.top)+x,Rt=t.bottom;else if("bottom"===s)D=S(this.top),ve=t.top,Rt=S(t.bottom)-x,ue=D+x,fe=this.top+p;else if("left"===s)D=S(this.right),Z=this.right-p,ie=D-x,Me=S(t.left)+x,xe=t.right;else if("right"===s)D=S(this.left),Me=t.left,xe=S(t.right)-x,Z=D+x,ie=this.left+p;else if("x"===e){if("center"===s)D=S((t.top+t.bottom)/2+.5);else if(xi(s)){const Pe=Object.keys(s)[0];D=S(this.chart.scales[Pe].getPixelForValue(s[Pe]))}ve=t.top,Rt=t.bottom,ue=D+x,fe=ue+p}else if("y"===e){if("center"===s)D=S((t.left+t.right)/2);else if(xi(s)){const Pe=Object.keys(s)[0];D=S(this.chart.scales[Pe].getPixelForValue(s[Pe]))}Z=D-x,ie=Z-p,Me=t.left,xe=t.right}const Qt=ri(r.ticks.maxTicksLimit,h),Ii=Math.max(1,Math.ceil(h/Qt));for(M=0;M<h;M+=Ii){const Pe=this.getContext(M),Ue=o.setContext(Pe),ht=a.setContext(Pe),at=Ue.lineWidth,Li=Ue.color,Cn=ht.dash||[],tr=ht.dashOffset,ns=Ue.tickWidth,Si=Ue.tickColor,zc=Ue.tickBorderDash||[],Hc=Ue.tickBorderDashOffset;L=uTe(this,M,c),void 0!==L&&(z=Mp(n,L,at),l?Z=ie=Me=xe=z:ue=fe=ve=Rt=z,g.push({tx1:Z,ty1:ue,tx2:ie,ty2:fe,x1:Me,y1:ve,x2:xe,y2:Rt,width:at,color:Li,borderDash:Cn,borderDashOffset:tr,tickWidth:ns,tickColor:Si,tickBorderDash:zc,tickBorderDashOffset:Hc}))}return this._ticksLength=h,this._borderValue=D,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=o,p=pw(n.grid),g=p+d,b=h?-d:g,w=-Ac(this.labelRotation),x=[];let S,D,M,L,z,Z,ue,ie,fe,Me,ve,xe,Rt="middle";if("top"===r)Z=this.bottom-b,ue=this._getXAxisLabelAlignment();else if("bottom"===r)Z=this.top+b,ue=this._getXAxisLabelAlignment();else if("left"===r){const Ii=this._getYAxisLabelAlignment(p);ue=Ii.textAlign,z=Ii.x}else if("right"===r){const Ii=this._getYAxisLabelAlignment(p);ue=Ii.textAlign,z=Ii.x}else if("x"===e){if("center"===r)Z=(t.top+t.bottom)/2+g;else if(xi(r)){const Ii=Object.keys(r)[0];Z=this.chart.scales[Ii].getPixelForValue(r[Ii])+g}ue=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)z=(t.left+t.right)/2-g;else if(xi(r)){const Ii=Object.keys(r)[0];z=this.chart.scales[Ii].getPixelForValue(r[Ii])}ue=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===c?Rt="top":"end"===c&&(Rt="bottom"));const Qt=this._getLabelSizes();for(S=0,D=a.length;S<D;++S){M=a[S],L=M.label;const Ii=o.setContext(this.getContext(S));ie=this.getPixelForTick(S)+o.labelOffset,fe=this._resolveTickFontOptions(S),Me=fe.lineHeight,ve=zn(L)?L.length:1;const Pe=ve/2,Ue=Ii.color,ht=Ii.textStrokeColor,at=Ii.textStrokeWidth;let Cn,Li=ue;if(s?(z=ie,"inner"===ue&&(Li=S===D-1?this.options.reverse?"left":"right":0===S?this.options.reverse?"right":"left":"center"),xe="top"===r?"near"===l||0!==w?-ve*Me+Me/2:"center"===l?-Qt.highest.height/2-Pe*Me+Me:Me/2-Qt.highest.height:"near"===l||0!==w?Me/2:"center"===l?Qt.highest.height/2-Pe*Me:Qt.highest.height-ve*Me,h&&(xe*=-1),0!==w&&!Ii.showLabelBackdrop&&(z+=Me/2*Math.sin(w))):(Z=ie,xe=(1-ve)*Me/2),Ii.showLabelBackdrop){const tr=Zo(Ii.backdropPadding),ns=Qt.heights[S],Si=Qt.widths[S];let zc=xe-tr.top,Hc=0-tr.left;switch(Rt){case"middle":zc-=ns/2;break;case"bottom":zc-=ns}switch(ue){case"center":Hc-=Si/2;break;case"right":Hc-=Si;break;case"inner":S===D-1?Hc-=Si:S>0&&(Hc-=Si/2)}Cn={left:Hc,top:zc,width:Si+tr.width,height:ns+tr.height,color:Ii.backdropColor}}x.push({label:L,font:fe,textOffset:xe,options:{rotation:w,color:Ue,strokeColor:ht,strokeWidth:at,textAlign:Li,textBaseline:Rt,translation:[z,Z],backdrop:Cn}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ac(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,a=t+o,c=this._getLabelSizes().widest.width;let l,d;return"left"===e?r?(d=this.right+o,"near"===n?l="left":"center"===n?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,"near"===n?l="right":"center"===n?(l="center",d-=c/2):(l="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===n?l="right":"center"===n?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,"near"===n?l="left":"center"===n?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const c=r[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,d,h,p;this.isHorizontal()?(l=Mp(t,this.left,s)-s/2,d=Mp(t,this.right,a)+a/2,h=p=c):(h=Mp(t,this.top,s)-s/2,p=Mp(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,h),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&wD(n,r);const o=this.getLabelItems(t);for(const s of o)Ap(n,s.label,0,s.textOffset,s.font,s.options);r&&xD(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const o=no(n.font),s=Zo(n.padding),a=n.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||xi(e)?(c+=s.bottom,zn(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=s.top;const{titleX:l,titleY:d,maxWidth:h,rotation:p}=function gTe(i,t,e,n){const{top:r,left:o,bottom:s,right:a,chart:c}=i,{chartArea:l,scales:d}=c;let p,g,b,h=0;const w=s-r,x=a-o;if(i.isHorizontal()){if(g=Yo(n,o,a),xi(e)){const S=Object.keys(e)[0];b=d[S].getPixelForValue(e[S])+w-t}else b="center"===e?(l.bottom+l.top)/2+w-t:aq(i,e,t);p=a-o}else{if(xi(e)){const S=Object.keys(e)[0];g=d[S].getPixelForValue(e[S])-x+t}else g="center"===e?(l.left+l.right)/2-x+t:aq(i,e,t);b=Yo(n,s,r),h="left"===e?-Sr:Sr}return{titleX:g,titleY:b,maxWidth:p,rotation:h}}(this,c,e,a);Ap(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:p,textAlign:fTe(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=ri(t.grid&&t.grid.z,-1),r=ri(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Lp.prototype.draw?[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return no(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class AD{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function bTe(i){return"id"in i&&"defaults"in i})(e)&&(n=this.register(e));const r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function _Te(i,t,e){const n=X0(Object.create(null),[e?_r.get(e):{},_r.get(t),i.defaults]);_r.set(t,n),i.defaultRoutes&&function vTe(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),r=n.pop(),o=[i].concat(n).join("."),s=t[e].split("."),a=s.pop(),c=s.join(".");_r.route(o,r,c,a)})}(t,i.defaultRoutes),i.descriptors&&_r.describe(t,i.descriptors)}(t,s,n),this.override&&_r.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in _r[r]&&(delete _r[r][n],this.override&&delete Sp[n])}}class yTe{constructor(){this.controllers=new AD(Eh,"datasets",!0),this.elements=new AD($d,"elements"),this.plugins=new AD(Object,"plugins"),this.scales=new AD(Lp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{const o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):tn(r,s=>{const a=n||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,n){const r=N2(t);Rn(n["before"+r],[],n),e[t](n),Rn(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Al=new yTe;class wTe{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,n);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const o of t){const s=o.plugin;if(!1===Rn(s[n],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){Oi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=ri(n.options&&n.options.plugins,{}),o=function xTe(i){const t={},e=[],n=Object.keys(Al.plugins.items);for(let o=0;o<n.length;o++)e.push(Al.getPlugin(n[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(n);return!1!==r||e?function ETe(i,{plugins:t,localIds:e},n,r){const o=[],s=i.getContext();for(const a of t){const c=a.id,l=CTe(n[c],r);null!==l&&o.push({plugin:a,options:kTe(i.config,{plugin:a,local:e[c]},l,s)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function CTe(i,t){return t||!1!==i?!0===i?{}:i:null}function kTe(i,{plugin:t,local:e},n,r){const o=i.pluginScopeKeys(t),s=i.getOptionScopes(n,o);return e&&t.defaults&&s.push(t.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function oN(i,t){return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||(_r.datasets[i]||{}).indexAxis||"x"}function uq(i){if("x"===i||"y"===i||"r"===i)return i}function ITe(i){return"top"===i||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0}function sN(i,...t){if(uq(i))return i;for(const e of t){const n=e.axis||ITe(e.position)||i.length>1&&uq(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function hq(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function mq(i){const t=i.options||(i.options={});t.plugins=ri(t.plugins,{}),t.scales=function MTe(i,t){const e=Sp[i.type]||{scales:{}},n=t.scales||{},r=oN(i.type,t),o=Object.create(null);return Object.keys(n).forEach(s=>{const a=n[s];if(!xi(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=sN(s,a,function STe(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return hq(i,"x",e[0])||hq(i,"y",e[0])}return{}}(s,i),_r.scales[a.type]),l=function DTe(i,t){return i===t?"_index_":"_value_"}(c,r),d=e.scales||{};o[s]=J0(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(s=>{const a=s.type||i.type,c=s.indexAxis||oN(a,t),d=(Sp[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=function TTe(i,t){let e=i;return"_index_"===i?e=t:"_value_"===i&&(e="x"===t?"y":"x"),e}(h,c),g=s[p+"AxisID"]||p;o[g]=o[g]||Object.create(null),J0(o[g],[{axis:p},n[g],d[h]])})}),Object.keys(o).forEach(s=>{const a=o[s];J0(a,[_r.scales[a.type],_r.scale])}),o}(i,t)}function pq(i){return(i=i||{}).datasets=i.datasets||[],i.labels=i.labels||[],i}const fq=new Map,gq=new Set;function RD(i,t){let e=fq.get(i);return e||(e=t(),fq.set(i,e),gq.add(e)),e}const fw=(i,t,e)=>{const n=yh(t,e);void 0!==n&&i.add(n)};class RTe{constructor(t){this._config=function ATe(i){return(i=i||{}).data=pq(i.data),mq(i),i}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=pq(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),mq(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return RD(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return RD(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return RD(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return RD(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:o}=this,s=this._cachedScopes(t,n),a=s.get(e);if(a)return a;const c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(h=>fw(c,t,h))),d.forEach(h=>fw(c,r,h)),d.forEach(h=>fw(c,Sp[o]||{},h)),d.forEach(h=>fw(c,_r,h)),d.forEach(h=>fw(c,U2,h))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),gq.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Sp[e]||{},_r.datasets[e]||{},{type:e},_r,U2]}resolveNamedOptions(t,e,n,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=_q(this._resolverCache,t,r);let c=s;(function OTe(i,t){const{isScriptable:e,isIndexable:n}=v7(i);for(const r of t){const o=e(r),s=n(r),a=(s||o)&&i[r];if(o&&(wh(a)||PTe(a))||s&&zn(a))return!0}return!1})(s,e)&&(o.$shared=!1,c=B_(s,n=wh(n)?n():n,this.createResolver(t,n,a)));for(const l of e)o[l]=c[l];return o}createResolver(t,e,n=[""],r){const{resolver:o}=_q(this._resolverCache,t,n);return xi(e)?B_(o,e,void 0,r):o}}function _q(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const r=e.join();let o=n.get(r);return o||(o={resolver:G2(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,o)),o}const PTe=i=>xi(i)&&Object.getOwnPropertyNames(i).some(t=>wh(i[t])),FTe=["top","bottom","left","right","chartArea"];function vq(i,t){return"top"===i||"bottom"===i||-1===FTe.indexOf(i)&&"x"===t}function bq(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function yq(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Rn(e&&e.onComplete,[i],t)}function LTe(i){const t=i.chart,e=t.options.animation;Rn(e&&e.onProgress,[i],t)}function wq(i){return Z2()&&"string"==typeof i?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const PD={},xq=i=>{const t=wq(i);return Object.values(PD).filter(e=>e.canvas===t).pop()};function VTe(i,t,e){const n=Object.keys(i);for(const r of n){const o=+r;if(o>=t){const s=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=s)}}}function OD(i,t,e){return i.options.clip?i[e]:t[e]}let aN=(()=>class i{static defaults=_r;static instances=PD;static overrides=Sp;static registry=Al;static version="4.4.3";static getChart=xq;static register(...e){Al.add(...e),Cq()}static unregister(...e){Al.remove(...e),Cq()}constructor(e,n){const r=this.config=new RTe(n),o=wq(e),s=xq(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function nTe(i){return!Z2()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Wke:iTe}(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;this.id=BCe(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wTe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function tEe(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],PD[this.id]=this,c&&l?(Wd.listen(this,"complete",yq),Wd.listen(this,"progress",LTe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:s}=this;return Oi(e)?n&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Al}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():T7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return f7(this.canvas,this.ctx),this}stop(){return Wd.stop(this),this}resize(e,n){Wd.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,n,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,T7(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Rn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){tn(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const c=n[a],l=sN(a,c),d="r"===l,h="x"===l;return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),tn(s,a=>{const c=a.options,l=c.id,d=sN(l,c),h=ri(c.type,a.dtype);(void 0===c.position||vq(c.position,d)!==vq(a.dposition))&&(c.position=a.dposition),o[l]=!0;let p=null;l in r&&r[l].type===h?p=r[l]:(p=new(Al.getScale(h))({id:l,type:h,ctx:this.ctx,chart:this}),r[p.id]=p),p.init(c,e)}),tn(o,(a,c)=>{a||delete r[c]}),tn(r,a=>{Ko.configure(this,a,a.options),Ko.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(bq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{0===n.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const s=n[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||oN(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Al.getController(c),{datasetElementType:d,dataElementType:h}=_r.datasets[c];Object.assign(l,{dataElementType:Al.getElement(h),datasetElementType:d&&Al.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){tn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),g=!o&&-1===s.indexOf(p);p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||tn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bq("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){tn(this.scales,e=>{Ko.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!KG(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of n)VTe(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<n;s++)if(!KG(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ko.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],tn(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,wh(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wd.has(this)?this.attached&&!Wd.running(this)&&Wd.start(this):(this.draw(),yq({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let o,s;for(o=0,s=n.length;o<s;++o){const a=n[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,o=!r.disabled,s=function zTe(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:OD(e,t,"left"),right:OD(e,t,"right"),top:OD(n,t,"top"),bottom:OD(n,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&wD(n,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&xD(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return jd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){const s=Fke.modes[n];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ch(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(e,n){this.getDatasetMeta(e).hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);ew(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wd.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),f7(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete PD[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};tn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),e[l]=d},o=(l,d)=>{e[l]&&(n.removeEventListener(this,l,d),delete e[l])},s=(l,d)=>{this.canvas&&this.resize(l,d)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){tn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},tn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const o=r?"set":"remove";let s,a,c,l;for("dataset"===n&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!fD(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(n=>n.plugin.id===e).length}_updateHoverStyles(e,n,r){const o=this.options.hover,s=(l,d)=>l.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),a=s(n,e),c=r?e:s(e,n);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,r,n),l=function $Ce(i){return"mouseup"===i.type||"click"===i.type||"contextmenu"===i.type}(e),d=function BTe(i,t,e,n){return e&&"mouseout"!==i.type?n?t:i:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Rn(s.onHover,[e,c,this],this),l&&Rn(s.onClick,[e,c,this],this));const h=!fD(c,o);return(h||n)&&(this._active=c,this._updateHoverStyles(c,o,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,o){if("mouseout"===e.type)return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function Cq(){return tn(aN.instances,i=>i._plugins.invalidate())}function U_(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function ND(i,t,e,n,r,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,h=Math.max(t.outerRadius+n+e-l,0),p=d>0?d+n+e+l:0;let g=0;const b=r-c;if(n){const Ue=((d>0?d-n:0)+(h>0?h-n:0))/2;g=(b-(0!==Ue?b*Ue/(Ue+n):b))/2}const x=(b-Math.max(.001,b*h-e/Hn)/h)/2,S=c+x+g,D=r-x-g,{outerStart:M,outerEnd:L,innerStart:z,innerEnd:Z}=function jTe(i,t,e,n){const r=function UTe(i){return $2(i,["outerStart","outerEnd","innerStart","innerEnd"])}(i.options.borderRadius),o=(e-t)/2,s=Math.min(o,n*t/2),a=c=>{const l=(e-Math.min(o,c))*n/2;return po(c,0,Math.min(o,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:po(r.innerStart,0,s),innerEnd:po(r.innerEnd,0,s)}}(t,p,h,D-S),ue=h-M,ie=h-L,fe=S+M/ue,Me=D-L/ie,ve=p+z,xe=p+Z,Rt=S+z/ve,Qt=D-Z/xe;if(i.beginPath(),o){const Ii=(fe+Me)/2;if(i.arc(s,a,h,fe,Ii),i.arc(s,a,h,Ii,Me),L>0){const at=U_(ie,Me,s,a);i.arc(at.x,at.y,L,Me,D+Sr)}const Pe=U_(xe,D,s,a);if(i.lineTo(Pe.x,Pe.y),Z>0){const at=U_(xe,Qt,s,a);i.arc(at.x,at.y,Z,D+Sr,Qt+Math.PI)}const Ue=(D-Z/p+(S+z/p))/2;if(i.arc(s,a,p,D-Z/p,Ue,!0),i.arc(s,a,p,Ue,S+z/p,!0),z>0){const at=U_(ve,Rt,s,a);i.arc(at.x,at.y,z,Rt+Math.PI,S-Sr)}const ht=U_(ue,S,s,a);if(i.lineTo(ht.x,ht.y),M>0){const at=U_(ue,fe,s,a);i.arc(at.x,at.y,M,S-Sr,fe)}}else{i.moveTo(s,a);const Ii=Math.cos(fe)*h+s,Pe=Math.sin(fe)*h+a;i.lineTo(Ii,Pe);const Ue=Math.cos(Me)*h+s,ht=Math.sin(Me)*h+a;i.lineTo(Ue,ht)}i.closePath()}function Eq(i,t,e=t){i.lineCap=ri(e.borderCapStyle,t.borderCapStyle),i.setLineDash(ri(e.borderDash,t.borderDash)),i.lineDashOffset=ri(e.borderDashOffset,t.borderDashOffset),i.lineJoin=ri(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=ri(e.borderWidth,t.borderWidth),i.strokeStyle=ri(e.borderColor,t.borderColor)}function qTe(i,t,e){i.lineTo(e.x,e.y)}function kq(i,t,e={}){const n=i.length,{start:r=0,end:o=n-1}=e,{start:s,end:a}=t,c=Math.max(r,s),l=Math.min(o,a);return{count:n,start:c,loop:t.loop,ilen:l<c&&!(r<s&&o<s||r>a&&o>a)?n+l-c:l-c}}function ZTe(i,t,e,n){const{points:r,options:o}=t,{count:s,start:a,loop:c,ilen:l}=kq(r,e,n),d=function YTe(i){return i.stepped?mEe:i.tension||"monotone"===i.cubicInterpolationMode?pEe:qTe}(o);let g,b,w,{move:h=!0,reverse:p}=n||{};for(g=0;g<=l;++g)b=r[(a+(p?l-g:g))%s],!b.skip&&(h?(i.moveTo(b.x,b.y),h=!1):d(i,w,b,p,o.stepped),w=b);return c&&(b=r[(a+(p?l:0))%s],d(i,w,b,p,o.stepped)),!!c}function KTe(i,t,e,n){const r=t.points,{count:o,start:s,ilen:a}=kq(r,e,n),{move:c=!0,reverse:l}=n||{};let p,g,b,w,x,S,d=0,h=0;const D=L=>(s+(l?a-L:L))%o,M=()=>{w!==x&&(i.lineTo(d,x),i.lineTo(d,w),i.lineTo(d,S))};for(c&&(g=r[D(0)],i.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=r[D(p)],g.skip)continue;const L=g.x,z=g.y,Z=0|L;Z===b?(z<w?w=z:z>x&&(x=z),d=(h*d+L)/++h):(M(),i.lineTo(L,z),b=Z,h=0,w=x=z),S=z}M()}function cN(i){const t=i.options;return i._decimated||i._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?ZTe:KTe}const eDe="function"==typeof Path2D;let FD=(()=>class i extends $d{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(VEe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function JEe(i,t){const e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];const o=!!i._loop,{start:s,end:a}=function QEe(i,t,e,n){let r=0,o=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,n);return function O7(i,t,e,n){return n&&n.setContext&&e?function eke(i,t,e,n){const r=i._chart.getContext(),o=N7(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,c=e.length,l=[];let d=o,h=t[0].start,p=h;function g(b,w,x,S){const D=a?-1:1;if(b!==w){for(b+=c;e[b%c].skip;)b-=D;for(;e[w%c].skip;)w+=D;b%c!=w%c&&(l.push({start:b%c,end:w%c,loop:x,style:S}),d=S,h=w%c)}}for(const b of t){h=a?h:b.start;let x,w=e[h%c];for(p=h+1;p<=b.end;p++){const S=e[p%c];x=N7(n.setContext(Ch(r,{type:"segment",p0:w,p1:S,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),tke(x,d)&&g(h,p-1,b.loop,d),w=S,d=x}h<p-1&&g(h,p-1,b.loop,d)}return l}(i,t,e,n):t}(i,!0===n?[{start:s,end:a,loop:o}]:function XEe(i,t,e,n){const r=i.length,o=[];let c,s=t,a=i[t];for(c=t+1;c<=e;++c){const l=i[c%r];l.skip||l.stop?a.skip||(o.push({start:t%r,end:(c-1)%r,loop:n=!1}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return null!==s&&o.push({start:t%r,end:s%r,loop:n}),o}(e,s,a<s?a+r:a,!!i._fullLoop&&0===s&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,n){const r=this.options,o=e[n],s=this.points,a=P7(this,{property:n,start:o,end:o});if(!a.length)return;const c=[],l=function QTe(i){return i.stepped?GEe:i.tension||"monotone"===i.cubicInterpolationMode?qEe:Np}(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:p,end:g}=a[d],b=s[p],w=s[g];if(b===w){c.push(b);continue}const S=l(b,w,Math.abs((o-b[n])/(w[n]-b[n])),r.stepped);S[n]=e[n],c.push(S)}return 1===c.length?c[0]:c}pathSegment(e,n,r){return cN(this)(e,this,n,r)}path(e,n,r){const o=this.segments,s=cN(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const c of o)a&=s(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function tDe(i,t,e,n){eDe&&!t.options.segment?function XTe(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),Eq(i,t.options),i.stroke(r)}(i,t,e,n):function JTe(i,t,e,n){const{segments:r,options:o}=t,s=cN(t);for(const a of r)Eq(i,o,a.style),i.beginPath(),s(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}(i,t,e,n)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Tq(i,t,e,n){const r=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<r.radius+r.hitRadius}let iDe=(()=>class i extends $d{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return Tq(this,e,"x",n)}inYRange(e,n){return Tq(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){let n=(e=e||this.options||{}).radius||0;return n=Math.max(n,n&&e.hoverRadius||0),2*(n+(n&&e.borderWidth||0))}draw(e,n){const r=this.options;this.skip||r.radius<.1||!jd(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,W2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function Dq(i,t){const{x:e,y:n,base:r,width:o,height:s}=i.getProps(["x","y","base","width","height"],t);let a,c,l,d,h;return i.horizontal?(h=s/2,a=Math.min(e,r),c=Math.max(e,r),l=n-h,d=n+h):(h=o/2,a=e-h,c=e+h,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function kh(i,t,e,n){return i?0:po(t,e,n)}function lN(i,t,e,n){const r=null===t,o=null===e,a=i&&!(r&&o)&&Dq(i,n);return a&&(r||Hd(t,a.left,a.right))&&(o||Hd(e,a.top,a.bottom))}function aDe(i,t){i.rect(t.x,t.y,t.w,t.h)}function dN(i,t,e={}){const n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0;return{x:i.x+n,y:i.y+r,w:i.w+((i.x+i.w!==e.x+e.w?t:0)-n),h:i.h+((i.y+i.h!==e.y+e.h?t:0)-r),radius:i.radius}}var lDe=Object.freeze({__proto__:null,ArcElement:class GTe extends $d{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:o,distance:s}=t7(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=(this.options.spacing+this.options.borderWidth)/2,b=ri(h,c-a)>=Un||iw(o,a,c),w=Hd(s,l+p,d+p);return b&&w}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+o)/2,h=(s+a+l+c)/2;return{x:e+Math.cos(d)*h,y:n+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Un?Math.floor(n/Un):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const l=r*(1-Math.sin(Math.min(Hn,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function WTe(i,t,e,n,r){const{fullCircles:o,startAngle:s,circumference:a}=t;let c=t.endAngle;if(o){ND(i,t,e,n,c,r);for(let l=0;l<o;++l)i.fill();isNaN(a)||(c=s+(a%Un||Un))}ND(i,t,e,n,c,r),i.fill()}(t,this,l,o,s),function $Te(i,t,e,n,r){const{fullCircles:o,startAngle:s,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:p}=c,g="inner"===c.borderAlign;if(!l)return;i.setLineDash(h||[]),i.lineDashOffset=p,g?(i.lineWidth=2*l,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let b=t.endAngle;if(o){ND(i,t,e,n,b,r);for(let w=0;w<o;++w)i.stroke();isNaN(a)||(b=s+(a%Un||Un))}g&&function HTe(i,t,e){const{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=t;let l=r/a;i.beginPath(),i.arc(o,s,a,n-l,e+l),c>r?(l=r/c,i.arc(o,s,c,e+l,n-l,!0)):i.arc(o,s,r,e+Sr,n-Sr),i.closePath(),i.clip()}(i,t,b),o||(ND(i,t,e,n,b,r),i.stroke())}(t,this,l,o,s),t.restore()}},BarElement:class cDe extends $d{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:s}=function oDe(i){const t=Dq(i),e=t.right-t.left,n=t.bottom-t.top,r=function nDe(i,t,e){const r=i.borderSkipped,o=_7(i.options.borderWidth);return{t:kh(r.top,o.top,0,e),r:kh(r.right,o.right,0,t),b:kh(r.bottom,o.bottom,0,e),l:kh(r.left,o.left,0,t)}}(i,e/2,n/2),o=function rDe(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=Rp(r),s=Math.min(t,e),a=i.borderSkipped,c=n||xi(r);return{topLeft:kh(!c||a.top||a.left,o.topLeft,0,s),topRight:kh(!c||a.top||a.right,o.topRight,0,s),bottomLeft:kh(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:kh(!c||a.bottom||a.right,o.bottomRight,0,s)}}(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function sDe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}(s.radius)?sw:aDe;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,dN(s,e,o)),t.clip(),a(t,dN(o,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,dN(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return lN(this,t,e,n)}inXRange(t,e){return lN(this,t,null,e)}inYRange(t,e){return lN(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:FD,PointElement:iDe});const uN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Iq=uN.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function Sq(i){return uN[i%uN.length]}function Mq(i){return Iq[i%Iq.length]}function Aq(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}var fDe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:n},options:r}=i.config,{elements:o}=r;if(!e.forceOverride&&(Aq(n)||function pDe(i){return i&&(i.borderColor||i.backgroundColor)}(r)||o&&Aq(o)))return;const s=function mDe(i){let t=0;return(e,n)=>{const r=i.getDatasetMeta(n).controller;r instanceof eN?t=function uDe(i,t){return i.backgroundColor=i.data.map(()=>Sq(t++)),t}(e,t):r instanceof Z7?t=function hDe(i,t){return i.backgroundColor=i.data.map(()=>Mq(t++)),t}(e,t):r&&(t=function dDe(i,t){return i.borderColor=Sq(t),i.backgroundColor=Mq(t),++t}(e,t))}}(i);n.forEach(s)}};function Rq(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Pq(i){i.data.datasets.forEach(t=>{Rq(t)})}var bDe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled)return void Pq(i);const n=i.width;i.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,c=i.getDatasetMeta(o),l=s||r.data;if("y"===aw([a,i.options.indexAxis])||!c.controller.supportsDecimation)return;const d=i.scales[c.xAxisID];if("linear"!==d.type&&"time"!==d.type||i.options.parsing)return;let b,{start:h,count:p}=function vDe(i,t){const e=t.length;let r,n=0;const{iScale:o}=i,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(n=po(Ud(t,o.axis,s).lo,0,e-1)),r=l?po(Ud(t,o.axis,a).hi+1,n,e)-n:e-n,{start:n,count:r}}(c,l);if(p<=(e.threshold||4*n))Rq(r);else{switch(Oi(s)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":b=function gDe(i,t,e,n,r){const o=r.samples||n;if(o>=e)return i.slice(t,t+e);const s=[],a=(e-2)/(o-2);let c=0;const l=t+e-1;let h,p,g,b,w,d=t;for(s[c++]=i[d],h=0;h<o-2;h++){let D,x=0,S=0;const M=Math.floor((h+1)*a)+1+t,L=Math.min(Math.floor((h+2)*a)+1,e)+t,z=L-M;for(D=M;D<L;D++)x+=i[D].x,S+=i[D].y;x/=z,S/=z;const Z=Math.floor(h*a)+1+t,ue=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:ie,y:fe}=i[d];for(g=b=-1,D=Z;D<ue;D++)b=.5*Math.abs((ie-x)*(i[D].y-fe)-(ie-i[D].x)*(S-fe)),b>g&&(g=b,p=i[D],w=D);s[c++]=p,d=w}return s[c++]=i[l],s}(l,h,p,n,e);break;case"min-max":b=function _De(i,t,e,n){let s,a,c,l,d,h,p,g,b,w,r=0,o=0;const x=[],D=i[t].x,L=i[t+e-1].x-D;for(s=t;s<t+e;++s){a=i[s],c=(a.x-D)/L*n,l=a.y;const z=0|c;if(z===d)l<b?(b=l,h=s):l>w&&(w=l,p=s),r=(o*r+a.x)/++o;else{const Z=s-1;if(!Oi(h)&&!Oi(p)){const ue=Math.min(h,p),ie=Math.max(h,p);ue!==g&&ue!==Z&&x.push({...i[ue],x:r}),ie!==g&&ie!==Z&&x.push({...i[ie],x:r})}s>0&&Z!==g&&x.push(i[Z]),x.push(a),d=z,o=0,b=w=l,h=p=g=s}}return x}(l,h,p,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=b}})},destroy(i){Pq(i)}};function hN(i,t,e,n){if(n)return;let r=t[i],o=e[i];return"angle"===i&&(r=ka(r),o=ka(o)),{property:i,start:r,end:o}}function mN(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Oq(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Nq(i,t){let e=[],n=!1;return zn(i)?(n=!0,e=i):e=function wDe(i,t){const{x:e=null,y:n=null}=i||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=mN(s,a,r);const c=r[s],l=r[a];null!==n?(o.push({x:c.x,y:n}),o.push({x:l.x,y:n})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}(i,t),e.length?new FD({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Fq(i){return i&&!1!==i.fill}function xDe(i,t,e){let r=i[t].fill;const o=[t];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!gr(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function CDe(i,t,e){const n=function DDe(i){const t=i.options,e=t.fill;let n=ri(e&&e.target,e);return void 0===n&&(n=!!t.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(i);if(xi(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return gr(r)&&Math.floor(r)===r?function EDe(i,t,e,n){return("-"===i||"+"===i)&&(e=t+e),!(e===t||e<0||e>=n)&&e}(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function MDe(i,t,e){const n=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:c}=ADe(o,t,"x");if(!(!c||s&&a))if(s)n.unshift(c);else if(i.push(c),!a)break}i.push(...n)}function ADe(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const r=n[e],o=i.segments,s=i.points;let a=!1,c=!1;for(let l=0;l<o.length;l++){const d=o[l],h=s[d.start][e],p=s[d.end][e];if(Hd(r,h,p)){a=r===h,c=r===p;break}}return{first:a,last:c,point:n}}class Lq{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:o,radius:s}=this;return t.arc(r,o,s,(e=e||{start:0,end:Un}).end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}}function pN(i,t,e){const n=function RDe(i){const{chart:t,fill:e,line:n}=i;if(gr(e))return function PDe(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function IDe(i){const{scale:t,index:e,line:n}=i,r=[],o=n.segments,s=n.points,a=function SDe(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const o=n[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(Nq({x:null,y:t.bottom},n));for(let c=0;c<o.length;c++){const l=o[c];for(let d=l.start;d<=l.end;d++)MDe(r,s[d],a)}return new FD({points:r,options:{}})}(i);if("shape"===e)return!0;const r=function ODe(i){return(i.scale||{}).getPointPositionForValue?function FDe(i){const{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,o=n.reverse?t.max:t.min,s=function TDe(i,t,e){let n;return n="start"===i?e:"end"===i?t.options.reverse?t.min:t.max:xi(i)?i.value:t.getBaseValue(),n}(e,t,o),a=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,o);return new Lq({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,s));return a}(i):function NDe(i){const{scale:t={},fill:e}=i,n=function kDe(i,t){let e=null;return"start"===i?e=t.bottom:"end"===i?e=t.top:xi(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(gr(n)){const r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(i)}(i);return r instanceof Lq?r:Nq(r,n)}(t),{line:r,scale:o,axis:s}=t,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:h=l}=c||{};n&&r.points.length&&(wD(i,e),function LDe(i,t){const{line:e,target:n,above:r,below:o,area:s,scale:a}=t,c=e._loop?"angle":t.axis;i.save(),"x"===c&&o!==r&&(Vq(i,n,s.top),Bq(i,{line:e,target:n,color:r,scale:a,property:c}),i.restore(),i.save(),Vq(i,n,s.bottom)),Bq(i,{line:e,target:n,color:o,scale:a,property:c}),i.restore()}(i,{line:r,target:n,above:d,below:h,area:e,scale:o,axis:s}),xD(i))}function Vq(i,t,e){const{segments:n,points:r}=t;let o=!0,s=!1;i.beginPath();for(const a of n){const{start:c,end:l}=a,d=r[c],h=r[mN(c,l,r)];o?(i.moveTo(d.x,d.y),o=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),s=!!t.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(h.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function Bq(i,t){const{line:e,target:n,property:r,color:o,scale:s}=t,a=function yDe(i,t,e){const n=i.segments,r=i.points,o=t.points,s=[];for(const a of n){let{start:c,end:l}=a;l=mN(c,l,r);const d=hN(e,r[c],r[l],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[c],end:r[l]});continue}const h=P7(t,d);for(const p of h){const g=hN(e,o[p.start],o[p.end],p.loop),b=R7(a,r,g);for(const w of b)s.push({source:w,target:p,start:{[e]:Oq(d,g,"start",Math.max)},end:{[e]:Oq(d,g,"end",Math.min)}})}}return s}(e,n,r);for(const{source:c,target:l,start:d,end:h}of a){const{style:{backgroundColor:p=o}={}}=c,g=!0!==n;i.save(),i.fillStyle=p,VDe(i,s,g&&hN(r,d,h)),i.beginPath();const b=!!e.pathSegment(i,c);let w;if(g){b?i.closePath():zq(i,n,h,r);const x=!!n.pathSegment(i,l,{move:b,reverse:!0});w=b&&x,w||zq(i,n,d,r)}i.closePath(),i.fill(w?"evenodd":"nonzero"),i.restore()}}function VDe(i,t,e){const{top:n,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};"x"===o&&(i.beginPath(),i.rect(s,n,a-s,r-n),i.clip())}function zq(i,t,e,n){const r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var BDe={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,r=[];let o,s,a,c;for(s=0;s<n;++s)o=i.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof FD&&(c={visible:i.isDatasetVisible(s),index:s,fill:CDe(a,s,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<n;++s)c=r[s],c&&!1!==c.fill&&(c.fill=xDe(r,s,e.propagate))},beforeDraw(i,t,e){const n="beforeDraw"===e.drawTime,r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&pN(i.ctx,a,o))}},beforeDatasetsDraw(i,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const o=n[r].$filler;Fq(o)&&pN(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!Fq(n)||"beforeDatasetDraw"!==e.drawTime||pN(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hq=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}};class Uq extends $d{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Rn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=no(n.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Hq(n,o);let l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(s,o,a,c)+10):(d=this.maxHeight,l=this._fitCols(s,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a;let h=t;o.textAlign="left",o.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((b,w)=>{const x=n+e/2+o.measureText(b.text).width;(0===w||l[l.length-1]+x+2*a>s)&&(h+=d,l[l.length-(w>0?0:1)]=0,g+=d,p++),c[w]={left:0,top:g,row:p,width:x,height:r},l[l.length-1]+=x+a}),h}_fitCols(t,e,n,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=s-t;let h=a,p=0,g=0,b=0,w=0;return this.legendItems.forEach((x,S)=>{const{itemWidth:D,itemHeight:M}=function HDe(i,t,e,n,r){const o=function UDe(i,t,e,n){let r=i.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+n.measureText(r).width}(n,i,t,e),s=function jDe(i,t,e){let n=i;return"string"!=typeof t.text&&(n=jq(t,e)),n}(r,n,t.lineHeight);return{itemWidth:o,itemHeight:s}}(n,e,o,x,r);S>0&&g+M+2*a>d&&(h+=p+a,l.push({width:p,height:g}),b+=p+a,w++,p=g=0),c[S]={left:b,top:g,col:w,width:D,height:M},p=Math.max(p,D),g+=M+a}),h+=p,l.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:o}}=this,s=H_(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Yo(n,this.left+r,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=Yo(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+r}else{let a=0,c=Yo(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=Yo(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;wD(t,this),this._draw(),xD(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:o,labels:s}=t,a=_r.color,c=H_(t.rtl,this.left,this.width),l=no(s.font),{padding:d}=s,h=l.size,p=h/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:b,boxHeight:w,itemHeight:x}=Hq(s,h),M=this.isHorizontal(),L=this._computeTitleHeight();g=M?{x:Yo(o,this.left+d,this.right-n[0]),y:this.top+d+L,line:0}:{x:this.left+d,y:Yo(o,this.top+L+d,this.bottom-e[0].height),line:0},I7(this.ctx,t.textDirection);const z=x+d;this.legendItems.forEach((Z,ue)=>{r.strokeStyle=Z.fontColor,r.fillStyle=Z.fontColor;const ie=r.measureText(Z.text).width,fe=c.textAlign(Z.textAlign||(Z.textAlign=s.textAlign)),Me=b+p+ie;let ve=g.x,xe=g.y;c.setWidth(this.width),M?ue>0&&ve+Me+d>this.right&&(xe=g.y+=z,g.line++,ve=g.x=Yo(o,this.left+d,this.right-n[g.line])):ue>0&&xe+z>this.bottom&&(ve=g.x=ve+e[g.line].width+d,g.line++,xe=g.y=Yo(o,this.top+L+d,this.bottom-e[g.line].height)),function(Z,ue,ie){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;r.save();const fe=ri(ie.lineWidth,1);if(r.fillStyle=ri(ie.fillStyle,a),r.lineCap=ri(ie.lineCap,"butt"),r.lineDashOffset=ri(ie.lineDashOffset,0),r.lineJoin=ri(ie.lineJoin,"miter"),r.lineWidth=fe,r.strokeStyle=ri(ie.strokeStyle,a),r.setLineDash(ri(ie.lineDash,[])),s.usePointStyle){const Me={radius:w*Math.SQRT2/2,pointStyle:ie.pointStyle,rotation:ie.rotation,borderWidth:fe},ve=c.xPlus(Z,b/2);g7(r,Me,ve,ue+p,s.pointStyleWidth&&b)}else{const Me=ue+Math.max((h-w)/2,0),ve=c.leftForLtr(Z,b),xe=Rp(ie.borderRadius);r.beginPath(),Object.values(xe).some(Rt=>0!==Rt)?sw(r,{x:ve,y:Me,w:b,h:w,radius:xe}):r.rect(ve,Me,b,w),r.fill(),0!==fe&&r.stroke()}r.restore()}(c.x(ve),xe,Z),ve=((i,t,e,n)=>i===(n?"left":"right")?e:"center"===i?(t+e)/2:t)(fe,ve+b+p,M?ve+Me:this.right,t.rtl),function(Z,ue,ie){Ap(r,ie.text,Z,ue+x/2,l,{strikethrough:ie.hidden,textAlign:c.textAlign(ie.textAlign)})}(c.x(ve),xe,Z),M?g.x+=Me+d:g.y+="string"!=typeof Z.text?jq(Z,l.lineHeight)+d:z}),S7(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=no(e.font),r=Zo(e.padding);if(!e.display)return;const o=H_(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.top+n.size/2;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+l,h=Yo(t.align,h,this.right-p);else{const b=this.columnSizes.reduce((w,x)=>Math.max(w,x.height),0);d=l+Yo(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const g=Yo(a,h,h+p);s.textAlign=o.textAlign(B2(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Ap(s,e.text,g,d,n)}_computeTitleHeight(){const t=this.options.title,e=no(t.font),n=Zo(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,o;if(Hd(t,this.left,this.right)&&Hd(e,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Hd(t,r.left,r.left+r.width)&&Hd(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function WDe(i,t){return!(("mousemove"!==i&&"mouseout"!==i||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==i&&"mouseup"!==i))}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((i,t)=>null!==i&&null!==t&&i.datasetIndex===t.datasetIndex&&i.index===t.index)(r,n);r&&!o&&Rn(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&Rn(e.onHover,[t,n,this],this)}else n&&Rn(e.onClick,[t,n,this],this)}}function jq(i,t){return t*(i.text?i.text.length:0)}var $De={id:"legend",_element:Uq,start(i,t,e){const n=i.legend=new Uq({ctx:i.ctx,options:e,chart:i});Ko.configure(i,n,e),Ko.addBox(i,n)},stop(i){Ko.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;Ko.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),d=Zo(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class fN extends $d{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=zn(n.text)?n.text.length:1;this._padding=Zo(n.padding);const o=r*no(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:o,options:s}=this,a=s.align;let l,d,h,c=0;return this.isHorizontal()?(d=Yo(a,n,o),h=e+t,l=o-n):("left"===s.position?(d=n+t,h=Yo(a,r,e),c=-.5*Hn):(d=o-t,h=Yo(a,e,r),c=.5*Hn),l=r-e),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=no(e.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);Ap(t,e.text,0,0,n,{color:e.color,maxWidth:c,rotation:l,textAlign:B2(e.align),textBaseline:"middle",translation:[s,a]})}}var qDe={id:"title",_element:fN,start(i,t,e){!function GDe(i,t){const e=new fN({ctx:i.ctx,options:t,chart:i});Ko.configure(i,e,t),Ko.addBox(i,e),i.titleBlock=e}(i,e)},stop(i){Ko.removeBox(i,i.titleBlock),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;Ko.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const LD=new WeakMap;var YDe={id:"subtitle",start(i,t,e){const n=new fN({ctx:i.ctx,options:e,chart:i});Ko.configure(i,n,e),Ko.addBox(i,n),LD.set(i,n)},stop(i){Ko.removeBox(i,LD.get(i)),LD.delete(i)},beforeUpdate(i,t,e){const n=LD.get(i);Ko.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gw={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){const a=i[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();n.add(c.x),r+=c.y,++o}}return{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let o,s,a,e=t.x,n=t.y,r=Number.POSITIVE_INFINITY;for(o=0,s=i.length;o<s;++o){const c=i[o].element;if(c&&c.hasValue()){const d=L2(t,c.getCenterPoint());d<r&&(r=d,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,n=c.y}return{x:e,y:n}}};function Rl(i,t){return t&&(zn(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Gd(i){return("string"==typeof i||i instanceof String)&&i.indexOf("\n")>-1?i.split("\n"):i}function ZDe(i,t){const{element:e,datasetIndex:n,index:r}=t,o=i.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:i,label:s,parsed:o.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function Wq(i,t){const e=i.chart.ctx,{body:n,footer:r,title:o}=i,{boxWidth:s,boxHeight:a}=t,c=no(t.bodyFont),l=no(t.titleFont),d=no(t.footerFont),h=o.length,p=r.length,g=n.length,b=Zo(t.padding);let w=b.height,x=0,S=n.reduce((L,z)=>L+z.before.length+z.lines.length+z.after.length,0);S+=i.beforeBody.length+i.afterBody.length,h&&(w+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),S&&(w+=g*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(S-g)*c.lineHeight+(S-1)*t.bodySpacing),p&&(w+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let D=0;const M=function(L){x=Math.max(x,e.measureText(L).width+D)};return e.save(),e.font=l.string,tn(i.title,M),e.font=c.string,tn(i.beforeBody.concat(i.afterBody),M),D=t.displayColors?s+2+t.boxPadding:0,tn(n,L=>{tn(L.before,M),tn(L.lines,M),tn(L.after,M)}),D=0,e.font=d.string,tn(i.footer,M),e.restore(),x+=b.width,{width:x,height:w}}function XDe(i,t,e,n){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:c}}=i;let l="center";return"center"===n?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),function QDe(i,t,e,n){const{x:r,width:o}=n,s=e.caretSize+e.caretPadding;if("left"===i&&r+o+s>t.width||"right"===i&&r-o-s<0)return!0}(l,i,t,e)&&(l="center"),l}function $q(i,t,e){const n=e.yAlign||t.yAlign||function KDe(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}(i,e);return{xAlign:e.xAlign||t.xAlign||XDe(i,t,e,n),yAlign:n}}function Gq(i,t,e,n){const{caretSize:r,caretPadding:o,cornerRadius:s}=i,{xAlign:a,yAlign:c}=e,l=r+o,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=Rp(s);let b=function JDe(i,t){let{x:e,width:n}=i;return"right"===t?e-=n:"center"===t&&(e-=n/2),e}(t,a);const w=function eIe(i,t,e){let{y:n,height:r}=i;return"top"===t?n+=e:n-="bottom"===t?r+e:r/2,n}(t,c,l);return"center"===c?"left"===a?b+=l:"right"===a&&(b-=l):"left"===a?b-=Math.max(d,p)+r:"right"===a&&(b+=Math.max(h,g)+r),{x:po(b,0,n.width-t.width),y:po(w,0,n.height-t.height)}}function VD(i,t,e){const n=Zo(e.padding);return"center"===t?i.x+i.width/2:"right"===t?i.x+i.width-n.right:i.x+n.left}function qq(i){return Rl([],Gd(i))}function Yq(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Zq={beforeTitle:zd,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:zd,beforeBody:zd,beforeLabel:zd,label(i){if(this&&this.options&&"dataset"===this.options.mode)return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return Oi(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:zd,afterBody:zd,beforeFooter:zd,footer:zd,afterFooter:zd};function Xs(i,t,e,n){const r=i[t].call(e,n);return typeof r>"u"?Zq[t].call(e,n):r}let Kq=(()=>class i extends $d{static positioners=gw;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,s=new L7(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function tIe(i,t,e){return Ch(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,o=Xs(r,"beforeTitle",this,e),s=Xs(r,"title",this,e),a=Xs(r,"afterTitle",this,e);let c=[];return c=Rl(c,Gd(o)),c=Rl(c,Gd(s)),c=Rl(c,Gd(a)),c}getBeforeBody(e,n){return qq(Xs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,o=[];return tn(e,s=>{const a={before:[],lines:[],after:[]},c=Yq(r,s);Rl(a.before,Gd(Xs(c,"beforeLabel",this,s))),Rl(a.lines,Xs(c,"label",this,s)),Rl(a.after,Gd(Xs(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,n){return qq(Xs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,o=Xs(r,"beforeFooter",this,e),s=Xs(r,"footer",this,e),a=Xs(r,"afterFooter",this,e);let c=[];return c=Rl(c,Gd(o)),c=Rl(c,Gd(s)),c=Rl(c,Gd(a)),c}_createItems(e){const n=this._active,r=this.chart.data,o=[],s=[],a=[];let l,d,c=[];for(l=0,d=n.length;l<d;++l)c.push(ZDe(this.chart,n[l]));return e.filter&&(c=c.filter((h,p,g)=>e.filter(h,p,g,r))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,r))),tn(c,h=>{const p=Yq(e.callbacks,h);o.push(Xs(p,"labelColor",this,h)),s.push(Xs(p,"labelPointStyle",this,h)),a.push(Xs(p,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const c=gw[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Wq(this,r),d=Object.assign({},c,l),h=$q(this.chart,r,d),p=Gq(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){const s=this.getCaretPosition(e,r,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:p}=Rp(c),{x:g,y:b}=e,{width:w,height:x}=n;let S,D,M,L,z,Z;return"center"===s?(z=b+x/2,"left"===o?(S=g,D=S-a,L=z+a,Z=z-a):(S=g+w,D=S+a,L=z-a,Z=z+a),M=S):(D="left"===o?g+Math.max(l,h)+a:"right"===o?g+w-Math.max(d,p)-a:this.caretX,"top"===s?(L=b,z=L-a,S=D-a,M=D+a):(L=b+x,z=L+a,S=D+a,M=D-a),Z=L),{x1:S,x2:D,x3:M,y1:L,y2:z,y3:Z}}drawTitle(e,n,r){const o=this.title,s=o.length;let a,c,l;if(s){const d=H_(r.rtl,this.x,this.width);for(e.x=VD(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=no(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(o[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,o,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=s,h=no(s.bodyFont),p=VD(this,"left",s),g=o.x(p),w=n.y+(l<h.lineHeight?(h.lineHeight-l)/2:0);if(s.usePointStyle){const x={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=o.leftForLtr(g,d)+d/2,D=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,W2(e,x,S,D),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,W2(e,x,S,D)}else{e.lineWidth=xi(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=o.leftForLtr(g,d),S=o.leftForLtr(o.xPlus(g,1),d-2),D=Rp(a.borderRadius);Object.values(D).some(M=>0!==M)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,sw(e,{x,y:w,w:d,h:l,radius:D}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),sw(e,{x:S,y:w+1,w:d-2,h:l-2,radius:D}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,w,d,l),e.strokeRect(x,w,d,l),e.fillStyle=a.backgroundColor,e.fillRect(S,w+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=r,p=no(r.bodyFont);let g=p.lineHeight,b=0;const w=H_(r.rtl,this.x,this.width),x=function(fe){n.fillText(fe,w.x(e.x+b),e.y+g/2),e.y+=g+s},S=w.textAlign(a);let D,M,L,z,Z,ue,ie;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,e.x=VD(this,S,r),n.fillStyle=r.bodyColor,tn(this.beforeBody,x),b=c&&"right"!==S?"center"===a?d/2+h:d+2+h:0,z=0,ue=o.length;z<ue;++z){for(D=o[z],M=this.labelTextColors[z],n.fillStyle=M,tn(D.before,x),L=D.lines,c&&L.length&&(this._drawColorBox(n,e,z,w,r),g=Math.max(p.lineHeight,l)),Z=0,ie=L.length;Z<ie;++Z)x(L[Z]),g=p.lineHeight;tn(D.after,x)}b=0,g=p.lineHeight,tn(this.afterBody,x),e.y-=s}drawFooter(e,n,r){const o=this.footer,s=o.length;let a,c;if(s){const l=H_(r.rtl,this.x,this.width);for(e.x=VD(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=no(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<s;++c)n.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){const{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:h}=r,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:w}=Rp(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(c+p,l),"top"===a&&this.drawCaret(e,n,r,o),n.lineTo(c+d-g,l),n.quadraticCurveTo(c+d,l,c+d,l+g),"center"===a&&"right"===s&&this.drawCaret(e,n,r,o),n.lineTo(c+d,l+h-w),n.quadraticCurveTo(c+d,l+h,c+d-w,l+h),"bottom"===a&&this.drawCaret(e,n,r,o),n.lineTo(c+b,l+h),n.quadraticCurveTo(c,l+h,c,l+h-b),"center"===a&&"left"===s&&this.drawCaret(e,n,r,o),n.lineTo(c,l+p),n.quadraticCurveTo(c,l,c+p,l),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=gw[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Wq(this,e),l=Object.assign({},a,this._size),d=$q(n,e,l),h=Gq(e,l,d,n);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Zo(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,n),I7(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),S7(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,o=e.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),s=!fD(r,o),a=this._positionChanged(o,n);(s||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),c=this._positionChanged(a,e),l=n||!fD(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:o,options:s}=this,a=gw[s.position].call(this,e,n);return!1!==a&&(r!==a.x||o!==a.y)}})();var iIe={id:"tooltip",_element:Kq,positioners:gw,afterInit(i,t,e){e&&(i.tooltip=new Kq({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){i.tooltip&&i.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>"filter"!==i&&"itemSort"!==i&&"external"!==i,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},nIe=Object.freeze({__proto__:null,Colors:fDe,Decimation:bDe,Filler:BDe,Legend:$De,SubTitle:YDe,Title:qDe,Tooltip:iIe});function Qq(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}let aIe=(()=>class i extends Lp{static id="category";static defaults={ticks:{callback:Qq}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:s}of n)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Oi(e))return null;const r=this.getLabels();return((i,t)=>null===i?null:po(Math.round(i),0,t))(n=isFinite(n)&&r[n]===e?n:function oIe(i,t,e,n){const r=i.indexOf(t);return-1===r?((i,t,e,n)=>("string"==typeof t?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(i,t,e,n):r!==i.lastIndexOf(t)?e:r}(r,e,ri(n,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)o.push({value:a});return o}getLabelForValue(e){return Qq.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function Xq(i,t,{horizontal:e,minRotation:n}){const r=Ac(n),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+i).length)}class BD extends Lp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Oi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const s=c=>r=e?r:c,a=c=>o=n?o:c;if(t){const c=Ml(r),l=Ml(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(r===o){let c=0===o?1:Math.abs(.05*o);a(o+c),t||s(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:n}=t;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s=function cIe(i,t){const e=[],{bounds:r,step:o,min:s,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:p}=i,g=o||1,b=d-1,{min:w,max:x}=t,S=!Oi(s),D=!Oi(a),M=!Oi(l),L=(x-w)/(h+1);let Z,ue,ie,fe,z=XG((x-w)/b/g)*g;if(z<1e-14&&!S&&!D)return[{value:w},{value:x}];fe=Math.ceil(x/z)-Math.floor(w/z),fe>b&&(z=XG(fe*z/b/g)*g),Oi(c)||(Z=Math.pow(10,c),z=Math.ceil(z*Z)/Z),"ticks"===r?(ue=Math.floor(w/z)*z,ie=Math.ceil(x/z)*z):(ue=w,ie=x),S&&D&&o&&function ZCe(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}((a-s)/o,z/1e3)?(fe=Math.round(Math.min((a-s)/z,d)),z=(a-s)/fe,ue=s,ie=a):M?(ue=S?s:ue,ie=D?a:ie,fe=l-1,z=(ie-ue)/fe):(fe=(ie-ue)/z,fe=tw(fe,Math.round(fe),z/1e3)?Math.round(fe):Math.ceil(fe));const Me=Math.max(e7(z),e7(ue));Z=Math.pow(10,Oi(c)?Me:c),ue=Math.round(ue*Z)/Z,ie=Math.round(ie*Z)/Z;let ve=0;for(S&&(p&&ue!==s?(e.push({value:s}),ue<s&&ve++,tw(Math.round((ue+ve*z)*Z)/Z,s,Xq(s,L,i))&&ve++):ue<s&&ve++);ve<fe;++ve){const xe=Math.round((ue+ve*z)*Z)/Z;if(D&&xe>a)break;e.push({value:xe})}return D&&p&&ie!==a?e.length&&tw(e[e.length-1].value,a,Xq(a,L,i))?e[e.length-1].value=a:e.push({value:a}):(!D||ie===a)&&e.push({value:ie}),e}({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&JG(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return rw(t,this.chart.options.locale,this.options.ticks.format)}}const _w=i=>Math.floor(xh(i)),Vp=(i,t)=>Math.pow(10,_w(i)+t);function Jq(i){return i/Math.pow(10,_w(i))==1}function eY(i,t,e){const n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function gN(i){const t=i.ticks;if(t.display&&i.display){const e=Zo(t.backdropPadding);return ri(t.font&&t.font.size,_r.font.size)+e.height}return 0}function mIe(i,t,e){return e=zn(e)?e:[e],{w:hEe(i,t.string,e),h:e.length*t.lineHeight}}function tY(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function fIe(i,t,e,n,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,c=0;n.start<t.l?(a=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/s,i.t=Math.min(i.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/s,i.b=Math.max(i.b,t.b+c))}function gIe(i,t,e){const n=i.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,c=i.getPointPosition(t,n+r+s,o),l=Math.round(F2(ka(c.angle+Sr))),d=function wIe(i,t,e){return 90===e||270===e?i-=t/2:(e>270||e<90)&&(i-=t),i}(c.y,a.h,l),h=function bIe(i){return 0===i||180===i?"center":i<180?"left":"right"}(l),p=function yIe(i,t,e){return"right"===e?i-=t:"center"===e&&(i-=t/2),i}(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:p,top:d,right:p+a.w,bottom:d+a.h}}function _Ie(i,t){if(!t)return!0;const{left:e,top:n,right:r,bottom:o}=i;return!(jd({x:e,y:n},t)||jd({x:e,y:o},t)||jd({x:r,y:n},t)||jd({x:r,y:o},t))}function xIe(i,t,e){const{left:n,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!Oi(a)){const c=Rp(t.borderRadius),l=Zo(t.backdropPadding);i.fillStyle=a;const d=n-l.left,h=r-l.top,p=o-n+l.width,g=s-r+l.height;Object.values(c).some(b=>0!==b)?(i.beginPath(),sw(i,{x:d,y:h,w:p,h:g,radius:c}),i.fill()):i.fillRect(d,h,p,g)}}function iY(i,t,e,n){const{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,Un);else{let o=i.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=i.getPointPosition(s,t),r.lineTo(o.x,o.y)}}const zD={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Js=Object.keys(zD);function nY(i,t){return i-t}function rY(i,t){if(Oi(t))return null;const e=i._adapter,{parser:n,round:r,isoWeekday:o}=i._parseOpts;let s=t;return"function"==typeof n&&(s=n(s)),gr(s)||(s="string"==typeof n?e.parse(s,n):e.parse(s)),null===s?null:(r&&(s="week"!==r||!V_(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function oY(i,t,e,n){const r=Js.length;for(let o=Js.indexOf(i);o<r-1;++o){const s=zD[Js[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=n)return Js[o]}return Js[r-1]}function sY(i,t,e){if(e){if(e.length){const{lo:n,hi:r}=V2(e,t);i[e[n]>=t?e[n]:e[r]]=!0}}else i[t]=!0}function aY(i,t,e){const n=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,n.push({value:a,major:!1});return 0!==o&&e?function SIe(i,t,e,n){const r=i._adapter,o=+r.startOf(t[0].value,n),s=t[t.length-1].value;let a,c;for(a=o;a<=s;a=+r.add(a,1,n))c=e[a],c>=0&&(t[c].major=!0);return t}(i,n,r,e):n}let _N=(()=>class i extends Lp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),o=this._adapter=new Ake__date(e.adapters.date);o.init(n),J0(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return void 0===e?null:rY(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&l(this.getMinMax(!1))),o=gr(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),s=gr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function JCe(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}(o,s,this.max);return this._unit=n.unit||(r.autoSkip?oY(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):function DIe(i,t,e,n,r){for(let o=Js.length-1;o>=Js.indexOf(e);o--){const s=Js[o];if(zD[s].common&&i._adapter.diff(r,n,s)>=t-1)return s}return Js[e?Js.indexOf(e):0]}(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function IIe(i){for(let t=Js.indexOf(i)+1,e=Js.length;t<e;++t)if(zD[Js[t]].common)return Js[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),aY(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,n=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),n=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=po(n,0,a),r=po(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||oY(s.minUnit,n,r,this._getLabelCapacity(n)),c=ri(o.ticks.stepSize,1),l="week"===a&&s.isoWeekday,d=V_(l)||!0===l,h={};let g,b,p=n;if(d&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,d?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);const w="data"===o.ticks.source&&this.getDataTimestamps();for(g=p,b=0;g<r;g=+e.add(g,c,a),b++)sY(h,g,w);return(g===r||"ticks"===o.bounds||1===b)&&sY(h,g,w),Object.keys(h).sort(nY).map(x=>+x)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,n){return this._adapter.format(e,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,n,r,o){const s=this.options,a=s.ticks.callback;if(a)return Rn(a,[e,n,r],this);const c=s.time.displayFormats,l=this._unit,d=this._majorUnit,p=d&&c[d],g=r[n];return this._adapter.format(e,o||(d&&p&&g&&g.major?p:l&&c[l]))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,o=Ac(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,aY(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(rY(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return o7(e.sort(nY))}})();function HD(i,t,e){let o,s,a,c,n=0,r=i.length-1;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=Ud(i,"pos",t)),({pos:o,time:a}=i[n]),({pos:s,time:c}=i[r])):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=Ud(i,"time",t)),({time:o,pos:a}=i[n]),({time:s,pos:c}=i[r]));const l=s-o;return l?a+(c-a)*(t-o)/l:a}var AIe=Object.freeze({__proto__:null,CategoryScale:aIe,LinearScale:class lIe extends BD{static id="linear";static defaults={ticks:{callback:bD.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=gr(t)?t:0,this.max=gr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Ac(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class hIe extends Lp{static id="logarithmic";static defaults={ticks:{callback:bD.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=BD.prototype.parse.apply(this,[t,e]);if(0!==n)return gr(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=gr(t)?Math.max(0,t):null,this.max=gr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gr(this._userMin)&&(this.min=t===Vp(this.min,0)?Vp(this.min,-1):Vp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const o=a=>n=t?n:a,s=a=>r=e?r:a;n===r&&(n<=0?(o(1),s(10)):(o(Vp(n,-1)),s(Vp(r,1)))),n<=0&&o(Vp(r,-1)),r<=0&&s(Vp(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,n=function uIe(i,{min:t,max:e}){t=Ea(i.min,t);const n=[],r=_w(t);let o=function dIe(i,t){let n=_w(t-i);for(;eY(i,t,n)>10;)n++;for(;eY(i,t,n)<10;)n--;return Math.min(n,_w(i))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((t-c)*s)/s,d=Math.floor((t-c)/a/10)*a*10;let h=Math.floor((l-d)/Math.pow(10,o)),p=Ea(i.min,Math.round((c+d+h*Math.pow(10,o))*s)/s);for(;p<e;)n.push({value:p,major:Jq(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+d+h*Math.pow(10,o))*s)/s;const g=Ea(i.max,p);return n.push({value:g,major:Jq(g),significand:h}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&JG(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":rw(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=xh(t),this._valueRange=xh(this.max)-xh(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(xh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class TIe extends BD{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bD.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Zo(gN(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=gr(t)&&!isNaN(t)?t:0,this.max=gr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gN(this.options))}generateTickLabels(t){BD.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const r=Rn(this.options.pointLabels.callback,[e,n],this);return r||0===r?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?function pIe(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],o=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?Hn/o:0;for(let c=0;c<o;c++){const l=s.setContext(i.getPointLabelContext(c));r[c]=l.padding;const d=i.getPointPosition(c,i.drawingArea+r[c],a),h=no(l.font),p=mIe(i.ctx,h,i._pointLabels[c]);n[c]=p;const g=ka(i.getIndexAngle(c)+a),b=Math.round(F2(g));fIe(e,t,g,tY(b,d.x,p.w,0,180),tY(b,d.y,p.h,90,270))}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=function vIe(i,t,e){const n=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:gN(o)/2,additionalAngle:s?Hn/r:0};let l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];const h=gIe(i,d,c);n.push(h),"auto"===a&&(h.visible=_Ie(h,l),h.visible&&(l=h))}return n}(i,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return ka(t*(Un/(this._pointLabels.length||1))+Ac(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Oi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Oi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function kIe(i,t,e){return Ch(i,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-Sr+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),iY(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:o}=e,s=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&function CIe(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){const o=i._pointLabelItems[r];if(!o.visible)continue;const s=n.setContext(i.getPointLabelContext(r));xIe(e,s,o);const a=no(s.font),{x:c,y:l,textAlign:d}=o;Ap(e,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,h)=>{if(0!==h||0===h&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(h),g=r.setContext(p),b=o.setContext(p);!function EIe(i,t,e,n,r){const o=i.ctx,s=t.circular,{color:a,lineWidth:c}=t;!s&&!n||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),iY(i,e,s,n),o.closePath(),o.stroke(),o.restore())}(this,g,c,s,b)}}),n.display){for(t.save(),a=s-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:p}=d;!p||!h||(t.lineWidth=p,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!e.reverse)return;const l=n.setContext(this.getContext(c)),d=no(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const h=Zo(l.backdropPadding);t.fillRect(-s/2-h.left,-o-d.size/2-h.top,s+h.width,d.size+h.height)}Ap(t,a.label,0,-o,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:_N,TimeSeriesScale:class MIe extends _N{static id="timeseries";static defaults=_N.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=HD(e,this.min),this._tableRange=HD(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],o=[];let s,a,c,l,d;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],c=r[s-1],l=r[s],Math.round((d+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||1===n.length)&&n.push(e),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(HD(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return HD(this._table,n*this._tableRange+this._minPos,!0)}}});const RIe=[Mke,lDe,nIe,AIe],PIe=["mat-button",""],OIe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],NIe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],LIe=["mat-icon-button",""],VIe=["*"],BIe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zIe=vp(B0(D_(class{constructor(i){this._elementRef=i}})));let cY=(()=>{class i extends zIe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=lt(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=lt(e),this._updateRippleDisabled()}constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=Ie(Dl),this._rippleLoader=Ie(c9),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of BIe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){ju()};static#t=this.\u0275dir=ne({type:i,features:[Ae]})}return i})(),vN=(()=>{class i extends cY{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Xn),T(Ke),T(Ro,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(vt("disabled",r.disabled||null),Ve("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ae],attrs:PIe,ngContentSelectors:NIe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Dn(OIe),Fe(0,"span",0),Ct(1),N(2,"span",1),Ct(3,1),F(),Ct(4,2),Fe(5,"span",2)(6,"span",3)),2&n&&Ve("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),bN=(()=>{class i extends cY{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Xn),T(Ke),T(Ro,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(vt("disabled",r.disabled||null),Ve("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ae],attrs:LIe,ngContentSelectors:VIe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Dn(),Fe(0,"span",0),Ct(1),Fe(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),UD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,Ca,ut]})}return i})();class jIe{constructor(t){this._box=t,this._destroyed=new q,this._resizeSubject=new q,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new zt(e=>{const n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Vn(e=>e.some(n=>n.target===t)),vP({bufferSize:1,refCount:!0}),Ji(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let WIe=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=Ie(Ke)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new jIe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $Ie=["notch"],GIe=["matFormFieldNotchedOutline",""],qIe=["*"],YIe=["textField"],ZIe=["iconPrefixContainer"],KIe=["textPrefixContainer"];function QIe(i,t){1&i&&Fe(0,"span",19)}function XIe(i,t){if(1&i&&(N(0,"label",17),Ct(1,1),mt(2,QIe,1,0,"span",18),F()),2&i){const e=ti(2);ye("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),vt("for",e._control.id),re(2),ye("ngIf",!e.hideRequiredMarker&&e._control.required)}}function JIe(i,t){1&i&&mt(0,XIe,3,5,"label",16),2&i&&ye("ngIf",ti()._hasFloatingLabel())}function eSe(i,t){1&i&&Fe(0,"div",20)}function tSe(i,t){}function iSe(i,t){1&i&&mt(0,tSe,0,0,"ng-template",22),2&i&&(ti(2),ye("ngTemplateOutlet",bs(1)))}function nSe(i,t){if(1&i&&(N(0,"div",21),mt(1,iSe,1,1,"ng-template",9),F()),2&i){const e=ti();ye("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),re(1),ye("ngIf",!e._forceDisplayInfixLabel())}}function rSe(i,t){1&i&&(N(0,"div",23,24),Ct(2,2),F())}function oSe(i,t){1&i&&(N(0,"div",25,26),Ct(2,3),F())}function sSe(i,t){}function aSe(i,t){1&i&&mt(0,sSe,0,0,"ng-template",22),2&i&&(ti(),ye("ngTemplateOutlet",bs(1)))}function cSe(i,t){1&i&&(N(0,"div",27),Ct(1,4),F())}function lSe(i,t){1&i&&(N(0,"div",28),Ct(1,5),F())}function dSe(i,t){1&i&&Fe(0,"div",29)}function uSe(i,t){1&i&&(N(0,"div",30),Ct(1,6),F()),2&i&&ye("@transitionMessages",ti()._subscriptAnimationState)}function hSe(i,t){if(1&i&&(N(0,"mat-hint",34),oe(1),F()),2&i){const e=ti(2);ye("id",e._hintLabelId),re(1),wc(e.hintLabel)}}function mSe(i,t){if(1&i&&(N(0,"div",31),mt(1,hSe,2,2,"mat-hint",32),Ct(2,7),Fe(3,"div",33),Ct(4,8),F()),2&i){const e=ti();ye("@transitionMessages",e._subscriptAnimationState),re(1),ye("ngIf",e.hintLabel)}}const pSe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fSe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let yN=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-label"]]})}return i})();const gSe=new Y("MatError");let _Se=0,lY=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+_Se++}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(qs("id",r.id),vt("align",null),Ve("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const vSe=new Y("MatPrefix"),dY=new Y("MatSuffix");let bSe=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[qe([{provide:dY,useExisting:i}])]})}return i})();const uY=new Y("FloatingLabelParent");let hY=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ie(WIe),this._ngZone=Ie(Ke),this._parent=Ie(uY),this._resizeSubscription=new wt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ySe(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt))};static#t=this.\u0275dir=ne({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&Ve("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const mY="mdc-line-ripple--active",jD="mdc-line-ripple--deactivating";let pY=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(jD);"opacity"===r.propertyName&&s&&o.remove(mY,jD)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(jD),e.add(mY)}deactivate(){this._elementRef.nativeElement.classList.add(jD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Ke))};static#t=this.\u0275dir=ne({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),fY=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Ke))};static#t=this.\u0275cmp=ct({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Di($Ie,5),2&n){let o;Qe(o=Xe())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&Ve("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:GIe,ngContentSelectors:qIe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(Dn(),Fe(0,"div",0),N(1,"div",1,2),Ct(3),F(),Fe(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const wSe={transitionMessages:Bn("transitionMessages",[Gt("enter",Ye({opacity:1,transform:"translateY(0%)"})),ni("void => enter",[Ye({opacity:0,transform:"translateY(-5px)"}),di("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wN=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i})}return i})();const vw=new Y("MatFormField"),xSe=new Y("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gY=0,kSe=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=lt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gY++,this._hintLabelId="mat-mdc-hint-"+gY++,this._subscriptAnimationState="",this._destroyed=new q,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ji(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ee(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ji(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ji(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(hn),T(Ke),T(wa),T(Xn),T(xSe,8),T(Ro,8),T(At))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(1&n&&(_i(o,yN,5),_i(o,yN,7),_i(o,wN,5),_i(o,vSe,5),_i(o,dY,5),_i(o,gSe,5),_i(o,lY,5)),2&n){let s;Qe(s=Xe())&&(r._labelChildNonStatic=s.first),Qe(s=Xe())&&(r._labelChildStatic=s.first),Qe(s=Xe())&&(r._formFieldControl=s.first),Qe(s=Xe())&&(r._prefixChildren=s),Qe(s=Xe())&&(r._suffixChildren=s),Qe(s=Xe())&&(r._errorChildren=s),Qe(s=Xe())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(1&n&&(Di(YIe,5),Di(ZIe,5),Di(KIe,5),Di(hY,5),Di(fY,5),Di(pY,5)),2&n){let o;Qe(o=Xe())&&(r._textField=o.first),Qe(o=Xe())&&(r._iconPrefixContainer=o.first),Qe(o=Xe())&&(r._textPrefixContainer=o.first),Qe(o=Xe())&&(r._floatingLabel=o.first),Qe(o=Xe())&&(r._notchedOutline=o.first),Qe(o=Xe())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&Ve("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[qe([{provide:vw,useExisting:i},{provide:uY,useExisting:i}])],ngContentSelectors:fSe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(Dn(pSe),mt(0,JIe,1,1,"ng-template",null,0,zg),N(2,"div",1,2),we("click",function(s){return r._control.onContainerClick(s)}),mt(4,eSe,1,0,"div",3),N(5,"div",4),mt(6,nSe,2,2,"div",5),mt(7,rSe,3,0,"div",6),mt(8,oSe,3,0,"div",7),N(9,"div",8),mt(10,aSe,1,1,"ng-template",9),Ct(11),F(),mt(12,cSe,2,0,"div",10),mt(13,lSe,2,0,"div",11),F(),mt(14,dSe,1,0,"div",12),F(),N(15,"div",13),mt(16,uSe,2,1,"div",14),mt(17,mSe,5,2,"div",15),F()),2&n&&(re(2),Ve("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),re(2),ye("ngIf",!r._hasOutline()&&!r._control.disabled),re(2),ye("ngIf",r._hasOutline()),re(1),ye("ngIf",r._hasIconPrefix),re(1),ye("ngIf",r._hasTextPrefix),re(2),ye("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),re(2),ye("ngIf",r._hasTextSuffix),re(1),ye("ngIf",r._hasIconSuffix),re(1),ye("ngIf",!r._hasOutline()),re(1),Ve("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ye("ngSwitch",r._getDisplayedMessages()),re(1),ye("ngSwitchCase","error"),re(1),ye("ngSwitchCase","hint"))},dependencies:[Td,TR,Gg,yk,lY,hY,fY,pY],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[wSe.transitionMessages]},changeDetection:0})}return i})(),WD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,qi,UT,ut]})}return i})();const bY=Sc({passive:!0});let TSe=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return gn;const n=Pd(e),r=this._monitoredElements.get(n);if(r)return r.subject;const o=new q,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||n.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,bY),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,bY)}}),o}stopMonitoring(e){const n=Pd(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||i)(W(Xn),W(Ke))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),DSe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})();const yY=new Y("MAT_INPUT_VALUE_ACCESSOR"),ISe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SSe=0;const MSe=Q8(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new q}});let ASe=(()=>{class i extends MSe{get disabled(){return this._disabled}set disabled(e){this._disabled=lt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(l2.required)??!1}set required(e){this._required=lt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&v8().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=lt(e)}constructor(e,n,r,o,s,a,c,l,d,h){super(a,o,s,r),this._elementRef=e,this._platform=n,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+SSe++,this.focused=!1,this.stateChanges=new q,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(b=>v8().has(b)),this._iOSKeyupListener=b=>{const w=b.target;!w.value&&0===w.selectionStart&&0===w.selectionEnd&&(w.setSelectionRange(1,1),w.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,g=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===g,this._isTextarea="textarea"===g,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ISe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Xn),T(Sl,10),T(kp,8),T(K0,8),T(qT),T(yY,10),T(TSe),T(Ke),T(vw,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&we("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(qs("id",r.id)("disabled",r.disabled)("required",r.required),vt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ve("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[qe([{provide:wN,useExisting:i}]),Ae,Xi]})}return i})(),RSe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,WD,WD,DSe,ut]})}return i})();const PSe=["mat-calendar-body",""];function OSe(i,t){if(1&i&&(N(0,"tr",3)(1,"td",4),oe(2),F()()),2&i){const e=ti();re(1),wd("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),vt("colspan",e.numCols),re(1),ys(" ",e.label," ")}}function NSe(i,t){if(1&i&&(N(0,"td",4),oe(1),F()),2&i){const e=ti(2);wd("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),vt("colspan",e._firstRowOffset),re(1),ys(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function FSe(i,t){if(1&i){const e=py();N(0,"td",8)(1,"button",9),we("click",function(r){const s=fs(e).$implicit;return gs(ti(2)._cellClicked(s,r))})("focus",function(r){const s=fs(e).$implicit;return gs(ti(2)._emitActiveDateChange(s,r))}),N(2,"span",10),oe(3),F(),Fe(4,"span",11),F()()}if(2&i){const e=t.$implicit,n=t.index,r=ti().index,o=ti();wd("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),vt("data-mat-row",r)("data-mat-col",n),re(1),Ve("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),ye("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),vt("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),re(1),Ve("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),re(1),ys(" ",e.displayValue," ")}}function LSe(i,t){if(1&i&&(N(0,"tr",5),mt(1,NSe,2,6,"td",6),mt(2,FSe,5,48,"td",7),F()),2&i){const e=t.$implicit,n=t.index,r=ti();re(1),ye("ngIf",0===n&&r._firstRowOffset),re(1),ye("ngForOf",e)}}function VSe(i,t){if(1&i&&(N(0,"th",5)(1,"span",6),oe(2),F(),N(3,"span",7),oe(4),F()()),2&i){const e=t.$implicit;re(2),wc(e.long),re(2),wc(e.narrow)}}const BSe=["*"];function zSe(i,t){}function HSe(i,t){if(1&i){const e=py();N(0,"mat-month-view",5),we("activeDateChange",function(r){return fs(e),gs(ti().activeDate=r)})("_userSelection",function(r){return fs(e),gs(ti()._dateSelected(r))})("dragStarted",function(r){return fs(e),gs(ti()._dragStarted(r))})("dragEnded",function(r){return fs(e),gs(ti()._dragEnded(r))}),F()}if(2&i){const e=ti();ye("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function USe(i,t){if(1&i){const e=py();N(0,"mat-year-view",6),we("activeDateChange",function(r){return fs(e),gs(ti().activeDate=r)})("monthSelected",function(r){return fs(e),gs(ti()._monthSelectedInYearView(r))})("selectedChange",function(r){return fs(e),gs(ti()._goToDateInView(r,"month"))}),F()}if(2&i){const e=ti();ye("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function jSe(i,t){if(1&i){const e=py();N(0,"mat-multi-year-view",7),we("activeDateChange",function(r){return fs(e),gs(ti().activeDate=r)})("yearSelected",function(r){return fs(e),gs(ti()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return fs(e),gs(ti()._goToDateInView(r,"year"))}),F()}if(2&i){const e=ti();ye("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function WSe(i,t){}const $Se=["button"];function GSe(i,t){1&i&&($a(),N(0,"svg",3),Fe(1,"path",4),F())}const qSe=[[["","matDatepickerToggleIcon",""]]],YSe=["[matDatepickerToggleIcon]"];let bw=(()=>{class i{constructor(){this.changes=new q,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class xN{constructor(t,e,n,r,o={},s=t,a){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=a}}let ZSe=1;const wY=Sc({passive:!1,capture:!0}),Th=Sc({passive:!0,capture:!0}),$D=Sc({passive:!0});let j_=(()=>{class i{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,n){this._elementRef=e,this._ngZone=n,this._platform=Ie(Xn),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new ze,this.previewChange=new ze,this.activeDateChange=new ze,this.dragStarted=new ze,this.dragEnded=new ze,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=xY(r),s=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),EN(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=EN(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(o);this.dragEnded.emit({value:s?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=xY(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+ZSe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,wY),r.addEventListener("mouseenter",this._enterHandler,Th),r.addEventListener("focus",this._enterHandler,Th),r.addEventListener("mouseleave",this._leaveHandler,Th),r.addEventListener("blur",this._leaveHandler,Th),r.addEventListener("mousedown",this._mousedownHandler,$D),r.addEventListener("touchstart",this._mousedownHandler,$D),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const n=e.numCols,{rows:r,numCols:o}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,wY),e.removeEventListener("mouseenter",this._enterHandler,Th),e.removeEventListener("focus",this._enterHandler,Th),e.removeEventListener("mouseleave",this._leaveHandler,Th),e.removeEventListener("blur",this._leaveHandler,Th),e.removeEventListener("mousedown",this._mousedownHandler,$D),e.removeEventListener("touchstart",this._mousedownHandler,$D),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return kN(e,this.startValue,this.endValue)}_isRangeEnd(e){return TN(e,this.startValue,this.endValue)}_isInRange(e){return DN(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return kN(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[n][r-1];if(!o){const s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[n][r+1];if(!o){const s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return TN(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return DN(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return kN(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return TN(e,this.previewStart,this.previewEnd)}_isInPreview(e){return DN(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const n=EN(e);if(n){const r=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Ke))};static#t=this.\u0275cmp=ct({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Xi],attrs:PSe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){1&n&&(mt(0,OSe,3,6,"tr",0),mt(1,LSe,3,2,"tr",1),N(2,"label",2),oe(3),F(),N(4,"label",2),oe(5),F()),2&n&&(ye("ngIf",r._firstRowOffset<r.labelMinRequiredCells),re(1),ye("ngForOf",r.rows),re(1),ye("id",r._startDateLabelId),re(1),ys(" ",r.startDateAccessibleName,"\n"),re(1),ye("id",r._endDateLabelId),re(1),ys(" ",r.endDateAccessibleName,"\n"))},dependencies:[$g,ER,Td],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return i})();function CN(i){return"TD"===i?.nodeName}function EN(i){let t;return CN(i)?t=i:CN(i.parentNode)?t=i.parentNode:CN(i.parentNode?.parentNode)&&(t=i.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function kN(i,t,e){return null!==e&&t!==e&&i<e&&i===t}function TN(i,t,e){return null!==t&&t!==e&&i>=t&&i===e}function DN(i,t,e,n){return n&&null!==t&&null!==e&&t!==e&&i>=t&&i<=e}function xY(i){const t=i.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Ss{constructor(t,e){this.start=t,this.end=e}}let Dh=(()=>{class i{constructor(e,n){this.selection=e,this._adapter=n,this._selectionChanged=new q,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,n){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(n){ju()};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),KSe=(()=>{class i extends Dh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new i(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(n){return new(n||i)(W(No))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const CY={provide:Dh,deps:[[new Wo,new ha,Dh],No],useFactory:function XSe(i,t){return i||new KSe(t)}},GD=new Y("MAT_DATE_RANGE_SELECTION_STRATEGY");let EY=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){const n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r,o,s){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=r,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=wt.EMPTY,this.activeDrag=null,this.selectedChange=new ze,this._userSelection=new ze,this.dragStarted=new ze,this.dragEnded=new ze,this.activeDateChange=new ze,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Es(null)).subscribe(()=>this._init())}ngOnChanges(e){const n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const n=e.value,r=this._getDateFromDayOfMonth(n);let o,s;this._selected instanceof Ss?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ds(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){const r=n?n.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((s,a)=>({long:s,narrow:n[a]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),l=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new xN(r+1,n[r],c,a,l,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!(!e||!n||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){const n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(n,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ss?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(n){return new(n||i)(T(hn),T(yp,8),T(No,8),T(wa,8),T(GD,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(1&n&&Di(j_,5),2&n){let o;Qe(o=Xe())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Xi],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(n,r){1&n&&(N(0,"table",0)(1,"thead",1)(2,"tr"),mt(3,VSe,5,2,"th",2),F(),N(4,"tr"),Fe(5,"th",3),F()(),N(6,"tbody",4),we("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),F()()),2&n&&(re(3),ye("ngForOf",r._weekdays),re(3),ye("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[ER,j_],encapsulation:2,changeDetection:0})}return i})();const Ta=24;let kY=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),TY(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r){this._changeDetectorRef=e,this._dateAdapter=n,this._dir=r,this._rerenderSubscription=wt.EMPTY,this.selectedChange=new ze,this.yearSelected=new ze,this.activeDateChange=new ze,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Es(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-yw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<Ta;r++)o.push(n+r),4==o.length&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const n=e.value,r=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-yw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ta-yw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ta:-Ta);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ta:Ta);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return yw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new xN(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ss){const n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(n){return new(n||i)(T(hn),T(No,8),T(wa,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(1&n&&Di(j_,5),2&n){let o;Qe(o=Xe())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,r){1&n&&(N(0,"table",0)(1,"thead",1)(2,"tr"),Fe(3,"th",2),F()(),N(4,"tbody",3),we("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),F()()),2&n&&(re(4),ye("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[j_],encapsulation:2,changeDetection:0})}return i})();function TY(i,t,e,n,r){const o=i.getYear(t),s=i.getYear(e),a=DY(i,n,r);return Math.floor((o-a)/Ta)===Math.floor((s-a)/Ta)}function yw(i,t,e,n){return function iMe(i,t){return(i%t+t)%t}(i.getYear(t)-DY(i,e,n),Ta)}function DY(i,t,e){let n=0;return e?n=i.getYear(e)-Ta+1:t&&(n=i.getYear(t)),n}let IY=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,n,r,o){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=wt.EMPTY,this.selectedChange=new ze,this.monthSelected=new ze,this.activeDateChange=new ze,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Es(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new xN(e,n.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){const n=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(n,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>o}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ss?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(hn),T(yp,8),T(No,8),T(wa,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(1&n&&Di(j_,5),2&n){let o;Qe(o=Xe())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(n,r){1&n&&(N(0,"table",0)(1,"thead",1)(2,"tr"),Fe(3,"th",2),F()(),N(4,"tbody",3),we("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),F()()),2&n&&(re(4),ye("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[j_],encapsulation:2,changeDetection:0})}return i})(),nMe=1,rMe=(()=>{class i{constructor(e,n,r,o,s){this._intl=e,this.calendar=n,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+nMe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ta)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ta)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):TY(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-yw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Ta-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(n){return new(n||i)(T(bw),T(Q(()=>MN)),T(No,8),T(yp,8),T(hn))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:BSe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(n,r){1&n&&(Dn(),N(0,"div",0)(1,"div",1)(2,"button",2),we("click",function(){return r.currentPeriodClicked()}),N(3,"span",3),oe(4),F(),$a(),N(5,"svg",4),Fe(6,"polygon",5),F()(),md(),Fe(7,"div",6),Ct(8),N(9,"button",7),we("click",function(){return r.previousClicked()}),F(),N(10,"button",8),we("click",function(){return r.nextClicked()}),F()()(),N(11,"label",9),oe(12),F()),2&n&&(re(2),vt("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),re(2),wc(r.periodButtonText),re(1),Ve("mat-calendar-invert","month"!==r.calendar.currentView),re(4),ye("disabled",!r.previousEnabled()),vt("aria-label",r.prevButtonLabel),re(1),ye("disabled",!r.nextEnabled()),vt("aria-label",r.nextButtonLabel),re(1),ye("id",r._periodButtonLabelId),re(1),wc(r.periodButtonDescription))},dependencies:[vN,bN],encapsulation:2,changeDetection:0})}return i})(),MN=(()=>{class i{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ss?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(e,n,r,o){this._dateAdapter=n,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new ze,this.yearSelected=new ze,this.monthSelected=new ze,this.viewChanged=new ze(!0),this._userSelection=new ze,this._userDragDrop=new ze,this._activeDrag=null,this.stateChanges=new q,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new A0(this.headerComponent||rMe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=n||r||e.dateFilter;if(o&&!o.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const n=e.value;(this.selected instanceof Ss||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(n){return new(n||i)(T(bw),T(No,8),T(yp,8),T(hn))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(1&n&&(Di(EY,5),Di(IY,5),Di(kY,5)),2&n){let o;Qe(o=Xe())&&(r.monthView=o.first),Qe(o=Xe())&&(r.yearView=o.first),Qe(o=Xe())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[qe([CY]),Xi],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(n,r){1&n&&(mt(0,zSe,0,0,"ng-template",0),N(1,"div",1),mt(2,HSe,1,11,"mat-month-view",2),mt(3,USe,1,6,"mat-year-view",3),mt(4,jSe,1,6,"mat-multi-year-view",4),F()),2&n&&(ye("cdkPortalOutlet",r._calendarHeaderPortal),re(1),ye("ngSwitch",r.currentView),re(1),ye("ngSwitchCase","month"),re(1),ye("ngSwitchCase","year"),re(1),ye("ngSwitchCase","multi-year"))},dependencies:[Gg,yk,cwe,R0,EY,IY,kY],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return i})();const SY={transformPanel:Bn("transformPanel",[ni("void => enter-dropdown",di("120ms cubic-bezier(0, 0, 0.2, 1)",M_([Ye({opacity:0,transform:"scale(1, 0.8)"}),Ye({opacity:1,transform:"scale(1, 1)"})]))),ni("void => enter-dialog",di("150ms cubic-bezier(0, 0, 0.2, 1)",M_([Ye({opacity:0,transform:"scale(0.7)"}),Ye({transform:"none",opacity:1})]))),ni("* => void",di("100ms linear",Ye({opacity:0})))]),fadeInCalendar:Bn("fadeInCalendar",[Gt("void",Ye({opacity:0})),Gt("enter",Ye({opacity:1})),ni("void => *",di("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let oMe=0;const MY=new Y("mat-datepicker-scroll-strategy"),aMe={provide:MY,deps:[xa],useFactory:function sMe(i){return()=>i.scrollStrategies.reposition()}},cMe=vp(class{constructor(i){this._elementRef=i}});let lMe=(()=>{class i extends cMe{constructor(e,n,r,o,s,a){super(e),this._changeDetectorRef=n,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new wt,this._animationDone=new q,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const n=this._model.selection,r=e.value,o=n instanceof Ss;if(o&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(hn),T(Dh),T(No),T(GD,8),T(bw))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(1&n&&Di(MN,5),2&n){let o;Qe(o=Xe())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(n,r){1&n&&xA("@transformPanel.start",function(s){return r._handleAnimationEvent(s)})("@transformPanel.done",function(s){return r._handleAnimationEvent(s)}),2&n&&(IA("@transformPanel",r._animationState),Ve("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Ae],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(n,r){if(1&n&&(N(0,"div",0)(1,"mat-calendar",1),we("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),F(),mt(2,WSe,0,0,"ng-template",2),N(3,"button",3),we("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),oe(4),F()()),2&n){let o;Ve("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),vt("aria-modal",!0)("aria-labelledby",null!==(o=r._dialogLabelId)&&void 0!==o?o:void 0),re(1),ye("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),re(1),ye("cdkPortalOutlet",r._actionsPortal),re(1),Ve("cdk-visually-hidden",!r._closeButtonFocused),ye("color",r.color||"primary"),re(1),wc(r._closeButtonText)}},dependencies:[$g,vN,iwe,R0,MN],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[SY.transformPanel,SY.fadeInCalendar]},changeDetection:0})}return i})(),AY=(()=>{class i{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=lt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const n=lt(e);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=lt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function Nye(i,t=/\s+/){const e=[];if(null!=i){const n=Array.isArray(i)?i:`${i}`.split(t);for(const r of n){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){lt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,n,r,o,s,a,c){this._overlay=e,this._ngZone=n,this._viewContainerRef=r,this._dateAdapter=s,this._dir=a,this._model=c,this._inputStateChanges=wt.EMPTY,this._document=Ie(At),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new ze,this.monthSelected=new ze,this.viewChanged=new ze(!0),this.openedStream=new ze,this.closedStream=new ze,this._opened=!1,this.id="mat-datepicker-"+oMe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new q,this._scrollStrategy=o}ngOnChanges(e){const n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof E8&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=C_(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Ln(1)).subscribe(()=>{const s=this._document.activeElement;e&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,n=new A0(lMe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new LT({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const s=o.keyCode;(38===s||40===s||37===s||39===s||33===s||34===s)&&o.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const n="end"===this.xPosition?"end":"start",r="start"===n?"end":"start",o="above"===this.yPosition?"bottom":"top",s="top"===o?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(e){const n=["ctrlKey","shiftKey","metaKey"];return ee(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Vn(r=>27===r.keyCode&&!Ds(r)||this.datepickerInput&&Ds(r,"altKey")&&38===r.keyCode&&n.every(o=>!Ds(r,o)))))}static#e=this.\u0275fac=function(n){return new(n||i)(T(xa),T(Ke),T(Dr),T(MY),T(No,8),T(wa,8),T(Dh))};static#t=this.\u0275dir=ne({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Xi]})}return i})(),dMe=(()=>{class i extends AY{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=St(i)))(r||i)}}();static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[qe([CY,{provide:AY,useExisting:i}]),Ae],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return i})();class qD{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let uMe=(()=>{class i{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const n=lt(e),r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new qD(this,this._elementRef.nativeElement)),this.dateChange.emit(new qD(this,this._elementRef.nativeElement))}})}constructor(e,n,r){this._elementRef=e,this._dateAdapter=n,this._dateFormats=r,this.dateChange=new ze,this.dateInput=new ze,this.stateChanges=new q,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=wt.EMPTY,this._localeSubscription=wt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),a=this._getMinDate();return!a||!s||this._dateAdapter.compareDate(a,s)<=0?null:{matDatepickerMin:{min:a,actual:s}}},this._maxValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),a=this._getMaxDate();return!a||!s||this._dateAdapter.compareDate(a,s)>=0?null:{matDatepickerMax:{max:a,actual:s}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function hMe(i,t){const e=Object.keys(i);for(let n of e){const{previousValue:r,currentValue:o}=i[n];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Ds(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!Ds(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const n=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),n!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new qD(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new qD(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const n=this._getDateFilter();return!n||n(e)}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(No,8),T(yp,8))};static#t=this.\u0275dir=ne({type:i,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Xi]})}return i})();const mMe={provide:jr,useExisting:Q(()=>AN),multi:!0},pMe={provide:io,useExisting:Q(()=>AN),multi:!0};let AN=(()=>{class i extends uMe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(e,n,r,o){super(e,n,r),this._formField=o,this._closedSubscription=wt.EMPTY,this._validator=l2.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(No,8),T(yp,8),T(vw,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){1&n&&we("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),2&n&&(qs("disabled",r.disabled),vt("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[qe([mMe,pMe,{provide:yY,useExisting:i}]),Ae]})}return i})(),fMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["","matDatepickerToggleIcon",""]]})}return i})(),gMe=(()=>{class i{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=lt(e)}constructor(e,n,r){this._intl=e,this._changeDetectorRef=n,this._stateChanges=wt.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:ae(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ae(),r=this.datepicker?ee(this.datepicker.openedStream,this.datepicker.closedStream):ae();this._stateChanges.unsubscribe(),this._stateChanges=ee(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||i)(T(bw),T(hn),So("tabindex"))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,o){if(1&n&&_i(o,fMe,5),2&n){let s;Qe(s=Xe())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(1&n&&Di($Se,5),2&n){let o;Qe(o=Xe())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){1&n&&we("click",function(s){return r._open(s)}),2&n&&(vt("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Ve("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Xi],ngContentSelectors:YSe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){1&n&&(Dn(qSe),N(0,"button",0,1),mt(2,GSe,2,0,"svg",2),Ct(3),F()),2&n&&(ye("disabled",r.disabled)("disableRipple",r.disableRipple),vt("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),re(2),ye("ngIf",!r._customIcon))},dependencies:[Td,bN],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return i})(),bMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[bw,aMe],imports:[qi,UD,dh,V0,Tl,ut,Nd]})}return i})(),yMe=(()=>{class i{constructor(e,n,r){this.auth=e,this.db=n,this.datePipe=r,this.data=[],this.body={startDate:null},aN.register(...RIe)}ngOnInit(){this.getdata(),this.getLog(),this.test()}test(){var e=this;return(0,ce.Z)(function*(){try{let n=yield e.auth.Get("getLog");e.data=n.data,e.createCharts()}catch(n){console.error("Error fetching log data:",n)}})()}getLog(){var e=this;return(0,ce.Z)(function*(){e.body.startDate?e.body.startDate instanceof Date&&(e.body.startDate=e.datePipe.transform(e.body.startDate,"yyyy-MM-dd")):(e.body.startDate=new Date,e.body.startDate=e.datePipe.transform(e.body.startDate,"yyyy-MM-dd")),console.log("Formatted Date Range:",e.body);try{let n=yield e.auth.Post("filLog",e.body);console.log("Response from API:",n),e.data=n.data,e.createCharts()}catch(n){console.error("Error fetching log data:",n)}})()}createCharts(){const e=this.data.map(s=>this.formatTimestamp(s.timestamp)),n=this.data.map(s=>s.temperature),r=this.data.map(s=>s.humidity),o=this.data.map(s=>s.ph);this.tempChart=this.createChart("temp","Temperature in \xb0C",e,n,"rgba(75, 192, 192, 1)"),this.humiChart=this.createChart("humi","Humidity in %",e,r,"rgba(54, 162, 235, 1)"),this.phChart=this.createChart("ph","pH Level",e,o,"rgba(255, 99, 132, 1)")}formatTimestamp(e){const n=new Date(e);return`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`}createChart(e,n,r,o,s){const a=document.getElementById(e);return new aN(a,{type:"line",data:{labels:r,datasets:[{label:n,data:o,borderWidth:2,borderColor:s,backgroundColor:`${s}0.2)`,fill:!1}]},options:{scales:{y:{beginAtZero:!1}}}})}logout(){this.auth.logout()}getdata(){var e=this;return(0,ce.Z)(function*(){yield e.auth.humidityValue().subscribe(n=>{e.humidityValue=parseFloat(n.toFixed(2))}),yield e.auth.temperatureValue().subscribe(n=>{e.temperatureValue=parseFloat(n.toFixed(2))}),yield e.auth.pHValue().subscribe(n=>{e.pHValue=n}),yield e.auth.waterStateHigh().subscribe(n=>{e.waterStateHigh=n}),yield e.auth.waterStateLow().subscribe(n=>{e.waterStateLow=n})})()}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}openRelay(){window.location.href="/relay"}openQuantity(){window.location.href="/quantity"}openSprinker(){window.location.href="/sprinker"}openSetTime(){window.location.href="/set-time"}addgroup(){window.location.href="/set-time"}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc),T(y_),T(DR))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-home"]],features:[qe([DR])],decls:102,vars:13,consts:[[1,"row","justify-content-center","mt-4","mb-4"],[1,"cardContainer","mb-4"],[1,"card"],[1,"city"],["version","1.1","id","Layer_1","x","0px","y","0px","width","50px","height","50px","viewBox","0 0 100 100",0,"xml","space","preserve",1,"weather"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\hot_1684426.png"],[1,"temp"],[1,"minmaxContainer"],[1,"min"],[1,"minHeading"],[1,"minTemp"],[1,"max"],[1,"maxHeading"],[1,"maxTemp"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\humidity_4181405.png"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\drop_3335624.png"],[1,"row","mt-4"],[1,"col-12","justify-content-center","d-flex"],[1,"f-28","fw-500","text-center"],[1,"col-xl-12","col-lg-12","justify-content-center","d-flex"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["startDate",""],[1,"ms-3","d-flex","mt-2"],["mat-raised-button","","color","primary",3,"click"],[1,"row","justify-content-center"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-12","m-4","p-3","justify-content-center",2,"background-color","white"],["id","temp"],["id","humi"],["id","ph"],[1,"row","mb-4","justify-content-center"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-12","d-flex","justify-content-center"],[1,"space-card"],[1,"card3"],[1,"slide","slide1"],[1,"content"],[1,"icon"],["src","assets\\icon\\3.png",2,"width","100%"],[1,"slide","slide2"],[1,"row","mb-2"],[1,"title-web","l-h3"],[1,"row","mb-4"],["src","assets\\image\\join_line.jpg",2,"width","250px","height","250px"]],template:function(n,r){if(1&n&&(N(0,"div",0)(1,"span",1)(2,"div",2)(3,"p",3),oe(4,"Temperature"),F(),$a(),N(5,"svg",4),Fe(6,"image",5),F(),md(),N(7,"p",6),oe(8),F(),N(9,"div",7)(10,"div",8)(11,"p",9),oe(12,"Min"),F(),N(13,"p",10),oe(14,"15\xb0"),F()(),N(15,"div",11)(16,"p",12),oe(17,"Max"),F(),N(18,"p",13),oe(19,"35\xb0"),F()()()()(),N(20,"span",1)(21,"div",2)(22,"p",3),oe(23,"Humidity"),F(),$a(),N(24,"svg",4),Fe(25,"image",14),F(),md(),N(26,"p",6),oe(27),F(),N(28,"div",7)(29,"div",8)(30,"p",9),oe(31,"Min"),F(),N(32,"p",10),oe(33,"40%"),F()(),N(34,"div",11)(35,"p",12),oe(36,"Max"),F(),N(37,"p",13),oe(38,"80%"),F()()()()(),N(39,"span",1)(40,"div",2)(41,"p",3),oe(42,"pH"),F(),$a(),N(43,"svg",4),Fe(44,"image",15),F(),md(),N(45,"p",6),oe(46),F(),N(47,"div",7)(48,"div",8)(49,"p",9),oe(50,"Min"),F(),N(51,"p",10),oe(52,"3"),F()(),N(53,"div",11)(54,"p",12),oe(55,"Max"),F(),N(56,"p",13),oe(57,"8"),F()()()()()(),N(58,"div",16)(59,"div",17)(60,"p",18),oe(61,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e43\u0e2b\u0e49\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e48\u0e32\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e02\u0e2d\u0e07\u0e2d\u0e38\u0e13\u0e2b\u0e20\u0e39\u0e21\u0e34 \u0e04\u0e27\u0e32\u0e21\u0e0a\u0e37\u0e49\u0e19 \u0e41\u0e25\u0e30 \u0e04\u0e48\u0e32 pH"),F()()(),N(62,"div",16)(63,"div",19)(64,"mat-form-field")(65,"mat-label"),oe(66,"Choose a start date"),F(),N(67,"input",20),we("ngModelChange",function(s){return r.body.startDate=s}),F(),Fe(68,"mat-datepicker-toggle",21)(69,"mat-datepicker",null,22),F(),N(71,"span",23)(72,"button",24),we("click",function(){return r.getLog()}),oe(73," Click "),F()()()(),N(74,"div",25)(75,"div",26),Fe(76,"canvas",27),F(),N(77,"div",26),Fe(78,"canvas",28),F(),N(79,"div",26),Fe(80,"canvas",29),F()(),N(81,"div",30)(82,"div",31)(83,"div",32)(84,"div",33)(85,"div",34)(86,"div",35)(87,"div",36),Fe(88,"img",37),F()()(),N(89,"div",38)(90,"div",35)(91,"h3"),oe(92,"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07"),F(),N(93,"h1"),oe(94),F()()()()()()(),N(95,"div",39)(96,"div",17)(97,"p",40),oe(98," Scan Qr Code \u0e40\u0e02\u0e49\u0e32\u0e01\u0e25\u0e38\u0e48\u0e21 Line \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 "),F()()(),N(99,"div",41)(100,"div",17),Fe(101,"img",42),F()()),2&n){const o=bs(70);re(8),ys("",r.temperatureValue,"\xb0"),re(19),ys("",r.humidityValue,"%"),re(19),wc(r.pHValue),re(21),ye("matDatepicker",o)("ngModel",r.body.startDate),re(1),ye("for",o),re(25),Ve("c-red",0==r.waterStateHigh&&0==r.waterStateLow)("c-orange",0==r.waterStateHigh&&1==r.waterStateLow)("c-green",1==r.waterStateHigh&&1==r.waterStateLow),re(1),ys(" ",1==r.waterStateHigh&&1==r.waterStateLow?"\u0e21\u0e32\u0e01\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&1==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&0==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 10%":" "," ")}},dependencies:[gh,P_,Tp,dMe,AN,gMe,kSe,yN,bSe,ASe,vN],styles:['@media (max-width: 971px){.f-40[_ngcontent-%COMP%]{font-size:30px!important}.f-28[_ngcontent-%COMP%]{font-size:18px!important}}.l-h3[_ngcontent-%COMP%]{line-height:1.5}.button[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#141e47;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.button2[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button2[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#02bb33;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button2.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button2.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:500px;height:250px;transition:.5s}@media screen and (max-width: 450px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}@media screen and (max-width: 400px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide1[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;z-index:1;transition:.7s;transform:translateY(100px)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide1[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:20px;box-sizing:border-box;transition:.8s;transform:translateY(-100px);background-color:#fff;box-shadow:0 20px 40px #0006}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide2[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:4px;bottom:15px;left:50%;transform:translate(-50%);background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0;text-align:center;font-size:42px;font-weight:700}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;padding:0;font-size:24px;text-align:center;color:#414141}.title-web[_ngcontent-%COMP%]{color:#000;font-size:30px;font-weight:900}@media screen and (max-width: 440px){.title-web[_ngcontent-%COMP%]{font-size:15px}}.box-title[_ngcontent-%COMP%]{color:#fff;background-color:#fff;box-shadow:0 4px 20px #00000040;height:700px}.farm[_ngcontent-%COMP%]{width:100%}.sub-web[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:500}.cardContainer[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;position:relative;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{position:relative;width:370px;height:350px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:40px 10px;border-radius:10px;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);background-color:#ffffffa3;border:1px solid rgba(255,255,255,.089);cursor:pointer}.city[_ngcontent-%COMP%]{font-weight:700;font-size:35px;letter-spacing:1.2px;color:#000}.weather[_ngcontent-%COMP%]{font-weight:500;font-size:.7em;letter-spacing:1.2px;color:#000}.temp[_ngcontent-%COMP%]{font-size:1.8em;color:#000}.minmaxContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.min[_ngcontent-%COMP%], .max[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;padding:0 20px;gap:4px}.max[_ngcontent-%COMP%]{align-items:flex-start;border-left:2px solid rgb(0,0,0)}.maxHeading[_ngcontent-%COMP%], .minHeading[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#000}.maxTemp[_ngcontent-%COMP%], .minTemp[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#000}.cardContainer[_ngcontent-%COMP%]:before{width:100px;height:100px;content:"";position:absolute;background-color:#90a1ff;z-index:-1;border-radius:50%;left:100px;top:50px;transition:all 1s}.cardContainer[_ngcontent-%COMP%]:hover:before{transform:translate(-50px,50px)}']})}return i})(),PY=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-login-outlet"]],decls:2,vars:0,consts:[[1,"content"]],template:function(n,r){1&n&&(N(0,"div",0),Fe(1,"router-outlet"),F())},dependencies:[jy],styles:[".bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}"]})}return i})();const Ih=function(i){return{"btn-dis":i}};let wMe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}ngOnInit(){this.getdata()}getdata(){this.db.object("quantityFT").valueChanges().subscribe(s=>{this.Fer=s}),this.db.object("quantityMB").valueChanges().subscribe(s=>{this.Mb=s}),this.db.object("quantityphup").valueChanges().subscribe(s=>{this.phUp=s}),this.db.object("quantityphdown").valueChanges().subscribe(s=>{this.phD=s})}reset(){this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}submit(){var e=this;return(0,ce.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e31\u0e07\u0e19\u0e49\u0e33","success"),e.db.object("quantityFT").set(e.Fer).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityMB").set(e.Mb).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphup").set(e.phUp).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphdown").set(e.phD).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}FT(e){this.Fer=250===e?13:500===e?26:0,console.log(this.Fer)}MB(e){this.Mb=250===e?13:500===e?26:0,console.log(this.Mb)}PhUp(e){this.phUp=250===e?13:500===e?26:0,console.log(this.phUp)}PhD(e){this.phD=250===e?13:500===e?26:0,console.log(this.phD)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc),T(y_))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-quantity"]],decls:67,vars:48,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fertilizer_2674327.png",1,"img1"],[1,"contentBx"],[1,"col"],[1,"btn",3,"disabled","ngClass","click"],["src","assets\\icon\\fertilizer_1670066.png",1,"img2"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img4"],[1,"col","justify-content-end","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"col","justify-content-start","d-flex"],[1,"btn-confirm","submit",3,"click"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"p",2),oe(3,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),F()(),N(4,"div",3)(5,"p",4),oe(6,"*\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e15\u0e34\u0e21\u0e44\u0e14\u0e49\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14 3 \u0e0a\u0e19\u0e34\u0e14"),F()()(),N(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Fe(11,"img",9),F(),N(12,"div",10)(13,"h2"),oe(14,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e1b\u0e38\u0e4b\u0e22"),F(),N(15,"div",11)(16,"button",12),we("click",function(){return r.FT(250)}),oe(17," 250 ml "),F()(),N(18,"div",11)(19,"button",12),we("click",function(){return r.FT(500)}),oe(20," 500 ml "),F()()()()(),N(21,"div",6)(22,"div",7)(23,"div",8),Fe(24,"img",13),F(),N(25,"div",10)(26,"h2"),oe(27,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),F(),N(28,"div",11)(29,"button",12),we("click",function(){return r.MB(250)}),oe(30," 250 ml "),F()(),N(31,"div",11)(32,"button",12),we("click",function(){return r.MB(500)}),oe(33," 500 ml "),F()()()()(),N(34,"div",6)(35,"div",7)(36,"div",8),Fe(37,"img",14),F(),N(38,"div",10)(39,"h2"),oe(40,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH"),F(),N(41,"div",11)(42,"button",12),we("click",function(){return r.PhUp(250)}),oe(43," 250 ml "),F()(),N(44,"div",11)(45,"button",12),we("click",function(){return r.PhUp(500)}),oe(46," 500 ml "),F()()()()(),N(47,"div",6)(48,"div",7)(49,"div",8),Fe(50,"img",15),F(),N(51,"div",10)(52,"h2"),oe(53,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH"),F(),N(54,"div",11)(55,"button",12),we("click",function(){return r.PhD(250)}),oe(56," 250 ml "),F()(),N(57,"div",11)(58,"button",12),we("click",function(){return r.PhD(500)}),oe(59," 500 ml "),F()()()()()(),N(60,"div",5)(61,"div",16)(62,"button",17),we("click",function(){return r.reset()}),oe(63,"reset"),F()(),N(64,"div",18)(65,"button",19),we("click",function(){return r.submit()}),oe(66,"submit"),F()()()),2&n&&(re(16),Ve("active",13==r.Fer),ye("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",xd(32,Ih,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),re(3),Ve("active",26==r.Fer),ye("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",xd(34,Ih,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),re(10),Ve("active",13==r.Mb),ye("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",xd(36,Ih,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),re(3),Ve("active",26==r.Mb),ye("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",xd(38,Ih,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),re(10),Ve("active",13==r.phUp),ye("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",xd(40,Ih,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),re(3),Ve("active",26==r.phUp),ye("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",xd(42,Ih,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),re(10),Ve("active",13==r.phD),ye("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",xd(44,Ih,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)),re(3),Ve("active",26==r.phD),ye("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",xd(46,Ih,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)))},dependencies:[$g],styles:['@media (max-width: 400px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active{background-color:#eecf06}.btn-dis[_ngcontent-%COMP%]{background-color:#c3c3c3;color:#000}.active[_ngcontent-%COMP%]{background-color:#eecf06}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#ffb414;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}']})}return i})(),xMe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.data={sft:"",swt:"",ft:"",mb:"",phU:"",phD:""},this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){var e=this;return(0,ce.Z)(function*(){e.getData(),e.getDataFromRD()})()}getData(){this.db.object("relaystate/pumpStirring").valueChanges().subscribe(r=>{this.updateSwitchState("pumpStirring",r)}),this.db.object("relaystate/pumpUP").valueChanges().subscribe(r=>{this.updateSwitchState("pumpUP",r)})}getDataFromRD(){this.db.object("relaystate/fan").valueChanges().subscribe(d=>{this.Fan=d}),this.db.object("relaystate/led").valueChanges().subscribe(d=>{this.Led=d}),this.db.object("relaystate/pumpwater").valueChanges().subscribe(d=>{this.Pwater=d}),this.db.object("relaystate/pumpphDown").valueChanges().subscribe(d=>{this.PhD=d}),this.db.object("relaystate/pumpphUP").valueChanges().subscribe(d=>{this.PhU=d}),this.db.object("relaystate/fertilizers").valueChanges().subscribe(d=>{this.FT=d}),this.db.object("relaystate/microbial").valueChanges().subscribe(d=>{this.MB=d}),this.db.object("relaystate/valve").valueChanges().subscribe(d=>{this.Valve=d})}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}sendTime(){var e=this;return(0,ce.Z)(function*(){e.data.ft=e.time_FT,e.data.mb=e.time_MB,e.data.phU=e.time_PHU,e.data.phD=e.time_PHD,200==(yield e.auth.Post("updateByTime",e.data)).status?e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"):e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","error"),console.log(e.data)})()}openPwater(e){this.Pwater=e,this.db.object("relaystate/pumpwater").set(this.Pwater)}openFan(e){this.Fan=e,this.db.object("relaystate/fan").set(this.Fan)}openLed(e){this.Led=e,this.db.object("relaystate/led").set(this.Led)}openFT(e){this.FT=e,this.db.object("relaystate/fertilizers").set(this.FT)}openMB(e){this.MB=e,this.db.object("relaystate/microbial").set(this.MB)}openPhU(e){this.PhU=e,this.db.object("relaystate/pumpphUP").set(this.PhU)}openPhD(e){this.PhD=e,this.db.object("relaystate/pumpphDown").set(this.PhD)}openValve(e){this.Valve=e,this.db.object("relaystate/valve").set(this.Valve)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc),T(y_))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-relay"]],decls:106,vars:32,consts:[[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fan_2976070.png",1,"img3"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn",3,"click"],["src","assets\\icon\\led-light_6357876.png",1,"img3"],["src","assets/icon/pump_2299254.png",1,"img3"],["src","assets\\icon\\aquarius_7244962.png",1,"img4"],["src","assets\\icon\\fertilizer_2674327.png",1,"img3"],["src","assets\\icon\\fertilizer_1670066.png",1,"img3"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img3"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Fe(4,"img",4),F(),N(5,"div",5)(6,"h2",6),oe(7,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1e\u0e31\u0e14\u0e25\u0e21\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(8,"div",7)(9,"button",8),we("click",function(){return r.openFan(!0)}),oe(10," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(11,"div",7)(12,"button",8),we("click",function(){return r.openFan(!1)}),oe(13," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(14,"div",1)(15,"div",2)(16,"div",3),Fe(17,"img",9),F(),N(18,"div",5)(19,"h2",6),oe(20,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e44\u0e1f\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(21,"div",7)(22,"button",8),we("click",function(){return r.openLed(!0)}),oe(23," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(24,"div",7)(25,"button",8),we("click",function(){return r.openLed(!1)}),oe(26," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(27,"div",1)(28,"div",2)(29,"div",3),Fe(30,"img",10),F(),N(31,"div",5)(32,"h2",6),oe(33,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1b\u0e31\u0e4a\u0e21\u0e19\u0e49\u0e33\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(34,"div",7)(35,"button",8),we("click",function(){return r.openPwater(!0)}),oe(36," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(37,"div",7)(38,"button",8),we("click",function(){return r.openPwater(!1)}),oe(39," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(40,"div",1)(41,"div",2)(42,"div",3),Fe(43,"img",11),F(),N(44,"div",5)(45,"h2",6),oe(46,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e17\u0e34\u0e49\u0e07\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(47,"div",7)(48,"button",8),we("click",function(){return r.openValve(!0)}),oe(49," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(50,"div",7)(51,"button",8),we("click",function(){return r.openValve(!1)}),oe(52," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()()(),N(53,"div",0)(54,"div",1)(55,"div",2)(56,"div",3),Fe(57,"img",12),F(),N(58,"div",5)(59,"h2",6),oe(60,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(61,"div",7)(62,"button",8),we("click",function(){return r.openFT(!0)}),oe(63," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(64,"div",7)(65,"button",8),we("click",function(){return r.openFT(!1)}),oe(66," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(67,"div",1)(68,"div",2)(69,"div",3),Fe(70,"img",13),F(),N(71,"div",5)(72,"h2",6),oe(73,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(74,"div",7)(75,"button",8),we("click",function(){return r.openMB(!0)}),oe(76," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(77,"div",7)(78,"button",8),we("click",function(){return r.openMB(!1)}),oe(79," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(80,"div",1)(81,"div",2)(82,"div",3),Fe(83,"img",14),F(),N(84,"div",5)(85,"h2",6),oe(86,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(87,"div",7)(88,"button",8),we("click",function(){return r.openPhU(!0)}),oe(89," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(90,"div",7)(91,"button",8),we("click",function(){return r.openPhU(!1)}),oe(92," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(93,"div",1)(94,"div",2)(95,"div",3),Fe(96,"img",15),F(),N(97,"div",5)(98,"h2",6),oe(99,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),F(),N(100,"div",7)(101,"button",8),we("click",function(){return r.openPhD(!0)}),oe(102," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(103,"div",7)(104,"button",8),we("click",function(){return r.openPhD(!1)}),oe(105," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()()()),2&n&&(re(9),Ve("active",1==r.Fan),re(3),Ve("active",0==r.Fan),re(10),Ve("active",1==r.Led),re(3),Ve("active",0==r.Led),re(10),Ve("active",1==r.Pwater),re(3),Ve("active",0==r.Pwater),re(10),Ve("active",1==r.Valve),re(3),Ve("active",0==r.Valve),re(11),Ve("active",1==r.FT),re(3),Ve("active",0==r.FT),re(10),Ve("active",1==r.MB),re(3),Ve("active",0==r.MB),re(10),Ve("active",1==r.PhU),re(3),Ve("active",0==r.PhU),re(10),Ve("active",1==r.PhD),re(3),Ve("active",0==r.PhD))},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#141e47;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}']})}return i})(),CMe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.sf=0,this.sw=0,this.time_FT="",this.time_WT=""}ngOnInit(){var e=this;return(0,ce.Z)(function*(){yield e.getdata(),yield e.getTime(),console.log(e.sw),console.log(e.sf)})()}reset(){this.sf=0,this.sw=0}resetWT(){var e=this;return(0,ce.Z)(function*(){e.time_WT="",e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSWT")})()}resetFT(){var e=this;return(0,ce.Z)(function*(){e.time_FT="",e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSFT")})()}sendTimeSFT(){var e=this;return(0,ce.Z)(function*(){let n={sft:""};n.sft=e.time_FT,e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSFT",n)})()}sendTimeSWT(){var e=this;return(0,ce.Z)(function*(){let n={swt:""};n.swt=e.time_WT,e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSWT",n)})()}getdata(){this.db.object("relaystate/sprinklerfertilizers").valueChanges().subscribe(s=>{this.openFT=s}),this.db.object("relaystate/sprinklerwater").valueChanges().subscribe(s=>{this.openWT=s}),this.db.object("quantitysprinklerwater").valueChanges().subscribe(s=>{this.sw=s}),this.db.object("quantitysprinklerfertilizers").valueChanges().subscribe(s=>{this.sf=s})}getTime(){this.auth.timeSFT().subscribe(e=>{this.time_FT=e}),this.auth.timeSWT().subscribe(e=>{this.time_WT=e})}submit(){var e=this;return(0,ce.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19","success"),e.db.object("quantitysprinklerfertilizers").set(e.sf).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantitysprinklerwater").set(e.sw).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}SF(e){this.sf=250===e?13:500===e?26:0}SW(e){this.sw=250===e?13:500===e?26:0}openWater(e){this.openWT=e,this.db.object("relaystate/sprinklerwater").set(this.openWT)}openFer(e){this.openFT=e,this.db.object("relaystate/sprinklerfertilizers").set(this.openFT)}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc),T(y_))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-sprinker"]],decls:104,vars:18,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row","mt-5"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\water-hose_5601403.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn-time",3,"click"],["src","assets\\icon\\spray_13327187.png",1,"img2"],["src","assets\\icon\\sprinkler_4175992.png",1,"img3"],[1,"btn",3,"click"],["src","assets\\icon\\fertilizer_3319199.png",1,"img4"],[1,"row","mt-3","mb-4"],[1,"col-6"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","justify-content-center","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"btn-confirm","submit",3,"click"],[1,"row","mt-4","mb-3"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12"],["src","assets\\icon\\hourglass_6290515.png",1,"img5"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\clock_2997985.png",1,"img6"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"p",2),oe(3,"Sprinker"),F()(),N(4,"div",3)(5,"p",4),oe(6," *\u0e2b\u0e32\u0e01\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1e\u0e48\u0e19\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e43\u0e2b\u0e49\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 Submit \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22 "),F()()(),N(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Fe(11,"img",9),F(),N(12,"div",10)(13,"h2",11),oe(14,"Sprinker Water"),F(),N(15,"div",12)(16,"button",13),we("click",function(){return r.openWater(!0)}),oe(17," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(18,"div",12)(19,"button",13),we("click",function(){return r.openWater(!1)}),oe(20," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(21,"div",6)(22,"div",7)(23,"div",8),Fe(24,"img",14),F(),N(25,"div",10)(26,"h2",11),oe(27,"Sprinker fertilizer"),F(),N(28,"div",12)(29,"button",13),we("click",function(){return r.openFer(!0)}),oe(30," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()(),N(31,"div",12)(32,"button",13),we("click",function(){return r.openFer(!1)}),oe(33," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),F()()()()(),N(34,"div",6)(35,"div",7)(36,"div",8),Fe(37,"img",15),F(),N(38,"div",10)(39,"h2",11),oe(40,"Sprinker Water"),F(),N(41,"div",12)(42,"button",16),we("click",function(){return r.SW(250)}),oe(43," 250 ml "),F()(),N(44,"div",12)(45,"button",16),we("click",function(){return r.SW(500)}),oe(46," 500 ml "),F()()()()(),N(47,"div",6)(48,"div",7)(49,"div",8),Fe(50,"img",17),F(),N(51,"div",10)(52,"h2",11),oe(53,"Sprinker fertilizer"),F(),N(54,"div",12)(55,"button",16),we("click",function(){return r.SF(250)}),oe(56," 250 ml "),F()(),N(57,"div",12)(58,"button",16),we("click",function(){return r.SF(500)}),oe(59," 500 ml "),F()()()()()(),N(60,"div",18),Fe(61,"div",19),N(62,"div",20)(63,"button",21),we("click",function(){return r.reset()}),oe(64,"reset"),F(),N(65,"button",22),we("click",function(){return r.submit()}),oe(66,"submit"),F()()(),N(67,"div",23)(68,"div",1)(69,"p",2),oe(70,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14 Sprinker"),F()()(),N(71,"div",24),Fe(72,"div",25),N(73,"div",6)(74,"div",7)(75,"div",8),Fe(76,"img",26),F(),N(77,"div",10)(78,"h2",11),oe(79,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e19\u0e49\u0e33"),F(),N(80,"div",27)(81,"input",28),we("ngModelChange",function(s){return r.time_WT=s}),F()(),N(82,"div",27)(83,"button",29),we("click",function(){return r.sendTimeSWT()}),oe(84," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(85,"div",12)(86,"button",30),we("click",function(){return r.resetWT()}),oe(87,"reset"),F()()()()(),N(88,"div",6)(89,"div",7)(90,"div",8),Fe(91,"img",31),F(),N(92,"div",10)(93,"h2",11),oe(94,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e1b\u0e38\u0e4b\u0e22"),F(),N(95,"div",27)(96,"input",28),we("ngModelChange",function(s){return r.time_FT=s}),F()(),N(97,"div",27)(98,"button",29),we("click",function(){return r.sendTimeSFT()}),oe(99," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(100,"div",12)(101,"button",30),we("click",function(){return r.resetFT()}),oe(102,"reset"),F()()()()(),Fe(103,"div",32),F()),2&n&&(re(16),Ve("active-y",1==r.openWT),re(3),Ve("active-y",0==r.openWT),re(10),Ve("active-y",1==r.openFT),re(3),Ve("active-y",0==r.openFT),re(10),Ve("active",13==r.sw),re(3),Ve("active",26==r.sw),re(10),Ve("active",13==r.sf),re(3),Ve("active",26==r.sf),re(23),ye("ngModel",r.time_WT),re(15),ye("ngModel",r.time_FT))},dependencies:[gh,P_,Tp],styles:['@media (max-width: 420px){.f-40[_ngcontent-%COMP%]{font-size:30px!important}.f-28[_ngcontent-%COMP%]{font-size:18px!important}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#dcdcdc;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#908cd3;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:1000}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(20deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(15deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img5[_ngcontent-%COMP%]{position:absolute;top:9%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img6[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:205px}.btn[_ngcontent-%COMP%], .btn-time[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn-time[_ngcontent-%COMP%]:hover{background-color:#ee2761;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#eecf06;color:#fff}.active-y[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}.active[_ngcontent-%COMP%]{background-color:#eecf06;color:#fff}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})();const EMe=["*",[["mat-toolbar-row"]]],kMe=["*","mat-toolbar-row"],TMe=vp(class{constructor(i){this._elementRef=i}});let DMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),IMe=(()=>{class i extends TMe{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(Xn),T(At))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,o){if(1&n&&_i(o,DMe,5),2&n){let s;Qe(s=Xe())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,r){2&n&&Ve("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ae],ngContentSelectors:kMe,decls:2,vars:0,template:function(n,r){1&n&&(Dn(EMe),Ct(0),Ct(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return i})(),SMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,ut]})}return i})();const MMe=["*"];let YD;function ww(i){return function AMe(){if(void 0===YD&&(YD=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(YD=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return YD}()?.createHTML(i)||i}function OY(i){return Error(`Unable to find icon with the name "${i}"`)}function NY(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function FY(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Bp{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let ZD=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new Bp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const s=this._sanitizer.sanitize(Ao.HTML,r);if(!s)throw FY(r);const a=ww(s);return this._addSvgIconConfig(e,n,new Bp("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new Bp(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(Ao.HTML,n);if(!o)throw FY(n);const s=ww(o);return this._addSvgIconSetConfig(e,new Bp("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(Ao.RESOURCE_URL,e);if(!n)throw NY(e);const r=this._cachedIconsByUrl.get(n);return r?ae(KD(r)):this._loadSvgIconFromConfig(new Bp(e,null)).pipe(fr(o=>this._cachedIconsByUrl.set(n,o)),Le(o=>KD(o)))}getNamedSvgIcon(e,n=""){const r=LY(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):qg(OY(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ae(KD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Le(n=>KD(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?ae(r):N9(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ku(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Ao.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),ae(null)})))).pipe(Le(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw OY(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(fr(n=>e.svgText=n),Le(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ae(null):this._fetchIcon(e).pipe(fr(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(ww("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(ww("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function RMe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(Ao.RESOURCE_URL,n);if(!s)throw NY(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Le(l=>ww(l)),Kg(()=>this._inProgressUrlFetches.delete(s)),xt());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(LY(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return OMe(o)?new Bp(o.url,null,o.options):new Bp(o,null)}}static#e=this.\u0275fac=function(n){return new(n||i)(W(eD,8),W(UR),W(At,8),W(Za))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function KD(i){return i.cloneNode(!0)}function LY(i,t){return i+":"+t}function OMe(i){return!(!i.url||!i.options)}const NMe=vp(class{constructor(i){this._elementRef=i}}),FMe=new Y("MAT_ICON_DEFAULT_OPTIONS"),LMe=new Y("mat-icon-location",{providedIn:"root",factory:function VMe(){const i=Ie(At),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),VY=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BMe=VY.map(i=>`[${i}]`).join(", "),zMe=/^url\(['"]?#(.*?)['"]?\)$/;let HMe=(()=>{class i extends NMe{get inline(){return this._inline}set inline(e){this._inline=lt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,a){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=wt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(BMe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)VY.forEach(s=>{const a=n[o],c=a.getAttribute(s),l=c?c.match(zMe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Ln(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||i)(T(rt),T(ZD),So("aria-hidden"),T(LMe),T(Za),T(FMe,8))};static#t=this.\u0275cmp=ct({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,r){2&n&&(vt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ve("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ae],ngContentSelectors:MMe,decls:1,vars:0,template:function(n,r){1&n&&(Dn(),Ct(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return i})(),BY=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,ut]})}return i})(),UMe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}logout(){this.auth.logout()}toggleSidebar(){this.auth.toggleSidebar()}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-outlet"]],decls:12,vars:0,consts:[[1,"custom-toolbar"],["mat-icon-button","","aria-label","Toggle Sidebar",1,"example-icon",3,"click"],["href","/home"],[1,"space"],["mat-icon-button","","aria-label","logout icon button",1,"logout-icon",3,"click"]],template:function(n,r){1&n&&(N(0,"mat-toolbar",0)(1,"button",1),we("click",function(){return r.toggleSidebar()}),N(2,"mat-icon"),oe(3,"menu"),F()(),oe(4," \xa0 "),N(5,"a",2),oe(6,"Hydroponic Farm"),F(),Fe(7,"span",3),N(8,"button",4),we("click",function(){return r.logout()}),N(9,"mat-icon"),oe(10,"logout"),F()(),oe(11," \xa0 "),F())},dependencies:[IMe,bN,HMe],styles:[".space[_ngcontent-%COMP%]{flex:1 1 auto}.mat-icon-button[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px}.custom-toolbar[_ngcontent-%COMP%]{background-color:#141e47}.mat-toolbar[_ngcontent-%COMP%]{color:#f0f0f0!important}.mat-icon-button[_ngcontent-%COMP%]{color:#f0f0f0!important;background-color:#f0f0f0;border-radius:50%;width:40px;height:40px;transition:box-shadow .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]{color:#fff;border-radius:10px;transition:transform .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]   .neumorphic-button[_ngcontent-%COMP%]{color:#fff!important}.custom-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.logout-icon[_ngcontent-%COMP%]{color:#f0f0f0!important;transition:transform .2s ease}.logout-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%], .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]{color:#fff;transition:transform .2s ease}a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]})}return i})();const jMe=function(i,t){return{showSidebar:i,hideSidebar:t}};let WMe=(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0,this.isSubmenuOpen=!1,this.isDashboardSelected=!1}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,this.auth.toggleSidebar()}toggleSubmenu(){this.isSubmenuOpen=!this.isSubmenuOpen}selectDashboard(){this.isDashboardSelected=!0}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-side-nav"]],decls:32,vars:4,consts:[[1,"sidebar",3,"ngClass"],["routerLink","/home","routerLinkActive","active"],[1,"menu-icon","material-icons"],[1,"menu-text"],["routerLink","/relay","routerLinkActive","active"],["routerLink","/sprinker","routerLinkActive","active"],["routerLink","/quantity","routerLinkActive","active"],["routerLink","/set-time","routerLinkActive","active"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"ul")(2,"li")(3,"a",1)(4,"span",2),oe(5,"home"),F(),N(6,"span",3),oe(7,"Home"),F()()(),N(8,"li")(9,"a",4)(10,"span",2),oe(11,"toggle_on"),F(),N(12,"span",3),oe(13,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),F()()(),N(14,"li")(15,"a",5)(16,"span",2),oe(17,"shower"),F(),N(18,"span",3),oe(19,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2a\u0e1b\u0e23\u0e34\u0e07\u0e40\u0e01\u0e2d\u0e23\u0e4c"),F()()(),N(20,"li")(21,"a",6)(22,"span",2),oe(23,"science"),F(),N(24,"span",3),oe(25,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),F()()(),N(26,"li")(27,"a",7)(28,"span",2),oe(29,"timer"),F(),N(30,"span",3),oe(31,"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e27\u0e25\u0e32\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),F()()()()()),2&n&&ye("ngClass",I5(1,jMe,r.isSidebarVisible,!r.isSidebarVisible))},dependencies:[$g,$k,N6],styles:[".menu-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px;border-radius:10px;transition:all .3s}.menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]{box-shadow:0 0 10px #0003;background-color:#141e47;width:200px;padding:10px;position:fixed;height:100%;top:0;left:0;overflow-x:hidden;margin-top:48px;z-index:999}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:20px 0 0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px 0 10px 15px;border-radius:20px;transition:all .3s}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#6c6c6c}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#000;background-color:#f1f1f1}.sub-menu[_ngcontent-%COMP%]{padding-left:20px}.hideSidebar[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0;transition:transform .3s,opacity .3s}.showSidebar[_ngcontent-%COMP%]{transform:translate(0);opacity:1;transition:transform .3s,opacity .3s}"]})}return i})();const $Me=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:PY,children:[{path:"",component:fCe}]},{path:"register",component:PY,children:[{path:"",component:gCe}]},{path:"",component:(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-main"]],decls:6,vars:1,consts:[[1,"app-header"],[1,"container"],[1,"content",3,"ngClass"]],template:function(n,r){1&n&&(N(0,"div",0),Fe(1,"app-outlet"),F(),N(2,"div",1),Fe(3,"app-side-nav"),F(),N(4,"div",2),Fe(5,"router-outlet"),F()),2&n&&(re(4),ye("ngClass",r.isSidebarVisible?"with-sidebar":"without-sidebar"))},dependencies:[$g,jy,UMe,WMe],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100vh}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}.content.content-with-sidebar[_ngcontent-%COMP%]{margin-left:0}.with-sidebar[_ngcontent-%COMP%], .without-sidebar[_ngcontent-%COMP%]{padding:3px;transition:left .3s ease,padding-left .3s ease}"]})}return i})(),canActivate:[(()=>{class i{constructor(e,n){this.auth=e,this.router=n}canActivate(){return"true"===localStorage.getItem("loggedIn")||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(W(Mc),W(ks))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()],children:[{path:"home",component:yMe},{path:"quantity",component:wMe},{path:"relay",component:xMe},{path:"sprinker",component:CMe},{path:"set-time",component:(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){this.getTime()}resetFT(){var e=this;return(0,ce.Z)(function*(){e.time_FT="",e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetFT")})()}resetMB(){var e=this;return(0,ce.Z)(function*(){e.time_MB="",e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetMB")})()}resetPHU(){var e=this;return(0,ce.Z)(function*(){e.time_PHU="",e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHU")})()}resetPHD(){var e=this;return(0,ce.Z)(function*(){e.time_PHD="",e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHD")})()}sendTimeFT(){var e=this;return(0,ce.Z)(function*(){let n={ft:""};n.ft=e.time_FT,e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateFT",n)})()}sendTimeMB(){var e=this;return(0,ce.Z)(function*(){let n={mb:""};n.mb=e.time_MB,e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateMB",n)})()}sendTimePHU(){var e=this;return(0,ce.Z)(function*(){let n={phU:""};n.phU=e.time_PHU,e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhU",n)})()}sendTimePHD(){var e=this;return(0,ce.Z)(function*(){let n={phD:""};n.phD=e.time_PHD,e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhD",n)})()}getTime(){this.auth.timeFT().subscribe(e=>{this.time_FT=e}),this.auth.timeMB().subscribe(e=>{this.time_MB=e}),this.auth.timePHU().subscribe(e=>{this.time_PHU=e}),this.auth.timePHD().subscribe(e=>{this.time_PHD=e})}static#e=this.\u0275fac=function(n){return new(n||i)(T(Mc),T(y_))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-setting-time"]],decls:65,vars:4,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\seed-bag_11504622.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"col"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\drug_8461645.png",1,"img2"],["src","assets\\icon\\flask_882980.png",1,"img3"],["src","assets\\icon\\cl_8357130.png",1,"img4"]],template:function(n,r){1&n&&(N(0,"div",0)(1,"div",1)(2,"p",2),oe(3,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),F()()(),N(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Fe(8,"img",7),F(),N(9,"div",8)(10,"h2",9),oe(11,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22"),F(),N(12,"div",10)(13,"input",11),we("ngModelChange",function(s){return r.time_FT=s}),F()(),N(14,"div",10)(15,"button",12),we("click",function(){return r.sendTimeFT()}),oe(16," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(17,"div",13)(18,"button",14),we("click",function(){return r.resetFT()}),oe(19,"reset"),F()()()()(),N(20,"div",4)(21,"div",5)(22,"div",6),Fe(23,"img",15),F(),N(24,"div",8)(25,"h2",9),oe(26,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),F(),N(27,"div",10)(28,"input",11),we("ngModelChange",function(s){return r.time_MB=s}),F()(),N(29,"div",10)(30,"button",12),we("click",function(){return r.sendTimeMB()}),oe(31," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(32,"div",13)(33,"button",14),we("click",function(){return r.resetMB()}),oe(34,"reset"),F()()()()(),N(35,"div",4)(36,"div",5)(37,"div",6),Fe(38,"img",16),F(),N(39,"div",8)(40,"h2",9),oe(41,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e34\u0e48\u0e21 Ph"),F(),N(42,"div",10)(43,"input",11),we("ngModelChange",function(s){return r.time_PHU=s}),F()(),N(44,"div",10)(45,"button",12),we("click",function(){return r.sendTimePHU()}),oe(46," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(47,"div",13)(48,"button",14),we("click",function(){return r.resetPHU()}),oe(49,"reset"),F()()()()(),N(50,"div",4)(51,"div",5)(52,"div",6),Fe(53,"img",17),F(),N(54,"div",8)(55,"h2",9),oe(56,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e25\u0e14 Ph"),F(),N(57,"div",10)(58,"input",11),we("ngModelChange",function(s){return r.time_PHD=s}),F()(),N(59,"div",10)(60,"button",12),we("click",function(){return r.sendTimePHD()}),oe(61," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),F()(),N(62,"div",13)(63,"button",14),we("click",function(){return r.resetPHD()}),oe(64,"reset"),F()()()()()()),2&n&&(re(13),ye("ngModel",r.time_FT),re(15),ye("ngModel",r.time_MB),re(15),ye("ngModel",r.time_PHU),re(15),ye("ngModel",r.time_PHD))},dependencies:[gh,P_,Tp],styles:['@media (max-width: 550px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#fef795;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#f6a1af;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:102}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:10%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:15%;left:57%;transform:translate(-50%,-50%) rotate(19deg);width:215px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(-13deg);width:210px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:221px}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})()}]}];let GMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[j6.forRoot($Me),j6]})}return i})(),qMe=(()=>{class i{constructor(e){this.router=e,this.title="hydroponic_application"}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)(T(ks))};static#t=this.\u0275cmp=ct({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Fe(0,"router-outlet")},dependencies:[jy]})}return i})();function zY(i){return new X(3e3,!1)}function Sh(i){switch(i.length){case 0:return new U0;case 1:return i[0];default:return new u9(i)}}function HY(i,t,e=new Map,n=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((p,g)=>{let b=g,w=p;if("offset"!==g)switch(b=i.normalizePropertyName(b,r),w){case"!":w=e.get(g);break;case Ld:w=n.get(g);break;default:w=i.normalizeStyleValue(g,b,w,r)}h.set(b,w)}),d||o.push(h),a=h,s=l}),r.length)throw function g1e(i){return new X(3502,!1)}();return o}function PN(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&ON(e,"start",i)));break;case"done":i.onDone(()=>n(e&&ON(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&ON(e,"destroy",i)))}}function ON(i,t,e){const o=NN(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),s=i._data;return null!=s&&(o._data=s),o}function NN(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Da(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function UY(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const I1e=(()=>typeof document>"u"?null:document.documentElement)();function FN(i){const t=i.parentNode||i.host||null;return t===I1e?null:t}let zp=null,jY=!1;function WY(i,t){for(;t;){if(t===i)return!0;t=FN(t)}return!1}function $Y(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let GY=(()=>{class i{validateStyleProperty(e){return function M1e(i){zp||(zp=function A1e(){return typeof document<"u"?document.body:null}()||{},jY=!!zp.style&&"WebkitAppearance"in zp.style);let t=!0;return zp.style&&!function S1e(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in zp.style,!t&&jY&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in zp.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return WY(e,n)}getParentElement(e){return FN(e)}query(e,n,r){return $Y(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],c){return new U0(r,o)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})(),LN=(()=>{class i{static#e=this.NOOP=new GY}return i})();const R1e=1e3,VN="ng-enter",QD="ng-leave",XD="ng-trigger",JD=".ng-trigger",YY="ng-animating",BN=".ng-animating";function qd(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zN(parseFloat(t[1]),t[2])}function zN(i,t){return"s"===t?i*R1e:i}function eI(i,t,e){return i.hasOwnProperty("duration")?i:function O1e(i,t,e){let r,o=0,s="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(zY()),{duration:0,delay:0,easing:""};r=zN(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=zN(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=i;if(!e){let a=!1,c=t.length;r<0&&(t.push(function YMe(){return new X(3100,!1)}()),a=!0),o<0&&(t.push(function ZMe(){return new X(3101,!1)}()),a=!0),a&&t.splice(c,0,zY())}return{duration:r,delay:o,easing:s}}(i,t,e)}function xw(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function ZY(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Mh(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function Pl(i,t,e){t.forEach((n,r)=>{const o=UN(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Hp(i,t){t.forEach((e,n)=>{const r=UN(n);i.style[r]=""})}function Cw(i){return Array.isArray(i)?1==i.length?i[0]:d9(i):i}const HN=new RegExp("{{\\s*(.+?)\\s*}}","g");function QY(i){let t=[];if("string"==typeof i){let e;for(;e=HN.exec(i);)t.push(e[1]);HN.lastIndex=0}return t}function Ew(i,t,e){const n=i.toString(),r=n.replace(HN,(o,s)=>{let a=t[s];return null==a&&(e.push(function QMe(i){return new X(3003,!1)}()),a=""),a.toString()});return r==n?i:r}function tI(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const L1e=/-+([a-z0-9])/g;function UN(i){return i.replace(L1e,(...t)=>t[1].toUpperCase())}function Ia(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function XMe(i){return new X(3004,!1)}()}}function XY(i,t){return window.getComputedStyle(i)[t]}const iI="*";function z1e(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function H1e(i,t,e){if(":"==i[0]){const c=function U1e(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function h1e(i){return new X(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof c)return void t.push(c);i=c}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function u1e(i){return new X(3015,!1)}()),t;const r=n[1],o=n[2],s=n[3];t.push(JY(r,s));"<"==o[0]&&!(r==iI&&s==iI)&&t.push(JY(s,r))}(n,e,t)):e.push(i),e}const nI=new Set(["true","1"]),rI=new Set(["false","0"]);function JY(i,t){const e=nI.has(i)||rI.has(i),n=nI.has(t)||rI.has(t);return(r,o)=>{let s=i==iI||i==r,a=t==iI||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?nI.has(i):rI.has(i)),!a&&n&&"boolean"==typeof o&&(a=o?nI.has(t):rI.has(t)),s&&a}}const j1e=new RegExp("s*:selfs*,?","g");function jN(i,t,e,n){return new W1e(i).build(t,e,n)}class W1e{constructor(t){this._driver=t}build(t,e,n){const r=new q1e(e);return this._resetContextStyleTimingState(r),Ia(this,Cw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function e1e(){return new X(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function t1e(){return new X(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{QY(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(tI(o.values()),e.errors.push(function i1e(i,t){return new X(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ia(this,Cw(t.animation),e);return{type:1,matchers:z1e(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Up(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Ia(this,n,e)),options:Up(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=n;const a=Ia(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Up(t.options)}}visitAnimate(t,e){const n=function Z1e(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return WN(eI(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=WN(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=eI(e,t);return WN(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Ye({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};n.easing&&(l.easing=n.easing),s=Ye(l)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Ld?n.push(a):e.errors.push(new X(3002,!1)):n.push(ZY(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function r1e(i,t,e,n,r){return new X(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),e.options&&function F1e(i,t,e){const n=t.params||{},r=QY(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function KMe(i){return new X(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function o1e(){return new X(3011,!1)}()),n;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(S=>{const D=this._makeStyleAst(S,e);let M=null!=D.offset?D.offset:function Y1e(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(D.styles),L=0;return null!=M&&(o++,L=D.offset=M),c=c||L<0||L>1,a=a||L<l,l=L,s.push(L),D});c&&e.errors.push(function s1e(){return new X(3012,!1)}()),a&&e.errors.push(function a1e(){return new X(3200,!1)}());const h=t.steps.length;let p=0;o>0&&o<h?e.errors.push(function c1e(){return new X(3202,!1)}()):0==o&&(p=1/(h-1));const g=h-1,b=e.currentTime,w=e.currentAnimateTimings,x=w.duration;return d.forEach((S,D)=>{const M=p>0?D==g?1:p*D:s[D],L=M*x;e.currentTime=b+w.delay+L,w.duration=L,this._validateStyleAst(S,e),S.offset=M,n.styles.push(S)}),n}visitReference(t,e){return{type:8,animation:Ia(this,Cw(t.animation),e),options:Up(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Up(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Up(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function $1e(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(j1e,"")),i=i.replace(/@\*/g,JD).replace(/@\w+/g,e=>JD+"-"+e.slice(1)).replace(/:animating/g,BN),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Da(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ia(this,Cw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Up(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function l1e(){return new X(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:eI(t.timings,e.errors,!0);return{type:12,animation:Ia(this,Cw(t.animation),e),timings:n,options:null}}}class q1e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Up(i){return i?(i=xw(i)).params&&(i.params=function G1e(i){return i?xw(i):null}(i.params)):i={},i}function WN(i,t,e){return{duration:i,delay:t,easing:e}}function $N(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class oI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const X1e=new RegExp(":enter","g"),eAe=new RegExp(":leave","g");function GN(i,t,e,n,r,o=new Map,s=new Map,a,c,l=[]){return(new tAe).buildKeyframes(i,t,e,n,r,o,s,a,c,l)}class tAe{buildKeyframes(t,e,n,r,o,s,a,c,l,d=[]){l=l||new oI;const h=new qN(t,e,l,r,o,d,[]);h.options=c;const p=c.delay?qd(c.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,c),Ia(this,n,h);const g=h.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let w=g.length-1;w>=0;w--){const x=g[w];if(x.element===e){b=x;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,h.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[$N(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:qd(Ew(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?qd(n.duration):null,a=null!=n.delay?qd(n.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ia(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=sI);const s=qd(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ia(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?qd(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ia(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return eI(e.params?Ew(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?qd(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sI);let s=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const h=e.createSubContext(t.options,l);o&&h.delayNextStep(o),l===e.element&&(c=h.currentTimeline),Ia(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=n.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;Ia(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}}const sI={};class qN{constructor(t,e,n,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new aI(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=qd(n.duration)),null!=n.delay&&(r.delay=qd(n.delay));const o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ew(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new qN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=sI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new iAe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(X1e,"."+this._enterClassName)).replace(eAe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),a.push(...l)}return!o&&0==a.length&&s.push(function d1e(i){return new X(3014,!1)}()),a}}class aI{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new aI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Ld),this._currentKeyframe.set(e,Ld);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function nAe(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,Ld)}else Mh(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=Ew(c,o,n);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ld),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=Mh(a,new Map,this._backFill);l.forEach((d,h)=>{"!"===d?t.add(h):d===Ld&&e.add(h)}),n||l.set("offset",c/this.duration),r.push(l)});const o=t.size?tI(t.values()):[],s=e.size?tI(e.values()):[];if(n){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return $N(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class iAe extends aI{constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,a=e/s,c=Mh(t[0]);c.set("offset",0),o.push(c);const l=Mh(t[0]);l.set("offset",iZ(a)),o.push(l);const d=t.length-1;for(let h=1;h<=d;h++){let p=Mh(t[h]);const g=p.get("offset");p.set("offset",iZ((e+g*n)/s)),o.push(p)}n=s,e=0,r="",t=o}return $N(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function iZ(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class YN{}const rAe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class oAe extends YN{normalizePropertyName(t,e){return UN(t)}normalizeStyleValue(t,e,n,r){let o="";const s=n.toString().trim();if(rAe.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function JMe(i,t){return new X(3005,!1)}())}return s+o}}function nZ(i,t,e,n,r,o,s,a,c,l,d,h,p){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:p}}const ZN={};class rZ{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function sAe(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,c,l,d){const h=[],p=this.ast.options&&this.ast.options.params||ZN,b=this.buildStyles(n,a&&a.params||ZN,h),w=c&&c.params||ZN,x=this.buildStyles(r,w,h),S=new Set,D=new Map,M=new Map,L="void"===r,z={params:aAe(w,p),delay:this.ast.options?.delay},Z=d?[]:GN(t,e,this.ast.animation,o,s,b,x,z,l,h);let ue=0;if(Z.forEach(fe=>{ue=Math.max(fe.duration+fe.delay,ue)}),h.length)return nZ(e,this._triggerName,n,r,L,b,x,[],[],D,M,ue,h);Z.forEach(fe=>{const Me=fe.element,ve=Da(D,Me,new Set);fe.preStyleProps.forEach(Rt=>ve.add(Rt));const xe=Da(M,Me,new Set);fe.postStyleProps.forEach(Rt=>xe.add(Rt)),Me!==e&&S.add(Me)});const ie=tI(S.values());return nZ(e,this._triggerName,n,r,L,b,x,Z,ie,D,M,ue)}}function aAe(i,t){const e=xw(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class cAe{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=xw(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ew(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),n.set(a,s)})}),n}}class dAe{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new cAe(r.style,r.options&&r.options.params||{},n))}),oZ(this.states,"true","1"),oZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new rZ(t,r,this.states))}),this.fallbackTransition=function uAe(i,t,e){return new rZ(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function oZ(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const hAe=new oI;class mAe{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=jN(this._driver,e,n,[]);if(n.length)throw function _1e(i){return new X(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=HY(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=GN(this._driver,e,o,VN,QD,new Map,new Map,n,hAe,r),s.forEach(d=>{const h=Da(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function v1e(){return new X(3300,!1)}()),s=[]),r.length)throw function b1e(i){return new X(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,g)=>{d.set(g,this._driver.computeStyle(h,g,Ld))})});const l=Sh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function y1e(i){return new X(3301,!1)}();return e}listen(t,e,n,r){const o=NN(e,"","","");return PN(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const sZ="ng-animate-queued",KN="ng-animate-disabled",vAe=[],aZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bAe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rc="__ng_removed";class QN{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function CAe(i){return i??null}(n?t.value:t),n){const o=xw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const kw="void",XN=new QN(kw);class yAe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,sc(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function w1e(i,t){return new X(3302,!1)}();if(null==n||0==n.length)throw function x1e(i){return new X(3303,!1)}();if(!function EAe(i){return"start"==i||"done"==i}(n))throw function C1e(i,t){return new X(3400,!1)}();const o=Da(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Da(this._engine.statesByElement,t,new Map);return a.has(e)||(sc(t,XD),sc(t,XD+"-"+e),a.set(e,XN)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function E1e(i){return new X(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),s=new JN(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(sc(t,XD),sc(t,XD+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new QN(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=XN),l.value!==kw&&c.value===l.value){if(!function DAe(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(c.params,l.params)){const w=[],x=o.matchStyles(c.value,c.params,w),S=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Hp(t,x),Pl(t,S)})}return}const p=Da(this._engine.playersByElement,t,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,t,l.params),b=!1;if(!g){if(!r)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(sc(t,sZ),s.onStart(()=>{W_(t,sZ)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const x=this._engine.playersByElement.get(t);if(x){let S=x.indexOf(s);S>=0&&x.splice(S,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,JD,!0);n.forEach(r=>{if(r[Rc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,kw,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Sh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=n.get(s)||XN,d=new QN(kw),h=new JN(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Rc];(!o||o===aZ)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){sc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const c=NN(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,PN(n.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class wAe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new yAe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=n.indexOf(c);n.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(cI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cI(e))return;const o=e[Rc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),sc(t,KN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),W_(t,KN))}removeNode(t,e,n){if(cI(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Rc]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return cI(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,JD,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BN,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Sh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Rc];if(e&&e.setForRemoval){if(t[Rc]=aZ,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(KN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)sc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Sh(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function k1e(i){return new X(3402,!1)}()}_flushAnimations(t,e){const n=new oI,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Pe=>{d.add(Pe);const Ue=this.driver.query(Pe,".ng-animate-queued",!0);for(let ht=0;ht<Ue.length;ht++)d.add(Ue[ht])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=dZ(p,this.collectedEnterElements),b=new Map;let w=0;g.forEach((Pe,Ue)=>{const ht=VN+w++;b.set(Ue,ht),Pe.forEach(at=>sc(at,ht))});const x=[],S=new Set,D=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const Ue=this.collectedLeaveElements[Pe],ht=Ue[Rc];ht&&ht.setForRemoval&&(x.push(Ue),S.add(Ue),ht.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(at=>S.add(at)):D.add(Ue))}const M=new Map,L=dZ(p,Array.from(S));L.forEach((Pe,Ue)=>{const ht=QD+w++;M.set(Ue,ht),Pe.forEach(at=>sc(at,ht))}),t.push(()=>{g.forEach((Pe,Ue)=>{const ht=b.get(Ue);Pe.forEach(at=>W_(at,ht))}),L.forEach((Pe,Ue)=>{const ht=M.get(Ue);Pe.forEach(at=>W_(at,ht))}),x.forEach(Pe=>{this.processLeaveNode(Pe)})});const z=[],Z=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(ht=>{const at=ht.player,Li=ht.element;if(z.push(at),this.collectedEnterElements.length){const rs=Li[Rc];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(ht.triggerName)){const Ef=rs.previousTriggersValues.get(ht.triggerName),pc=this.statesByElement.get(ht.element);if(pc&&pc.has(ht.triggerName)){const bM=pc.get(ht.triggerName);bM.value=Ef,pc.set(ht.triggerName,bM)}}return void at.destroy()}}const Cn=!h||!this.driver.containsElement(h,Li),tr=M.get(Li),ns=b.get(Li),Si=this._buildInstruction(ht,n,ns,tr,Cn);if(Si.errors&&Si.errors.length)return void Z.push(Si);if(Cn)return at.onStart(()=>Hp(Li,Si.fromStyles)),at.onDestroy(()=>Pl(Li,Si.toStyles)),void r.push(at);if(ht.isFallbackTransition)return at.onStart(()=>Hp(Li,Si.fromStyles)),at.onDestroy(()=>Pl(Li,Si.toStyles)),void r.push(at);const zc=[];Si.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||zc.push(rs)}),Si.timelines=zc,n.append(Li,Si.timelines),s.push({instruction:Si,player:at,element:Li}),Si.queriedElements.forEach(rs=>Da(a,rs,[]).push(at)),Si.preStyleProps.forEach((rs,Ef)=>{if(rs.size){let pc=c.get(Ef);pc||c.set(Ef,pc=new Set),rs.forEach((bM,x3)=>pc.add(x3))}}),Si.postStyleProps.forEach((rs,Ef)=>{let pc=l.get(Ef);pc||l.set(Ef,pc=new Set),rs.forEach((bM,x3)=>pc.add(x3))})});if(Z.length){const Pe=[];Z.forEach(Ue=>{Pe.push(function T1e(i,t){return new X(3505,!1)}())}),z.forEach(Ue=>Ue.destroy()),this.reportError(Pe)}const ue=new Map,ie=new Map;s.forEach(Pe=>{const Ue=Pe.element;n.has(Ue)&&(ie.set(Ue,Ue),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,ue))}),r.forEach(Pe=>{const Ue=Pe.element;this._getPreviousPlayers(Ue,!1,Pe.namespaceId,Pe.triggerName,null).forEach(at=>{Da(ue,Ue,[]).push(at),at.destroy()})});const fe=x.filter(Pe=>hZ(Pe,c,l)),Me=new Map;lZ(Me,this.driver,D,l,Ld).forEach(Pe=>{hZ(Pe,c,l)&&fe.push(Pe)});const xe=new Map;g.forEach((Pe,Ue)=>{lZ(xe,this.driver,new Set(Pe),c,"!")}),fe.forEach(Pe=>{const Ue=Me.get(Pe),ht=xe.get(Pe);Me.set(Pe,new Map([...Ue?.entries()??[],...ht?.entries()??[]]))});const Rt=[],Qt=[],Ii={};s.forEach(Pe=>{const{element:Ue,player:ht,instruction:at}=Pe;if(n.has(Ue)){if(d.has(Ue))return ht.onDestroy(()=>Pl(Ue,at.toStyles)),ht.disabled=!0,ht.overrideTotalTime(at.totalTime),void r.push(ht);let Li=Ii;if(ie.size>1){let tr=Ue;const ns=[];for(;tr=tr.parentNode;){const Si=ie.get(tr);if(Si){Li=Si;break}ns.push(tr)}ns.forEach(Si=>ie.set(Si,Li))}const Cn=this._buildAnimation(ht.namespaceId,at,ue,o,xe,Me);if(ht.setRealPlayer(Cn),Li===Ii)Rt.push(ht);else{const tr=this.playersByElement.get(Li);tr&&tr.length&&(ht.parentPlayer=Sh(tr)),r.push(ht)}}else Hp(Ue,at.fromStyles),ht.onDestroy(()=>Pl(Ue,at.toStyles)),Qt.push(ht),d.has(Ue)&&r.push(ht)}),Qt.forEach(Pe=>{const Ue=o.get(Pe.element);if(Ue&&Ue.length){const ht=Sh(Ue);Pe.setRealPlayer(ht)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<x.length;Pe++){const Ue=x[Pe],ht=Ue[Rc];if(W_(Ue,QD),ht&&ht.hasAnimation)continue;let at=[];if(a.size){let Cn=a.get(Ue);Cn&&Cn.length&&at.push(...Cn);let tr=this.driver.query(Ue,BN,!0);for(let ns=0;ns<tr.length;ns++){let Si=a.get(tr[ns]);Si&&Si.length&&at.push(...Si)}}const Li=at.filter(Cn=>!Cn.destroyed);Li.length?kAe(this,Ue,Li):this.processLeaveNode(Ue)}return x.length=0,Rt.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const Ue=this.players.indexOf(Pe);this.players.splice(Ue,1)}),Pe.play()}),Rt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==kw;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,h=Da(n,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(g=>{const b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),h.push(g)})}Hp(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,h=new Set,p=e.timelines.map(b=>{const w=b.element;d.add(w);const x=w[Rc];if(x&&x.removedBeforeQueried)return new U0(b.duration,b.delay);const S=w!==c,D=function TAe(i){const t=[];return uZ(i,t),t}((n.get(w)||vAe).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===w),M=o.get(w),L=s.get(w),z=HY(this._normalizer,b.keyframes,M,L),Z=this._buildPlayer(b,z,D);if(b.subTimeline&&r&&h.add(w),S){const ue=new JN(t,a,w);ue.setRealPlayer(Z),l.push(ue)}return Z});l.forEach(b=>{Da(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function xAe(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>sc(b,YY));const g=Sh(p);return g.onDestroy(()=>{d.forEach(b=>W_(b,YY)),Pl(c,e.toStyles)}),h.forEach(b=>{Da(r,b,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new U0(t.duration,t.delay)}}class JN{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new U0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>PN(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Da(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cI(i){return i&&1===i.nodeType}function cZ(i,t){const e=i.style.display;return i.style.display=t??"none",e}function lZ(i,t,e,n,r){const o=[];e.forEach(c=>o.push(cZ(c)));const s=[];n.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const p=t.computeStyle(l,h,r);d.set(h,p),(!p||0==p.length)&&(l[Rc]=bAe,s.push(l))}),i.set(l,d)});let a=0;return e.forEach(c=>cZ(c,o[a++])),s}function dZ(i,t){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function sc(i,t){i.classList?.add(t)}function W_(i,t){i.classList?.remove(t)}function kAe(i,t,e){Sh(e).onDone(()=>i.processLeaveNode(t))}function uZ(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof u9?uZ(n.players,t):t.push(n)}}function hZ(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class lI{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new wAe(t,e,n),this._timelineEngine=new mAe(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=jN(this._driver,o,c,[]);if(c.length)throw function f1e(i,t){return new X(3404,!1)}();a=function lAe(i,t,e){return new dAe(i,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,s]=UY(n);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[s,a]=UY(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let SAe=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pl(this._element,this._initialStyles),this._endStyles&&(Pl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hp(this._element,this._endStyles),this._endStyles=null),Pl(this._element,this._initialStyles),this._state=3)}}return i})();function eF(i){let t=null;return i.forEach((e,n)=>{(function MAe(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class mZ{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:XY(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class AAe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return WY(t,e)}getParentElement(t){return FN(t)}query(t,e,n){return $Y(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,s=[]){const c={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(g=>g instanceof mZ);(function V1e(i,t){return 0===i||0===t})(n,r)&&d.forEach(g=>{g.currentSnapshot.forEach((b,w)=>l.set(w,b))});let h=function N1e(i){return i.length?i[0]instanceof Map?i:i.map(t=>ZY(t)):[]}(e).map(g=>Mh(g));h=function B1e(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,XY(i,a)))}}return t}(t,h,l);const p=function IAe(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=eF(t[0]),t.length>1&&(n=eF(t[t.length-1]))):t instanceof Map&&(e=eF(t)),e||n?new SAe(i,e,n):null}(t,h);return new mZ(t,h,c,p)}}let RAe=(()=>{class i extends l9{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Eo.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?d9(e):e;return pZ(this._renderer,null,n,"register",[r]),new PAe(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(W(ry),W(At))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();class PAe extends Awe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new OAe(this._id,t,e||{},this._renderer)}}class OAe{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return pZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pZ(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const fZ="@.disabled";let NAe=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let d=this._rendererCache.get(o);return d||(d=new gZ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return n.data.animation.forEach(c),new FAe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(W(ry),W(lI),W(Ke))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();class gZ{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==fZ?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class FAe extends gZ{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==fZ?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function LAe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function VAe(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}let BAe=(()=>{class i extends lI{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(W(At),W(LN),W(YN),W(Gu))};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac})}return i})();const _Z=[{provide:l9,useClass:RAe},{provide:YN,useFactory:function zAe(){return new oAe}},{provide:lI,useClass:BAe},{provide:ry,useFactory:function HAe(i,t,e){return new NAe(i,t,e)},deps:[VR,lI,Ke]}],tF=[{provide:LN,useFactory:()=>new AAe},{provide:Ro,useValue:"BrowserAnimations"},..._Z],vZ=[{provide:LN,useClass:GY},{provide:Ro,useValue:"NoopAnimations"},..._Z];let UAe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?vZ:tF}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:tF,imports:[Mj]})}return i})();const GAe=new Y("NGX_SPINNER_CONFIG");let qAe=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:GAe,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[qi]})}return i})();class nRe{constructor(){this.change=new ze,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}let rRe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({providers:[nRe],imports:[[qi]]}),i})();var oRe=function(){function i(){}return i.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},i.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},i.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},i.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},i.prototype.position=function(t,e){void 0===e&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n={top:(n=t.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},i.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r_top,bottom:n.bottom+r_top,left:n.left+r_left,right:n.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},i.prototype.positionElements=function(t,e,n,r){var o=n.split("-"),s=o[0],a=void 0===s?"top":s,c=o[1],l=void 0===c?"center":c,d=r?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),p=parseFloat(h.marginTop),g=parseFloat(h.marginBottom),b=parseFloat(h.marginLeft),w=parseFloat(h.marginRight),x=0,S=0;switch(a){case"top":x=d.top-(e.offsetHeight+p+g);break;case"bottom":x=d.top+d.height;break;case"left":S=d.left-(e.offsetWidth+b+w);break;case"right":S=d.left+d.width}switch(l){case"top":x=d.top;break;case"bottom":x=d.top+d.height-e.offsetHeight;break;case"left":S=d.left;break;case"right":S=d.left+d.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?S=d.left+d.width/2-e.offsetWidth/2:x=d.top+d.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(S)+"px, "+Math.round(x)+"px)";var D=e.getBoundingClientRect(),M=document.documentElement,L=window.innerHeight||M.clientHeight,z=window.innerWidth||M.clientWidth;return D.left>=0&&D.top>=0&&D.right<=z&&D.bottom<=L},i}();new oRe;var Pc=function(){return Pc=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Pc.apply(this,arguments)},iF=function(i,t,e){if(e||2===arguments.length)for(var o,n=0,r=t.length;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},nF=function(i){return i[i.SUNDAY=0]="SUNDAY",i[i.MONDAY=1]="MONDAY",i[i.TUESDAY=2]="TUESDAY",i[i.WEDNESDAY=3]="WEDNESDAY",i[i.THURSDAY=4]="THURSDAY",i[i.FRIDAY=5]="FRIDAY",i[i.SATURDAY=6]="SATURDAY",i}(nF||{}),aRe=[nF.SUNDAY,nF.SATURDAY],rF=7,Ah=86400;function wZ(i,t){var e=t.startDate,r=t.excluded,o=t.precision;if(r.length<1)return 0;for(var a=i.getDay,c=i.addDays,l=(0,i.addSeconds)(e,t.seconds-1),d=a(e),h=a(l),p=0,g=e,b=function(){var w=a(g);r.some(function(x){return x===w})&&(p+=function cRe(i,t){var n=t.day,o=t.dayEnd,s=t.startDate,a=t.endDate,c=i.differenceInSeconds,d=i.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return c((0,i.endOfDay)(s),s)+1;if(n===o)return c(a,d(a))+1}return Ah}(i,{dayStart:d,dayEnd:h,day:w,precision:o,startDate:e,endDate:l})),g=c(g,1)};g<l;)b();return p}function Tw(i,t){var n=t.periodStart,r=t.periodEnd;return t.events.filter(function(o){return function uRe(i,t){var e=t.event,n=t.periodStart,r=t.periodEnd,o=i.isSameSecond,s=e.start,a=e.end||e.start;return!!(s>n&&s<r||a>n&&a<r||s<n&&a>r||o(s,n)||o(s,r)||o(a,n)||o(a,r))}(i,{event:o,periodStart:n,periodEnd:r})})}function xZ(i,t){var e=t.date,n=t.weekendDays,r=void 0===n?aRe:n,s=i.isSameDay,a=i.getDay,c=(0,i.startOfDay)(new Date),l=a(e);return{date:e,day:l,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:r.indexOf(l)>-1}}function sF(i,t){for(var r=t.excluded,o=void 0===r?[]:r,s=t.weekendDays,a=t.viewStart,c=void 0===a?i.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):a,l=t.viewEnd,d=void 0===l?i.addDays(c,rF):l,h=i.addDays,p=i.getDay,g=[],b=c;b<d;)o.some(function(w){return p(b)===w})||g.push(xZ(i,{date:b,weekendDays:s})),b=h(b,1);return g}function mRe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.excluded,o=void 0===r?[]:r,s=t.precision,a=void 0===s?"days":s,c=t.absolutePositionedEvents,l=void 0!==c&&c,d=t.viewStart,h=t.viewEnd;d=i.startOfDay(d),h=i.endOfDay(h);var p=i.differenceInSeconds,g=i.differenceInDays,b=function hRe(i,t){for(var n=t.date2,r=t.excluded,o=t.date1,s=0;o<n;)-1===r.indexOf(i.getDay(o))&&s++,o=i.addDays(o,1);return s}(i,{date1:d,date2:h,excluded:o}),w=g(h,d)+1,x=n.filter(function(M){return M.allDay}).map(function(M){var L=function dRe(i,t){var e=t.event,n=t.startOfWeek,r=t.excluded,o=t.precision,s=i.differenceInDays,a=i.startOfDay,c=i.differenceInSeconds;if(e.start<n)return 0;var l=0;switch(o){case"days":l=s(a(e.start),n)*Ah;break;case"minutes":l=c(e.start,n)}return l-=wZ(i,{startDate:n,seconds:l,excluded:r,precision:o}),Math.abs(l/Ah)}(i,{event:M,startOfWeek:d,excluded:o,precision:a}),z=function lRe(i,t){var e=t.event,n=t.offset,o=t.excluded,s=t.precision,a=t.totalDaysInView,l=i.differenceInSeconds,d=i.addDays,h=i.endOfDay,p=i.differenceInDays,g=Ah,b=(0,i.max)([e.start,t.startOfWeekDate]);e.end&&(g="minutes"===s?l(e.end,b):p(d(h(e.end),1),b)*Ah);var w=n*Ah,S=a*Ah;return w+g>S&&(g=S-w),(g-=wZ(i,{startDate:b,seconds:g,excluded:o,precision:s}))/Ah}(i,{event:M,offset:L,startOfWeekDate:d,excluded:o,precision:a,totalDaysInView:w});return{event:M,offset:L,span:z}}).filter(function(M){return M.offset<b}).filter(function(M){return M.span>0}).map(function(M){return{event:M.event,offset:M.offset,span:M.span,startsBeforeWeek:M.event.start<d,endsAfterWeek:(M.event.end||M.event.start)>h}}).sort(function(M,L){var z=p(M.event.start,L.event.start);return 0===z?p(L.event.end||L.event.start,M.event.end||M.event.start):z}),S=[],D=[];return x.forEach(function(M,L){if(-1===D.indexOf(M)){D.push(M);var z=M.span+M.offset,Z=x.slice(L+1).filter(function(fe){if(fe.offset>=z&&z+fe.span<=w&&-1===D.indexOf(fe)){var Me=fe.offset-z;return l||(fe.offset=Me),z+=fe.span+Me,D.push(fe),!0}}),ue=iF([M],Z,!0),ie=ue.filter(function(fe){return fe.event.id}).map(function(fe){return fe.event.id}).join("-");S.push(Pc({row:ue},ie?{id:ie}:{}))}}),S}function pRe(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.hourDuration,s=t.dayStart,a=t.dayEnd,c=t.weekStartsOn,l=t.excluded,d=t.weekendDays,h=t.segmentHeight,p=t.viewStart,g=t.viewEnd,b=t.minimumEventHeight,w=function vRe(i,t){var e=t.viewDate,n=t.hourSegments,r=t.hourDuration,o=t.dayStart,s=t.dayEnd,a=i.setMinutes,c=i.setHours,l=i.startOfDay,d=i.startOfMinute,h=i.endOfDay,p=i.addMinutes,g=i.addDays,b=[],w=a(c(l(e),mI(o.hour)),pI(o.minute)),x=a(c(d(h(e)),mI(s.hour)),pI(s.minute)),S=(r||60)/n,D=l(e),M=h(e),L=function(Me){return Me};i.getTimezoneOffset(D)!==i.getTimezoneOffset(M)&&(D=g(D,1),w=g(w,1),x=g(x,1),L=function(Me){return g(Me,-1)});for(var z=r?1440/r:60,Z=0;Z<z;Z++){for(var ue=[],ie=0;ie<n;ie++){var fe=p(p(w,Z*(r||60)),ie*S);fe>=w&&fe<x&&ue.push({date:L(fe),displayDate:fe,isStart:0===ie})}ue.length>0&&b.push({segments:ue})}return b}(i,{viewDate:n,hourSegments:r,hourDuration:o,dayStart:s,dayEnd:a}),x=sF(i,{viewDate:n,weekStartsOn:c,excluded:l,weekendDays:d,viewStart:p,viewEnd:g}),S=i.setHours,D=i.setMinutes,M=i.getHours,L=i.getMinutes;return x.map(function(z){var Z=function _Re(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.dayStart,s=t.dayEnd,a=t.eventWidth,c=t.segmentHeight,l=t.hourDuration,d=t.minimumEventHeight,h=i.setMinutes,p=i.setHours,g=i.startOfDay,b=i.startOfMinute,w=i.endOfDay,x=i.differenceInMinutes,S=h(p(g(n),mI(o.hour)),pI(o.minute)),D=h(p(b(w(n)),mI(s.hour)),pI(s.minute));D.setSeconds(59,999);var M=[],L=Tw(i,{events:e.filter(function(ie){return!ie.allDay}),periodStart:S,periodEnd:D}),z=L.sort(function(ie,fe){return ie.start.valueOf()-fe.start.valueOf()}).map(function(ie){var fe=ie.start,Me=ie.end||fe,ve=fe<S,xe=Me>D,Rt=r*c/(l||60),Qt=0;if(fe>S){var Ii=i.getTimezoneOffset(fe),Ue=i.getTimezoneOffset(S)-Ii;Qt+=x(fe,S)+Ue}Qt*=Rt,Qt=Math.floor(Qt);var ht=ve?S:fe,at=xe?D:Me,Li=i.getTimezoneOffset(ht)-i.getTimezoneOffset(at),Cn=x(at,ht)+Li;ie.end?Cn*=Rt:Cn=c,d&&Cn<d&&(Cn=d),Cn=Math.floor(Cn);for(var ns=hI(M,Qt,Qt+Cn),Si=0;ns.some(function(Hc){return Hc.left===Si});)Si+=a;var zc={event:ie,height:Cn,width:a,top:Qt,left:Si,startsBeforeDay:ve,endsAfterDay:xe};return M.push(zc),zc}),Z=Math.max.apply(Math,z.map(function(ie){return ie.left+ie.width})),ue=Tw(i,{events:e.filter(function(ie){return ie.allDay}),periodStart:g(S),periodEnd:w(D)});return{events:z,width:Z,allDayEvents:ue,period:{events:L,start:S,end:D}}}(i,{events:e,viewDate:z.date,hourSegments:r,dayStart:s,dayEnd:a,segmentHeight:h,eventWidth:1,hourDuration:o,minimumEventHeight:b}),ue=w.map(function(Me){var ve=Me.segments.map(function(xe){var Rt=D(S(z.date,M(xe.date)),L(xe.date));return Pc(Pc({},xe),{date:Rt})});return Pc(Pc({},Me),{segments:ve})});function ie(Me,ve){var xe=Math.max.apply(Math,ve.map(function(Qt){return Qt.left+1})),Rt=Me.filter(function(Qt){return Qt.left>=xe}).filter(function(Qt){return hI(ve,Qt.top,Qt.top+Qt.height).length>0});return Rt.length>0?ie(Me,Rt):xe}var fe=Z.events.map(function(Me){var xe=100/ie(Z.events,hI(Z.events,Me.top,Me.top+Me.height));return Pc(Pc({},Me),{left:Me.left*xe,width:xe})});return{hours:ue,date:z.date,events:fe.map(function(Me){var ve=hI(fe.filter(function(xe){return xe.left>Me.left}),Me.top,Me.top+Me.height);return ve.length>0?Pc(Pc({},Me),{width:Math.min.apply(Math,ve.map(function(xe){return xe.left}))-Me.left}):Me})}})}function hI(i,t,e){return i.filter(function(n){var r=n.top,o=n.top+n.height;return t<o&&o<e||t<r&&r<e||r<=t&&e<=o})}function mI(i){return Math.max(Math.min(23,i),0)}function pI(i){return Math.max(Math.min(59,i),0)}"function"==typeof Symbol&&Symbol;var Dw=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var i=0,t=Dw.length;i<t&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[Dw[i]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=(new Date).getTime(),o=Math.max(0,16-r-e),s=window.setTimeout(function(){return n(r+o)},o);return e=r+o,s}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var i=0,t=Dw.length;i<t&&!window.cancelAnimationFrame;++i)window.cancelAnimationFrame=window[Dw[i]+"CancelAnimationFrame"]||window[Dw[i]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let fI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({}),i})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let AZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({}),i})(),NZ=(()=>{class i{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`\n        ${eo(e.date,"EEEE MMMM d",n)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${eo(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`\n      Beginning of expanded view for ${eo(e,"EEEE MMMM dd",n)}\n    `}openDayEventsAlert({date:e,locale:n}){return`${eo(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:n});const r=`\n      ${eo(e.start,"EEEE MMMM dd",n)},\n      ${e.title}, from ${eo(e.start,"hh:mm a",n)}\n    `;return e.end?r+` to ${eo(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${eo(e.start,"MMMM dd hh:mm a",n)}\n    `;return e.end?r+`, stop time ${eo(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return i.\u0275fac=function(e){return new(e||i)(W(IR))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class FZ{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class VZ{}let CPe=(()=>{class i{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return eo(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return eo(e,"d",n)}monthViewTitle({date:e,locale:n}){return eo(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return eo(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return eo(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:o,daysInWeek:s}){const{viewStart:a,viewEnd:c}=function wPe(i,t,e,n=[],r){let o=r?i.startOfDay(t):i.startOfWeek(t,{weekStartsOn:e});const s=i.endOfWeek(t,{weekStartsOn:e});for(;n.indexOf(i.getDay(o))>-1&&o<s;)o=i.addDays(o,1);if(r){const a=i.endOfDay(function yPe(i,t,e,n){let r=0,o=0;const s=e<0?i.subDays:i.addDays;let a=t;for(;o<=Math.abs(e);){a=s(t,r);const c=i.getDay(a);-1===n.indexOf(c)&&o++,r++}return a}(i,o,r-1,n));return{viewStart:o,viewEnd:a}}{let a=s;for(;n.indexOf(i.getDay(a))>-1&&a>o;)a=i.subDays(a,1);return{viewStart:o,viewEnd:a}}}(this.dateAdapter,e,r,o,s),l=(d,h)=>eo(d,"MMM d"+(h?", yyyy":""),n);return`${l(a,a.getUTCFullYear()!==c.getUTCFullYear())} - ${l(c,!0)}`}weekViewHour({date:e,locale:n}){return eo(e,"h a",n)}dayViewHour({date:e,locale:n}){return eo(e,"h a",n)}dayViewTitle({date:e,locale:n}){return eo(e,"EEEE, MMMM d, y",n)}}return i.\u0275fac=function(e){return new(e||i)(W(VZ))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),BZ=(()=>{class i extends CPe{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=St(i)))(n||i)}}(),i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),zZ=(()=>{class i{constructor(e){this.dateAdapter=e}getMonthView(e){return function gRe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.viewStart,l=void 0===c?i.startOfMonth(r):c,d=t.viewEnd,h=void 0===d?i.endOfMonth(r):d,p=t.weekendDays;n||(n=[]);for(var fe,b=i.endOfWeek,w=i.differenceInDays,x=i.startOfDay,S=i.addHours,D=i.endOfDay,M=i.isSameMonth,L=i.getDay,z=(0,i.startOfWeek)(l,{weekStartsOn:o}),Z=b(h,{weekStartsOn:o}),ue=Tw(i,{events:n,periodStart:z,periodEnd:Z}),ie=[],Me=function(ht){var at;if(fe?(at=x(S(fe,24)),fe.getTime()===at.getTime()&&(at=x(S(fe,25))),fe=at):at=fe=z,!a.some(function(tr){return L(at)===tr})){var Li=xZ(i,{date:at,weekendDays:p}),Cn=Tw(i,{events:ue,periodStart:x(at),periodEnd:D(at)});Li.inMonth=M(at,r),Li.events=Cn,Li.badgeTotal=Cn.length,ie.push(Li)}},ve=0;ve<w(Z,z)+1;ve++)Me();var xe=[],Rt=rF-a.length;if(Rt<rF)for(ve=0;ve<ie.length;ve+=Rt){var Qt=ie.slice(ve,ve+Rt);Qt.some(function(at){return l<=at.date&&at.date<h})&&(xe=iF(iF([],xe,!0),Qt,!0))}else xe=ie;var Pe=Math.floor(xe.length/Rt),Ue=[];for(ve=0;ve<Pe;ve++)Ue.push(ve*Rt);return{rowOffsets:Ue,totalDaysVisibleInWeek:Rt,days:xe,period:{start:xe[0].date,end:D(xe[xe.length-1].date),events:ue}}}(this.dateAdapter,e)}getWeekViewHeader(e){return sF(this.dateAdapter,e)}getWeekView(e){return function fRe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.precision,l=void 0===c?"days":c,d=t.absolutePositionedEvents,h=void 0!==d&&d,p=t.hourSegments,g=t.hourDuration,b=t.dayStart,w=t.dayEnd,x=t.weekendDays,S=t.segmentHeight,D=t.minimumEventHeight,M=t.viewStart,L=void 0===M?i.startOfWeek(r,{weekStartsOn:o}):M,z=t.viewEnd,Z=void 0===z?i.endOfWeek(r,{weekStartsOn:o}):z;n||(n=[]);var ie=i.endOfDay,fe=Tw(i,{events:n,periodStart:L=(0,i.startOfDay)(L),periodEnd:Z=ie(Z)}),Me=sF(i,{viewDate:r,weekStartsOn:o,excluded:a,weekendDays:x,viewStart:L,viewEnd:Z});return{allDayEventRows:mRe(i,{events:fe,excluded:a,precision:l,absolutePositionedEvents:h,viewStart:L,viewEnd:Z}),period:{events:fe,start:Me[0].date,end:ie(Me[Me.length-1].date)},hourColumns:pRe(i,{events:n,viewDate:r,hourSegments:p,hourDuration:g,dayStart:b,dayEnd:w,weekStartsOn:o,excluded:a,weekendDays:x,segmentHeight:S,viewStart:L,viewEnd:Z,minimumEventHeight:D})}}(this.dateAdapter,e)}}return i.\u0275fac=function(e){return new(e||i)(W(VZ))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();new Y("Moment");let Aw=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||FZ,n.dateFormatter||BZ,n.utils||zZ,n.a11y||NZ]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({providers:[IR],imports:[qi]}),i})();Bn("collapse",[Gt("void",Ye({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Gt("*",Ye({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),ni("* => void",di("150ms ease-out")),ni("void => *",di("150ms ease-in"))]);let HZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({imports:[qi,fI,Aw,fI]}),i})(),pF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({imports:[qi,AZ,fI,Aw,AZ,fI]}),i})(),UZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({imports:[qi,Aw,pF]}),i})(),kPe=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||FZ,n.dateFormatter||BZ,n.utils||zZ,n.a11y||NZ]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({imports:[Aw,HZ,pF,UZ,Aw,HZ,pF,UZ]}),i})();const ac=void 0,DPe=["th",[["a","p"],["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],ac],[["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],ac,ac],[["\u0e2d\u0e32","\u0e08","\u0e2d","\u0e1e","\u0e1e\u0e24","\u0e28","\u0e2a"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],["\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e27\u0e31\u0e19\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18","\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]],ac,[["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],ac,["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"]],ac,[["\u0e01\u0e48\u0e2d\u0e19 \u0e04.\u0e28.","\u0e04.\u0e28."],ac,["\u0e1b\u0e35\u0e01\u0e48\u0e2d\u0e19\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e01\u0e32\u0e25","\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e4c\u0e28\u0e31\u0e01\u0e23\u0e32\u0e0a"]],0,[6,0],["d/M/yy","d MMM y","d MMMM G y","EEEE\u0e17\u0e35\u0e48 d MMMM G y"],["HH:mm","HH:mm:ss","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 z","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 zzzz"],["{1} {0}",ac,ac,ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"THB","\u0e3f","\u0e1a\u0e32\u0e17",{AUD:["AU$","$"],BYN:[ac,"\u0440."],PHP:[ac,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function TPe(i){return 5}],OPe={provide:new Y("mat-autocomplete-scroll-strategy"),deps:[xa],useFactory:function PPe(i){return()=>i.scrollStrategies.reposition()}};let LPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[OPe],imports:[dh,YT,ut,qi,Nd,YT,ut]})}return i})(),qZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),KPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,Ca,qZ,ut,qZ]})}return i})(),lOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,qi,Ca,ut]})}return i})();const pOe={provide:new Y("mat-select-scroll-strategy"),deps:[xa],useFactory:function mOe(i){return()=>i.scrollStrategies.reposition()}};let JZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[pOe],imports:[qi,dh,YT,ut,Nd,WD,YT,ut]})}return i})(),COe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,qi,Ca]})}return i})(),nK=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),NOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[nK,ut,Ca,qi,nK,ut]})}return i})();const BOe={provide:new Y("mat-menu-scroll-strategy"),deps:[xa],useFactory:function VOe(i){return()=>i.scrollStrategies.reposition()}};let zOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[BOe],imports:[qi,Ca,ut,dh,Nd,ut]})}return i})(),UOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[qi,ut,Nd,Nd,ut]})}return i})(),ZOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,qi,ut]})}return i})(),oK=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,ut]})}return i})(),KOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),QOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[qi,ut,KOe,Tl]})}return i})(),e2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[X8,ut,X8,ut]})}return i})(),M2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[UT,qi,ut,Ca,r9,oK]})}return i})(),A2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[E_]})}return i})(),_F=(()=>{class i{constructor(){this.changes=new q,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const U2e={provide:_F,deps:[[new Wo,new ha,_F]],useFactory:function H2e(i){return i||new _F}};let j2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[U2e,qT],imports:[ut,qi,Tl,A2e,BY,Ca,ut]})}return i})(),Y2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[qi,ut,Tl,Ca,UT,V0,ut]})}return i})(),J2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({})}return i})(),oNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[J2e,ut,ut]})}return i})(),hNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,Ca,ut]})}return i})(),mNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[V0,ut,ut]})}return i})();const yI=new Y("mat-chips-default-options");let jNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[qT,{provide:yI,useValue:{separatorKeyCodes:[13]}}],imports:[ut,qi,Ca,ut]})}return i})(),GNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[qi,ut]})}return i})(),YNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut]})}return i})(),ZNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[Y8,ut,Tl,ut]})}return i})(),XNe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[dh,Tl,qi,UD,ut,ut]})}return i})();const nFe={provide:new Y("mat-tooltip-scroll-strategy"),deps:[xa],useFactory:function iFe(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let DK=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[nFe],imports:[V0,qi,dh,ut,ut,Nd]})}return i})(),IF=(()=>{class i{constructor(){this.changes=new q,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const lFe={provide:IF,deps:[[new Wo,new ha,IF]],useFactory:function cFe(i){return i||new IF}};let dFe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[lFe],imports:[qi,UD,JZ,DK]})}return i})(),SF=(()=>{class i{constructor(){this.changes=new q}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const hFe={provide:SF,deps:[[new Wo,new ha,SF]],useFactory:function uFe(i){return i||new SF}};let mFe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({providers:[hFe],imports:[qi,ut]})}return i})(),DFe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[zO]})}return i})(),FFe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i});static#i=this.\u0275inj=Ne({imports:[ut,DFe,ut]})}return i})();function zF(){return te((i,t)=>{let e,n=!1;i.subscribe(Oe(t,r=>{const o=e;e=r,n&&t.next([o,r]),n=!0}))})}var $e,VFe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oc={},HF=HF||{},jt=VFe||self;function RI(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Fw(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var UF="closure_uid_"+(1e9*Math.random()>>>0),zFe=0;function HFe(i,t,e){return i.call.apply(i.bind,arguments)}function UFe(i,t,e){if(!i)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),i.apply(t,r)}}return function(){return i.apply(t,arguments)}}function Qo(i,t,e){return(Qo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HFe:UFe).apply(null,arguments)}function PI(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),i.apply(this,n)}}function fo(i,t){function e(){}e.prototype=t.prototype,i.$=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.ac=function(n,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(n,s)}}function Ph(){this.s=this.s,this.o=this.o}Ph.prototype.s=!1,Ph.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function BFe(i){Object.prototype.hasOwnProperty.call(i,UF)&&i[UF]||(i[UF]=++zFe)}(this)},Ph.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VK=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1};function jF(i){const t=i.length;if(0<t){const e=Array(t);for(let n=0;n<t;n++)e[n]=i[n];return e}return[]}function BK(i,t){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(RI(n)){const r=i.length||0,o=n.length||0;i.length=r+o;for(let s=0;s<o;s++)i[r+s]=n[s]}else i.push(n)}}function Xo(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}Xo.prototype.h=function(){this.defaultPrevented=!0};var WFe=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const e=()=>{};jt.addEventListener("test",e,t),jt.removeEventListener("test",e,t)}catch{}return i}();function Lw(i){return/^[\s\xa0]*$/.test(i)}function OI(){var i=jt.navigator;return i&&(i=i.userAgent)?i:""}function Nl(i){return-1!=OI().indexOf(i)}function WF(i){return WF[" "](i),i}WF[" "]=function(){};var GF,i,GFe=Nl("Opera"),ev=Nl("Trident")||Nl("MSIE"),zK=Nl("Edge"),$F=zK||ev,HK=Nl("Gecko")&&!(-1!=OI().toLowerCase().indexOf("webkit")&&!Nl("Edge"))&&!(Nl("Trident")||Nl("MSIE"))&&!Nl("Edge"),qFe=-1!=OI().toLowerCase().indexOf("webkit")&&!Nl("Edge");function UK(){var i=jt.document;return i?i.documentMode:void 0}e:{var qF="",YF=(i=OI(),HK?/rv:([^\);]+)(\)|;)/.exec(i):zK?/Edge\/([\d\.]+)/.exec(i):ev?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qFe?/WebKit\/(\S+)/.exec(i):GFe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(YF&&(qF=YF?YF[1]:""),ev){var ZF=UK();if(null!=ZF&&ZF>parseFloat(qF)){GF=String(ZF);break e}}GF=qF}var YFe=jt.document&&ev&&(UK()||parseInt(GF,10))||void 0;function Vw(i,t){if(Xo.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,n=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(HK){e:{try{WF(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ZFe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vw.$.h.call(this)}}fo(Vw,Xo);var ZFe={2:"touch",3:"pen",4:"mouse"};Vw.prototype.h=function(){Vw.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Bw="closure_listenable_"+(1e6*Math.random()|0),KFe=0;function QFe(i,t,e,n,r){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!n,this.la=r,this.key=++KFe,this.fa=this.ia=!1}function NI(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function QF(i,t,e){for(const n in i)t.call(e,i[n],n,i)}function WK(i){const t={};for(const e in i)t[e]=i[e];return t}const $K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GK(i,t){let e,n;for(let r=1;r<arguments.length;r++){for(e in n=arguments[r],n)i[e]=n[e];for(let o=0;o<$K.length;o++)e=$K[o],Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}}function FI(i){this.src=i,this.g={},this.h=0}function XF(i,t){var e=t.type;if(e in i.g){var o,n=i.g[e],r=VK(n,t);(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(NI(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function JF(i,t,e,n){for(var r=0;r<i.length;++r){var o=i[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==n)return r}return-1}FI.prototype.add=function(i,t,e,n,r){var o=i.toString();(i=this.g[o])||(i=this.g[o]=[],this.h++);var s=JF(i,t,n,r);return-1<s?(t=i[s],e||(t.ia=!1)):((t=new QFe(t,this.src,o,!!n,r)).ia=e,i.push(t)),t};var eL="closure_lm_"+(1e6*Math.random()|0),tL={};function qK(i,t,e,n,r){if(n&&n.once)return ZK(i,t,e,n,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)qK(i,t[o],e,n,r);return null}return e=oL(e),i&&i[Bw]?i.O(t,e,Fw(n)?!!n.capture:!!n,r):YK(i,t,e,!1,n,r)}function YK(i,t,e,n,r,o){if(!t)throw Error("Invalid event type");var s=Fw(r)?!!r.capture:!!r,a=nL(i);if(a||(i[eL]=a=new FI(i)),(e=a.add(t,e,n,s,o)).proxy)return e;if(n=function JFe(){const t=eLe;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=n,n.src=i,n.listener=e,i.addEventListener)WFe||(r=s),void 0===r&&(r=!1),i.addEventListener(t.toString(),n,r);else if(i.attachEvent)i.attachEvent(QK(t.toString()),n);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(n)}return e}function ZK(i,t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ZK(i,t[o],e,n,r);return null}return e=oL(e),i&&i[Bw]?i.P(t,e,Fw(n)?!!n.capture:!!n,r):YK(i,t,e,!0,n,r)}function KK(i,t,e,n,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)KK(i,t[o],e,n,r);else n=Fw(n)?!!n.capture:!!n,e=oL(e),i&&i[Bw]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=JF(o=i.g[t],e,n,r))&&(NI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.g[t],i.h--))):i&&(i=nL(i))&&(t=i.g[t.toString()],i=-1,t&&(i=JF(t,e,n,r)),(e=-1<i?t[i]:null)&&iL(e))}function iL(i){if("number"!=typeof i&&i&&!i.fa){var t=i.src;if(t&&t[Bw])XF(t.i,i);else{var e=i.type,n=i.proxy;t.removeEventListener?t.removeEventListener(e,n,i.capture):t.detachEvent?t.detachEvent(QK(e),n):t.addListener&&t.removeListener&&t.removeListener(n),(e=nL(t))?(XF(e,i),0==e.h&&(e.src=null,t[eL]=null)):NI(i)}}}function QK(i){return i in tL?tL[i]:tL[i]="on"+i}function eLe(i,t){if(i.fa)i=!0;else{t=new Vw(t,this);var e=i.listener,n=i.la||i.src;i.ia&&iL(i),i=e.call(n,t)}return i}function nL(i){return(i=i[eL])instanceof FI?i:null}var rL="__closure_events_fn_"+(1e9*Math.random()>>>0);function oL(i){return"function"==typeof i?i:(i[rL]||(i[rL]=function(t){return i.handleEvent(t)}),i[rL])}function go(){Ph.call(this),this.i=new FI(this),this.S=this,this.J=null}function Fo(i,t){var e,n=i.J;if(n)for(e=[];n;n=n.J)e.push(n);if(i=i.S,n=t.type||t,"string"==typeof t)t=new Xo(t,i);else if(t instanceof Xo)t.target=t.target||i;else{var r=t;GK(t=new Xo(n,i),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=LI(s,n,!0,t)&&r}if(r=LI(s=t.g=i,n,!0,t)&&r,r=LI(s,n,!1,t)&&r,e)for(o=0;o<e.length;o++)r=LI(s=t.g=e[o],n,!1,t)&&r}function LI(i,t,e,n){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,c=s.la||s.src;s.ia&&XF(i.i,s),r=!1!==a.call(c,n)&&r}}return r&&!n.defaultPrevented}fo(go,Ph),go.prototype[Bw]=!0,go.prototype.removeEventListener=function(i,t,e,n){KK(this,i,t,e,n)},go.prototype.N=function(){if(go.$.N.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],n=0;n<e.length;n++)NI(e[n]);delete i.g[t],i.h--}}this.J=null},go.prototype.O=function(i,t,e,n){return this.i.add(String(i),t,!1,e,n)},go.prototype.P=function(i,t,e,n){return this.i.add(String(i),t,!0,e,n)};var sL=jt.JSON.stringify;function iLe(){var i=aL;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var XK=new class tLe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new rLe,i=>i.reset());class rLe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function oLe(i){var t=1;i=i.split(":");const e=[];for(;0<t&&i.length;)e.push(i.shift()),t--;return i.length&&e.push(i.join(":")),e}function sLe(i){jt.setTimeout(()=>{throw i},0)}let zw,Hw=!1,aL=new class nLe{constructor(){this.h=this.g=null}add(t,e){const n=XK.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},JK=()=>{const i=jt.Promise.resolve(void 0);zw=()=>{i.then(aLe)}};var aLe=()=>{for(var i;i=iLe();){try{i.h.call(i.g)}catch(e){sLe(e)}var t=XK;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Hw=!1};function VI(i,t){go.call(this),this.h=i||1,this.g=t||jt,this.j=Qo(this.qb,this),this.l=Date.now()}function cL(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function lL(i,t,e){if("function"==typeof i)e&&(i=Qo(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Qo(i.handleEvent,i)}return 2147483647<Number(t)?-1:jt.setTimeout(i,t||0)}function eQ(i){i.g=lL(()=>{i.g=null,i.i&&(i.i=!1,eQ(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}fo(VI,go),($e=VI.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fo(this,"tick"),this.ga&&(cL(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){VI.$.N.call(this),cL(this),delete this.g};class cLe extends Ph{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:eQ(this)}N(){super.N(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uw(i){Ph.call(this),this.h=i,this.g={}}fo(Uw,Ph);var tQ=[];function iQ(i,t,e,n){Array.isArray(e)||(e&&(tQ[0]=e.toString()),e=tQ);for(var r=0;r<e.length;r++){var o=qK(t,e[r],n||i.handleEvent,!1,i.h||i);if(!o)break;i.g[o.key]=o}}function nQ(i){QF(i.g,function(t,e){this.g.hasOwnProperty(e)&&iL(t)},i),i.g={}}function BI(){this.g=!0}function tv(i,t,e,n){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function hLe(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var n=e[i];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return sL(e)}catch{return t}}(i,e)+(n?" "+n:"")})}Uw.prototype.N=function(){Uw.$.N.call(this),nQ(this)},Uw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},BI.prototype.Ea=function(){this.g=!1},BI.prototype.info=function(){};var $p={},rQ=null;function zI(){return rQ=rQ||new go}function oQ(i){Xo.call(this,$p.Ta,i)}function jw(i){const t=zI();Fo(t,new oQ(t))}function sQ(i,t){Xo.call(this,$p.STAT_EVENT,i),this.stat=t}function Ms(i){const t=zI();Fo(t,new sQ(t,i))}function aQ(i,t){Xo.call(this,$p.Ua,i),this.size=t}function Ww(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){i()},t)}$p.Ta="serverreachability",fo(oQ,Xo),$p.STAT_EVENT="statevent",fo(sQ,Xo),$p.Ua="timingevent",fo(aQ,Xo);var HI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cQ={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dL(){}function dQ(){}dL.prototype.h=null;var mL,$w={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uL(){Xo.call(this,"d")}function hL(){Xo.call(this,"c")}function UI(){}function Gw(i,t,e,n){this.l=i,this.j=t,this.m=e,this.W=n||1,this.U=new Uw(this),this.P=mLe,this.V=new VI(i=$F?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uQ}function uQ(){this.i=null,this.g="",this.h=!1}fo(uL,Xo),fo(hL,Xo),fo(UI,dL),UI.prototype.g=function(){return new XMLHttpRequest},UI.prototype.i=function(){return{}},mL=new UI;var mLe=45e3,hQ={},pL={};function fL(i,t,e){i.L=1,i.A=GI(Qd(t)),i.u=e,i.S=!0,mQ(i,null)}function mQ(i,t){i.G=Date.now(),qw(i),i.B=Qd(i.A);var e=i.B,n=i.W;Array.isArray(n)||(n=[String(n)]),CQ(e.i,"t",n),i.o=0,e=i.l.J,i.h=new uQ,i.g=qQ(i.l,e?t:null,!i.u),0<i.O&&(i.M=new cLe(Qo(i.Pa,i,i.g),i.O)),iQ(i.U,i.g,"readystatechange",i.nb),t=i.I?WK(i.I):{},i.u?(i.v||(i.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,t)):(i.v="GET",i.g.ha(i.B,i.v,null,t)),jw(),function lLe(i,t,e,n,r,o){i.info(function(){if(i.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var h=d.split("_");s=2<=h.length&&"type"==h[1]?s+(d+"=")+l+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(i.j,i.v,i.B,i.m,i.W,i.u)}function pQ(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function fQ(i,t,e){let r,n=!0;for(;!i.J&&i.o<e.length;){if(r=pLe(i,e),r==pL){4==t&&(i.s=4,Ms(14),n=!1),tv(i.j,i.m,null,"[Incomplete Response]");break}if(r==hQ){i.s=4,Ms(15),tv(i.j,i.m,e,"[Invalid Chunk]"),n=!1;break}tv(i.j,i.m,r,null),gL(i,r)}pQ(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=t||0!=e.length||i.h.h||(i.s=1,Ms(16),n=!1),i.i=i.i&&n,n?0<e.length&&!i.ba&&(i.ba=!0,(t=i.l).g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),CL(t),t.M=!0,Ms(11))):(tv(i.j,i.m,e,"[Invalid Chunked Response]"),Gp(i),Yw(i))}function pLe(i,t){var e=i.o,n=t.indexOf("\n",e);return-1==n?pL:(e=Number(t.substring(e,n)),isNaN(e)?hQ:(n+=1)+e>t.length?pL:(t=t.slice(n,n+e),i.o=n+e,t))}function qw(i){i.Y=Date.now()+i.P,gQ(i,i.P)}function gQ(i,t){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Ww(Qo(i.lb,i),t)}function jI(i){i.C&&(jt.clearTimeout(i.C),i.C=null)}function Yw(i){0==i.l.H||i.J||jQ(i.l,i)}function Gp(i){jI(i);var t=i.M;t&&"function"==typeof t.sa&&t.sa(),i.M=null,cL(i.V),nQ(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function gL(i,t){try{var e=i.l;if(0!=e.H&&(e.g==i||_L(e.i,i)))if(!i.K&&_L(e.i,i)&&3==e.H){try{var n=e.Ja.g.parse(t)}catch{n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<i.G))break e;XI(e),KI(e)}xL(e),Ms(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Ww(Qo(e.ib,e),6e3));if(1>=TQ(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Yp(e,11)}else if((i.K||e.g==i)&&XI(e),!Lw(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(e.V=l[0],l=l[1],2==e.H)if("c"==l[0]){e.K=l[1],e.pa=l[2];const d=l[3];null!=d&&(e.ra=d,e.l.info("VER="+e.ra));const h=l[4];null!=h&&(e.Ga=h,e.l.info("SVER="+e.Ga));const p=l[5];null!=p&&"number"==typeof p&&0<p&&(e.L=n=1.5*p,e.l.info("backChannelRequestTimeoutMs_="+n)),n=e;const g=i.g;if(g){const b=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=n.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(vL(o,o.h),o.h=null))}if(n.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(n.Da=w,jn(n.I,n.F,w))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-i.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=i;if((n=e).wa=GQ(n,n.J?n.pa:null,n.Y),s.K){DQ(n.i,s);var a=s,c=n.L;c&&a.setTimeout(c),a.C&&(jI(a),qw(a)),n.g=s}else HQ(n);0<e.j.length&&QI(e)}else"stop"!=l[0]&&"close"!=l[0]||Yp(e,7);else 3==e.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Yp(e,7):wL(e):"noop"!=l[0]&&e.h&&e.h.Aa(l),e.A=0)}jw()}catch{}}function _Q(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(RI(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var e=function gLe(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(RI(i)||"string"==typeof i){var t=[];i=i.length;for(var e=0;e<i;e++)t.push(e);return t}t=[],e=0;for(const n in i)t[e++]=n;return t}}}(i),n=function fLe(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(RI(i)){for(var t=[],e=i.length,n=0;n<e;n++)t.push(i[n]);return t}for(n in t=[],e=0,i)t[e++]=i[n];return t}(i),r=n.length,o=0;o<r;o++)t.call(void 0,n[o],e&&e[o],i)}($e=Gw.prototype).setTimeout=function(i){this.P=i},$e.nb=function(i){i=i.target;const t=this.M;t&&3==Fl(i)?t.l():this.Pa(i)},$e.Pa=function(i){try{if(i==this.g)e:{const d=Fl(this.g);var t=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||$F||this.g&&(this.h.h||this.g.ja()||NQ(this.g)))){this.J||4!=d||7==t||jw(),jI(this);var e=this.g.da();this.ca=e;t:if(pQ(this)){var n=NQ(this.g);i="";var r=n.length,o=4==Fl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gp(this),Yw(this);var s="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,i+=this.h.i.decode(n[t],{stream:o&&t==r-1});n.length=0,this.h.g+=i,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function dLe(i,t,e,n,r,o,s){i.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,d,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lw(a)){var l=a;break t}}l=null}if(!(e=l)){this.i=!1,this.s=3,Ms(12),Gp(this),Yw(this);break e}tv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gL(this,e)}this.S?(fQ(this,d,s),$F&&this.i&&3==d&&(iQ(this.U,this.V,"tick",this.mb),this.V.start())):(tv(this.j,this.m,s,null),gL(this,s)),4==d&&Gp(this),this.i&&!this.J&&(4==d?jQ(this.l,this):(this.i=!1,qw(this)))}else(function OLe(i){const t={};i=(i.g&&2<=Fl(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<i.length;n++){if(Lw(i[n]))continue;var e=oLe(i[n]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function XFe(i,t){for(const e in i)t.call(void 0,i[e],e,i)}(t,function(n){return n.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.s=3,Ms(12)):(this.s=0,Ms(13)),Gp(this),Yw(this)}}}catch{}},$e.mb=function(){if(this.g){var i=Fl(this.g),t=this.g.ja();this.o<t.length&&(jI(this),fQ(this,i,t),this.i&&4!=i&&qw(this))}},$e.cancel=function(){this.J=!0,Gp(this)},$e.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function uLe(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(jw(),Ms(17)),Gp(this),this.s=2,Yw(this)):gQ(this,this.Y-i)};var vQ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qp(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof qp){this.h=i.h,WI(this,i.j),this.s=i.s,this.g=i.g,$I(this,i.m),this.l=i.l;var t=i.i,e=new Qw;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bQ(this,e),this.o=i.o}else i&&(t=String(i).match(vQ))?(this.h=!1,WI(this,t[1]||"",!0),this.s=Zw(t[2]||""),this.g=Zw(t[3]||"",!0),$I(this,t[4]),this.l=Zw(t[5]||"",!0),bQ(this,t[6]||"",!0),this.o=Zw(t[7]||"")):(this.h=!1,this.i=new Qw(null,this.h))}function Qd(i){return new qp(i)}function WI(i,t,e){i.j=e?Zw(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function $I(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function bQ(i,t,e){t instanceof Qw?(i.i=t,function CLe(i,t){t&&!i.j&&(Oh(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(wQ(this,n),CQ(this,r,e))},i)),i.j=t}(i.i,i.h)):(e||(t=Kw(t,wLe)),i.i=new Qw(t,i.h))}function jn(i,t,e){i.i.set(t,e)}function GI(i){return jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zw(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Kw(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,vLe),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function vLe(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}qp.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Kw(t,yQ,!0),":");var e=this.g;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Kw(t,yQ,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(Kw(e,"/"==e.charAt(0)?yLe:bLe,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Kw(e,xLe)),i.join("")};var yQ=/[#\/\?@]/g,bLe=/[#\?:]/g,yLe=/[#\?]/g,wLe=/[#\?@]/g,xLe=/#/g;function Qw(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Oh(i){i.g||(i.g=new Map,i.h=0,i.i&&function _Le(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var n=i[e].indexOf("="),r=null;if(0<=n){var o=i[e].substring(0,n);r=i[e].substring(n+1)}else o=i[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function wQ(i,t){Oh(i),t=iv(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function xQ(i,t){return Oh(i),t=iv(i,t),i.g.has(t)}function CQ(i,t,e){wQ(i,t),0<e.length&&(i.i=null,i.g.set(iv(i,t),jF(e)),i.h+=e.length)}function iv(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function EQ(i){this.l=i||kLe,i=jt.PerformanceNavigationTiming?0<(i=jt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(jt.g&&jt.g.Ka&&jt.g.Ka()&&jt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Qw.prototype).add=function(i,t){Oh(this),this.i=null,i=iv(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},$e.forEach=function(i,t){Oh(this),this.g.forEach(function(e,n){e.forEach(function(r){i.call(t,r,n,this)},this)},this)},$e.ta=function(){Oh(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let n=0;n<t.length;n++){const r=i[n];for(let o=0;o<r.length;o++)e.push(t[n])}return e},$e.Z=function(i){Oh(this);let t=[];if("string"==typeof i)xQ(this,i)&&(t=t.concat(this.g.get(iv(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)t=t.concat(i[e])}return t},$e.set=function(i,t){return Oh(this),this.i=null,xQ(this,i=iv(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},$e.get=function(i,t){return i&&0<(i=this.Z(i)).length?String(i[0]):t},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var n=t[e];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var r=o;""!==s[n]&&(r+="="+encodeURIComponent(String(s[n]))),i.push(r)}}return this.i=i.join("&")};var kLe=10;function kQ(i){return!!i.h||!!i.g&&i.g.size>=i.j}function TQ(i){return i.h?1:i.g?i.g.size:0}function _L(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function vL(i,t){i.g?i.g.add(t):i.h=t}function DQ(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function IQ(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.F);return t}return jF(i.i)}EQ.prototype.cancel=function(){if(this.i=IQ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var TLe=class{stringify(i){return jt.JSON.stringify(i,void 0)}parse(i){return jt.JSON.parse(i,void 0)}};function DLe(){this.g=new TLe}function ILe(i,t,e){const n=e||"";try{_Q(i,function(r,o){let s=r;Fw(r)&&(s=sL(r)),t.push(n+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function qI(i,t,e,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch{}}function Xw(i){this.l=i.ec||null,this.j=i.ob||!1}function YI(i,t){go.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=bL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fo(Xw,dL),Xw.prototype.g=function(){return new YI(this.l,this.j)},Xw.prototype.i=function(i){return function(){return i}}({}),fo(YI,go);var bL=0;function SQ(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Jw(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ex(i)}function ex(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=YI.prototype).open=function(i,t){if(this.readyState!=bL)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,ex(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||jt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jw(this)),this.readyState=bL},$e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ex(this)),this.g&&(this.readyState=3,ex(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SQ(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Jw(this):ex(this),3==this.readyState&&SQ(this)}},$e.Za=function(i){this.g&&(this.response=this.responseText=i,Jw(this))},$e.Ya=function(i){this.g&&(this.response=i,Jw(this))},$e.ka=function(){this.g&&Jw(this)},$e.setRequestHeader=function(i,t){this.v.append(i,t)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(YI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var MLe=jt.JSON.parse;function vr(i){go.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MQ,this.L=this.M=!1}fo(vr,go);var MQ="",ALe=/^https?$/i,RLe=["POST","PUT"];function AQ(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,RQ(i),ZI(i)}function RQ(i){i.F||(i.F=!0,Fo(i,"complete"),Fo(i,"error"))}function PQ(i){if(i.h&&typeof HF<"u"&&(!i.C[1]||4!=Fl(i)||2!=i.da()))if(i.v&&4==Fl(i))lL(i.La,0,i);else if(Fo(i,"readystatechange"),4==Fl(i)){i.h=!1;try{const s=i.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var n;if(n=0===s){var r=String(i.I).match(vQ)[1]||null;!r&&jt.self&&jt.self.location&&(r=jt.self.location.protocol.slice(0,-1)),n=!ALe.test(r?r.toLowerCase():"")}e=n}if(e)Fo(i,"complete"),Fo(i,"success");else{i.m=6;try{var o=2<Fl(i)?i.g.statusText:""}catch{o=""}i.j=o+" ["+i.da()+"]",RQ(i)}}finally{ZI(i)}}}function ZI(i,t){if(i.g){OQ(i);const e=i.g,n=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||Fo(i,"ready");try{e.onreadystatechange=n}catch{}}}function OQ(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(jt.clearTimeout(i.A),i.A=null)}function Fl(i){return i.g?i.g.readyState:0}function NQ(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case MQ:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function FQ(i){let t="";return QF(i,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function yL(i,t,e){e:{for(n in e){var n=!1;break e}n=!0}n||(e=FQ(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):jn(i,t,e))}function tx(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function LQ(i){this.Ga=0,this.j=[],this.l=new BI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tx("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tx("baseRetryDelayMs",5e3,i),this.hb=tx("retryDelaySeedMs",1e4,i),this.eb=tx("forwardChannelMaxRetries",2,i),this.xa=tx("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new EQ(i&&i.concurrentRequestLimit),this.Ja=new DLe,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wL(i){if(VQ(i),3==i.H){var t=i.W++,e=Qd(i.I);if(jn(e,"SID",i.K),jn(e,"RID",t),jn(e,"TYPE","terminate"),ix(i,e),(t=new Gw(i,i.l,t)).L=2,t.A=GI(Qd(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon)try{e=jt.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&jt.Image&&((new Image).src=t.A,e=!0),e||(t.g=qQ(t.l,null),t.g.ha(t.A)),t.G=Date.now(),qw(t)}$Q(i)}function KI(i){i.g&&(CL(i),i.g.cancel(),i.g=null)}function VQ(i){KI(i),i.u&&(jt.clearTimeout(i.u),i.u=null),XI(i),i.i.cancel(),i.m&&("number"==typeof i.m&&jt.clearTimeout(i.m),i.m=null)}function QI(i){if(!kQ(i.i)&&!i.m){i.m=!0;var t=i.Na;zw||JK(),Hw||(zw(),Hw=!0),aL.add(t,i),i.C=0}}function BQ(i,t){var e;e=t?t.m:i.W++;const n=Qd(i.I);jn(n,"SID",i.K),jn(n,"RID",e),jn(n,"AID",i.V),ix(i,n),i.o&&i.s&&yL(n,i.o,i.s),e=new Gw(i,i.l,e,i.C+1),null===i.o&&(e.I=i.s),t&&(i.j=t.F.concat(i.j)),t=zQ(i,e,1e3),e.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),vL(i.i,e),fL(e,n,t)}function ix(i,t){i.na&&QF(i.na,function(e,n){jn(t,n,e)}),i.h&&_Q({},function(e,n){jn(t,n,e)})}function zQ(i,t,e){e=Math.min(i.j.length,e);var n=i.h?Qo(i.h.Va,i.h,i):null;e:{var r=i.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<e;c++){let l=r[c].g;const d=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{ILe(d,s,"req"+l+"_")}catch{n&&n(d)}}if(a){n=s.join("&");break e}}}return i=i.j.splice(0,e),t.F=i,n}function HQ(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;zw||JK(),Hw||(zw(),Hw=!0),aL.add(t,i),i.A=0}}function xL(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ww(Qo(i.Ma,i),WQ(i,i.A)),i.A++,0))}function CL(i){null!=i.B&&(jt.clearTimeout(i.B),i.B=null)}function UQ(i){i.g=new Gw(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var t=Qd(i.wa);jn(t,"RID","rpc"),jn(t,"SID",i.K),jn(t,"AID",i.V),jn(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&jn(t,"TO",i.qa),jn(t,"TYPE","xmlhttp"),ix(i,t),i.o&&i.s&&yL(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var e=i.g;i=i.pa,e.L=1,e.A=GI(Qd(t)),e.u=null,e.S=!0,mQ(e,i)}function XI(i){null!=i.v&&(jt.clearTimeout(i.v),i.v=null)}function jQ(i,t){var e=null;if(i.g==t){XI(i),CL(i),i.g=null;var n=2}else{if(!_L(i.i,t))return;e=t.F,DQ(i.i,t),n=1}if(0!=i.H)if(t.i)if(1==n){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=i.C;Fo(n=zI(),new aQ(n,e)),QI(i)}else HQ(i);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==n&&function NLe(i,t){return!(TQ(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=t.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ww(Qo(i.Na,i,t),WQ(i,i.C)),i.C++,0)))}(i,t)||2==n&&xL(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),r){case 1:Yp(i,5);break;case 4:Yp(i,10);break;case 3:Yp(i,6);break;default:Yp(i,2)}}function WQ(i,t){let e=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(e*=2),e*t}function Yp(i,t){if(i.l.info("Error code "+t),2==t){var e=null;i.h&&(e=null);var n=Qo(i.pb,i);e||(e=new qp("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||WI(e,"https"),GI(e)),function SLe(i,t){const e=new BI;if(jt.Image){const n=new Image;n.onload=PI(qI,e,n,"TestLoadImage: loaded",!0,t),n.onerror=PI(qI,e,n,"TestLoadImage: error",!1,t),n.onabort=PI(qI,e,n,"TestLoadImage: abort",!1,t),n.ontimeout=PI(qI,e,n,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=i}else t(!1)}(e.toString(),n)}else Ms(2);i.H=0,i.h&&i.h.za(t),$Q(i),VQ(i)}function $Q(i){if(i.H=0,i.ma=[],i.h){const t=IQ(i.i);(0!=t.length||0!=i.j.length)&&(BK(i.ma,t),BK(i.ma,i.j),i.i.i.length=0,jF(i.j),i.j.length=0),i.h.ya()}}function GQ(i,t,e){var n=e instanceof qp?Qd(e):new qp(e);if(""!=n.g)t&&(n.g=t+"."+n.g),$I(n,n.m);else{var r=jt.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new qp(null);n&&WI(o,n),t&&(o.g=t),r&&$I(o,r),e&&(o.l=e),n=o}return t=i.Da,(e=i.F)&&t&&jn(n,e,t),jn(n,"VER",i.ra),ix(i,n),n}function qQ(i,t,e){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vr(i.Ha&&!i.va?new Xw({ob:e}):i.va)).Oa(i.J),t}function YQ(){}function JI(){if(ev&&!(10<=Number(YFe)))throw Error("Environmental error: no available transport.")}function Sa(i,t){go.call(this),this.g=new LQ(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!Lw(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lw(t)&&(this.g.F=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new nv(this)}function ZQ(i){uL.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){e:{for(const e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function KQ(){hL.call(this),this.status=1}function nv(i){this.g=i}function Nc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function EL(i,t,e){e||(e=0);var n=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)n[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)n[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=i.g[3],s=(t=i.g[0])+(o^(e=i.g[1])&((r=i.g[2])^o))+n[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,i.g[2]=i.g[2]+r&4294967295,i.g[3]=i.g[3]+o&4294967295}function nn(i,t){this.h=t;for(var e=[],n=!0,r=i.length-1;0<=r;r--){var o=0|i[r];n&&o==t||(e[r]=o,n=!1)}this.g=e}($e=vr.prototype).Oa=function(i){this.M=i},$e.ha=function(i,t,e,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mL.g(),this.C=function lQ(i){return i.h||(i.h=i.i())}(this.u?this.u:mL),this.g.onreadystatechange=Qo(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(o){return void AQ(this,o)}if(i=e||"",e=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)e.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())e.set(o,n.get(o))}n=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=jt.FormData&&i instanceof jt.FormData,!(0<=VK(RLe,t))||n||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OQ(this),0<this.B&&((this.L=function PLe(i){return ev&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qo(this.ua,this)):this.A=lL(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(o){AQ(this,o)}},$e.ua=function(){typeof HF<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fo(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Fo(this,"complete"),Fo(this,"abort"),ZI(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ZI(this,!0)),vr.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?PQ(this):this.kb())},$e.kb=function(){PQ(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<Fl(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),MLe(t)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=LQ.prototype).ra=8,$e.H=1,$e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const r=new Gw(this,this.l,i);let o=this.s;if(this.U&&(o?(o=WK(o),GK(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var n=this.j[e];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=zQ(this,r,t),jn(e=Qd(this.I),"RID",i),jn(e,"CVER",22),this.F&&jn(e,"X-HTTP-Session-Id",this.F),ix(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(FQ(o)))+"&"+t:this.o&&yL(e,this.o,o)),vL(this.i,r),this.bb&&jn(e,"TYPE","init"),this.P?(jn(e,"$req",t),jn(e,"SID","null"),r.aa=!0,fL(r,e,null)):fL(r,e,t),this.H=2}}else 3==this.H&&(i?BQ(this,i):0==this.j.length||kQ(this.i)||BQ(this))},$e.Ma=function(){if(this.u=null,UQ(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ww(Qo(this.jb,this),i)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ms(10),KI(this),UQ(this))},$e.ib=function(){null!=this.v&&(this.v=null,KI(this),xL(this),Ms(19))},$e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ms(2)):(this.l.info("Failed to ping google.com"),Ms(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=YQ.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},JI.prototype.g=function(i,t){return new Sa(i,t)},fo(Sa,go),Sa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,e=this.h||void 0;Ms(0),i.Y=t,i.na=e||{},i.G=i.aa,i.I=GQ(i,null,i.Y),QI(i)},Sa.prototype.close=function(){wL(this.g)},Sa.prototype.u=function(i){var t=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=sL(i),i=e);t.j.push(new class{constructor(i,t){this.g=i,this.map=t}}(t.fb++,i)),3==t.H&&QI(t)},Sa.prototype.N=function(){this.g.h=null,delete this.j,wL(this.g),delete this.g,Sa.$.N.call(this)},fo(ZQ,uL),fo(KQ,hL),fo(nv,YQ),nv.prototype.Ba=function(){Fo(this.g,"a")},nv.prototype.Aa=function(i){Fo(this.g,new ZQ(i))},nv.prototype.za=function(i){Fo(this.g,new KQ)},nv.prototype.ya=function(){Fo(this.g,"b")},fo(Nc,function FLe(){this.blockSize=-1}),Nc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nc.prototype.j=function(i,t){void 0===t&&(t=i.length);for(var e=t-this.blockSize,n=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)EL(this,i,o),o+=this.blockSize;if("string"==typeof i){for(;o<t;)if(n[r++]=i.charCodeAt(o++),r==this.blockSize){EL(this,n),r=0;break}}else for(;o<t;)if(n[r++]=i[o++],r==this.blockSize){EL(this,n),r=0;break}}this.h=r,this.i+=t},Nc.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var e=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=255&e,e/=256;for(this.j(i),i=Array(16),t=e=0;4>t;++t)for(var n=0;32>n;n+=8)i[e++]=this.g[t]>>>n&255;return i};var LLe={};function kL(i){return-128<=i&&128>i?function $Fe(i,t){var e=LLe;return Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=t(i)}(i,function(t){return new nn([0|t],0>t?-1:0)}):new nn([0|i],0>i?-1:0)}function Ll(i){if(isNaN(i)||!isFinite(i))return rv;if(0>i)return Lo(Ll(-i));for(var t=[],e=1,n=0;i>=e;n++)t[n]=i/e|0,e*=TL;return new nn(t,0)}var TL=4294967296,rv=kL(0),DL=kL(1),XQ=kL(16777216);function Xd(i){if(0!=i.h)return!1;for(var t=0;t<i.g.length;t++)if(0!=i.g[t])return!1;return!0}function cc(i){return-1==i.h}function Lo(i){for(var t=i.g.length,e=[],n=0;n<t;n++)e[n]=~i.g[n];return new nn(e,~i.h).add(DL)}function eS(i,t){return i.add(Lo(t))}function tS(i,t){for(;(65535&i[t])!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function nx(i,t){this.g=i,this.h=t}function iS(i,t){if(Xd(t))throw Error("division by zero");if(Xd(i))return new nx(rv,rv);if(cc(i))return t=iS(Lo(i),t),new nx(Lo(t.g),Lo(t.h));if(cc(t))return t=iS(i,Lo(t)),new nx(Lo(t.g),t.h);if(30<i.g.length){if(cc(i)||cc(t))throw Error("slowDivide_ only works with positive integers.");for(var e=DL,n=t;0>=n.X(i);)e=JQ(e),n=JQ(n);var r=ov(e,1),o=ov(n,1);for(n=ov(n,2),e=ov(e,2);!Xd(n);){var s=o.add(n);0>=s.X(i)&&(r=r.add(e),o=s),n=ov(n,1),e=ov(e,1)}return t=eS(i,r.R(t)),new nx(r,t)}for(r=rv;0<=i.X(t);){for(e=Math.max(1,Math.floor(i.ea()/t.ea())),n=48>=(n=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,n-48),s=(o=Ll(e)).R(t);cc(s)||0<s.X(i);)s=(o=Ll(e-=n)).R(t);Xd(o)&&(o=DL),r=r.add(o),i=eS(i,s)}return new nx(r,i)}function JQ(i){for(var t=i.g.length+1,e=[],n=0;n<t;n++)e[n]=i.D(n)<<1|i.D(n-1)>>>31;return new nn(e,i.h)}function ov(i,t){var e=t>>5;t%=32;for(var n=i.g.length-e,r=[],o=0;o<n;o++)r[o]=0<t?i.D(o+e)>>>t|i.D(o+e+1)<<32-t:i.D(o+e);return new nn(r,i.h)}($e=nn.prototype).ea=function(){if(cc(this))return-Lo(this).ea();for(var i=0,t=1,e=0;e<this.g.length;e++){var n=this.D(e);i+=(0<=n?n:TL+n)*t,t*=TL}return i},$e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Xd(this))return"0";if(cc(this))return"-"+Lo(this).toString(i);for(var t=Ll(Math.pow(i,6)),e=this,n="";;){var r=iS(e,t).g,o=((0<(e=eS(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(i);if(Xd(e=r))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},$e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},$e.X=function(i){return cc(i=eS(this,i))?-1:Xd(i)?0:1},$e.abs=function(){return cc(this)?Lo(this):this},$e.add=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0,r=0;r<=t;r++){var o=n+(65535&this.D(r))+(65535&i.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(i.D(r)>>>16);n=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new nn(e,-2147483648&e[e.length-1]?-1:0)},$e.R=function(i){if(Xd(this)||Xd(i))return rv;if(cc(this))return cc(i)?Lo(this).R(Lo(i)):Lo(Lo(this).R(i));if(cc(i))return Lo(this.R(Lo(i)));if(0>this.X(XQ)&&0>i.X(XQ))return Ll(this.ea()*i.ea());for(var t=this.g.length+i.g.length,e=[],n=0;n<2*t;n++)e[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<i.g.length;r++){var o=this.D(n)>>>16,s=65535&this.D(n),a=i.D(r)>>>16,c=65535&i.D(r);e[2*n+2*r]+=s*c,tS(e,2*n+2*r),e[2*n+2*r+1]+=o*c,tS(e,2*n+2*r+1),e[2*n+2*r+1]+=s*a,tS(e,2*n+2*r+1),e[2*n+2*r+2]+=o*a,tS(e,2*n+2*r+2)}for(n=0;n<t;n++)e[n]=e[2*n+1]<<16|e[2*n];for(n=t;n<2*t;n++)e[n]=0;return new nn(e,0)},$e.gb=function(i){return iS(this,i).h},$e.and=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)&i.D(n);return new nn(e,this.h&i.h)},$e.or=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)|i.D(n);return new nn(e,this.h|i.h)},$e.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)^i.D(n);return new nn(e,this.h^i.h)},JI.prototype.createWebChannel=JI.prototype.g,Sa.prototype.send=Sa.prototype.u,Sa.prototype.open=Sa.prototype.m,Sa.prototype.close=Sa.prototype.close,HI.NO_ERROR=0,HI.TIMEOUT=8,HI.HTTP_ERROR=6,cQ.COMPLETE="complete",dQ.EventType=$w,$w.OPEN="a",$w.CLOSE="b",$w.ERROR="c",$w.MESSAGE="d",go.prototype.listen=go.prototype.O,vr.prototype.listenOnce=vr.prototype.P,vr.prototype.getLastError=vr.prototype.Sa,vr.prototype.getLastErrorCode=vr.prototype.Ia,vr.prototype.getStatus=vr.prototype.da,vr.prototype.getResponseJson=vr.prototype.Wa,vr.prototype.getResponseText=vr.prototype.ja,vr.prototype.send=vr.prototype.ha,vr.prototype.setWithCredentials=vr.prototype.Oa,Nc.prototype.digest=Nc.prototype.l,Nc.prototype.reset=Nc.prototype.reset,Nc.prototype.update=Nc.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=Ll,nn.fromString=function QQ(i,t){if(0==i.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==i.charAt(0))return Lo(QQ(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Ll(Math.pow(t,8)),n=rv,r=0;r<i.length;r+=8){var o=Math.min(8,i.length-r),s=parseInt(i.substring(r,r+o),t);8>o?(o=Ll(Math.pow(t,o)),n=n.R(o).add(Ll(s))):n=(n=n.R(e)).add(Ll(s))}return n};var VLe=Oc.createWebChannelTransport=function(){return new JI},BLe=Oc.getStatEventTarget=function(){return zI()},IL=Oc.ErrorCode=HI,zLe=Oc.EventType=cQ,HLe=Oc.Event=$p,eX=Oc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nS=(Oc.FetchXmlHttpFactory=Xw,Oc.WebChannel=dQ),ULe=Oc.XhrIo=vr,jLe=Oc.Md5=Nc,sv=Oc.Integer=nn;const tX="@firebase/firestore";class _o{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_o.UNAUTHENTICATED=new _o(null),_o.GOOGLE_CREDENTIALS=new _o("google-credentials-uid"),_o.FIRST_PARTY=new _o("first-party-uid"),_o.MOCK_USER=new _o("mock-user");let av="10.7.2";const Nh=new va.Yd("@firebase/firestore");function cv(){return Nh.logLevel}function De(i,...t){if(Nh.logLevel<=va.in.DEBUG){const e=t.map(SL);Nh.debug(`Firestore (${av}): ${i}`,...e)}}function Mr(i,...t){if(Nh.logLevel<=va.in.ERROR){const e=t.map(SL);Nh.error(`Firestore (${av}): ${i}`,...e)}}function ea(i,...t){if(Nh.logLevel<=va.in.WARN){const e=t.map(SL);Nh.warn(`Firestore (${av}): ${i}`,...e)}}function SL(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function ot(i="Unexpected state"){const t=`FIRESTORE (${av}) INTERNAL ASSERTION FAILED: `+i;throw Mr(t),new Error(t)}function pt(i,t){i||ot()}function He(i,t){return i}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends R.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ro{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class iX{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GLe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_o.UNAUTHENTICATED))}shutdown(){}}class qLe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class YLe{constructor(t){this.t=t,this.currentUser=_o.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ro,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,ce.Z)(function*(){yield l.promise,yield o(n.currentUser)}))},c=l=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ro)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(pt("string"==typeof n.accessToken),new iX(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pt(null===t||"string"==typeof t),new _o(t)}}class ZLe{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=_o.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KLe{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new ZLe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(_o.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nX{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QLe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=o=>{null!=o.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,De("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};const r=o=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pt("string"==typeof e.token),this.R=e.token,new nX(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XLe(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}class rX{static newId(){const e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=XLe(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return n}}function Ht(i,t){return i<t?-1:i>t?1:0}function lv(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}function oX(i){return i+"\0"}class Jn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Te(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Te(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Jn.fromMillis(Date.now())}static fromDate(t){return Jn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Jn(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gt(t)}static min(){return new gt(new Jn(0,0))}static max(){return new gt(new Jn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rx{constructor(t,e,n){void 0===e?e=0:e>t.length&&ot(),void 0===n?n=t.length-e:n>t.length-e&&ot(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===rx.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rx?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ci extends rx{construct(t,e,n){return new Ci(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Te(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new Ci(e)}static emptyPath(){return new Ci([])}}const JLe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends rx{construct(t,e,n){return new Wn(t,e,n)}static isValidIdentifier(t){return JLe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Te(se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Te(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Te(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new Te(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wn(e)}static emptyPath(){return new Wn([])}}class We{constructor(t){this.path=t}static fromPath(t){return new We(Ci.fromString(t))}static fromName(t){return new We(Ci.fromString(t).popFirst(5))}static empty(){return new We(Ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ci.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new Ci(t.slice()))}}class dv{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function ML(i){return i.fields.find(t=>2===t.kind)}function Zp(i){return i.fields.filter(t=>2!==t.kind)}dv.UNKNOWN_ID=-1;class Kp{constructor(t,e){this.fieldPath=t,this.kind=e}}class uv{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new uv(0,Ma.min())}}function sX(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(1e9===n?new Jn(e+1,0):new Jn(e,n));return new Ma(r,We.empty(),t)}function aX(i){return new Ma(i.readTime,i.key,-1)}class Ma{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Ma(gt.min(),We.empty(),-1)}static max(){return new Ma(gt.max(),We.empty(),-1)}}function AL(i,t){let e=i.readTime.compareTo(t.readTime);return 0!==e?e:(e=We.comparator(i.documentKey,t.documentKey),0!==e?e:Ht(i.largestBatchId,t.largestBatchId))}const cX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Fh(i){return RL.apply(this,arguments)}function RL(){return RL=(0,ce.Z)(function*(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==cX)throw i;De("LocalStore","Unexpectedly lost primary lease")}),RL.apply(this,arguments)}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,n)=>{e(t)})}static reject(t){return new J((e,n)=>{n(t)})}static waitFor(t){return new J((e,n)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>n(c))}),s=!0,o===r&&e()})}static or(t){let e=J.resolve(!1);for(const n of t)e=e.next(r=>r?J.resolve(r):n());return e}static forEach(t,e){const n=[];return t.forEach((r,o)=>{n.push(e.call(this,r,o))}),this.waitFor(n)}static mapArray(t,e){return new J((n,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(d=>{s[l]=d,++a,a===o&&n(s)},d=>r(d))}})}static doWhile(t,e){return new J((n,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):n()};o()})}}class rS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new ro,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new ox(t,e.error)):this.V.resolve()},this.transaction.onerror=n=>{const r=PL(n.target.error);this.V.reject(new ox(t,r))}}static open(t,e,n,r){try{return new rS(e,t.transaction(r,n))}catch(o){throw new ox(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(De("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new nVe(e)}}class lc{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===lc.S((0,R.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return De("SimpleDb","Removing database:",t),Qp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,R.hl)())return!1;if(lc.C())return!0;const t=(0,R.z$)(),e=lc.S(t),n=0<e&&e<10,r=lc.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}O(t){var e=this;return(0,ce.Z)(function*(){return e.db||(De("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{n(s.target.result)},o.onblocked=()=>{r(new ox(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Te(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Te(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new ox(t,a))},o.onupgradeneeded=s=>{De("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{De("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=n=>e.B(n)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var o=this;return(0,ce.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const c=rS.open(o.db,t,s?"readonly":"readwrite",n),l=r(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),J.reject(d))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,d="FirebaseError"!==l.name&&a<3;if(De("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),o.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iVe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Qp(this.k.delete())}}class ox extends Te{constructor(t,e){super(se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Lh(i){return"IndexedDbTransactionError"===i.name}class nVe{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(De("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qp(n)}add(t){return De("SimpleDb","ADD",this.store.name,t,t),Qp(this.store.add(t))}get(t){return Qp(this.store.get(t)).next(e=>(void 0===e&&(e=null),De("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return De("SimpleDb","DELETE",this.store.name,t),Qp(this.store.delete(t))}count(){return De("SimpleDb","COUNT",this.store.name),Qp(this.store.count())}W(t,e){const n=this.options(t,e),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(n.range);return new J((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(n),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new J((r,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{r(s.target.result)}})}H(t,e){De("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const r=this.cursor(n);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.G(r,e)}Z(t){const e=this.cursor({});return new J((n,r)=>{e.onerror=o=>{const s=PL(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}G(t,e){const n=[];return new J((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new iVe(a),l=e(a.primaryKey,a.value,c);if(l instanceof J){const d=l.catch(h=>(c.done(),J.reject(h)));n.push(d)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>J.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Qp(i){return new J((t,e)=>{i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{const r=PL(n.target.error);e(r)}})}let dX=!1;function PL(i){const t=lc.S((0,R.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const n=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dX||(dX=!0,setTimeout(()=>{throw n},0)),n}}return i}class rVe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;De("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ce.Z)(function*(){e.task=null;try{De("IndexBackfiller",`Documents written: ${yield e.X.te()}`)}catch(n){Lh(n)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Fh(n)}yield e.ee(6e4)}))}}class oVe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.ne(n,t))})()}ne(t,e){const n=new Set;let r=e,o=!0;return J.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!n.has(s))return De("IndexBackfiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,n.add(s)});o=!1})).next(()=>e-r)}re(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(De("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let n=t;return e.changes.forEach((r,o)=>{const s=aX(o);AL(s,n)>0&&(n=s)}),new Ma(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Aa=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return i._e=-1,i})();function sx(i){return null==i}function ax(i){return 0===i&&1/i==-1/0}function uX(i){return"number"==typeof i&&Number.isInteger(i)&&!ax(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Jo(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=hX(t)),t=sVe(i.get(e),t);return hX(t)}function sVe(i,t){let e=t;const n=i.length;for(let r=0;r<n;r++){const o=i.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function hX(i){return i+"\x01\x01"}function Vl(i){const t=i.length;if(pt(t>=2),2===t)return pt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ci.emptyPath();const e=t-2,n=[];let r="";for(let o=0;o<t;){const s=i.indexOf("\x01",o);switch((s<0||s>e)&&ot(),i.charAt(s+1)){case"\x01":const a=i.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),n.push(c);break;case"\x10":r+=i.substring(o,s),r+="\0";break;case"\x11":r+=i.substring(o,s+1);break;default:ot()}o=s+2}return new Ci(n)}const mX=["userId","batchId"];function oS(i,t){return[i,Jo(t)]}function pX(i,t,e){return[i,Jo(t),e]}const aVe={},cVe=["prefixPath","collectionGroup","readTime","documentId"],lVe=["prefixPath","collectionGroup","documentId"],dVe=["collectionGroup","readTime","prefixPath","documentId"],uVe=["canonicalId","targetId"],hVe=["targetId","path"],mVe=["path","targetId"],pVe=["collectionId","parent"],fVe=["indexId","uid"],gVe=["uid","sequenceNumber"],_Ve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vVe=["indexId","uid","orderedDocumentKey"],bVe=["userId","collectionPath","documentId"],yVe=["userId","collectionPath","largestBatchId"],wVe=["userId","collectionGroup","largestBatchId"],fX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xVe=[...fX,"documentOverlays"],gX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_X=gX,CVe=[..._X,"indexConfiguration","indexState","indexEntries"];class OL extends lX{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function vo(i,t){const e=He(i);return lc.M(e.ae,t)}function vX(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Vh(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function bX(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Pn{constructor(t,e){this.comparator=t,this.root=e||Vo.EMPTY}insert(t,e){return new Pn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vo.BLACK,null,null))}remove(t){return new Pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sS(this.root,t,this.comparator,!1)}getReverseIterator(){return new sS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sS(this.root,t,this.comparator,!0)}}class sS{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vo{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??Vo.RED,this.left=r??Vo.EMPTY,this.right=o??Vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new Vo(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Vo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,e,n,r,o){return this}insert(t,e,n){return new Vo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(t){this.comparator=t,this.data=new Pn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new yX(this.data.getIterator())}getIteratorFrom(t){return new yX(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof mn)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new mn(this.comparator);return e.data=t,e}}class yX{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hv(i){return i.hasNext()?i.getNext():void 0}class ta{constructor(t){this.fields=t,t.sort(Wn.comparator)}static empty(){return new ta([])}unionWith(t){let e=new mn(Wn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ta(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return lv(this.fields,t.fields,(e,n)=>e.isEqual(n))}}class wX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wX("Invalid base64 string: "+o):o}}(t);return new oo(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new oo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oo.EMPTY_BYTE_STRING=new oo("");const kVe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bh(i){if(pt(!!i),"string"==typeof i){let t=0;const e=kVe.exec(i);if(pt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:br(i.seconds),nanos:br(i.nanos)}}function br(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Jd(i){return"string"==typeof i?oo.fromBase64String(i):oo.fromUint8Array(i)}function aS(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function cS(i){const t=i.mapValue.fields.__previous_value__;return aS(t)?cS(t):t}function cx(i){const t=Bh(i.mapValue.fields.__local_write_time__.timestampValue);return new Jn(t.seconds,t.nanos)}class TVe{constructor(t,e,n,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class zh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new zh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof zh&&t.projectId===this.projectId&&t.database===this.database}}const Hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lS={nullValue:"NULL_VALUE"};function Uh(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?aS(i)?4:kX(i)?9007199254740991:10:ot()}function Bl(i,t){if(i===t)return!0;const e=Uh(i);if(e!==Uh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return cx(i).isEqual(cx(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Bh(r.timestampValue),a=Bh(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return o=t,Jd(i.bytesValue).isEqual(Jd(o.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(r,o){return br(r.geoPointValue.latitude)===br(o.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(o.geoPointValue.longitude)}(i,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return br(r.integerValue)===br(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=br(r.doubleValue),a=br(o.doubleValue);return s===a?ax(s)===ax(a):isNaN(s)&&isNaN(a)}return!1}(i,t);case 9:return lv(i.arrayValue.values||[],t.arrayValue.values||[],Bl);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(vX(s)!==vX(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Bl(s[c],a[c])))return!1;return!0}(i,t);default:return ot()}var o}function lx(i,t){return void 0!==(i.values||[]).find(e=>Bl(e,t))}function jh(i,t){if(i===t)return 0;const e=Uh(i),n=Uh(t);if(e!==n)return Ht(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ht(i.booleanValue,t.booleanValue);case 2:return function(o,s){const a=br(o.integerValue||o.doubleValue),c=br(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(i,t);case 3:return xX(i.timestampValue,t.timestampValue);case 4:return xX(cx(i),cx(t));case 5:return Ht(i.stringValue,t.stringValue);case 6:return function(o,s){const a=Jd(o),c=Jd(s);return a.compareTo(c)}(i.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const d=Ht(a[l],c[l]);if(0!==d)return d}return Ht(a.length,c.length)}(i.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ht(br(o.latitude),br(s.latitude));return 0!==a?a:Ht(br(o.longitude),br(s.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const d=jh(a[l],c[l]);if(d)return d}return Ht(a.length,c.length)}(i.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Hh.mapValue&&s===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(s===Hh.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=Ht(c[h],d[h]);if(0!==p)return p;const g=jh(a[c[h]],l[d[h]]);if(0!==g)return g}return Ht(c.length,d.length)}(i.mapValue,t.mapValue);default:throw ot()}}function xX(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Ht(i,t);const e=Bh(i),n=Bh(t),r=Ht(e.seconds,n.seconds);return 0!==r?r:Ht(e.nanos,n.nanos)}function mv(i){return NL(i)}function NL(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=Bh(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Jd(i.bytesValue).toBase64():"referenceValue"in i?We.fromName(i.referenceValue).toString():"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",r=!0;for(const o of e.values||[])r?r=!1:n+=",",n+=NL(o);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of n)o?o=!1:r+=",",r+=`${s}:${NL(e.fields[s])}`;return r+"}"}(i.mapValue):ot()}function Xp(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function FL(i){return!!i&&"integerValue"in i}function dx(i){return!!i&&"arrayValue"in i}function CX(i){return!!i&&"nullValue"in i}function EX(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uS(i){return!!i&&"mapValue"in i}function ux(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Vh(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ux(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ux(i.arrayValue.values[e]);return t}return Object.assign({},i)}function kX(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function DVe(i){return"nullValue"in i?lS:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Xp(zh.empty(),We.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:ot()}function IVe(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Xp(zh.empty(),We.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Hh:ot()}function TX(i,t){const e=jh(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function DX(i,t){const e=jh(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class Bo{constructor(t){this.value=t}static empty(){return new Bo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!uS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ux(e)}setAll(t){let e=Wn.emptyPath(),n={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,n,r),n={},r=[],e=a.popLast()}s?n[a.lastSegment()]=ux(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,n,r)}delete(t){const e=this.field(t.popLast());uS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];uS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Vh(e,(r,o)=>t[r]=o);for(const r of n)delete t[r]}clone(){return new Bo(ux(this.value))}}function IX(i){const t=[];return Vh(i.fields,(e,n)=>{const r=new Wn([e]);if(uS(n)){const o=IX(n.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new ta(t)}class $n{constructor(t,e,n,r,o,s,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new $n(t,0,gt.min(),gt.min(),gt.min(),Bo.empty(),0)}static newFoundDocument(t,e,n,r){return new $n(t,1,e,gt.min(),n,r,0)}static newNoDocument(t,e){return new $n(t,2,e,gt.min(),gt.min(),Bo.empty(),0)}static newUnknownDocument(t,e){return new $n(t,3,e,gt.min(),gt.min(),Bo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof $n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(t,e){this.position=t,this.inclusive=e}}function SX(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){const o=t[r],s=i.position[r];if(n=o.field.isKeyField()?We.comparator(We.fromName(s.referenceValue),e.key):jh(s,e.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function MX(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Bl(i.position[e],t.position[e]))return!1;return!0}class hx{constructor(t,e="asc"){this.field=t,this.dir=e}}function SVe(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class AX{}class Ei extends AX{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new MVe(t,e,n):"array-contains"===e?new PVe(t,n):"in"===e?new LX(t,n):"not-in"===e?new OVe(t,n):"array-contains-any"===e?new NVe(t,n):new Ei(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new AVe(t,n):new RVe(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jh(e,this.value)):null!==e&&Uh(this.value)===Uh(e)&&this.matchesComparison(jh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends AX{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new rn(t,e)}matches(t){return pv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pv(i){return"and"===i.op}function LL(i){return"or"===i.op}function VL(i){return RX(i)&&pv(i)}function RX(i){for(const t of i.filters)if(t instanceof rn)return!1;return!0}function BL(i){if(i instanceof Ei)return i.field.canonicalString()+i.op.toString()+mv(i.value);if(VL(i))return i.filters.map(t=>BL(t)).join(",");{const t=i.filters.map(e=>BL(e)).join(",");return`${i.op}(${t})`}}function PX(i,t){return i instanceof Ei?(n=i,(r=t)instanceof Ei&&n.op===r.op&&n.field.isEqual(r.field)&&Bl(n.value,r.value)):i instanceof rn?function(n,r){return r instanceof rn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,s,a)=>o&&PX(s,r.filters[a]),!0)}(i,t):void ot();var n,r}function OX(i,t){const e=i.filters.concat(t);return rn.create(e,i.op)}function NX(i){return i instanceof Ei?`${(e=i).field.canonicalString()} ${e.op} ${mv(e.value)}`:i instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(NX).join(" ,")+"}"}(i):"Filter";var e}class MVe extends Ei{constructor(t,e,n){super(t,e,n),this.key=We.fromName(n.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.matchesComparison(e)}}class AVe extends Ei{constructor(t,e){super(t,"in",e),this.keys=FX(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class RVe extends Ei{constructor(t,e){super(t,"not-in",e),this.keys=FX(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function FX(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(n=>We.fromName(n.referenceValue))}class PVe extends Ei{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return dx(e)&&lx(e.arrayValue,this.value)}}class LX extends Ei{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&lx(this.value.arrayValue,e)}}class OVe extends Ei{constructor(t,e){super(t,"not-in",e)}matches(t){if(lx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!lx(this.value.arrayValue,e)}}class NVe extends Ei{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!dx(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>lx(this.value.arrayValue,n))}}class FVe{constructor(t,e=null,n=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function zL(i,t=null,e=[],n=[],r=null,o=null,s=null){return new FVe(i,t,e,n,r,o,s)}function Jp(i){const t=He(i);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>BL(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>{return(o=n).field.canonicalString()+o.dir;var o}).join(","),sx(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>mv(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>mv(n)).join(",")),t.ce=e}return t.ce}function mx(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!SVe(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!PX(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!MX(i.startAt,t.startAt)&&MX(i.endAt,t.endAt)}function hS(i){return We.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function mS(i,t){return i.filters.filter(e=>e instanceof Ei&&e.field.isEqual(t))}function VX(i,t,e){let n=lS,r=!0;for(const o of mS(i,t)){let s=lS,a=!0;switch(o.op){case"<":case"<=":s=DVe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=lS}TX({value:n,inclusive:r},{value:s,inclusive:a})<0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];TX({value:n,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}function BX(i,t,e){let n=Hh,r=!0;for(const o of mS(i,t)){let s=Hh,a=!0;switch(o.op){case">=":case">":s=IVe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Hh}DX({value:n,inclusive:r},{value:s,inclusive:a})>0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];DX({value:n,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}class eu{constructor(t,e=null,n=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function zX(i,t,e,n,r,o,s,a){return new eu(i,t,e,n,r,o,s,a)}function fv(i){return new eu(i)}function HX(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function HL(i){return null!==i.collectionGroup}function gv(i){const t=He(i);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mn(Wn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new hx(o,n))}),e.has(Wn.keyField().canonicalString())||t.le.push(new hx(Wn.keyField(),n))}return t.le}function As(i){const t=He(i);return t.he||(t.he=function UX(i,t){if("F"===i.limitType)return zL(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(r=>new hx(r.field,"desc"===r.dir?"asc":"desc"));const e=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return zL(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}(t,gv(i))),t.he}function UL(i,t){const e=i.filters.concat([t]);return new eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function pS(i,t,e){return new eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function px(i,t){return mx(As(i),As(t))&&i.limitType===t.limitType}function jX(i){return`${Jp(As(i))}|lt:${i.limitType}`}function _v(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>NX(r)).join(", ")}]`),sx(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mv(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mv(r)).join(",")),`Target(${n})`}(As(i))}; limitType=${i.limitType})`}function fx(i,t){return t.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):We.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(i,t)&&function(n,r){for(const o of gv(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(i,t)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(i,t)&&(r=t,!((n=i).startAt&&!function(s,a,c){const l=SX(s,a,c);return s.inclusive?l<=0:l<0}(n.startAt,gv(n),r)||n.endAt&&!function(s,a,c){const l=SX(s,a,c);return s.inclusive?l>=0:l>0}(n.endAt,gv(n),r)));var n,r}function WX(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $X(i){return(t,e)=>{let n=!1;for(const r of gv(i)){const o=LVe(r,t,e);if(0!==o)return o;n=n||r.field.isKeyField()}return 0}}function LVe(i,t,e){const n=i.field.isKeyField()?We.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?jh(c,l):ot()}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return ot()}}class tu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vh(this.inner,(e,n)=>{for(const[r,o]of n)t(r,o)})}isEmpty(){return bX(this.inner)}size(){return this.innerSize}}const VVe=new Pn(We.comparator);function ia(){return VVe}const GX=new Pn(We.comparator);function gx(...i){let t=GX;for(const e of i)t=t.insert(e.key,e);return t}function qX(i){let t=GX;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function zl(){return _x()}function YX(){return _x()}function _x(){return new tu(i=>i.toString(),(i,t)=>i.isEqual(t))}const BVe=new Pn(We.comparator),zVe=new mn(We.comparator);function oi(...i){let t=zVe;for(const e of i)t=t.add(e);return t}const HVe=new mn(Ht);function jL(){return HVe}function ZX(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ax(t)?"-0":t}}function KX(i){return{integerValue:""+i}}function QX(i,t){return uX(t)?KX(t):ZX(i,t)}class fS{constructor(){this._=void 0}}function UVe(i,t,e){return i instanceof vv?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&aS(o)&&(o=cS(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):i instanceof ef?JX(i,t):i instanceof tf?eJ(i,t):function(r,o){const s=XX(r,o),a=tJ(s)+tJ(r.Ie);return FL(s)&&FL(r.Ie)?KX(a):ZX(r.serializer,a)}(i,t)}function jVe(i,t,e){return i instanceof ef?JX(i,t):i instanceof tf?eJ(i,t):e}function XX(i,t){return i instanceof bv?FL(n=t)||(o=n)&&"doubleValue"in o?t:{integerValue:0}:null;var n,o}class vv extends fS{}class ef extends fS{constructor(t){super(),this.elements=t}}function JX(i,t){const e=iJ(t);for(const n of i.elements)e.some(r=>Bl(r,n))||e.push(n);return{arrayValue:{values:e}}}class tf extends fS{constructor(t){super(),this.elements=t}}function eJ(i,t){let e=iJ(t);for(const n of i.elements)e=e.filter(r=>!Bl(r,n));return{arrayValue:{values:e}}}class bv extends fS{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function tJ(i){return br(i.integerValue||i.doubleValue)}function iJ(i){return dx(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class vx{constructor(t,e){this.field=t,this.transform=e}}class $Ve{constructor(t,e){this.version=t,this.transformResults=e}}class er{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new er}static exists(t){return new er(void 0,t)}static updateTime(t){return new er(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gS(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class _S{}function nJ(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new wv(i.key,er.none()):new yv(i.key,i.data,er.none());{const e=i.data,n=Bo.empty();let r=new mn(Wn.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?n.delete(o):n.set(o,s),r=r.add(o)}return new iu(i.key,n,new ta(r.toArray()),er.none())}}function GVe(i,t,e){i instanceof yv?function(r,o,s){const a=r.value.clone(),c=sJ(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(i,t,e):i instanceof iu?function(r,o,s){if(!gS(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=sJ(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(oJ(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bx(i,t,e,n){return i instanceof yv?function(o,s,a,c){if(!gS(o.precondition,s))return a;const l=o.value.clone(),d=aJ(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(i,t,e,n):i instanceof iu?function(o,s,a,c){if(!gS(o.precondition,s))return a;const l=aJ(o.fieldTransforms,c,s),d=s.data;return d.setAll(oJ(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(i,t,e,n):(a=e,gS(i.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qVe(i,t){let e=null;for(const n of i.fieldTransforms){const r=t.data.field(n.field),o=XX(n.transform,r||null);null!=o&&(null===e&&(e=Bo.empty()),e.set(n.field,o))}return e||null}function rJ(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===r||n&&r&&lv(n,r,(o,s)=>function WVe(i,t){return i.field.isEqual(t.field)&&(r=t.transform,(n=i.transform)instanceof ef&&r instanceof ef||n instanceof tf&&r instanceof tf?lv(n.elements,r.elements,Bl):n instanceof bv&&r instanceof bv?Bl(n.Ie,r.Ie):n instanceof vv&&r instanceof vv);var n,r}(o,s))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var n,r}class yv extends _S{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class iu extends _S{constructor(t,e,n,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oJ(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function sJ(i,t,e){const n=new Map;pt(i.length===e.length);for(let r=0;r<e.length;r++){const o=i[r],s=o.transform,a=t.data.field(o.field);n.set(o.field,jVe(s,a,e[r]))}return n}function aJ(i,t,e){const n=new Map;for(const r of i){const o=r.transform,s=e.data.field(r.field);n.set(r.field,UVe(o,s,t))}return n}class wv extends _S{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WL extends _S{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $L{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&GVe(o,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=bx(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=bx(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=YX();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=nJ(s,a);null!==c&&n.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(gt.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),oi())}isEqual(t){return this.batchId===t.batchId&&lv(this.mutations,t.mutations,(e,n)=>rJ(e,n))&&lv(this.baseMutations,t.baseMutations,(e,n)=>rJ(e,n))}}class GL{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){pt(t.mutations.length===n.length);let r=BVe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new GL(t,e,n,r)}}class qL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ZVe{constructor(t,e){this.count=t,this.unchangedNames=e}}var Wr,Ai;function cJ(i){switch(i){default:return ot();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function lJ(i){if(void 0===i)return Mr("GRPC error has no .code"),se.UNKNOWN;switch(i){case Wr.OK:return se.OK;case Wr.CANCELLED:return se.CANCELLED;case Wr.UNKNOWN:return se.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return se.INTERNAL;case Wr.UNAVAILABLE:return se.UNAVAILABLE;case Wr.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Wr.NOT_FOUND:return se.NOT_FOUND;case Wr.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Wr.ABORTED:return se.ABORTED;case Wr.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Wr.DATA_LOSS:return se.DATA_LOSS;default:return ot()}}(Ai=Wr||(Wr={}))[Ai.OK=0]="OK",Ai[Ai.CANCELLED=1]="CANCELLED",Ai[Ai.UNKNOWN=2]="UNKNOWN",Ai[Ai.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ai[Ai.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ai[Ai.NOT_FOUND=5]="NOT_FOUND",Ai[Ai.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ai[Ai.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ai[Ai.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ai[Ai.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ai[Ai.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ai[Ai.ABORTED=10]="ABORTED",Ai[Ai.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ai[Ai.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ai[Ai.INTERNAL=13]="INTERNAL",Ai[Ai.UNAVAILABLE=14]="UNAVAILABLE",Ai[Ai.DATA_LOSS=15]="DATA_LOSS";function dJ(){return new TextEncoder}const KVe=new sv([4294967295,4294967295],0);function uJ(i){const t=dJ().encode(i),e=new jLe;return e.update(t),new Uint8Array(e.digest())}function hJ(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new sv([e,n],0),new sv([r,o],0)]}class YL{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new yx(`Invalid padding: ${e}`);if(n<0)throw new yx(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new yx(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new yx(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=sv.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(sv.fromNumber(n)));return 1===r.compare(KVe)&&(r=new sv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=uJ(t),[n,r]=hJ(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new YL(o,r,e);return n.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=uJ(t),[n,r]=hJ(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class yx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wx{constructor(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,xx.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new wx(gt.min(),r,new Pn(Ht),ia(),oi())}}class xx{constructor(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new xx(n,e,oi(),oi(),oi())}}class bS{constructor(t,e,n,r){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=r}}class mJ{constructor(t,e){this.targetId=t,this.fe=e}}class pJ{constructor(t,e,n=oo.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class fJ{constructor(){this.ge=0,this.pe=_J(),this.ye=oo.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=oi(),e=oi(),n=oi();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ot()}}),new xx(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=_J()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,pt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class QVe{constructor(t){this.Le=t,this.ke=new Map,this.qe=ia(),this.Qe=gJ(),this.Ke=new Pn(Ht)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Be(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((n,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,n=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(hS(o))if(0===n){const s=new We(o.path);this.We(e,s,$n.newNoDocument(s,gt.min()))}else pt(1===n);else{const s=this.Ze(e);if(s!==n){const a=this.Xe(t),c=a?this.et(a,t,s):1;0!==c&&(this.He(e),this.Ke=this.Ke.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Jd(n).toUint8Array()}catch(c){if(c instanceof wX)return ea("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new YL(s,r,o)}catch(c){return ea(c instanceof yx?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&hS(a.target)){const c=new We(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,$n.newNoDocument(c,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let n=oi();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new wx(t,e,this.Ke,this.qe,n);return this.qe=ia(),this.Qe=gJ(),this.Ke=new Pn(Ht),r}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new fJ,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new mn(Ht),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||De("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new fJ),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function gJ(){return new Pn(We.comparator)}function _J(){return new Pn(We.comparator)}const XVe={asc:"ASCENDING",desc:"DESCENDING"},JVe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eBe={and:"AND",or:"OR"};class tBe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ZL(i,t){return i.useProto3Json||sx(t)?t:{value:t}}function xv(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vJ(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function iBe(i,t){return xv(i,t.toTimestamp())}function Ar(i){return pt(!!i),gt.fromTimestamp(function(e){const n=Bh(e);return new Jn(n.seconds,n.nanos)}(i))}function KL(i,t){return QL(i,t).canonicalString()}function QL(i,t){const e=(r=i,new Ci(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function bJ(i){const t=Ci.fromString(i);return pt(SJ(t)),t}function Cx(i,t){return KL(i.databaseId,t.path)}function Hl(i,t){const e=bJ(t);if(e.get(1)!==i.databaseId.projectId)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Te(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new We(xJ(e))}function yJ(i,t){return KL(i.databaseId,t)}function wJ(i){const t=bJ(i);return 4===t.length?Ci.emptyPath():xJ(t)}function XL(i){return new Ci(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xJ(i){return pt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function CJ(i,t,e){return{name:Cx(i,t),fields:e.value.mapValue.fields}}function EJ(i,t,e){const n=Hl(i,t.name),r=Ar(t.updateTime),o=t.createTime?Ar(t.createTime):gt.min(),s=new Bo({mapValue:{fields:t.fields}}),a=$n.newFoundDocument(n,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Ex(i,t){let e;if(t instanceof yv)e={update:CJ(i,t.key,t.value)};else if(t instanceof wv)e={delete:Cx(i,t.key)};else if(t instanceof iu)e={update:CJ(i,t.key,t.data),updateMask:dBe(t.fieldMask)};else{if(!(t instanceof WL))return ot();e={verify:Cx(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof vv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ef)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bv)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ot()}(0,n))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:iBe(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),e;var o}function JL(i,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?er.updateTime(Ar(o.updateTime)):void 0!==o.exists?er.exists(o.exists):er.none():er.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(pt("REQUEST_TIME"===a.setToServerValue),c=new vv):"appendMissingElements"in a?c=new ef(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new tf(a.removeAllFromArray.values||[]):"increment"in a?c=new bv(s,a.increment):ot();const l=Wn.fromServerFormat(a.fieldPath);return new vx(l,c)}(i,r)):[];var o;if(t.update){const r=Hl(i,t.update.name),o=new Bo({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new ta((t.updateMask.fieldPaths||[]).map(d=>Wn.fromServerFormat(d)));return new iu(r,o,s,e,n)}return new yv(r,o,e,n)}if(t.delete){const r=Hl(i,t.delete);return new wv(r,e)}if(t.verify){const r=Hl(i,t.verify);return new WL(r,e)}return ot()}function kJ(i,t){return{documents:[yJ(i,t.path)]}}function eV(i,t){const e={structuredQuery:{}},n=t.path;let r;null!==t.collectionGroup?(r=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=yJ(i,r);const o=function(l){if(0!==l.length)return IJ(rn.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(d=>{return{field:$h((p=d).field),direction:aBe(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=ZL(i,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:e,parent:r};var l}function TJ(i){let t=wJ(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let r=null;if(n>0){pt(1===n);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(h){const p=DJ(h);return p instanceof rn&&VL(p)?p.getFilters():[p]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(p=>{return new hx(Cv((b=p).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;e.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,sx(p)?null:p}(e.limit));let c=null;var h;e.startAt&&(c=new Wh((h=e.startAt).values||[],!!h.before));let l=null;return e.endAt&&(l=function(h){return new Wh(h.values||[],!h.before)}(e.endAt)),zX(t,r,s,o,a,"F",c,l)}function DJ(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Cv(e.unaryFilter.field);return Ei.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Cv(e.unaryFilter.field);return Ei.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cv(e.unaryFilter.field);return Ei.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cv(e.unaryFilter.field);return Ei.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(i):void 0!==i.fieldFilter?Ei.create(Cv((e=i).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(n=>DJ(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(i):ot();var e}function aBe(i){return XVe[i]}function cBe(i){return JVe[i]}function lBe(i){return eBe[i]}function $h(i){return{fieldPath:i.canonicalString()}}function Cv(i){return Wn.fromServerFormat(i.fieldPath)}function IJ(i){return i instanceof Ei?function(e){if("=="===e.op){if(EX(e.value))return{unaryFilter:{field:$h(e.field),op:"IS_NAN"}};if(CX(e.value))return{unaryFilter:{field:$h(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(EX(e.value))return{unaryFilter:{field:$h(e.field),op:"IS_NOT_NAN"}};if(CX(e.value))return{unaryFilter:{field:$h(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$h(e.field),op:cBe(e.op),value:e.value}}}(i):i instanceof rn?function(e){const n=e.getFilters().map(r=>IJ(r));return 1===n.length?n[0]:{compositeFilter:{op:lBe(e.op),filters:n}}}(i):ot()}function dBe(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function SJ(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class nu{constructor(t,e,n,r,o=gt.min(),s=gt.min(),a=oo.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new nu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class MJ{constructor(t){this.ct=t}}function AJ(i,t){const e=t.key,n={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:yS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document={name:Cx(o=i.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:xv(o,s.version.toTimestamp()),createTime:xv(o,s.createTime.toTimestamp())};else if(t.isNoDocument())n.noDocument={path:e.path.toArray(),readTime:nf(t.version)};else{if(!t.isUnknownDocument())return ot();n.unknownDocument={path:e.path.toArray(),version:nf(t.version)}}var o,s;return n}function yS(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function nf(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rf(i){const t=new Jn(i.seconds,i.nanoseconds);return gt.fromTimestamp(t)}function sf(i,t){const e=(t.baseMutations||[]).map(o=>JL(i.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const n=t.mutations.map(o=>JL(i.ct,o)),r=Jn.fromMillis(t.localWriteTimeMs);return new $L(t.batchId,r,e,n)}function kx(i){const t=rf(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?rf(i.lastLimboFreeSnapshotVersion):gt.min();let n;return n=void 0!==i.query.documents?(pt(1===(o=i.query).documents.length),As(fv(wJ(o.documents[0])))):function(o){return As(TJ(o))}(i.query),new nu(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,e,oo.fromBase64String(i.resumeToken));var o}function RJ(i,t){const e=nf(t.snapshotVersion),n=nf(t.lastLimboFreeSnapshotVersion);let r;r=hS(t.target)?kJ(i.ct,t.target):eV(i.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Jp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function tV(i){const t=TJ({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pS(t,t.limit,"L"):t}function iV(i,t){return new qL(t.largestBatchId,JL(i.ct,t.overlayMutation))}function PJ(i,t){const e=t.path.lastSegment();return[i,Jo(t.path.popLast()),e]}function OJ(i,t,e,n){return{indexId:i,uid:t,sequenceNumber:e,readTime:nf(n.readTime),documentKey:Jo(n.documentKey.path),largestBatchId:n.largestBatchId}}class hBe{getBundleMetadata(t,e){return NJ(t).get(e).next(n=>{if(n)return{id:(o=n).bundleId,createTime:rf(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return NJ(t).put({bundleId:(r=e).id,createTime:nf(Ar(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return FJ(t).get(e).next(n=>{if(n)return{name:(o=n).name,query:tV(o.bundledQuery),readTime:rf(o.readTime)};var o})}saveNamedQuery(t,e){return FJ(t).put({name:(r=e).name,readTime:nf(Ar(r.readTime)),bundledQuery:r.bundledQuery});var r}}function NJ(i){return vo(i,"bundles")}function FJ(i){return vo(i,"namedQueries")}class wS{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new wS(t,e.uid||"")}getOverlay(t,e){return Tx(t).get(PJ(this.userId,e)).next(n=>n?iV(this.serializer,n):null)}getOverlays(t,e){const n=zl();return J.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){const r=[];return n.forEach((o,s)=>{const a=new qL(e,s);r.push(this.ht(t,a))}),J.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach(s=>r.add(Jo(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);o.push(Tx(t).H("collectionPathOverlayIndex",a))}),J.waitFor(o)}getOverlaysForCollection(t,e,n){const r=zl(),o=Jo(e),s=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Tx(t).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=iV(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,n,r){const o=zl();let s;const a=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Tx(t).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{const h=iV(this.serializer,l);o.size()<r||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return Tx(t).put(function(r,o,s){const[a,c,l]=PJ(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ex(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function Tx(i){return vo(i,"documentOverlays")}class af{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(br(t.integerValue));else if("doubleValue"in t){const n=br(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),ax(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At(`${n.seconds||""}`),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Jd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?kX(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):ot()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),We.fromName(t).path.forEach(n=>{this.Et(e,60),this.St(n,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}function mBe(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function LJ(i){const t=64-function(n){let r=0;for(let o=0;o<8;++o){const s=mBe(255&n[o]);if(r+=s,8!==s)break}return r}(i);return Math.ceil(t/8)}af.bt=new af;class pBe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ct(n.value),n=e.next();this.vt()}Ft(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Mt(n.value),n=e.next();this.xt()}Ot(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Ct(n);else if(n<2048)this.Ct(960|n>>>6),this.Ct(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Ct(480|n>>>12),this.Ct(128|63&n>>>6),this.Ct(128|63&n);else{const r=e.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Mt(n);else if(n<2048)this.Mt(960|n>>>6),this.Mt(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Mt(480|n>>>12),this.Mt(128|63&n>>>6),this.Mt(128|63&n);else{const r=e.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Bt(t){const e=this.Lt(t),n=LJ(e);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}qt(t){const e=this.Lt(t),n=LJ(e);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Lt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}Ct(t){const e=255&t;0===e?(this.Kt(0),this.Kt(255)):255===e?(this.Kt(255),this.Kt(0)):this.Kt(e)}Mt(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class fBe{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Bt(t)}Tt(){this.Gt.Qt()}}class gBe{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class Dx{constructor(){this.Gt=new pBe,this.zt=new fBe(this.Gt),this.jt=new gBe(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class cf{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}Jt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new cf(this.indexId,this.documentKey,this.arrayValue,n)}}function Gh(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=VJ(i.arrayValue,t.arrayValue),0!==e?e:(e=VJ(i.directionalValue,t.directionalValue),0!==e?e:We.comparator(i.documentKey,t.documentKey)))}function VJ(i,t){for(let e=0;e<i.length&&e<t.length;++e){const n=i[e]-t[e];if(0!==n)return n}return i.length-t.length}class BJ{constructor(t){this.Yt=new mn((e,n)=>Wn.comparator(e.field,n.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const e of t.filters){const n=e;n.isInequality()?this.Yt=this.Yt.add(n):this.Xt.push(n)}}get en(){return this.Yt.size>1}tn(t){if(pt(t.collectionGroup===this.collectionId),this.en)return!1;const e=ML(t);if(void 0!==e&&!this.nn(e))return!1;const n=Zp(t);let r=new Set,o=0,s=0;for(;o<n.length&&this.nn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=n[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<n.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],n[o]))return!1;return!0}on(){if(this.en)return null;let t=new mn(Wn.comparator);const e=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)e.push(new Kp(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),e.push(new Kp(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),e.push(new Kp(n.field,"asc"===n.dir?0:1)));return new dv(dv.UNKNOWN_ID,this.collectionId,e,uv.empty())}nn(t){for(const e of this.Xt)if(this.rn(e,t))return!0;return!1}rn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function zJ(i){var t,e;if(pt(i instanceof Ei||i instanceof rn),i instanceof Ei){if(i instanceof LX){const r=(null===(e=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Ei.create(i.field,"==",o)))||[];return rn.create(r,"or")}return i}const n=i.filters.map(r=>zJ(r));return rn.create(n,i.op)}function _Be(i){if(0===i.getFilters().length)return[];const t=oV(zJ(i));return pt(HJ(t)),nV(t)||rV(t)?[t]:t.getFilters()}function nV(i){return i instanceof Ei}function rV(i){return i instanceof rn&&VL(i)}function HJ(i){return nV(i)||rV(i)||function(e){if(e instanceof rn&&LL(e)){for(const n of e.getFilters())if(!nV(n)&&!rV(n))return!1;return!0}return!1}(i)}function oV(i){if(pt(i instanceof Ei||i instanceof rn),i instanceof Ei)return i;if(1===i.filters.length)return oV(i.filters[0]);const t=i.filters.map(n=>oV(n));let e=rn.create(t,i.op);return e=xS(e),HJ(e)?e:(pt(e instanceof rn),pt(pv(e)),pt(e.filters.length>1),e.filters.reduce((n,r)=>sV(n,r)))}function sV(i,t){let e;return pt(i instanceof Ei||i instanceof rn),pt(t instanceof Ei||t instanceof rn),e=i instanceof Ei?t instanceof Ei?rn.create([i,t],"and"):UJ(i,t):t instanceof Ei?UJ(t,i):function(r,o){if(pt(r.filters.length>0&&o.filters.length>0),pv(r)&&pv(o))return OX(r,o.getFilters());const s=LL(r)?r:o,a=LL(r)?o:r,c=s.filters.map(l=>sV(l,a));return rn.create(c,"or")}(i,t),xS(e)}function UJ(i,t){if(pv(t))return OX(t,i.getFilters());{const e=t.filters.map(n=>sV(i,n));return rn.create(e,"or")}}function xS(i){if(pt(i instanceof Ei||i instanceof rn),i instanceof Ei)return i;const t=i.getFilters();if(1===t.length)return xS(t[0]);if(RX(i))return i;const e=t.map(r=>xS(r)),n=[];return e.forEach(r=>{r instanceof Ei?n.push(r):r instanceof rn&&(r.op===i.op?n.push(...r.filters):n.push(r))}),1===n.length?n[0]:rn.create(n,i.op)}class vBe{constructor(){this._n=new aV}addToCollectionParentIndex(t,e){return this._n.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(Ma.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(Ma.min())}updateCollectionGroup(t,e,n){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class aV{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new mn(Ci.comparator),o=!r.has(n);return this.index[e]=r.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new mn(Ci.comparator)).toArray()}}const CS=new Uint8Array(0);class bBe{constructor(t,e){this.databaseId=e,this.an=new aV,this.un=new tu(n=>Jp(n),(n,r)=>mx(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.an.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.an.add(e)});const o={collectionId:n,parent:Jo(r)};return jJ(t).put(o)}return J.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[oX(e),""],!1,!0);return jJ(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;n.push(Vl(s.parent))}return n})}addFieldIndex(t,e){const n=Ix(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=n.add(r);if(e.indexState){const s=kv(t);return o.next(a=>{s.put(OJ(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const n=Ix(t),r=kv(t),o=Ev(t);return n.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Ix(t),n=Ev(t),r=kv(t);return e.H().next(()=>n.H()).next(()=>r.H())}createTargetIndexes(t,e){return J.forEach(this.cn(e),n=>this.getIndexType(t,n).next(r=>{if(0===r||1===r){const o=new BJ(n).on();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const n=Ev(t);let r=!0;const o=new Map;return J.forEach(this.cn(e),s=>this.ln(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=oi();const a=[];return J.forEach(o,(c,l)=>{var M;De("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(L=>`${L.fieldPath}:${L.kind}`).join(",")}`} to execute ${Jp(e)}`);const d=function(M,L){const z=ML(L);if(void 0===z)return null;for(const Z of mS(M,z.fieldPath))switch(Z.op){case"array-contains-any":return Z.value.arrayValue.values||[];case"array-contains":return[Z.value]}return null}(l,c),h=function(M,L){const z=new Map;for(const Z of Zp(L))for(const ue of mS(M,Z.fieldPath))switch(ue.op){case"==":case"in":z.set(Z.fieldPath.canonicalString(),ue.value);break;case"not-in":case"!=":return z.set(Z.fieldPath.canonicalString(),ue.value),Array.from(z.values())}return null}(l,c),p=function(M,L){const z=[];let Z=!0;for(const ue of Zp(L)){const ie=0===ue.kind?VX(M,ue.fieldPath,M.startAt):BX(M,ue.fieldPath,M.startAt);z.push(ie.value),Z&&(Z=ie.inclusive)}return new Wh(z,Z)}(l,c),g=function(M,L){const z=[];let Z=!0;for(const ue of Zp(L)){const ie=0===ue.kind?BX(M,ue.fieldPath,M.endAt):VX(M,ue.fieldPath,M.endAt);z.push(ie.value),Z&&(Z=ie.inclusive)}return new Wh(z,Z)}(l,c),b=this.hn(c,l,p),w=this.hn(c,l,g),x=this.Pn(c,l,h),S=this.In(c.indexId,d,b,p.inclusive,w,g.inclusive,x);return J.forEach(S,D=>n.j(D,e.limit).next(M=>{M.forEach(L=>{const z=We.fromSegments(L.documentKey);s.has(z)||(s=s.add(z),a.push(z))})}))}).next(()=>a)}return J.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:_Be(rn.create(t.filters,"and")).map(n=>zL(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}In(t,e,n,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(n.length,o.length),l=c/(null!=e?e.length:1),d=[];for(let h=0;h<c;++h){const p=e?this.Tn(e[h/l]):CS,g=this.En(t,p,n[h%l],r),b=this.dn(t,p,o[h%l],s),w=a.map(x=>this.En(t,p,x,!0));d.push(...this.createRange(g,b,w))}return d}En(t,e,n,r){const o=new cf(t,We.empty(),e,n);return r?o:o.Jt()}dn(t,e,n,r){const o=new cf(t,We.empty(),e,n);return r?o.Jt():o}ln(t,e){const n=new BJ(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)n.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let n=2;const r=this.cn(e);return J.forEach(r,o=>this.ln(t,o).next(s=>{s?0!==n&&s.fields.length<function(c){let l=new mn(Wn.comparator),d=!1;for(const h of c.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field));for(const h of c.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(d?1:0)}(o)&&(n=1):n=0})).next(()=>null!==e.limit&&r.length>1&&2===n?1:n)}An(t,e){const n=new Dx;for(const r of Zp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=n.Ht(r.kind);af.bt.Pt(o,s)}return n.Wt()}Tn(t){const e=new Dx;return af.bt.Pt(t,e.Ht(0)),e.Wt()}Rn(t,e){const n=new Dx;return af.bt.Pt(Xp(this.databaseId,e),n.Ht(function(o){const s=Zp(o);return 0===s.length?0:s[s.length-1].kind}(t))),n.Wt()}Pn(t,e,n){if(null===n)return[];let r=[];r.push(new Dx);let o=0;for(const s of Zp(t)){const a=n[o++];for(const c of r)if(this.Vn(e,s.fieldPath)&&dx(a))r=this.mn(r,s,a);else{const l=c.Ht(s.kind);af.bt.Pt(a,l)}}return this.fn(r)}hn(t,e,n){return this.Pn(t,e,n.position)}fn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Wt();return e}mn(t,e,n){const r=[...t],o=[];for(const s of n.arrayValue.values||[])for(const a of r){const c=new Dx;c.seed(a.Wt()),af.bt.Pt(s,c.Ht(e.kind)),o.push(c)}return o}Vn(t,e){return!!t.filters.find(n=>n instanceof Ei&&n.field.isEqual(e)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(t,e){const n=Ix(t),r=kv(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next(o=>{const s=[];return J.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,h){const p=h?new uv(h.sequenceNumber,new Ma(rf(h.readTime),new We(Vl(h.documentKey)),h.largestBatchId)):uv.empty(),g=d.fields.map(([b,w])=>new Kp(Wn.fromServerFormat(b),w));return new dv(d.indexId,d.collectionGroup,g,p)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((n,r)=>{const o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ht(n.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,n){const r=Ix(t),o=kv(t);return this.gn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>J.forEach(a,c=>o.put(OJ(c.indexId,this.uid,s,n)))))}updateIndexEntries(t,e){const n=new Map;return J.forEach(e,(r,o)=>{const s=n.get(r.collectionGroup);return(s?J.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),J.forEach(a,c=>this.pn(t,r,c).next(l=>{const d=this.yn(o,c);return l.isEqual(d)?J.resolve():this.wn(t,o,c,l,d)}))))})}Sn(t,e,n,r){return Ev(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,e.key),documentKey:e.key.path.toArray()})}bn(t,e,n,r){return Ev(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,e.key),e.key.path.toArray()])}pn(t,e,n){const r=Ev(t);let o=new mn(Gh);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,e)])},(s,a)=>{o=o.add(new cf(n.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(t,e){let n=new mn(Gh);const r=this.An(e,t);if(null==r)return n;const o=ML(e);if(null!=o){const s=t.data.field(o.fieldPath);if(dx(s))for(const a of s.arrayValue.values||[])n=n.add(new cf(e.indexId,t.key,this.Tn(a),r))}else n=n.add(new cf(e.indexId,t.key,CS,r));return n}wn(t,e,n,r,o){De("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,d,h,p){const g=c.getIterator(),b=l.getIterator();let w=hv(g),x=hv(b);for(;w||x;){let S=!1,D=!1;if(w&&x){const M=d(w,x);M<0?D=!0:M>0&&(S=!0)}else null!=w?D=!0:S=!0;S?(h(x),x=hv(b)):D?(p(w),w=hv(g)):(w=hv(g),x=hv(b))}}(r,o,Gh,a=>{s.push(this.Sn(t,e,n,a))},a=>{s.push(this.bn(t,e,n,a))}),J.waitFor(s)}gn(t){let e=1;return kv(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((s,a)=>Gh(s,a)).filter((s,a,c)=>!a||0!==Gh(s,c[a-1]));const r=[];r.push(t);for(const s of n){const a=Gh(s,t),c=Gh(s,e);if(0===a)r[0]=t.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,CS,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,CS,[]]))}return o}Dn(t,e){return Gh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(WJ)}getMinOffset(t,e){return J.mapArray(this.cn(e),n=>this.ln(t,n).next(r=>r||ot())).next(WJ)}}function jJ(i){return vo(i,"collectionParents")}function Ev(i){return vo(i,"indexEntries")}function Ix(i){return vo(i,"indexConfiguration")}function kv(i){return vo(i,"indexState")}function WJ(i){pt(0!==i.length);let t=i[0].indexState.offset,e=t.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;AL(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ma(t.readTime,t.documentKey,e)}const $J={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new es(t,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GJ(i,t,e){const n=i.store("mutations"),r=i.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=n.Y({range:s},(d,h,p)=>(a++,p.delete()));o.push(c.next(()=>{pt(1===a)}));const l=[];for(const d of e.mutations){const h=pX(t,d.key.path,e.batchId);o.push(r.delete(h)),l.push(d.key)}return J.waitFor(o).next(()=>l)}function ES(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw ot();t=i.noDocument}return JSON.stringify(t).length}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class kS{constructor(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(t,e,n,r){pt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new kS(o,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).Y({index:"userMutationsIndex",range:n},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const o=Tv(t),s=qh(t);return s.add({}).next(a=>{pt("number"==typeof a);const c=new $L(a,e,n,r),l=function(g,b,w){const x=w.baseMutations.map(D=>Ex(g.ct,D)),S=w.mutations.map(D=>Ex(g.ct,D));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:x,mutations:S}}(this.serializer,this.userId,c),d=[];let h=new mn((p,g)=>Ht(p.canonicalString(),g.canonicalString()));for(const p of r){const g=pX(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(s.put(l)),d.push(o.put(g,aVe))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(t,p))}),t.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),J.waitFor(d).next(()=>c)})}lookupMutationBatch(t,e){return qh(t).get(e).next(n=>n?(pt(n.userId===this.userId),sf(this.serializer,n)):null)}vn(t,e){return this.Cn[e]?J.resolve(this.Cn[e]):this.lookupMutationBatch(t,e).next(n=>{if(n){const r=n.keys();return this.Cn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return qh(t).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(pt(a.batchId>=n),o=sf(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return qh(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{n=o.batchId,s.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qh(t).W("userMutationsIndex",e).next(n=>n.map(r=>sf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=oS(this.userId,e.path),r=IDBKeyRange.lowerBound(n),o=[];return Tv(t).Y({range:r},(s,a,c)=>{const[l,d,h]=s,p=Vl(d);if(l===this.userId&&e.path.isEqual(p))return qh(t).get(h).next(g=>{if(!g)throw ot();pt(g.userId===this.userId),o.push(sf(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new mn(Ht);const r=[];return e.forEach(o=>{const s=oS(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Tv(t).Y({range:a},(l,d,h)=>{const[p,g,b]=l,w=Vl(g);p===this.userId&&o.path.isEqual(w)?n=n.add(b):h.done()});r.push(c)}),J.waitFor(r).next(()=>this.Fn(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,o=oS(this.userId,n),s=IDBKeyRange.lowerBound(o);let a=new mn(Ht);return Tv(t).Y({range:s},(c,l,d)=>{const[h,p,g]=c,b=Vl(p);h===this.userId&&n.isPrefixOf(b)?b.length===r&&(a=a.add(g)):d.done()}).next(()=>this.Fn(t,a))}Fn(t,e){const n=[],r=[];return e.forEach(o=>{r.push(qh(t).get(o).next(s=>{if(null===s)throw ot();pt(s.userId===this.userId),n.push(sf(this.serializer,s))}))}),J.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return GJ(t.ae,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.Mn(e.batchId)}),J.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return J.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Tv(t).Y({range:n},(o,s,a)=>{if(o[0]===this.userId){const c=Vl(o[1]);r.push(c)}else a.done()}).next(()=>{pt(0===r.length)})})}containsKey(t,e){return qJ(t,this.userId,e)}xn(t){return YJ(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qJ(i,t,e){const n=oS(t,e.path),r=n[1],o=IDBKeyRange.lowerBound(n);let s=!1;return Tv(i).Y({range:o,J:!0},(a,c,l)=>{const[d,h,p]=a;d===t&&h===r&&(s=!0),l.done()}).next(()=>s)}function qh(i){return vo(i,"mutations")}function Tv(i){return vo(i,"documentMutations")}function YJ(i){return vo(i,"mutationQueues")}class lf{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new lf(0)}static Bn(){return new lf(-1)}}class yBe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Ln(t).next(e=>{const n=new lf(e.highestTargetId);return e.highestTargetId=n.next(),this.kn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Ln(t).next(e=>gt.fromTimestamp(new Jn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Ln(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Ln(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.kn(t,r)))}addTargetData(t,e){return this.qn(t,e).next(()=>this.Ln(t).next(n=>(n.targetCount+=1,this.Qn(e,n),this.kn(t,n))))}updateTargetData(t,e){return this.qn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Dv(t).delete(e.targetId)).next(()=>this.Ln(t)).next(n=>(pt(n.targetCount>0),n.targetCount-=1,this.kn(t,n)))}removeTargets(t,e,n){let r=0;const o=[];return Dv(t).Y((s,a)=>{const c=kx(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>J.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Dv(t).Y((n,r)=>{const o=kx(r);e(o)})}Ln(t){return ZJ(t).get("targetGlobalKey").next(e=>(pt(null!==e),e))}kn(t,e){return ZJ(t).put("targetGlobalKey",e)}qn(t,e){return Dv(t).put(RJ(this.serializer,e))}Qn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Ln(t).next(e=>e.targetCount)}getTargetData(t,e){const n=Jp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return Dv(t).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=kx(a);mx(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,n){const r=[],o=Yh(t);return e.forEach(s=>{const a=Jo(s.path);r.push(o.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(t,n,s))}),J.waitFor(r)}removeMatchingKeys(t,e,n){const r=Yh(t);return J.forEach(e,o=>{const s=Jo(o.path);return J.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(t,n,o)])})}removeMatchingKeysForTargetId(t,e){const n=Yh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yh(t);let o=oi();return r.Y({range:n,J:!0},(s,a,c)=>{const l=Vl(s[1]),d=new We(l);o=o.add(d)}).next(()=>o)}containsKey(t,e){const n=Jo(e.path),r=IDBKeyRange.bound([n],[oX(n)],!1,!0);let o=0;return Yh(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(t,e){return Dv(t).get(e).next(n=>n?kx(n):null)}}function Dv(i){return vo(i,"targets")}function ZJ(i){return vo(i,"targetGlobal")}function Yh(i){return vo(i,"targetDocuments")}function KJ([i,t],[e,n]){const r=Ht(i,e);return 0===r?Ht(t,n):r}class wBe{constructor(t){this.Kn=t,this.buffer=new mn(KJ),this.$n=0}Un(){return++this.$n}Wn(t){const e=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();KJ(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QJ{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var e=this;De("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ce.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(n){Lh(n)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Fh(n)}yield e.zn(3e5)}))}}class xBe{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.Hn(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(0===e)return J.resolve(Aa._e);const n=new wBe(e);return this.jn.forEachTarget(t,r=>n.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>n.Wn(r))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.jn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($J)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$J):this.Yn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,e){let n,r,o,s,a,c,l;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,s=Date.now(),this.nthSequenceNumber(t,r))).next(h=>(n=h,a=Date.now(),this.removeTargets(t,n,e))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(h=>(l=Date.now(),cv()<=va.in.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${h} documents in `+(l-c)+`ms\nTotal Duration: ${l-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:h})))}}class CBe{constructor(t,e){this.db=t,this.garbageCollector=function XJ(i,t){return new xBe(i,t)}(this,e)}Hn(t){const e=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(n=>e.next(r=>n+r))}Zn(t){let e=0;return this.Jn(t,n=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Jn(t,e){return this.Xn(t,(n,r)=>e(r))}addReference(t,e,n){return TS(t,n)}removeReference(t,e,n){return TS(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return TS(t,e)}er(t,e){return function(r,o){let s=!1;return YJ(r).Z(a=>qJ(r,a,o).next(c=>(c&&(s=!0),J.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Xn(t,(s,a)=>{if(a<=e){const c=this.er(t,s).next(l=>{if(!l)return o++,n.getEntry(t,s).next(()=>(n.removeEntry(s,gt.min()),Yh(t).delete([0,Jo(s.path)])))});r.push(c)}}).next(()=>J.waitFor(r)).next(()=>n.apply(t)).next(()=>o)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return TS(t,e)}Xn(t,e){const n=Yh(t);let r,o=Aa._e;return n.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Aa._e&&e(new We(Vl(r)),o),o=l,r=c):o=Aa._e}).next(()=>{o!==Aa._e&&e(new We(Vl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function TS(i,t){return Yh(i).put((r=i.currentSequenceNumber,{targetId:0,path:Jo(t.path),sequenceNumber:r}));var r}class JJ{constructor(){this.changes=new tu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,$n.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?J.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class EBe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return df(t).put(n)}removeEntry(t,e,n){return df(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],yS(s),a[a.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.tr(t,n)))}getEntry(t,e){let n=$n.newInvalidDocument(e);return df(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sx(e))},(r,o)=>{n=this.nr(e,o)}).next(()=>n)}rr(t,e){let n={size:0,document:$n.newInvalidDocument(e)};return df(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Sx(e))},(r,o)=>{n={document:this.nr(e,o),size:ES(o)}}).next(()=>n)}getEntries(t,e){let n=ia();return this.ir(t,e,(r,o)=>{const s=this.nr(r,o);n=n.insert(r,s)}).next(()=>n)}sr(t,e){let n=ia(),r=new Pn(We.comparator);return this.ir(t,e,(o,s)=>{const a=this.nr(o,s);n=n.insert(o,a),r=r.insert(o,ES(s))}).next(()=>({documents:n,_r:r}))}ir(t,e,n){if(e.isEmpty())return J.resolve();let r=new mn(nee);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(Sx(r.first()),Sx(r.last())),s=r.getIterator();let a=s.getNext();return df(t).Y({index:"documentKeyIndex",range:o},(c,l,d)=>{const h=We.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&nee(a,h)<0;)n(a,null),a=s.getNext();a&&a.isEqual(h)&&(n(a,l),a=s.hasNext()?s.getNext():null),a?d.U(Sx(a)):d.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,n,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),yS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return df(t).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=ia();for(const h of l){const p=this.nr(We.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(fx(e,p)||r.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(t,e,n,r){let o=ia();const s=iee(e,n),a=iee(e,Ma.max());return df(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{const h=this.nr(We.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new kBe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return tee(t).get("remoteDocumentGlobalKey").next(e=>(pt(!!e),e))}tr(t,e){return tee(t).put("remoteDocumentGlobalKey",e)}nr(t,e){if(e){const n=function uBe(i,t){let e;if(t.document)e=EJ(i.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=We.fromSegments(t.noDocument.path),r=rf(t.noDocument.readTime);e=$n.newNoDocument(n,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const n=We.fromSegments(t.unknownDocument.path),r=rf(t.unknownDocument.version);e=$n.newUnknownDocument(n,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Jn(r[0],r[1]);return gt.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!n.isNoDocument()||!n.version.isEqual(gt.min()))return n}return $n.newInvalidDocument(t)}}function eee(i){return new EBe(i)}class kBe extends JJ{constructor(t,e){super(),this.ar=t,this.trackRemovals=e,this.ur=new tu(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){const e=[];let n=0,r=new mn((o,s)=>Ht(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(e.push(this.ar.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=AJ(this.ar.serializer,s);r=r.add(o.path.popLast());const l=ES(c);n+=l-a.size,e.push(this.ar.addEntry(t,o,c))}else if(n-=a.size,this.trackRemovals){const c=AJ(this.ar.serializer,s.convertToNoDocument(gt.min()));e.push(this.ar.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.ar.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.ar.updateMetadata(t,n)),J.waitFor(e)}getFromCache(t,e){return this.ar.rr(t,e).next(n=>(this.ur.set(e,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,e){return this.ar.sr(t,e).next(({documents:n,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:n.get(o).readTime})}),n))}}function tee(i){return vo(i,"remoteDocumentGlobal")}function df(i){return vo(i,"remoteDocumentsV14")}function Sx(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function iee(i,t){const e=t.documentKey.path.toArray();return[i,yS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function nee(i,t){const e=i.path.toArray(),n=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<n.length-2;++o)if(r=Ht(e[o],n[o]),r)return r;return r=Ht(e.length,n.length),r||(r=Ht(e[e.length-2],n[n.length-2]),r||Ht(e[e.length-1],n[n.length-1]))}class TBe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ree{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==n&&bx(n.mutation,r,ta.empty(),Jn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,oi()).next(()=>n))}getLocalViewOfDocuments(t,e,n=oi()){const r=zl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(o=>{let s=gx();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const n=zl();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,oi()))}populateOverlays(t,e,n){const r=[];return n.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,n,r){let o=ia();const s=_x(),a=_x();return e.forEach((c,l)=>{const d=n.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof iu)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),bx(d.mutation,l,d.mutation.getFieldMask(),Jn.now())):s.set(l.key,ta.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),e.forEach((l,d)=>{var h;return a.set(l,new TBe(d,null!==(h=s.get(l))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(t,e){const n=_x();let r=new Pn((s,a)=>s-a),o=oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let d=n.get(c)||ta.empty();d=a.applyToLocalView(l,d),n.set(c,d);const h=(r.get(a.batchId)||oi()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,h=YX();d.forEach(p=>{if(!o.has(p)){const g=nJ(e.get(p),n.get(p));null!==g&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,h))}return J.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,r){return We.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):HL(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r);var s}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-o.size):J.resolve(zl());let a=-1,c=o;return s.next(l=>J.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?J.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,oi())).next(d=>({batchId:a,changes:qX(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new We(e)).next(n=>{let r=gx();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const o=e.collectionGroup;let s=gx();return this.indexManager.getCollectionParents(t,o).next(a=>J.forEach(a,c=>{const l=(h=e,p=c.child(o),new eu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(t,l,n,r).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,r))).next(s=>{o.forEach((c,l)=>{const d=l.getKey();null===s.get(d)&&(s=s.insert(d,$n.newInvalidDocument(d)))});let a=gx();return s.forEach((c,l)=>{const d=o.get(c);void 0!==d&&bx(d.mutation,l,ta.empty(),Jn.now()),fx(e,l)&&(a=a.insert(c,l))}),a})}}class DBe{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return J.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:Ar(r.createTime)}),J.resolve();var r}getNamedQuery(t,e){return J.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:tV(r.bundledQuery),readTime:Ar(r.readTime)}),J.resolve();var r}}class IBe{constructor(){this.overlays=new Pn(We.comparator),this.hr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const n=zl();return J.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,o)=>{this.ht(t,e,o)}),J.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),J.resolve()}getOverlaysForCollection(t,e,n){const r=zl(),o=e.length+1,s=new We(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>n&&r.set(c.getKey(),c)}return J.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let o=new Pn((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let d=o.get(l.largestBatchId);null===d&&(d=zl(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=zl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return J.resolve(a)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new qL(e,n));let o=this.hr.get(e);void 0===o&&(o=oi(),this.hr.set(e,o)),this.hr.set(e,o.add(n.key))}}class cV{constructor(){this.Pr=new mn(bo.Ir),this.Tr=new mn(bo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new bo(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Ar(new bo(t,e))}Rr(t,e){t.forEach(n=>this.removeReference(n,e))}Vr(t){const e=new We(new Ci([])),n=new bo(e,t),r=new bo(e,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new We(new Ci([])),n=new bo(e,t),r=new bo(e,t+1);let o=oi();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new bo(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class bo{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return We.comparator(t.key,e.key)||Ht(t.pr,e.pr)}static Er(t,e){return Ht(t.pr,e.pr)||We.comparator(t.key,e.key)}}class SBe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new mn(bo.Ir)}checkEmpty(t){return J.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const o=this.yr;this.yr++;const s=new $L(o,e,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new bo(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(t,e){return J.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new bo(e,0),r=new bo(e,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{const a=this.Sr(s.pr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new mn(Ht);return e.forEach(r=>{const o=new bo(r,0),s=new bo(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),J.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let o=n;We.isDocumentKey(o)||(o=o.child(""));const s=new bo(new We(o),0);let a=new mn(Ht);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),J.resolve(this.Dr(a))}Dr(t){const e=[];return t.forEach(n=>{const r=this.Sr(n);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){pt(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return J.forEach(e.mutations,r=>{const o=new bo(r.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,e){const n=new bo(e,0),r=this.wr.firstAfterOrEqual(n);return J.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return J.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class MBe{constructor(t){this.vr=t,this.docs=new Pn(We.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return J.resolve(n?n.document.mutableCopy():$n.newInvalidDocument(e))}getEntries(t,e){let n=ia();return e.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():$n.newInvalidDocument(r))}),J.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let o=ia();const s=e.path,a=new We(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||AL(aX(d),n)<=0||(r.has(d.key)||fx(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(t,e,n,r){ot()}Fr(t,e){return J.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new ABe(this)}getSize(t){return J.resolve(this.size)}}class ABe extends JJ{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),J.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class RBe{constructor(t){this.persistence=t,this.Mr=new tu(e=>Jp(e),mx),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cV,this.targetCount=0,this.Br=lf.Nn()}forEachTarget(t,e){return this.Mr.forEach((n,r)=>e(r)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),J.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Br=new lf(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.qn(e),J.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,n){let r=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return J.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),J.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return J.resolve(n)}containsKey(t,e){return J.resolve(this.Nr.containsKey(e))}}class lV{constructor(t,e){this.Lr={},this.overlays={},this.kr=new Aa(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new RBe(this),this.indexManager=new vBe,this.remoteDocumentCache=new MBe(n=>this.referenceDelegate.Kr(n)),this.serializer=new MJ(e),this.$r=new DBe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IBe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Lr[t.toKey()];return n||(n=new SBe(e,this.referenceDelegate),this.Lr[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){De("MemoryPersistence","Starting transaction:",t);const r=new PBe(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,e){return J.or(Object.values(this.Lr).map(n=>()=>n.containsKey(t,e)))}}class PBe extends lX{constructor(t){super(),this.currentSequenceNumber=t}}class DS{constructor(t){this.persistence=t,this.zr=new cV,this.jr=null}static Hr(t){return new DS(t)}get Jr(){if(this.jr)return this.jr;throw ot()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),J.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),J.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,n=>{const r=We.fromPath(n);return this.Yr(t,r).next(o=>{o||e.removeEntry(r,gt.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(n=>{n?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return J.or([()=>J.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class OBe{constructor(t){this.serializer=t}N(t,e,n,r){const o=new rS("createOrUpgrade",e);var c;n<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mX,{unique:!0}),c.createObjectStore("documentMutations"),oee(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=J.resolve();return n<3&&r>=3&&(0!==n&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),oee(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mX,{unique:!0});const h=l.store("mutations"),p=d.map(g=>h.put(g));return J.waitFor(p)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&r>=5&&(s=s.next(()=>this.Xr(o))),n<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ei(o)))),n<7&&r>=7&&(s=s.next(()=>this.ti(o))),n<8&&r>=8&&(s=s.next(()=>this.ni(t,o))),n<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&r>=10&&(s=s.next(()=>this.ri(o))),n<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:bVe});l.createIndex("collectionPathOverlayIndex",yVe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",wVe,{unique:!1})}(t)})),n<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:cVe});l.createIndex("documentKeyIndex",lVe),l.createIndex("collectionGroupIndex",dVe)}(t)).next(()=>this.ii(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.si(t,o))),n<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:fVe}).createIndex("sequenceNumberIndex",gVe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:_Ve}).createIndex("documentKeyIndex",vVe,{unique:!1})}(t))),s}ei(t){let e=0;return t.store("remoteDocuments").Y((n,r)=>{e+=ES(r)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Xr(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next(r=>J.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",s).next(a=>J.forEach(a,c=>{pt(c.userId===o.userId);const l=sf(this.serializer,c);return GJ(t,o.userId,l).next(()=>{})}))}))}ti(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return n.Y((s,a)=>{const c=new Ci(s),l=[0,Jo(c)];o.push(e.get(l).next(d=>d?J.resolve():e.put({targetId:0,path:Jo(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>J.waitFor(o))})}ni(t,e){t.createObjectStore("collectionParents",{keyPath:pVe});const n=e.store("collectionParents"),r=new aV,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return n.put({collectionId:a,parent:Jo(c)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Ci(s);return o(c.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const d=Vl(a);return o(d.popLast())}))}ri(t){const e=t.store("targets");return e.Y((n,r)=>{const o=kx(r),s=RJ(this.serializer,o);return e.put(s)})}ii(t,e){const n=e.store("remoteDocuments"),r=[];return n.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(h=s,h.document?new We(Ci.fromString(h.document.name).popFirst(5)):h.noDocument?We.fromSegments(h.noDocument.path):h.unknownDocument?We.fromSegments(h.unknownDocument.path):ot()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var h;r.push(a.put(l))}).next(()=>J.waitFor(r))}si(t,e){const n=e.store("mutations"),r=eee(this.serializer),o=new lV(DS.Hr,this.serializer.ct);return n.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let d=null!==(l=a.get(c.userId))&&void 0!==l?l:oi();sf(this.serializer,c).keys().forEach(h=>d=d.add(h)),a.set(c.userId,d)}),J.forEach(a,(c,l)=>{const d=new _o(l),h=wS.lt(this.serializer,d),p=o.getIndexManager(d),g=kS.lt(d,this.serializer,p,o.referenceDelegate);return new ree(r,g,h,p).recalculateAndSaveOverlaysForDocumentKeys(new OL(e,Aa._e),c).next()})})}}function oee(i){i.createObjectStore("targetDocuments",{keyPath:hVe}).createIndex("documentTargetsIndex",mVe,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uVe,{unique:!0}),i.createObjectStore("targetGlobal")}const dV="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uV{constructor(t,e,n,r,o,s,a,c,l,d,h=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!uV.D())throw new Te(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CBe(this,r),this.Ti=e+"main",this.serializer=new MJ(c),this.Ei=new lc(this.Ti,this.ui,new OBe(this.serializer)),this.Qr=new yBe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eee(this.serializer),this.$r=new hBe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(se.FAILED_PRECONDITION,dV);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new Aa(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var e=this;return this.Ii=function(){var n=(0,ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var e=(0,ce.Z)(function*(n){null===n.newVersion&&(yield t())});return function(n){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,ce.Z)(function*(){e.started&&(yield e.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>SS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(e=>this.isPrimary&&!e?this.yi(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Lh(t))return De("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return Mx(t).get("owner").next(e=>J.resolve(this.Si(e)))}bi(t){return SS(t).delete(this.clientId)}Di(){var t=this;return(0,ce.Z)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=vo(n,"clientMetadata");return r.W().next(o=>{const s=t.vi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return J.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.di)for(const n of e)t.di.removeItem(t.Fi(n.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?J.resolve(!0):Mx(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)){if(this.Si(e)&&this.networkEnabled)return!0;if(!this.Si(e)){if(!e.allowTabSynchronization)throw new Te(se.FAILED_PRECONDITION,dV);return!1}}return!(!this.networkEnabled||!this.inForeground)||SS(t).W().next(n=>void 0===this.vi(n,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&De("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ce.Z)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new OL(e,Aa._e);return t.yi(n).next(()=>t.bi(n))}),t.Ei.close(),t.Bi()})()}vi(t,e){return t.filter(n=>this.Ci(n.updateTimeMs,e)&&!this.Mi(n.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",t=>SS(t).W().next(e=>this.vi(e,18e5).map(n=>n.clientId)))}get started(){return this.qr}getMutationQueue(t,e){return kS.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new bBe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return wS.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,e,n){De("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?CVe:14===c?_X:13===c?gX:12===c?xVe:11===c?fX:void ot();var c;let s;return this.Ei.runTransaction(t,r,o,a=>(s=new OL(a,this.kr?this.kr.next():Aa._e),"readwrite-primary"===e?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw Mr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Te(se.FAILED_PRECONDITION,cX);return n(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>n(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(t){return Mx(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Te(se.FAILED_PRECONDITION,dV)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mx(t).put("owner",e)}static D(){return lc.D()}yi(t){const e=Mx(t);return e.get("owner").next(n=>this.Si(n)?(De("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):J.resolve())}Ci(t,e){const n=Date.now();return!(t<n-e||t>n&&(Mr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,R.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var e;try{const n=null!==(null===(e=this.di)||void 0===e?void 0:e.getItem(this.Fi(t)));return De("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Mr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){Mr("Failed to set zombie client id.",t)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Mx(i){return vo(i,"owner")}function SS(i){return vo(i,"clientMetadata")}function hV(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class mV{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=oi(),r=oi();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new mV(t,e.fromCache,n,r)}}class NBe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class see{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,R.G6)()?8:lc.v((0,R.z$)())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const o={result:null};return this.ji(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,e,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new NBe;return this.Ji(t,e,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,e,s,a.size)})}).next(()=>o.result)}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(cv()<=va.in.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",_v(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(cv()<=va.in.DEBUG&&De("QueryEngine","Query:",_v(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(cv()<=va.in.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",_v(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,As(e))):J.resolve())}ji(t,e){if(HX(e))return J.resolve(null);let n=As(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=pS(e,null,"F"),n=As(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{const s=oi(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,n).next(c=>{const l=this.Zi(e,a);return this.Xi(e,l,s,c.readTime)?this.ji(t,pS(e,null,"F")):this.es(t,l,e,c)}))})))}Hi(t,e,n,r){return HX(e)||r.isEqual(gt.min())?J.resolve(null):this.zi.getDocuments(t,n).next(o=>{const s=this.Zi(e,o);return this.Xi(e,s,n,r)?J.resolve(null):(cv()<=va.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_v(e)),this.es(t,s,e,sX(r,-1)).next(a=>a))})}Zi(t,e){let n=new mn($X(t));return e.forEach((r,o)=>{fx(t,o)&&(n=n.add(o))}),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,e,n){return cv()<=va.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",_v(e)),this.zi.getDocumentsMatchingQuery(t,e,Ma.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class FBe{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new Pn(Ht),this.rs=new tu(o=>Jp(o),mx),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ree(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function aee(i,t,e,n){return new FBe(i,t,e,n)}function cee(i,t){return pV.apply(this,arguments)}function pV(){return pV=(0,ce.Z)(function*(i,t){const e=He(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,e._s(t),e.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let c=oi();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(n,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})}),pV.apply(this,arguments)}function lee(i){const t=He(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function dee(i,t,e){let n=oi(),r=oi();return e.forEach(o=>n=n.add(o)),t.getEntries(i,n).next(o=>{let s=ia();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(gt.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):De("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function BBe(i,t){const e=He(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Iv(i,t){const e=He(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Qr.getTargetData(n,t).next(o=>o?(r=o,J.resolve(r)):e.Qr.allocateTargetId(n).next(s=>(r=new nu(t,s,"TargetPurposeListen",n.currentSequenceNumber),e.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=e.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(n.targetId,n),e.rs.set(t,n.targetId)),n})}function Sv(i,t,e){return fV.apply(this,arguments)}function fV(){return fV=(0,ce.Z)(function*(i,t,e){const n=He(i),r=n.ns.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Lh(s))throw s;De("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)}),fV.apply(this,arguments)}function MS(i,t,e){const n=He(i);let r=gt.min(),o=oi();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){const h=He(c),p=h.rs.get(d);return void 0!==p?J.resolve(h.ns.get(p)):h.Qr.getTargetData(l,d)}(n,s,As(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,e?r:gt.min(),e?o:oi())).next(a=>(mee(n,WX(t),a),{documents:a,hs:o})))}function uee(i,t){const e=He(i),n=He(e.Qr),r=e.ns.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>n._t(o,t).next(s=>s?s.target:null))}function hee(i,t){const e=He(i),n=e.ss.get(t)||gt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.os.getAllFromCollectionGroup(r,t,sX(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(mee(e,t,r),r))}function mee(i,t,e){let n=i.ss.get(t)||gt.min();e.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.ss.set(t,n)}function gV(){return gV=(0,ce.Z)(function*(i,t,e,n){const r=He(i);let o=oi(),s=ia();for(const l of e){const d=t.Ps(l.metadata.name);l.document&&(o=o.add(d));const h=t.Is(l);h.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(d,h)}const a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield Iv(r,(d=n,As(fv(Ci.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>dee(l,a,s).next(d=>(a.apply(l),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d.cs,d.ls)).next(()=>d.cs)))}),gV.apply(this,arguments)}function HBe(i,t){return _V.apply(this,arguments)}function _V(){return _V=(0,ce.Z)(function*(i,t,e=oi()){const n=yield Iv(i,As(tV(t.bundledQuery))),r=He(i);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Ar(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(o,t);const a=n.withResumeToken(oo.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(a.targetId,a),r.Qr.updateTargetData(o,a).next(()=>r.Qr.removeMatchingKeysForTargetId(o,n.targetId)).next(()=>r.Qr.addMatchingKeys(o,e,n.targetId)).next(()=>r.$r.saveNamedQuery(o,t))})}),_V.apply(this,arguments)}function pee(i,t){return`firestore_clients_${i}_${t}`}function fee(i,t,e){let n=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function vV(i,t){return`firestore_targets_${i}_${t}`}class AS{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static Es(t,e,n){const r=JSON.parse(n);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Te(r.error.code,r.error.message))),s?new AS(t,e,r.state,o):(Mr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ax{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Es(t,e){const n=JSON.parse(e);let r,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(r=new Te(n.error.code,n.error.message))),o?new Ax(t,n.state,r):(Mr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class RS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Es(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,o=jL();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=uX(n.activeTargetIds[s]),o=o.add(n.activeTargetIds[s]);return r?new RS(t,o):(Mr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bV{constructor(t,e){this.clientId=t,this.onlineState=e}static Es(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bV(e.clientId,e.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class yV{constructor(){this.activeTargetIds=jL()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wV{constructor(t,e,n,r,o){this.window=t,this.oi=e,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pn(Ht),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=pee(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new yV),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ce.Z)(function*(){const e=yield t.syncEngine.Li();for(const r of e){if(r===t.Vs)continue;const o=t.getItem(pee(t.persistenceKey,r));if(o){const s=RS.Es(r,o);s&&(t.ps=t.ps.insert(s.clientId,s))}}t.Ms();const n=t.storage.getItem(t.vs);if(n){const r=t.xs(n);r&&t.Os(r)}for(const r of t.ys)t.gs(r);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let e=!1;return this.ps.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Bs(t,"pending")}updateMutationState(t,e,n){this.Bs(t,e,n),this.Ls(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(vV(this.persistenceKey,t));if(n){const r=Ax.Es(t,n);r&&(e=r.state)}}return this.ks.As(t),this.Ms(),e}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vV(this.persistenceKey,t))}updateQueryState(t,e,n){this.qs(t,e,n)}handleUserChange(t,e,n){e.forEach(r=>{this.Ls(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return De("SharedClientState","READ",t,e),e}setItem(t,e){De("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){De("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var e=this;const n=t;if(n.storageArea===this.storage){if(De("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,ce.Z)(function*(){if(e.started){if(null!==n.key)if(e.bs.test(n.key)){if(null==n.newValue){const r=e.$s(n.key);return e.Us(r,null)}{const r=e.Ws(n.key,n.newValue);if(r)return e.Us(r.clientId,r)}}else if(e.Ds.test(n.key)){if(null!==n.newValue){const r=e.Gs(n.key,n.newValue);if(r)return e.zs(r)}}else if(e.Cs.test(n.key)){if(null!==n.newValue){const r=e.js(n.key,n.newValue);if(r)return e.Hs(r)}}else if(n.key===e.vs){if(null!==n.newValue){const r=e.xs(n.newValue);if(r)return e.Os(r)}}else if(n.key===e.Ss){const r=function(s){let a=Aa._e;if(null!=s)try{const c=JSON.parse(s);pt("number"==typeof c),a=c}catch(c){Mr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(n.newValue);r!==Aa._e&&e.sequenceNumberHandler(r)}else if(n.key===e.Fs){const r=e.Js(n.newValue);yield Promise.all(r.map(o=>e.syncEngine.Ys(o)))}}else e.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(t,e,n){const r=new AS(this.currentUser,t,e,n),o=fee(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ds())}Ls(t){const e=fee(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,e,n){const r=vV(this.persistenceKey,t),o=new Ax(t,e,n);this.setItem(r,o.ds())}Ks(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Fs,e)}$s(t){const e=this.bs.exec(t);return e?e[1]:null}Ws(t,e){const n=this.$s(t);return RS.Es(n,e)}Gs(t,e){const n=this.Ds.exec(t),r=Number(n[1]);return AS.Es(new _o(void 0!==n[2]?n[2]:null),r,e)}js(t,e){const n=this.Cs.exec(t),r=Number(n[1]);return Ax.Es(r,e)}xs(t){return bV.Es(t)}Js(t){return JSON.parse(t)}zs(t){var e=this;return(0,ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Zs(t.batchId,t.state,t.error);De("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,e){const n=e?this.ps.insert(t,e):this.ps.remove(t),r=this.Ns(this.ps),o=this.Ns(n),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=n})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let e=jL();return t.forEach((n,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class gee{constructor(){this.no=new yV,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new yV,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UBe{io(t){}shutdown(){}}class _ee{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let PS=null;function xV(){return null===PS?PS=268435456+Math.round(2147483648*Math.random()):PS++,"0x"+PS.toString(16)}const jBe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WBe{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const ts="WebChannelConnection";class $Be extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+e.host,this.po=`projects/${r}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(e,n,r,o,s){const a=xV(),c=this.bo(e,n.toUriEncodedString());De("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(e,c,l,r).then(d=>(De("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw ea("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}vo(e,n,r,o,s,a){return this.So(e,n,r,o,s)}Do(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+av,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}bo(e,n){return`${this.fo}/v1/${n}:${jBe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,r){const o=xV();return new Promise((s,a)=>{const c=new ULe;c.setWithCredentials(!0),c.listenOnce(zLe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case IL.NO_ERROR:const d=c.getResponseJson();De(ts,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case IL.TIMEOUT:De(ts,`RPC '${t}' ${o} timed out`),a(new Te(se.DEADLINE_EXCEEDED,"Request time out"));break;case IL.HTTP_ERROR:const h=c.getStatus();if(De(ts,`RPC '${t}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const b=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(S)>=0?S:se.UNKNOWN}(g.status);a(new Te(b,g.message))}else a(new Te(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Te(se.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{De(ts,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);De(ts,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,n,15)})}Fo(t,e,n){const r=xV(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=VLe(),a=BLe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const d=o.join("");De(ts,`Creating RPC '${t}' stream ${r}: ${d}`,c);const h=s.createWebChannel(d,c);let p=!1,g=!1;const b=new WBe({lo:x=>{g?De(ts,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(p||(De(ts,`Opening RPC '${t}' stream ${r} transport.`),h.open(),p=!0),De(ts,`RPC '${t}' stream ${r} sending:`,x),h.send(x))},ho:()=>h.close()}),w=(x,S,D)=>{x.listen(S,M=>{try{D(M)}catch(L){setTimeout(()=>{throw L},0)}})};return w(h,nS.EventType.OPEN,()=>{g||De(ts,`RPC '${t}' stream ${r} transport opened.`)}),w(h,nS.EventType.CLOSE,()=>{g||(g=!0,De(ts,`RPC '${t}' stream ${r} transport closed`),b.Vo())}),w(h,nS.EventType.ERROR,x=>{g||(g=!0,ea(ts,`RPC '${t}' stream ${r} transport errored:`,x),b.Vo(new Te(se.UNAVAILABLE,"The operation could not be completed")))}),w(h,nS.EventType.MESSAGE,x=>{var S;if(!g){const D=x.data[0];pt(!!D);const L=D.error||(null===(S=D[0])||void 0===S?void 0:S.error);if(L){De(ts,`RPC '${t}' stream ${r} received error:`,L);const z=L.status;let Z=function(fe){const Me=Wr[fe];if(void 0!==Me)return lJ(Me)}(z),ue=L.message;void 0===Z&&(Z=se.INTERNAL,ue="Unknown error status: "+z+" with message "+L.message),g=!0,b.Vo(new Te(Z,ue)),h.close()}else De(ts,`RPC '${t}' stream ${r} received:`,D),b.mo(D)}}),w(a,HLe.STAT_EVENT,x=>{x.stat===eX.PROXY?De(ts,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===eX.NOPROXY&&De(ts,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function vee(){return typeof window<"u"?window:null}function OS(){return typeof document<"u"?document:null}function Rx(i){return new tBe(i,!0)}class CV{constructor(t,e,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=e,this.Mo=n,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,e-n);r>0&&De("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class bee{constructor(t,e,n,r,o,s,a,c){this.oi=t,this.$o=n,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new CV(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var t=this;return(0,ce.Z)(function*(){t.Ho()&&(yield t.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}e_(){var t=this;return(0,ce.Z)(function*(){if(t.Jo())return t.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(t,e){var n=this;return(0,ce.Z)(function*(){n.n_(),n.r_(),n.jo.cancel(),n.Wo++,4!==t?n.jo.reset():e&&e.code===se.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),n.jo.ko()):e&&e.code===se.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.i_(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.To(e)})()}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Wo===e&&this.o_(n,r)},n=>{t(()=>{const r=new Te(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.__(r)})})}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{n(()=>this.__(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Yo(){var t=this;this.state=5,this.jo.qo((0,ce.Z)(function*(){t.state=0,t.start()}))}__(t){return De("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget(()=>this.Wo===t?e():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GBe extends bee{constructor(t,e,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function rBe(i,t){let e;if("targetChange"in t){const n="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:ot(),r=t.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(pt(void 0===d||"string"==typeof d),oo.fromBase64String(d||"")):(pt(void 0===d||d instanceof Uint8Array),oo.fromUint8Array(d||new Uint8Array))}(i,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const d=void 0===l.code?se.UNKNOWN:lJ(l.code);return new Te(d,l.message||"")}(s);e=new pJ(n,r,o,a||null)}else if("documentChange"in t){const n=t.documentChange,r=Hl(i,n.document.name),o=Ar(n.document.updateTime),s=n.document.createTime?Ar(n.document.createTime):gt.min(),a=new Bo({mapValue:{fields:n.document.fields}}),c=$n.newFoundDocument(r,o,s,a);e=new bS(n.targetIds||[],n.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const n=t.documentDelete,r=Hl(i,n.document),o=n.readTime?Ar(n.readTime):gt.min(),s=$n.newNoDocument(r,o);e=new bS([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const n=t.documentRemove,r=Hl(i,n.document);e=new bS([],n.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ot();{const n=t.filter,{count:r=0,unchangedNames:o}=n,s=new ZVe(r,o);e=new mJ(n.targetId,s)}}var l;return e}(this.serializer,t),n=function(o){if(!("targetChange"in o))return gt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?gt.min():s.readTime?Ar(s.readTime):gt.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=XL(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=hS(c)?{documents:kJ(o,c)}:{query:eV(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vJ(o,s.resumeToken);const l=ZL(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(gt.min())>0){a.readTime=xv(o,s.snapshotVersion.toTimestamp());const l=ZL(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const n=function sBe(i,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=XL(this.serializer),e.removeTarget=t,this.t_(e)}}class qBe extends bee{constructor(t,e,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(pt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function oBe(i,t){return i&&i.length>0?(pt(void 0!==t),i.map(e=>function(r,o){let s=Ar(r.updateTime?r.updateTime:o);return s.isEqual(gt.min())&&(s=Ar(o)),new $Ve(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),n=Ar(t.commitTime);return this.listener.T_(n,e)}return pt(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=XL(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>Ex(this.serializer,n))};this.t_(e)}}class YBe extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,QL(e,n),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(se.UNKNOWN,o.toString())})}vo(t,e,n,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,QL(e,n),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(se.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class KBe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mr(e),this.g_=!1):De("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class QBe{constructor(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{n.enqueueAndForget((0,ce.Z)(function*(){var c;Zh(s)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,ce.Z)(function*(d){const h=He(d);h.v_.add(4),yield Mv(h),h.x_.set("Unknown"),h.v_.delete(4),yield Px(h)}),function l(d){return c.apply(this,arguments)})(s))}))}),this.x_=new KBe(n,r)}}function Px(i){return kV.apply(this,arguments)}function kV(){return kV=(0,ce.Z)(function*(i){if(Zh(i))for(const t of i.F_)yield t(!0)}),kV.apply(this,arguments)}function Mv(i){return TV.apply(this,arguments)}function TV(){return TV=(0,ce.Z)(function*(i){for(const t of i.F_)yield t(!1)}),TV.apply(this,arguments)}function NS(i,t){const e=He(i);e.C_.has(t.targetId)||(e.C_.set(t.targetId,t),SV(e)?IV(e):Rv(e).Jo()&&DV(e,t))}function Ox(i,t){const e=He(i),n=Rv(e);e.C_.delete(t),n.Jo()&&yee(e,t),0===e.C_.size&&(n.Jo()?n.Xo():Zh(e)&&e.x_.set("Unknown"))}function DV(i,t){if(i.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Rv(i).c_(t)}function yee(i,t){i.O_.Oe(t),Rv(i).l_(t)}function IV(i){i.O_=new QVe({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>i.C_.get(t)||null,nt:()=>i.datastore.serializer.databaseId}),Rv(i).start(),i.x_.p_()}function SV(i){return Zh(i)&&!Rv(i).Ho()&&i.C_.size>0}function Zh(i){return 0===He(i).v_.size}function wee(i){i.O_=void 0}function XBe(i){return MV.apply(this,arguments)}function MV(){return MV=(0,ce.Z)(function*(i){i.C_.forEach((t,e)=>{DV(i,t)})}),MV.apply(this,arguments)}function JBe(i,t){return AV.apply(this,arguments)}function AV(){return AV=(0,ce.Z)(function*(i,t){wee(i),SV(i)?(i.x_.S_(t),IV(i)):i.x_.set("Unknown")}),AV.apply(this,arguments)}function e3e(i,t,e){return RV.apply(this,arguments)}function RV(){return RV=(0,ce.Z)(function*(i,t,e){if(i.x_.set("Online"),t instanceof pJ&&2===t.state&&t.cause)try{yield(n=(0,ce.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.C_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.C_.delete(c),o.O_.removeTarget(c))}),function r(o,s){return n.apply(this,arguments)})(i,t)}catch(n){De("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield FS(i,n)}else if(t instanceof bS?i.O_.$e(t):t instanceof mJ?i.O_.Je(t):i.O_.Ge(t),!e.isEqual(gt.min()))try{const n=yield lee(i.localStore);e.compareTo(n)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.C_.get(l);d&&o.C_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const d=o.C_.get(c);if(!d)return;o.C_.set(c,d.withResumeToken(oo.EMPTY_BYTE_STRING,d.snapshotVersion)),yee(o,c);const h=new nu(d.target,c,l,d.sequenceNumber);DV(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(i,e))}catch(n){De("RemoteStore","Failed to raise snapshot:",n),yield FS(i,n)}var n}),RV.apply(this,arguments)}function FS(i,t,e){return PV.apply(this,arguments)}function PV(){return PV=(0,ce.Z)(function*(i,t,e){if(!Lh(t))throw t;i.v_.add(1),yield Mv(i),i.x_.set("Offline"),e||(e=()=>lee(i.localStore)),i.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield e(),i.v_.delete(1),yield Px(i)}))}),PV.apply(this,arguments)}function xee(i,t){return t().catch(e=>FS(i,e,t))}function Av(i){return OV.apply(this,arguments)}function OV(){return OV=(0,ce.Z)(function*(i){const t=He(i),e=Kh(t);let n=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;t3e(t);)try{const r=yield BBe(t.localStore,n);if(null===r){0===t.D_.length&&e.Xo();break}n=r.batchId,i3e(t,r)}catch(r){yield FS(t,r)}Cee(t)&&Eee(t)}),OV.apply(this,arguments)}function t3e(i){return Zh(i)&&i.D_.length<10}function i3e(i,t){i.D_.push(t);const e=Kh(i);e.Jo()&&e.P_&&e.I_(t.mutations)}function Cee(i){return Zh(i)&&!Kh(i).Ho()&&i.D_.length>0}function Eee(i){Kh(i).start()}function n3e(i){return NV.apply(this,arguments)}function NV(){return NV=(0,ce.Z)(function*(i){Kh(i).d_()}),NV.apply(this,arguments)}function r3e(i){return FV.apply(this,arguments)}function FV(){return FV=(0,ce.Z)(function*(i){const t=Kh(i);for(const e of i.D_)t.I_(e.mutations)}),FV.apply(this,arguments)}function o3e(i,t,e){return LV.apply(this,arguments)}function LV(){return LV=(0,ce.Z)(function*(i,t,e){const n=i.D_.shift(),r=GL.from(n,t,e);yield xee(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield Av(i)}),LV.apply(this,arguments)}function s3e(i,t){return VV.apply(this,arguments)}function VV(){return VV=(0,ce.Z)(function*(i,t){var e;t&&Kh(i).P_&&(yield(e=(0,ce.Z)(function*(r,o){if(cJ(a=o.code)&&a!==se.ABORTED){const s=r.D_.shift();Kh(r).Zo(),yield xee(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Av(r)}var a}),function n(r,o){return e.apply(this,arguments)})(i,t)),Cee(i)&&Eee(i)}),VV.apply(this,arguments)}function kee(i,t){return BV.apply(this,arguments)}function BV(){return BV=(0,ce.Z)(function*(i,t){const e=He(i);e.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const n=Zh(e);e.v_.add(3),yield Mv(e),n&&e.x_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.v_.delete(3),yield Px(e)}),BV.apply(this,arguments)}function zV(i,t){return HV.apply(this,arguments)}function HV(){return HV=(0,ce.Z)(function*(i,t){const e=He(i);t?(e.v_.delete(2),yield Px(e)):t||(e.v_.add(2),yield Mv(e),e.x_.set("Unknown"))}),HV.apply(this,arguments)}function Rv(i){return i.N_||(i.N_=function(e,n,r){const o=He(e);return o.R_(),new GBe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:XBe.bind(null,i),To:JBe.bind(null,i),u_:e3e.bind(null,i)}),i.F_.push(function(){var t=(0,ce.Z)(function*(e){e?(i.N_.Zo(),SV(i)?IV(i):i.x_.set("Unknown")):(yield i.N_.stop(),wee(i))});return function(e){return t.apply(this,arguments)}}())),i.N_}function Kh(i){return i.B_||(i.B_=function(e,n,r){const o=He(e);return o.R_(),new qBe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:n3e.bind(null,i),To:s3e.bind(null,i),E_:r3e.bind(null,i),T_:o3e.bind(null,i)}),i.F_.push(function(){var t=(0,ce.Z)(function*(e){e?(i.B_.Zo(),yield Av(i)):(yield i.B_.stop(),i.D_.length>0&&(De("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(e){return t.apply(this,arguments)}}())),i.B_}class UV{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){const s=Date.now()+n,a=new UV(t,e,s,r,o);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(i,t){if(Mr("AsyncQueue",`${t}: ${i}`),Lh(i))return new Te(se.UNAVAILABLE,`${t}: ${i}`);throw i}class Ov{constructor(t){this.comparator=t?(e,n)=>t(e,n)||We.comparator(e.key,n.key):(e,n)=>We.comparator(e.key,n.key),this.keyedMap=gx(),this.sortedSet=new Pn(this.comparator)}static emptySet(t){return new Ov(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ov)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ov;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Tee{constructor(){this.L_=new Pn(We.comparator)}track(t){const e=t.doc.key,n=this.L_.get(e);n?0!==t.type&&3===n.type?this.L_=this.L_.insert(e,t):3===t.type&&1!==n.type?this.L_=this.L_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.L_=this.L_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.L_=this.L_.remove(e):1===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):ot():this.L_=this.L_.insert(e,t)}k_(){const t=[];return this.L_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Nv{constructor(t,e,n,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Nv(t,e,Ov.emptySet(e),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&px(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class a3e{constructor(){this.q_=void 0,this.Q_=[]}}class c3e{constructor(){this.queries=new tu(t=>jX(t),px),this.onlineState="Unknown",this.K_=new Set}}function jV(i,t){return WV.apply(this,arguments)}function WV(){return WV=(0,ce.Z)(function*(i,t){const e=He(i),n=t.query;let r=!1,o=e.queries.get(n);if(o||(r=!0,o=new a3e),r)try{o.q_=yield e.onListen(n)}catch(s){const a=Pv(s,`Initialization of query '${_v(t.query)}' failed`);return void t.onError(a)}e.queries.set(n,o),o.Q_.push(t),t.U_(e.onlineState),o.q_&&t.W_(o.q_)&&qV(e)}),WV.apply(this,arguments)}function $V(i,t){return GV.apply(this,arguments)}function GV(){return GV=(0,ce.Z)(function*(i,t){const e=He(i),n=t.query;let r=!1;const o=e.queries.get(n);if(o){const s=o.Q_.indexOf(t);s>=0&&(o.Q_.splice(s,1),r=0===o.Q_.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}),GV.apply(this,arguments)}function l3e(i,t){const e=He(i);let n=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.Q_)a.W_(r)&&(n=!0);s.q_=r}}n&&qV(e)}function d3e(i,t,e){const n=He(i),r=n.queries.get(t);if(r)for(const o of r.Q_)o.onError(e);n.queries.delete(t)}function qV(i){i.K_.forEach(t=>{t.next()})}class YV{constructor(t,e,n){this.query=t,this.G_=e,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(t){if(!this.options.includeMetadataChanges){const n=[];for(const r of t.docChanges)3!==r.type&&n.push(r);t=new Nv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.z_?this.H_(t)&&(this.G_.next(t),e=!0):this.J_(t,this.onlineState)&&(this.Y_(t),e=!0),this.j_=t,e}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let e=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),e=!0),e}J_(t,e){return!t.fromCache||(!this.options.Z_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}H_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(t){t=Nv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}class u3e{constructor(t,e){this.X_=t,this.byteLength=e}ea(){return"metadata"in this.X_}}class Dee{constructor(t){this.serializer=t}Ps(t){return Hl(this.serializer,t)}Is(t){return t.metadata.exists?EJ(this.serializer,t.document,!1):$n.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Ar(t)}}class h3e{constructor(t,e,n){this.ta=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Iee(t)}na(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.X_.namedQuery)this.queries.push(t.X_.namedQuery);else if(t.X_.documentMetadata){this.documents.push({metadata:t.X_.documentMetadata}),t.X_.documentMetadata.exists||++e;const n=Ci.fromString(t.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.X_.document&&(this.documents[this.documents.length-1].document=t.X_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ra(t){const e=new Map,n=new Dee(this.serializer);for(const r of t)if(r.metadata.queries){const o=n.Ps(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||oi()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,ce.Z)(function*(){const e=yield function zBe(i,t,e,n){return gV.apply(this,arguments)}(t.localStore,new Dee(t.serializer),t.documents,t.ta.id),n=t.ra(t.documents);for(const r of t.queries)yield HBe(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",{progress:t.progress,ia:t.collectionGroups,sa:e}})()}}function Iee(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class See{constructor(t){this.key=t}}class Mee{constructor(t){this.key=t}}class Aee{constructor(t,e){this.query=t,this.oa=e,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=oi(),this.mutatedKeys=oi(),this.ua=$X(t),this.ca=new Ov(this.ua)}get la(){return this.oa}ha(t,e){const n=e?e.Pa:new Tee,r=e?e.ca:this.ca;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,h)=>{const p=r.get(d),g=fx(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?b!==w&&(n.track({type:3,doc:g}),x=!0):this.Ia(p,g)||(n.track({type:2,doc:g}),x=!0,(c&&this.ua(g,c)>0||l&&this.ua(g,l)<0)&&(a=!0)):!p&&g?(n.track({type:0,doc:g}),x=!0):p&&!g&&(n.track({type:1,doc:p}),x=!0,(c||l)&&(a=!0)),x&&(g?(s=s.add(g),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{ca:s,Pa:n,Xi:a,mutatedKeys:o}}Ia(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const o=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.k_();s.sort((d,h)=>function(g,b){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return w(g)-w(b)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(n),r=null!=r&&r;const a=e&&!r?this.Ea():[],c=0===this.aa.size&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,0!==s.length||l?{snapshot:new Nv(this.query,t.ca,o,s,t.mutatedKeys,0===c,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Tee,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(e=>this.oa=this.oa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.oa=this.oa.delete(e)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=oi(),this.ca.forEach(n=>{this.Aa(n.key)&&(this.aa=this.aa.add(n.key))});const e=[];return t.forEach(n=>{this.aa.has(n)||e.push(new Mee(n))}),this.aa.forEach(n=>{t.has(n)||e.push(new See(n))}),e}Ra(t){this.oa=t.hs,this.aa=oi();const e=this.ha(t.documents);return this.applyChanges(e,!0)}Va(){return Nv.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class m3e{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class p3e{constructor(t){this.key=t,this.ma=!1}}class f3e{constructor(t,e,n,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new tu(a=>jX(a),px),this.pa=new Map,this.ya=new Set,this.wa=new Pn(We.comparator),this.Sa=new Map,this.ba=new cV,this.Da={},this.Ca=new Map,this.va=lf.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function g3e(i,t){return ZV.apply(this,arguments)}function ZV(){return ZV=(0,ce.Z)(function*(i,t){const e=vB(i);let n,r;const o=e.ga.get(t);if(o)n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Va();else{const s=yield Iv(e.localStore,As(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,r=yield KV(e,t,n,"current"===a,s.resumeToken),e.isPrimaryClient&&NS(e.remoteStore,s)}return r}),ZV.apply(this,arguments)}function KV(i,t,e,n,r){return QV.apply(this,arguments)}function QV(){return QV=(0,ce.Z)(function*(i,t,e,n,r){i.Ma=(h,p,g)=>{return(b=(0,ce.Z)(function*(x,S,D,M){let L=S.view.ha(D);L.Xi&&(L=yield MS(x.localStore,S.query,!1).then(({documents:ie})=>S.view.ha(ie,L)));const z=M&&M.targetChanges.get(S.targetId),Z=M&&null!=M.targetMismatches.get(S.targetId),ue=S.view.applyChanges(L,x.isPrimaryClient,z,Z);return aB(x,S.targetId,ue.da),ue.snapshot}),function w(x,S,D,M){return b.apply(this,arguments)})(i,h,p,g);var b};const o=yield MS(i.localStore,t,!0),s=new Aee(t,o.hs),a=s.ha(o.documents),c=xx.createSynthesizedTargetChangeForCurrentChange(e,n&&"Offline"!==i.onlineState,r),l=s.applyChanges(a,i.isPrimaryClient,c);aB(i,e,l.da);const d=new m3e(t,e,s);return i.ga.set(t,d),i.pa.has(e)?i.pa.get(e).push(t):i.pa.set(e,[t]),l.snapshot}),QV.apply(this,arguments)}function _3e(i,t){return XV.apply(this,arguments)}function XV(){return XV=(0,ce.Z)(function*(i,t){const e=He(i),n=e.ga.get(t),r=e.pa.get(n.targetId);if(r.length>1)return e.pa.set(n.targetId,r.filter(o=>!px(o,t))),void e.ga.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||(yield Sv(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),Ox(e.remoteStore,n.targetId),Fv(e,n.targetId)}).catch(Fh))):(Fv(e,n.targetId),yield Sv(e.localStore,n.targetId,!0))}),XV.apply(this,arguments)}function JV(){return JV=(0,ce.Z)(function*(i,t,e){const n=bB(i);try{const r=yield function(s,a){const c=He(s),l=Jn.now(),d=a.reduce((g,b)=>g.add(b.key),oi());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=ia(),w=oi();return c.os.getEntries(g,d).next(x=>{b=x,b.forEach((S,D)=>{D.isValidDocument()||(w=w.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(x=>{h=x;const S=[];for(const D of a){const M=qVe(D,h.get(D.key).overlayedDocument);null!=M&&S.push(new iu(D.key,M,IX(M.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,S,a)}).next(x=>{p=x;const S=x.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(g,x.batchId,S)})}).then(()=>({batchId:p.batchId,changes:qX(h)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Da[s.currentUser.toKey()];l||(l=new Pn(Ht)),l=l.insert(a,c),s.Da[s.currentUser.toKey()]=l}(n,r.batchId,e),yield ru(n,r.changes),yield Av(n.remoteStore)}catch(r){const o=Pv(r,"Failed to persist write");e.reject(o)}}),JV.apply(this,arguments)}function Ree(i,t){return eB.apply(this,arguments)}function eB(){return eB=(0,ce.Z)(function*(i,t){const e=He(i);try{const n=yield function VBe(i,t){const e=He(i),n=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const a=[];t.targetChanges.forEach((d,h)=>{const p=r.get(h);if(!p)return;a.push(e.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>e.Qr.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);var w,x,S;null!==t.targetMismatches.get(h)?g=g.withResumeToken(oo.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),r=r.insert(h,g),x=g,S=d,(0===(w=p).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(e.Qr.updateTargetData(o,g))});let c=ia(),l=oi();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(dee(o,s,t.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!n.isEqual(gt.min())){const d=e.Qr.getLastRemoteSnapshotVersion(o).next(h=>e.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(d)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.ns=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Sa.get(o);s&&(pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.ma=!0:r.modifiedDocuments.size>0?pt(s.ma):r.removedDocuments.size>0&&(pt(s.ma),s.ma=!1))}),yield ru(e,n,t)}catch(n){yield Fh(n)}}),eB.apply(this,arguments)}function Pee(i,t,e){const n=He(i);if(n.isPrimaryClient&&0===e||!n.isPrimaryClient&&1===e){const r=[];n.ga.forEach((o,s)=>{const a=s.view.U_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=He(s);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(const p of h.Q_)p.U_(a)&&(l=!0)}),l&&qV(c)}(n.eventManager,t),r.length&&n.fa.u_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function b3e(i,t,e){return tB.apply(this,arguments)}function tB(){return tB=(0,ce.Z)(function*(i,t,e){const n=He(i);n.sharedClientState.updateQueryState(t,"rejected",e);const r=n.Sa.get(t),o=r&&r.key;if(o){let s=new Pn(We.comparator);s=s.insert(o,$n.newNoDocument(o,gt.min()));const a=oi().add(o),c=new wx(gt.min(),new Map,new Pn(Ht),s,a);yield Ree(n,c),n.wa=n.wa.remove(o),n.Sa.delete(t),cB(n)}else yield Sv(n.localStore,t,!1).then(()=>Fv(n,t,e)).catch(Fh)}),tB.apply(this,arguments)}function y3e(i,t){return iB.apply(this,arguments)}function iB(){return iB=(0,ce.Z)(function*(i,t){const e=He(i),n=t.batch.batchId;try{const r=yield function LBe(i,t){const e=He(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=t.batch.keys(),o=e.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){const h=l.batch,p=h.keys();let g=J.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(w=>{const x=l.docVersions.get(b);pt(null!==x),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(e,n,t,o).next(()=>o.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=oi();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(n,r))})}(e.localStore,t);sB(e,n,null),oB(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield ru(e,r)}catch(r){yield Fh(r)}}),iB.apply(this,arguments)}function w3e(i,t,e){return nB.apply(this,arguments)}function nB(){return nB=(0,ce.Z)(function*(i,t,e){const n=He(i);try{const r=yield function(s,a){const c=He(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(pt(null!==h),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(n.localStore,t);sB(n,t,e),oB(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield ru(n,r)}catch(r){yield Fh(r)}}),nB.apply(this,arguments)}function rB(){return rB=(0,ce.Z)(function*(i,t){const e=He(i);Zh(e.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(s){const a=He(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===n)return void t.resolve();const r=e.Ca.get(n)||[];r.push(t),e.Ca.set(n,r)}catch(n){const r=Pv(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),rB.apply(this,arguments)}function oB(i,t){(i.Ca.get(t)||[]).forEach(e=>{e.resolve()}),i.Ca.delete(t)}function sB(i,t,e){const n=He(i);let r=n.Da[n.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),n.Da[n.currentUser.toKey()]=r}}function Fv(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.pa.get(t))i.ga.delete(n),e&&i.fa.xa(n,e);i.pa.delete(t),i.isPrimaryClient&&i.ba.Vr(t).forEach(n=>{i.ba.containsKey(n)||Oee(i,n)})}function Oee(i,t){i.ya.delete(t.path.canonicalString());const e=i.wa.get(t);null!==e&&(Ox(i.remoteStore,e),i.wa=i.wa.remove(t),i.Sa.delete(e),cB(i))}function aB(i,t,e){for(const n of e)n instanceof See?(i.ba.addReference(n.key,t),C3e(i,n)):n instanceof Mee?(De("SyncEngine","Document no longer in limbo: "+n.key),i.ba.removeReference(n.key,t),i.ba.containsKey(n.key)||Oee(i,n.key)):ot()}function C3e(i,t){const e=t.key,n=e.path.canonicalString();i.wa.get(e)||i.ya.has(n)||(De("SyncEngine","New document in limbo: "+e),i.ya.add(n),cB(i))}function cB(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const t=i.ya.values().next().value;i.ya.delete(t);const e=new We(Ci.fromString(t)),n=i.va.next();i.Sa.set(n,new p3e(e)),i.wa=i.wa.insert(e,n),NS(i.remoteStore,new nu(As(fv(e.path)),n,"TargetPurposeLimboResolution",Aa._e))}}function ru(i,t,e){return lB.apply(this,arguments)}function lB(){return lB=(0,ce.Z)(function*(i,t,e){const n=He(i),r=[],o=[],s=[];var a;n.ga.isEmpty()||(n.ga.forEach((a,c)=>{s.push(n.Ma(c,t,e).then(l=>{if((l||e)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const d=mV.Ki(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),n.fa.u_(r),yield(a=(0,ce.Z)(function*(l,d){const h=He(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>J.forEach(d,g=>J.forEach(g.qi,b=>h.persistence.referenceDelegate.addReference(p,g.targetId,b)).next(()=>J.forEach(g.Qi,b=>h.persistence.referenceDelegate.removeReference(p,g.targetId,b)))))}catch(p){if(!Lh(p))throw p;De("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const b=h.ns.get(g),x=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);h.ns=h.ns.insert(g,x)}}}),function c(l,d){return a.apply(this,arguments)})(n.localStore,o))}),lB.apply(this,arguments)}function E3e(i,t){return dB.apply(this,arguments)}function dB(){return dB=(0,ce.Z)(function*(i,t){const e=He(i);if(!e.currentUser.isEqual(t)){De("SyncEngine","User change. New user:",t.toKey());const n=yield cee(e.localStore,t);e.currentUser=t,(o=e).Ca.forEach(a=>{a.forEach(c=>{c.reject(new Te(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield ru(e,n.us)}var o}),dB.apply(this,arguments)}function k3e(i,t){const e=He(i),n=e.Sa.get(t);if(n&&n.ma)return oi().add(n.key);{let r=oi();const o=e.pa.get(t);if(!o)return r;for(const s of o){const a=e.ga.get(s);r=r.unionWith(a.view.la)}return r}}function T3e(i,t){return uB.apply(this,arguments)}function uB(){return uB=(0,ce.Z)(function*(i,t){const e=He(i),n=yield MS(e.localStore,t.query,!0),r=t.view.Ra(n);return e.isPrimaryClient&&aB(e,t.targetId,r.da),r}),uB.apply(this,arguments)}function D3e(i,t){return hB.apply(this,arguments)}function hB(){return hB=(0,ce.Z)(function*(i,t){const e=He(i);return hee(e.localStore,t).then(n=>ru(e,n))}),hB.apply(this,arguments)}function I3e(i,t,e,n){return mB.apply(this,arguments)}function mB(){return mB=(0,ce.Z)(function*(i,t,e,n){const r=He(i),o=yield function(a,c){const l=He(a),d=He(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,c).next(p=>p?l.localDocuments.getDocuments(h,p):J.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield Av(r.remoteStore):"acknowledged"===e||"rejected"===e?(sB(r,t,n||null),oB(r,t),c=t,He(He(r.localStore).mutationQueue).Mn(c)):ot(),yield ru(r,o)):De("SyncEngine","Cannot apply mutation batch with id: "+t)}),mB.apply(this,arguments)}function pB(){return pB=(0,ce.Z)(function*(i,t){const e=He(i);if(vB(e),bB(e),!0===t&&!0!==e.Fa){const n=e.sharedClientState.getAllActiveQueryTargets(),r=yield Nee(e,n.toArray());e.Fa=!0,yield zV(e.remoteStore,!0);for(const o of r)NS(e.remoteStore,o)}else if(!1===t&&!1!==e.Fa){const n=[];let r=Promise.resolve();e.pa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?n.push(s):r=r.then(()=>(Fv(e,s),Sv(e.localStore,s,!0))),Ox(e.remoteStore,s)}),yield r,yield Nee(e,n),function(s){const a=He(s);a.Sa.forEach((c,l)=>{Ox(a.remoteStore,l)}),a.ba.mr(),a.Sa=new Map,a.wa=new Pn(We.comparator)}(e),e.Fa=!1,yield zV(e.remoteStore,!1)}}),pB.apply(this,arguments)}function Nee(i,t,e){return fB.apply(this,arguments)}function fB(){return fB=(0,ce.Z)(function*(i,t,e){const n=He(i),r=[],o=[];for(const s of t){let a;const c=n.pa.get(s);if(c&&0!==c.length){a=yield Iv(n.localStore,As(c[0]));for(const l of c){const d=n.ga.get(l),h=yield T3e(n,d);h.snapshot&&o.push(h.snapshot)}}else{const l=yield uee(n.localStore,s);a=yield Iv(n.localStore,l),yield KV(n,Fee(l),s,!1,a.resumeToken)}r.push(a)}return n.fa.u_(o),r}),fB.apply(this,arguments)}function Fee(i){return zX(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function M3e(i){return e=He(i).localStore,He(He(e).persistence).Li();var e}function A3e(i,t,e,n){return gB.apply(this,arguments)}function gB(){return gB=(0,ce.Z)(function*(i,t,e,n){const r=He(i);if(r.Fa)return void De("SyncEngine","Ignoring unexpected query state notification.");const o=r.pa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield hee(r.localStore,WX(o[0])),a=wx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,oo.EMPTY_BYTE_STRING);yield ru(r,s,a);break}case"rejected":yield Sv(r.localStore,t,!0),Fv(r,t,n);break;default:ot()}}),gB.apply(this,arguments)}function R3e(i,t,e){return _B.apply(this,arguments)}function _B(){return _B=(0,ce.Z)(function*(i,t,e){const n=vB(i);if(n.Fa){for(const r of t){if(n.pa.has(r)){De("SyncEngine","Adding an already active target "+r);continue}const o=yield uee(n.localStore,r),s=yield Iv(n.localStore,o);yield KV(n,Fee(o),s.targetId,!1,s.resumeToken),NS(n.remoteStore,s)}for(const r of e)n.pa.has(r)&&(yield Sv(n.localStore,r,!1).then(()=>{Ox(n.remoteStore,r),Fv(n,r)}).catch(Fh))}}),_B.apply(this,arguments)}function vB(i){const t=He(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ree.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b3e.bind(null,t),t.fa.u_=l3e.bind(null,t.eventManager),t.fa.xa=d3e.bind(null,t.eventManager),t}function bB(i){const t=He(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y3e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w3e.bind(null,t),t}class Nx{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ce.Z)(function*(){e.serializer=Rx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return aee(this.persistence,new see,t.initialUser,this.serializer)}createPersistence(t){return new lV(DS.Hr,this.serializer)}createSharedClientState(t){return new gee}terminate(){var t=this;return(0,ce.Z)(function*(){var e,n;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(n=t.indexBackfillerScheduler)||void 0===n||n.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yB extends Nx{constructor(t,e,n){super(),this.Na=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,ce.Z)(function*(){yield e().call(n,t),yield n.Na.initialize(n,t),yield bB(n.Na.syncEngine),yield Av(n.Na.remoteStore),yield n.persistence.fi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return aee(this.persistence,new see,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new QJ(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new oVe(e,this.persistence);return new rVe(t.asyncQueue,n)}createPersistence(t){const e=hV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new uV(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,vee(),OS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new gee}}class Lee extends yB{constructor(t,e){super(t,e,!1),this.Na=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,ce.Z)(function*(){yield e().call(n,t);const r=n.Na.syncEngine;n.sharedClientState instanceof wV&&(n.sharedClientState.syncEngine={Zs:I3e.bind(null,r),Xs:A3e.bind(null,r),eo:R3e.bind(null,r),Li:M3e.bind(null,r),Ys:D3e.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.fi(function(){var o=(0,ce.Z)(function*(s){yield function S3e(i,t){return pB.apply(this,arguments)}(n.Na.syncEngine,s),n.gcScheduler&&(s&&!n.gcScheduler.started?n.gcScheduler.start():s||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(s&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():s||n.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=vee();if(!wV.D(e))throw new Te(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=hV(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new wV(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Lv{initialize(t,e){var n=this;return(0,ce.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>Pee(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=E3e.bind(null,n.syncEngine),yield zV(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new c3e}createDatastore(t){const e=Rx(t.databaseInfo.databaseId),n=new $Be(t.databaseInfo);return new YBe(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>Pee(this.syncEngine,e,0),a=_ee.D()?new _ee:new UBe,new QBe(n,r,o,s,a);var n,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,c,l,d){const h=new f3e(r,o,s,a,c,l);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,ce.Z)(function*(){var e,n;yield(n=(0,ce.Z)(function*(o){const s=He(o);De("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Mv(s),s.M_.shutdown(),s.x_.set("Unknown")}),function r(o){return n.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}function Vee(i,t=10240){let e=0;return{read:()=>(0,ce.Z)(function*(){if(e<i.byteLength){const n={value:i.slice(e,e+t),done:!1};return e+=t,n}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class LS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class N3e{constructor(t,e){this.ka=t,this.serializer=e,this.metadata=new ro,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(n=>{n&&n.ea()?this.metadata.resolve(n.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.X_)}`))},n=>this.metadata.reject(n))}close(){return this.ka.cancel()}getMetadata(){var t=this;return(0,ce.Z)(function*(){return t.metadata.promise})()}Oa(){var t=this;return(0,ce.Z)(function*(){return yield t.getMetadata(),t.Qa()})()}Qa(){var t=this;return(0,ce.Z)(function*(){const e=yield t.Ka();if(null===e)return null;const n=t.qa.decode(e),r=Number(n);isNaN(r)&&t.$a(`length string (${n}) is not valid number`);const o=yield t.Ua(r);return new u3e(JSON.parse(o),e.length+r)})()}Wa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ka(){var t=this;return(0,ce.Z)(function*(){for(;t.Wa()<0&&!(yield t.Ga()););if(0===t.buffer.length)return null;const e=t.Wa();e<0&&t.$a("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}Ua(t){var e=this;return(0,ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ga())&&e.$a("Reached the end of bundle when more is expected.");const n=e.qa.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}$a(t){throw this.ka.cancel(),new Error(`Invalid bundle format: ${t}`)}Ga(){var t=this;return(0,ce.Z)(function*(){const e=yield t.ka.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class F3e{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Te(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const n=yield(r=(0,ce.Z)(function*(s,a){const c=He(s),l={documents:a.map(g=>Cx(c.serializer,g))},d=yield c.vo("BatchGetDocuments",c.serializer.databaseId,Ci.emptyPath(),l,a.length),h=new Map;d.forEach(g=>{const b=function nBe(i,t){return"found"in t?function(n,r){pt(!!r.found);const o=Hl(n,r.found.name),s=Ar(r.found.updateTime),a=r.found.createTime?Ar(r.found.createTime):gt.min(),c=new Bo({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(o,s,a,c)}(i,t):"missing"in t?function(n,r){pt(!!r.missing),pt(!!r.readTime);const o=Hl(n,r.missing),s=Ar(r.readTime);return $n.newNoDocument(o,s)}(i,t):ot()}(c.serializer,g);h.set(b.key.toString(),b)});const p=[];return a.forEach(g=>{const b=h.get(g.toString());pt(!!b),p.push(b)}),p}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(r=>e.recordVersion(r)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new wv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var n;t.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const o=We.fromPath(r);t.mutations.push(new WL(o,t.precondition(o)))}),yield(n=(0,ce.Z)(function*(o,s){const a=He(o),c={writes:s.map(l=>Ex(a.serializer,l))};yield a.So("Commit",a.serializer.databaseId,Ci.emptyPath(),c)}),function r(o,s){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ot();e=gt.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Te(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(gt.min())?er.exists(!1):er.updateTime(e):er.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gt.min()))throw new Te(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(e)}return er.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class L3e{constructor(t,e,n,r,o){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=o,this.za=n.maxAttempts,this.jo=new CV(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var t=this;this.jo.qo((0,ce.Z)(function*(){const e=new F3e(t.datastore),n=t.Ja(e);n&&n.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ya(o)}))}).catch(r=>{t.Ya(r)})}))}Ja(t){try{const e=this.updateFunction(t);return!sx(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(t){this.za>0&&this.Za(t)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(t)}Za(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!cJ(e)}return!1}}class V3e{constructor(t,e,n,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=_o.UNAUTHENTICATED,this.clientId=rX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var s=(0,ce.Z)(function*(a){De("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(n,s=>(De("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function VS(i,t){return wB.apply(this,arguments)}function wB(){return wB=(0,ce.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const e=i.configuration;yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(function(){var r=(0,ce.Z)(function*(o){n.isEqual(o)||(yield cee(t.localStore,o),n=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),wB.apply(this,arguments)}function xB(i,t){return CB.apply(this,arguments)}function CB(){return CB=(0,ce.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield EB(i);De("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>kee(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>kee(t.remoteStore,r)),i._onlineComponents=t}),CB.apply(this,arguments)}function Bee(i){return"FirebaseError"===i.name?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function EB(i){return kB.apply(this,arguments)}function kB(){return kB=(0,ce.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield VS(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!Bee(e))throw e;ea("Error using user provided cache. Falling back to memory cache: "+e),yield VS(i,new Nx)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield VS(i,new Nx);return i._offlineComponents}),kB.apply(this,arguments)}function BS(i){return TB.apply(this,arguments)}function TB(){return TB=(0,ce.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield xB(i,i._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield xB(i,new Lv))),i._onlineComponents}),TB.apply(this,arguments)}function zee(i){return EB(i).then(t=>t.persistence)}function Vv(i){return EB(i).then(t=>t.localStore)}function Hee(i){return BS(i).then(t=>t.remoteStore)}function DB(i){return BS(i).then(t=>t.syncEngine)}function Bv(i){return IB.apply(this,arguments)}function IB(){return IB=(0,ce.Z)(function*(i){const t=yield BS(i),e=t.eventManager;return e.onListen=g3e.bind(null,t.syncEngine),e.onUnlisten=_3e.bind(null,t.syncEngine),e}),IB.apply(this,arguments)}function jee(i,t,e={}){const n=new ro;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(o,s,a,c,l){const d=new LS({next:p=>{s.enqueueAndForget(()=>$V(o,h));const g=p.docs.has(a);!g&&p.fromCache?l.reject(new Te(se.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&"server"===c.source?l.reject(new Te(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new YV(fv(a.path),d,{includeMetadataChanges:!0,Z_:!0});return jV(o,h)}(yield Bv(i),i.asyncQueue,t,e,n)})),n.promise}function Wee(i,t,e={}){const n=new ro;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(o,s,a,c,l){const d=new LS({next:p=>{s.enqueueAndForget(()=>$V(o,h)),p.fromCache&&"server"===c.source?l.reject(new Te(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new YV(a,d,{includeMetadataChanges:!0,Z_:!0});return jV(o,h)}(yield Bv(i),i.asyncQueue,t,e,n)})),n.promise}function $ee(i){const t={};return void 0!==i.timeoutSeconds&&(t.timeoutSeconds=i.timeoutSeconds),t}const Gee=new Map;function SB(i,t,e){if(!e)throw new Te(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function qee(i,t,e,n){if(!0===t&&!0===n)throw new Te(se.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function Yee(i){if(!We.isDocumentKey(i))throw new Te(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zee(i){if(We.isDocumentKey(i))throw new Te(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zS(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(n=i).constructor?n.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var n;return"function"==typeof i?"a function":ot()}function yi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Te(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zS(i);throw new Te(se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function Kee(i,t){if(t<=0)throw new Te(se.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class Qee{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Te(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Te(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qee("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$ee(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fx{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qee({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Te(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qee(t),void 0!==t.credentials&&(this._authCredentials=function(n){if(!n)return new GLe;switch(n.type){case"firstParty":return new KLe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Gee.get(e);n&&(De("ComponentProvider","Removing Datastore"),Gee.delete(e),n.terminate())}(this),Promise.resolve()}}class zo{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new zo(this.firestore,t,this._query)}}class Gn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gn(this.firestore,t,this._key)}}class Ul extends zo{constructor(t,e,n){super(t,e,fv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gn(this.firestore,null,new We(t))}withConverter(t){return new Ul(this.firestore,t,this._path)}}function Jee(i,t,...e){if(i=(0,R.m9)(i),SB("collection","path",t),i instanceof Fx){const n=Ci.fromString(t,...e);return Zee(n),new Ul(i,null,n)}{if(!(i instanceof Gn||i instanceof Ul))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Ci.fromString(t,...e));return Zee(n),new Ul(i.firestore,null,n)}}function HS(i,t,...e){if(i=(0,R.m9)(i),1===arguments.length&&(t=rX.newId()),SB("doc","path",t),i instanceof Fx){const n=Ci.fromString(t,...e);return Yee(n),new Gn(i,null,new We(n))}{if(!(i instanceof Gn||i instanceof Ul))throw new Te(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Ci.fromString(t,...e));return Yee(n),new Gn(i.firestore,i instanceof Ul?i.converter:null,new We(n))}}function ete(i,t){return i=(0,R.m9)(i),t=(0,R.m9)(t),(i instanceof Gn||i instanceof Ul)&&(t instanceof Gn||t instanceof Ul)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function MB(i,t){return i=(0,R.m9)(i),t=(0,R.m9)(t),i instanceof zo&&t instanceof zo&&i.firestore===t.firestore&&px(i._query,t._query)&&i.converter===t.converter}class K3e{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new CV(this,"async_queue_retry"),this._u=()=>{const e=OS();e&&De("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const t=OS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const e=OS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const e=new ro;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}cu(){var t=this;return(0,ce.Z)(function*(){if(0!==t.eu.length){try{yield t.eu[0](),t.eu.shift(),t.jo.reset()}catch(e){if(!Lh(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}t.eu.length>0&&t.jo.qo(()=>t.cu())}})()}uu(t){const e=this.Xa.then(()=>(this.iu=!0,t().catch(n=>{throw this.ru=n,this.iu=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(n)),n}).then(n=>(this.iu=!1,n))));return this.Xa=e,e}enqueueAfterDelay(t,e,n){this.au(),this.ou.indexOf(t)>-1&&(e=0);const r=UV.createAndSchedule(this,t,e,n,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&ot()}verifyOperationInProgress(){}hu(){var t=this;return(0,ce.Z)(function*(){let e;do{e=t.Xa,yield e}while(e!==t.Xa)})()}Pu(t){for(const e of this.nu)if(e.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.nu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const e=this.nu.indexOf(t);this.nu.splice(e,1)}}function AB(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class Q3e{constructor(){this._progressObserver={},this._taskCompletionResolver=new ro,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class On extends Fx{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new K3e,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tte(this),this._firestoreClient.terminate()}}function yr(i){return i._firestoreClient||tte(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function tte(i){var t,e,n;const r=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new TVe(i._databaseId,c,i._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$ee(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;i._firestoreClient=new V3e(i._authCredentials,i._appCheckCredentials,i._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function ite(i,t,e){const n=new ro;return i.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield VS(i,e),yield xB(i,t),n.resolve()}catch(r){const o=r;if(!Bee(o))throw o;ea("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function nte(i){if(i._initialized||i._terminated)throw new Te(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jl(oo.fromBase64String(t))}catch(e){throw new Te(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new jl(oo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ou{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Te(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class uf{constructor(t){this._methodName=t}}class US{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Te(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Te(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}const c4e=/^__.*__$/;class l4e{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new iu(t,this.data,this.fieldMask,e,this.fieldTransforms):new yv(t,this.data,e,this.fieldTransforms)}}class rte{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new iu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ote(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class jS{constructor(t,e,n,r,o,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new jS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.mu(t),r}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return GS(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(0===t.length)throw this.pu("Document fields must not be empty");if(ote(this.du)&&c4e.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class d4e{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Rx(t)}Su(t,e,n,r=!1){return new jS({du:t,methodName:e,wu:n,path:Wn.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(i){const t=i._freezeSettings(),e=Rx(i._databaseId);return new d4e(i._databaseId,!!t.ignoreUndefinedProperties,e)}function WS(i,t,e,n,r,o={}){const s=i.Su(o.merge||o.mergeFields?2:0,t,e,r);VB("Data must be an object, but it was:",s,n);const a=cte(n,s);let c,l;if(o.merge)c=new ta(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Bx(t,h,e);if(!s.contains(p))throw new Te(se.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dte(d,p)||d.push(p)}c=new ta(d),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new l4e(new Bo(a),c,l)}class Vx extends uf{_toFieldTransform(t){if(2!==t.du)throw t.pu(1===t.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vx}}function ste(i,t,e){return new jS({du:3,wu:t.settings.wu,methodName:i._methodName,Vu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class RB extends uf{_toFieldTransform(t){return new vx(t.path,new vv)}isEqual(t){return t instanceof RB}}class PB extends uf{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=ste(this,t,!0),n=this.bu.map(o=>mf(o,e)),r=new ef(n);return new vx(t.path,r)}isEqual(t){return t instanceof PB&&(0,R.vZ)(this.bu,t.bu)}}class OB extends uf{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=ste(this,t,!0),n=this.bu.map(o=>mf(o,e)),r=new tf(n);return new vx(t.path,r)}isEqual(t){return t instanceof OB&&(0,R.vZ)(this.bu,t.bu)}}class NB extends uf{constructor(t,e){super(t),this.Du=e}_toFieldTransform(t){const e=new bv(t.serializer,QX(t.serializer,this.Du));return new vx(t.path,e)}isEqual(t){return t instanceof NB&&this.Du===t.Du}}function FB(i,t,e,n){const r=i.Su(1,t,e);VB("Data must be an object, but it was:",r,n);const o=[],s=Bo.empty();Vh(n,(c,l)=>{const d=$S(t,c,e);l=(0,R.m9)(l);const h=r.fu(d);if(l instanceof Vx)o.push(d);else{const p=mf(l,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new ta(o);return new rte(s,a,r.fieldTransforms)}function LB(i,t,e,n,r,o){const s=i.Su(1,t,e),a=[Bx(t,n,e)],c=[r];if(o.length%2!=0)throw new Te(se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(Bx(t,o[p])),c.push(o[p+1]);const l=[],d=Bo.empty();for(let p=a.length-1;p>=0;--p)if(!dte(l,a[p])){const g=a[p];let b=c[p];b=(0,R.m9)(b);const w=s.fu(g);if(b instanceof Vx)l.push(g);else{const x=mf(b,w);null!=x&&(l.push(g),d.set(g,x))}}const h=new ta(l);return new rte(d,h,s.fieldTransforms)}function ate(i,t,e,n=!1){return mf(e,i.Su(n?4:3,t))}function mf(i,t){if(lte(i=(0,R.m9)(i)))return VB("Unsupported field value:",t,i),cte(i,t);if(i instanceof uf)return function(n,r){if(!ote(r.du))throw r.pu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(n,r){const o=[];let s=0;for(const a of n){let c=mf(a,r.gu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(i,t)}return function(n,r){if(null===(n=(0,R.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return QX(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=Jn.fromDate(n);return{timestampValue:xv(r.serializer,o)}}if(n instanceof Jn){const o=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xv(r.serializer,o)}}if(n instanceof US)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jl)return{bytesValue:vJ(r.serializer,n._byteString)};if(n instanceof Gn){const o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:KL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.pu(`Unsupported field value: ${zS(n)}`)}(i,t)}function cte(i,t){const e={};return bX(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vh(i,(n,r)=>{const o=mf(r,t.Ru(n));null!=o&&(e[n]=o)}),{mapValue:{fields:e}}}function lte(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Jn||i instanceof US||i instanceof jl||i instanceof Gn||i instanceof uf)}function VB(i,t,e){if(!lte(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=zS(e);throw t.pu("an object"===n?i+" a custom object":i+" "+n)}var r}function Bx(i,t,e){if((t=(0,R.m9)(t))instanceof ou)return t._internalPath;if("string"==typeof t)return $S(i,t);throw GS("Field path arguments must be of type string or ",i,!1,void 0,e)}const u4e=new RegExp("[~\\*/\\[\\]]");function $S(i,t,e){if(t.search(u4e)>=0)throw GS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ou(...t.split("."))._internalPath}catch{throw GS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function GS(i,t,e,n,r){const o=n&&!n.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new Te(se.INVALID_ARGUMENT,a+i+c)}function dte(i,t){return i.some(e=>e.isEqual(t))}class zx{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new h4e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(qS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class h4e extends zx{data(){return super.data()}}function qS(i,t){return"string"==typeof t?$S(i,t):t instanceof ou?t._internalPath:t._delegate._internalPath}function ute(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Te(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BB{}class Hx extends BB{}function Qh(i,t,...e){let n=[];t instanceof BB&&n.push(t),n=n.concat(e),function(o){const s=o.filter(c=>c instanceof zv).length,a=o.filter(c=>c instanceof Ux).length;if(s>1||s>0&&a>0)throw new Te(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class Ux extends Hx{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Ux(t,e,n)}_apply(t){const e=this._parse(t);return fte(t._query,e),new zo(t.firestore,t.converter,UL(t._query,e))}_parse(t){const e=hf(t.firestore);return function(o,s,a,c,l,d,h){let p;if(l.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new Te(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){pte(h,d);const g=[];for(const b of h)g.push(mte(c,o,b));p={arrayValue:{values:g}}}else p=mte(c,o,h)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||pte(h,d),p=ate(a,"where",h,"in"===d||"not-in"===d);return Ei.create(l,d,p)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class zv extends BB{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zv(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===e.length?e[0]:rn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)fte(s,c),s=UL(s,c)}(t._query,e),new zo(t.firestore,t.converter,UL(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zB extends Hx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new zB(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hx(o,s)}(t._query,this._field,this._direction);return new zo(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new eu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class YS extends Hx{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new YS(t,e,n)}_apply(t){return new zo(t.firestore,t.converter,pS(t._query,this._limit,this._limitType))}}class ZS extends Hx{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new ZS(t,e,n)}_apply(t){const e=hte(t,this.type,this._docOrFields,this._inclusive);return new zo(t.firestore,t.converter,(o=e,new eu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class KS extends Hx{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new KS(t,e,n)}_apply(t){const e=hte(t,this.type,this._docOrFields,this._inclusive);return new zo(t.firestore,t.converter,(o=e,new eu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function hte(i,t,e,n){if(e[0]=(0,R.m9)(e[0]),e[0]instanceof zx)return function(o,s,a,c,l){if(!c)throw new Te(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of gv(o))if(h.field.isKeyField())d.push(Xp(s,c.key));else{const p=c.data.field(h.field);if(aS(p))throw new Te(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const g=h.field.canonicalString();throw new Te(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new Wh(d,l)}(i._query,i.firestore._databaseId,t,e[0]._document,n);{const r=hf(i.firestore);return function(s,a,c,l,d,h){const p=s.explicitOrderBy;if(d.length>p.length)throw new Te(se.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let b=0;b<d.length;b++){const w=d[b];if(p[b].field.isKeyField()){if("string"!=typeof w)throw new Te(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof w}`);if(!HL(s)&&-1!==w.indexOf("/"))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${w}' contains a slash.`);const x=s.path.child(Ci.fromString(w));if(!We.isDocumentKey(x))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const S=new We(x);g.push(Xp(a,S))}else{const x=ate(c,l,w);g.push(x)}}return new Wh(g,h)}(i._query,i.firestore._databaseId,r,t,e,n)}}function mte(i,t,e){if("string"==typeof(e=(0,R.m9)(e))){if(""===e)throw new Te(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HL(t)&&-1!==e.indexOf("/"))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Ci.fromString(e));if(!We.isDocumentKey(n))throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Xp(i,new We(n))}if(e instanceof Gn)return Xp(i,e._key);throw new Te(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zS(e)}.`)}function pte(i,t){if(!Array.isArray(i)||0===i.length)throw new Te(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fte(i,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Te(se.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class HB{convertValue(t,e="none"){switch(Uh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ot()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Vh(t,(r,o)=>{n[r]=this.convertValue(o,e)}),n}convertGeoPoint(t){return new US(br(t.latitude),br(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=cS(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(cx(t));default:return null}}convertTimestamp(t){const e=Bh(t);return new Jn(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ci.fromString(t);pt(SJ(n));const r=new zh(n.get(1),n.get(3)),o=new We(n.popFirst(5));return r.isEqual(e)||Mr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function QS(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}class w4e extends HB{constructor(t){super(),this.firestore=t}convertBytes(t){return new jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,e)}}class pf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class su extends zx{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(qS("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class jx extends su{data(t={}){return super.data(t)}}class Xh{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new pf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new jx(this._firestore,this._userDataWriter,n.key,n,new pf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Te(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new jx(r._firestore,r._userDataWriter,a.doc.key,a.doc,new pf(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new jx(r._firestore,r._userDataWriter,a.doc.key,a.doc,new pf(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,d=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:C4e(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function C4e(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function _te(i,t){return i instanceof su&&t instanceof su?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Xh&&t instanceof Xh&&i._firestore===t._firestore&&MB(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}class Jh extends HB{constructor(t){super(),this.firestore=t}convertBytes(t){return new jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gn(this.firestore,null,e)}}function vte(i,t,e){i=yi(i,Gn);const n=yi(i.firestore,On),r=QS(i.converter,t,e);return Hv(n,[WS(hf(n),"setDoc",i._key,r,null!==i.converter,e).toMutation(i._key,er.none())])}function bte(i,t,e,...n){i=yi(i,Gn);const r=yi(i.firestore,On),o=hf(r);let s;return s="string"==typeof(t=(0,R.m9)(t))||t instanceof ou?LB(o,"updateDoc",i._key,t,e,n):FB(o,"updateDoc",i._key,t),Hv(r,[s.toMutation(i._key,er.exists(!0))])}function yte(i,...t){var e,n,r;i=(0,R.m9)(i);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||AB(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(AB(t[s])){const h=t[s];t[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),t[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),t[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}let c,l,d;if(i instanceof Gn)l=yi(i.firestore,On),d=fv(i._key.path),c={next:h=>{t[s]&&t[s](UB(l,i,h))},error:t[s+1],complete:t[s+2]};else{const h=yi(i,zo);l=yi(h.firestore,On),d=h._query;const p=new Jh(l);c={next:g=>{t[s]&&t[s](new Xh(l,p,h,g))},error:t[s+1],complete:t[s+2]},ute(i._query)}return function(p,g,b,w){const x=new LS(w),S=new YV(g,x,b);return p.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return jV(yield Bv(p),S)})),()=>{x.La(),p.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return $V(yield Bv(p),S)}))}}(yr(l),d,a,c)}function Hv(i,t){return function(n,r){const o=new ro;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function v3e(i,t,e){return JV.apply(this,arguments)}(yield DB(n),r,o)})),o.promise}(yr(i),t)}function UB(i,t,e){const n=e.docs.get(t._key),r=new Jh(i);return new su(i,r,t._key,n,new pf(e.hasPendingWrites,e.fromCache),t.converter)}const H4e={maxAttempts:5};class wte{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hf(t)}set(t,e,n){this._verifyNotCommitted();const r=em(t,this._firestore),o=QS(r.converter,e,n),s=WS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,er.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const o=em(t,this._firestore);let s;return s="string"==typeof(e=(0,R.m9)(e))||e instanceof ou?LB(this._dataReader,"WriteBatch.update",o._key,e,n,r):FB(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,er.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=em(t,this._firestore);return this._mutations=this._mutations.concat(new wv(e._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(i,t){if((i=(0,R.m9)(i)).firestore!==t)throw new Te(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class U4e extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=hf(e)}get(e){const n=em(e,this._firestore),r=new w4e(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return ot();const s=o[0];if(s.isFoundDocument())return new zx(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new zx(this._firestore,r,n._key,null,n.converter);throw ot()})}set(e,n,r){const o=em(e,this._firestore),s=QS(o.converter,n,r),a=WS(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,n,r,...o){const s=em(e,this._firestore);let a;return a="string"==typeof(n=(0,R.m9)(n))||n instanceof ou?LB(this._dataReader,"Transaction.update",s._key,n,r,o):FB(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=em(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=em(t,this._firestore),n=new Jh(this._firestore);return super.get(t).then(r=>new su(this._firestore,n,e._key,r._document,new pf(!1,!1),e.converter))}}function WB(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Te("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function kte(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function Tte(){if(!function EVe(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){av=wl.SDK_VERSION,(0,wl._registerComponent)(new Md.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new On(new YLe(n.getProvider("auth-internal")),new QLe(n.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Te(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(l.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,wl.registerVersion)(tX,"4.4.1",t),(0,wl.registerVersion)(tX,"4.4.1","esm2017")}();class Wx{constructor(t){this._delegate=t}static fromBase64String(t){return Tte(),new Wx(jl.fromBase64String(t))}static fromUint8Array(t){return kte(),new Wx(jl.fromUint8Array(t))}toBase64(){return Tte(),this._delegate.toBase64()}toUint8Array(){return kte(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $B(i){return function X4e(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(i,["next","error","complete"])}class J4e{enableIndexedDbPersistence(t,e){return function J3e(i,t){nte(i=yi(i,On));const e=yr(i);if(e._uninitializedComponentsProvider)throw new Te(se.FAILED_PRECONDITION,"SDK cache is already specified.");ea("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),r=new Lv;return ite(e,r,new yB(r,n.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function e4e(i){nte(i=yi(i,On));const t=yr(i);if(t._uninitializedComponentsProvider)throw new Te(se.FAILED_PRECONDITION,"SDK cache is already specified.");ea("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),n=new Lv;return ite(t,n,new Lee(n,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function t4e(i){if(i._initialized&&!i._terminated)throw new Te(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ro;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(e=(0,ce.Z)(function*(r){if(!lc.D())return Promise.resolve();const o=r+"main";yield lc.delete(o)}),function n(r){return e.apply(this,arguments)})(hV(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Dte{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof zh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function Xee(i,t,e,n={}){var r;const o=(i=yi(i,Fx))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,c;if("string"==typeof n.mockUserToken)a=n.mockUserToken,c=_o.MOCK_USER;else{a=(0,R.Sg)(n.mockUserToken,null===(r=i._app)||void 0===r?void 0:r.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Te(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _o(l)}i._authCredentials=new qLe(new iX(a,c))}}(this._delegate,t,e,n)}enableNetwork(){return function n4e(i){return function B3e(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const t=yield zee(i),e=yield Hee(i);return t.setNetworkEnabled(!0),function(r){const o=He(r);return o.v_.delete(0),Px(o)}(e)}))}(yr(i=yi(i,On)))}(this._delegate)}disableNetwork(){return function r4e(i){return function z3e(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const t=yield zee(i),e=yield Hee(i);return t.setNetworkEnabled(!1),(n=(0,ce.Z)(function*(o){const s=He(o);s.v_.add(0),yield Mv(s),s.x_.set("Offline")}),function r(o){return n.apply(this,arguments)})(e);var n}))}(yr(i=yi(i,On)))}(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,qee("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function i4e(i){return function(e){const n=new ro;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function x3e(i,t){return rB.apply(this,arguments)}(yield DB(e),n)})),n.promise}(yr(i=yi(i,On)))}(this._delegate)}onSnapshotsInSync(t){return function R4e(i,t){return function j3e(i,t){const e=new LS(t);return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return r=yield Bv(i),o=e,He(r).K_.add(o),void o.next();var r,o})),()=>{e.La(),i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return r=yield Bv(i),o=e,void He(r).K_.delete(o);var r,o}))}}(yr(i=yi(i,On)),AB(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Uv(this,Jee(this._delegate,t))}catch(e){throw Rs(e,"collection()","Firestore.collection()")}}doc(t){try{return new dc(this,HS(this._delegate,t))}catch(e){throw Rs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ps(this,function Z3e(i,t){if(i=yi(i,Fx),SB("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Te(se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zo(i,null,(n=t,new eu(Ci.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Rs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function j4e(i,t,e){i=yi(i,On);const n=Object.assign(Object.assign({},H4e),e);return function(o){if(o.maxAttempts<1)throw new Te(se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,s,a){const c=new ro;return o.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const l=yield function Uee(i){return BS(i).then(t=>t.datastore)}(o);new L3e(o.asyncQueue,l,a,s,c).ja()})),c.promise}(yr(i),r=>t(new U4e(i,r)),n)}(this._delegate,e=>t(new Ite(this,e)))}batch(){return yr(this._delegate),new Ste(new wte(this._delegate,t=>Hv(this._delegate,t)))}loadBundle(t){return function o4e(i,t){const e=yr(i=yi(i,On)),n=new Q3e;return function W3e(i,t,e,n){const r=function(s,a){let c;return c="string"==typeof s?dJ().encode(s):s,d=function(d,h){if(d instanceof Uint8Array)return Vee(d,h);if(d instanceof ArrayBuffer)return Vee(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new N3e(d,a);var d}(e,Rx(t));i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function P3e(i,t,e){const n=He(i);var r;(r=(0,ce.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(b,w){const x=He(b),S=Ar(w.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",D=>x.$r.getBundleMetadata(D,w.id)).then(D=>!!D&&D.createTime.compareTo(S)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=l).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(Iee(l));const d=new h3e(l,s.localStore,a.serializer);let h=yield a.Oa();for(;h;){const g=yield d.na(h);g&&c._updateProgress(g),h=yield a.Oa()}const p=yield d.complete();return yield ru(s,p.sa,void 0),yield function(b,w){const x=He(b);return x.persistence.runTransaction("Save bundle","readwrite",S=>x.$r.saveBundleMetadata(S,w))}(s.localStore,l),c._completeWith(p.progress),Promise.resolve(p.ia)}catch(l){return ea("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(n,t,e).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}(yield DB(i),r,n)}))}(e,i._databaseId,t,n),n}(this._delegate,t)}namedQuery(t){return function s4e(i,t){return function $3e(i,t){return i.asyncQueue.enqueue((0,ce.Z)(function*(){return function(n,r){const o=He(n);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield Vv(i),t)}))}(yr(i=yi(i,On)),t).then(e=>e?new zo(i,null,e.query):null)}(this._delegate,t).then(e=>e?new Ps(this,e):null)}}class JS extends HB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wx(new jl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return dc.forKey(e,this.firestore,null)}}class Ite{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new JS(t)}get(t){const e=gf(t);return this._delegate.get(e).then(n=>new $x(this._firestore,new su(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,e.converter)))}set(t,e,n){const r=gf(t);return n?(WB("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=gf(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=gf(t);return this._delegate.delete(e),this}}class Ste{constructor(t){this._delegate=t}set(t,e,n){const r=gf(t);return n?(WB("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=gf(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=gf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ff{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new jx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gx(this._firestore,n),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=ff.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let o=r.get(e);return o||(o=new ff(t,new JS(t),e),r.set(e,o)),o}}ff.INSTANCES=new WeakMap;class dc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new JS(t)}static forPath(t,e,n){if(t.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new dc(e,new Gn(e._delegate,n,new We(t)))}static forKey(t,e,n){return new dc(e,new Gn(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Uv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Uv(this.firestore,Jee(this._delegate,t))}catch(e){throw Rs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,R.m9)(t))instanceof Gn&&ete(this._delegate,t)}set(t,e){e=WB("DocumentReference.set",e);try{return e?vte(this._delegate,t,e):vte(this._delegate,t)}catch(n){throw Rs(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?bte(this._delegate,t):bte(this._delegate,t,e,...n)}catch(r){throw Rs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function M4e(i){return Hv(yi(i.firestore,On),[new wv(i._key,er.none())])}(this._delegate)}onSnapshot(...t){const e=Mte(t),n=Ate(t,r=>new $x(this.firestore,new su(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return yte(this._delegate,e,n)}get(t){let e;return e="cache"===t?.source?function k4e(i){i=yi(i,Gn);const t=yi(i.firestore,On),e=yr(t),n=new Jh(t);return function H3e(i,t){const e=new ro;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(n=(0,ce.Z)(function*(o,s,a){try{const c=yield function(d,h){const p=He(d);return p.persistence.runTransaction("read document","readonly",g=>p.localDocuments.getDocument(g,h))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Te(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Pv(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield Vv(i),t,e);var n})),e.promise}(e,i._key).then(r=>new su(t,n,i._key,r,new pf(null!==r&&r.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===t?.source?function T4e(i){i=yi(i,Gn);const t=yi(i.firestore,On);return jee(yr(t),i._key,{source:"server"}).then(e=>UB(t,i,e))}(this._delegate):function E4e(i){i=yi(i,Gn);const t=yi(i.firestore,On);return jee(yr(t),i._key).then(e=>UB(t,i,e))}(this._delegate),e.then(n=>new $x(this.firestore,new su(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new dc(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}function Rs(i,t,e){return i.message=i.message.replace(t,e),i}function Mte(i){for(const t of i)if("object"==typeof t&&!$B(t))return t;return{}}function Ate(i,t){var e,n;let r;return r=$B(i[0])?i[0]:$B(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(n=r.complete)||void 0===n?void 0:n.bind(r)}}class $x{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new dc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return _te(this._delegate,t._delegate)}}class Gx extends $x{data(t){const e=this._delegate.data(t);return this._delegate._converter||function $Le(i,t){i||ot()}(void 0!==e),e}}class Ps{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new JS(t)}where(t,e,n){try{return new Ps(this.firestore,Qh(this._delegate,function m4e(i,t,e){const n=t,r=qS("where",i);return Ux._create(r,n,e)}(t,e,n)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ps(this.firestore,Qh(this._delegate,function p4e(i,t="asc"){const e=t,n=qS("orderBy",i);return zB._create(n,e)}(t,e)))}catch(n){throw Rs(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ps(this.firestore,Qh(this._delegate,function f4e(i){return Kee("limit",i),YS._create("limit",i,"F")}(t)))}catch(e){throw Rs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ps(this.firestore,Qh(this._delegate,function g4e(i){return Kee("limitToLast",i),YS._create("limitToLast",i,"L")}(t)))}catch(e){throw Rs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ps(this.firestore,Qh(this._delegate,function _4e(...i){return ZS._create("startAt",i,!0)}(...t)))}catch(e){throw Rs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ps(this.firestore,Qh(this._delegate,function v4e(...i){return ZS._create("startAfter",i,!1)}(...t)))}catch(e){throw Rs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ps(this.firestore,Qh(this._delegate,function b4e(...i){return KS._create("endBefore",i,!1)}(...t)))}catch(e){throw Rs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ps(this.firestore,Qh(this._delegate,function y4e(...i){return KS._create("endAt",i,!0)}(...t)))}catch(e){throw Rs(e,"endAt()","Query.endAt()")}}isEqual(t){return MB(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function I4e(i){i=yi(i,zo);const t=yi(i.firestore,On),e=yr(t),n=new Jh(t);return function U3e(i,t){const e=new ro;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(n=(0,ce.Z)(function*(o,s,a){try{const c=yield MS(o,s,!0),l=new Aee(s,c.hs),d=l.ha(c.documents),h=l.applyChanges(d,!1);a.resolve(h.snapshot)}catch(c){const l=Pv(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield Vv(i),t,e);var n})),e.promise}(e,i._query).then(r=>new Xh(t,n,i,r))}(this._delegate):"server"===t?.source?function S4e(i){i=yi(i,zo);const t=yi(i.firestore,On),e=yr(t),n=new Jh(t);return Wee(e,i._query,{source:"server"}).then(r=>new Xh(t,n,i,r))}(this._delegate):function D4e(i){i=yi(i,zo);const t=yi(i.firestore,On),e=yr(t),n=new Jh(t);return ute(i._query),Wee(e,i._query).then(r=>new Xh(t,n,i,r))}(this._delegate),e.then(n=>new GB(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){const e=Mte(t),n=Ate(t,r=>new GB(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return yte(this._delegate,e,n)}withConverter(t){return new Ps(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}class tze{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Gx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GB{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Gx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new tze(this._firestore,e))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new Gx(this._firestore,n))})}isEqual(t){return _te(this._delegate,t._delegate)}}class Uv extends Ps{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new dc(this.firestore,t):null}doc(t){try{return new dc(this.firestore,void 0===t?HS(this._delegate):HS(this._delegate,t))}catch(e){throw Rs(e,"doc()","CollectionReference.doc()")}}add(t){return function A4e(i,t){const e=yi(i.firestore,On),n=HS(i),r=QS(i.converter,t);return Hv(e,[WS(hf(i.firestore),"addDoc",n._key,r,null!==i.converter,{}).toMutation(n._key,er.exists(!1))]).then(()=>n)}(this._delegate,t).then(e=>new dc(this.firestore,e))}isEqual(t){return ete(this._delegate,t._delegate)}withConverter(t){return new Uv(this.firestore,this._delegate.withConverter(t?ff.getInstance(this.firestore,t):null))}}function gf(i){return yi(i,Gn)}class qB{constructor(...t){this._delegate=new ou(...t)}static documentId(){return new qB(Wn.keyField().canonicalString())}isEqual(t){return(t=(0,R.m9)(t))instanceof ou&&this._delegate._internalPath.isEqual(t._internalPath)}}class _f{constructor(t){this._delegate=t}static serverTimestamp(){const t=function $4e(){return new RB("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new _f(t)}static delete(){const t=function W4e(){return new Vx("deleteField")}();return t._methodName="FieldValue.delete",new _f(t)}static arrayUnion(...t){const e=function G4e(...i){return new PB("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new _f(e)}static arrayRemove(...t){const e=function q4e(...i){return new OB("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new _f(e)}static increment(t){const e=function Y4e(i){return new NB("increment",i)}(t);return e._methodName="FieldValue.increment",new _f(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ize={Firestore:Dte,GeoPoint:US,Timestamp:Jn,Blob:Wx,Transaction:Ite,WriteBatch:Ste,DocumentReference:dc,DocumentSnapshot:$x,Query:Ps,QueryDocumentSnapshot:Gx,QuerySnapshot:GB,CollectionReference:Uv,FieldPath:qB,FieldValue:_f,setLogLevel:function eze(i){!function WLe(i){Nh.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Rte(i,t){return function oze(i,t=tp){return new zt(e=>{let n;return null!=t?t.schedule(()=>{n=i.onSnapshot({includeMetadataChanges:!0},e)}):n=i.onSnapshot({includeMetadataChanges:!0},e),()=>{n?.()}})}(i,t)}function YB(i,t){return Rte(i,t).pipe(Le(e=>({payload:e,type:"query"})))}!function rze(i){(function nze(i,t){i.INTERNAL.registerComponent(new Md.wA("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},ize)))})(i,(t,e)=>new Dte(t,e,new J4e)),i.registerVersion("@firebase/firestore-compat","0.3.24")}(Sd.Z);class Pte{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:o}=Bte(n,e);return new Fte(r,o,this.afs)}snapshotChanges(){return function sze(i,t){return Rte(i,t).pipe(Es(void 0),zF(),Le(e=>{const[n,r]=e;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(t={}){return this.snapshotChanges().pipe(Le(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return j(this.ref.get(t)).pipe(to)}}function eM(i,t){return YB(i,t).pipe(Es(void 0),zF(),Le(e=>{const[n,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(h=>h.doc.ref.isEqual(a.ref)),d=n?.payload.docs.find(h=>h.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function Ote(i,t,e){return eM(i,e).pipe(Zg((n,r)=>function aze(i,t,e){return t.forEach(n=>{e.indexOf(n.type)>-1&&(i=function cze(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return ZB(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ZB(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ZB(i,t.oldIndex,1)}return i}(i,n))}),i}(n,r.map(o=>o.payload),t),[]),Ki(),Le(n=>n.map(r=>({type:r.type,payload:r}))))}function ZB(i,t,e,...n){const r=i.slice();return r.splice(t,e,...n),r}function Nte(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Fte{ref;query;afs;constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=eM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Le(n=>n.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Es(void 0),zF(),Vn(([n,r])=>r.length>0||!n),Le(([,n])=>n),to)}auditTrail(t){return this.stateChanges(t).pipe(Zg((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=Nte(t);return Ote(this.query,e,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(t={}){return YB(this.query,this.afs.schedulers.outsideAngular).pipe(Le(e=>e.payload.docs.map(n=>t.idField?{...n.data(),[t.idField]:n.id}:n.data())),to)}get(t){return j(this.query.get(t)).pipe(to)}add(t){return this.ref.add(t)}doc(t){return new Pte(this.ref.doc(t),this.afs)}}class lze{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?eM(this.query,this.afs.schedulers.outsideAngular).pipe(Le(e=>e.filter(n=>t.indexOf(n.type)>-1)),Vn(e=>e.length>0),to):eM(this.query,this.afs.schedulers.outsideAngular).pipe(to)}auditTrail(t){return this.stateChanges(t).pipe(Zg((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=Nte(t);return Ote(this.query,e,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(t={}){return YB(this.query,this.afs.schedulers.outsideAngular).pipe(Le(n=>n.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),to)}get(t){return j(this.query.get(t)).pipe(to)}}const Lte=new Y("angularfire2.enableFirestorePersistence"),Vte=new Y("angularfire2.firestore.persistenceSettings"),dze=new Y("angularfire2.firestore.settings"),uze=new Y("angularfire2.firestore.use-emulator");function Bte(i,t=(e=>e)){return{query:t(i),ref:i}}let hze=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(e,n,r,o,s,a,c,l,d,h,p,g,b,w,x,S,D){this.schedulers=c;const M=Zk(e,a,n),L=d;h&&kP(M,a,p,b,w,x,g,S),[this.firestore,this.persistenceEnabled$]=_P(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const z=a.runOutsideAngular(()=>M.firestore());if(o&&z.settings(o),L&&z.useEmulator(...L),r&&!wk(s)){const Z=()=>{try{return j(z.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(ue){return typeof console<"u"&&console.warn(ue),ae(!1)}};return[z,a.runOutsideAngular(Z)]}return[z,ae(!1)]},[o,L,r])}collection(e,n){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=Bte(r,n),a=this.schedulers.ngZone.run(()=>o);return new Fte(a,s,this)}collectionGroup(e,n){const r=n||(s=>s),o=this.firestore.collectionGroup(e);return new lze(r(o),this)}doc(e){let n;n="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>n);return new Pte(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||i)(W(Qy),W(Xy,8),W(Lte,8),W(dze,8),W(Ya),W(Ke),W(gP),W(Vte,8),W(uze,8),W(Kk,8),W(bP,8),W(yP,8),W(wP,8),W(xP,8),W(CP,8),W(EP,8),W(fP,8))};static \u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),mze=(()=>{class i{constructor(){Sd.Z.registerVersion("angularfire",pP.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:Lte,useValue:!0},{provide:Vte,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Ne({providers:[hze]})}return i})();const pze_firebase={apiKey:"AIzaSyDC4RoIxtD36gbhFYJeCGEPFXgqDbhk2Cw",authDomain:"test-esp32-14072.firebaseapp.com",databaseURL:"https://test-esp32-14072-default-rtdb.firebaseio.com",projectId:"test-esp32-14072",storageBucket:"test-esp32-14072.appspot.com",messagingSenderId:"470419016740",appId:"1:470419016740:web:f950edccc4f33051459cb1",measurementId:"G-NJQVTT4EGV"};class vf extends Error{}class fze extends vf{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class gze extends vf{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class _ze extends vf{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class jv extends vf{}class zte extends vf{constructor(t){super(`Invalid unit ${t}`)}}class na extends vf{}class tm extends vf{constructor(){super("Zone is an abstract class")}}const Ge="numeric",Fc="short",Ra="long",tM={year:Ge,month:Ge,day:Ge},Hte={year:Ge,month:Fc,day:Ge},vze={year:Ge,month:Fc,day:Ge,weekday:Fc},Ute={year:Ge,month:Ra,day:Ge},jte={year:Ge,month:Ra,day:Ge,weekday:Ra},Wte={hour:Ge,minute:Ge},$te={hour:Ge,minute:Ge,second:Ge},Gte={hour:Ge,minute:Ge,second:Ge,timeZoneName:Fc},qte={hour:Ge,minute:Ge,second:Ge,timeZoneName:Ra},Yte={hour:Ge,minute:Ge,hourCycle:"h23"},Zte={hour:Ge,minute:Ge,second:Ge,hourCycle:"h23"},Kte={hour:Ge,minute:Ge,second:Ge,hourCycle:"h23",timeZoneName:Fc},Qte={hour:Ge,minute:Ge,second:Ge,hourCycle:"h23",timeZoneName:Ra},Xte={year:Ge,month:Ge,day:Ge,hour:Ge,minute:Ge},Jte={year:Ge,month:Ge,day:Ge,hour:Ge,minute:Ge,second:Ge},eie={year:Ge,month:Fc,day:Ge,hour:Ge,minute:Ge},tie={year:Ge,month:Fc,day:Ge,hour:Ge,minute:Ge,second:Ge},bze={year:Ge,month:Fc,day:Ge,weekday:Fc,hour:Ge,minute:Ge},iie={year:Ge,month:Ra,day:Ge,hour:Ge,minute:Ge,timeZoneName:Fc},nie={year:Ge,month:Ra,day:Ge,hour:Ge,minute:Ge,second:Ge,timeZoneName:Fc},rie={year:Ge,month:Ra,day:Ge,weekday:Ra,hour:Ge,minute:Ge,timeZoneName:Ra},oie={year:Ge,month:Ra,day:Ge,weekday:Ra,hour:Ge,minute:Ge,second:Ge,timeZoneName:Ra};class qx{get type(){throw new tm}get name(){throw new tm}get ianaName(){return this.name}get isUniversal(){throw new tm}offsetName(t,e){throw new tm}formatOffset(t,e){throw new tm}offset(t){throw new tm}equals(t){throw new tm}get isValid(){throw new tm}}let KB=null;class iM extends qx{static get instance(){return null===KB&&(KB=new iM),KB}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return Sie(t,e,n)}formatOffset(t,e){return Qx(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let nM={};const wze={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let rM={};class au extends qx{static create(t){return rM[t]||(rM[t]=new au(t)),rM[t]}static resetCache(){rM={},nM={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=au.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return Sie(t,e,n,this.name)}formatOffset(t,e){return Qx(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const n=function yze(i){return nM[i]||(nM[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),nM[i]}(this.name);let[r,o,s,a,c,l,d]=n.formatToParts?function Cze(i,t){const e=i.formatToParts(t),n=[];for(let r=0;r<e.length;r++){const{type:o,value:s}=e[r],a=wze[o];"era"===o?n[a]=s:qt(a)||(n[a]=parseInt(s,10))}return n}(n,e):function xze(i,t){const e=i.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,o,s,a,c,l,d]=n;return[s,r,o,a,c,l,d]}(n,e);"BC"===a&&(r=1-Math.abs(r));let g=+e;const b=g%1e3;return g-=b>=0?b:1e3+b,(lM({year:r,month:o,day:s,hour:24===c?0:c,minute:l,second:d,millisecond:0})-g)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let sie={},QB={};function XB(i,t={}){const e=JSON.stringify([i,t]);let n=QB[e];return n||(n=new Intl.DateTimeFormat(i,t),QB[e]=n),n}let JB={},e3={},Yx=null,aie={};function oM(i,t,e,n){const r=i.listingMode();return"error"===r?null:"en"===r?e(t):n(t)}class Oze{constructor(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...s}=n;if(!e||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function kze(i,t={}){const e=JSON.stringify([i,t]);let n=JB[e];return n||(n=new Intl.NumberFormat(i,t),JB[e]=n),n}(t,a)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return $r(this.floor?Math.floor(t):c3(t,3),this.padTo)}}class Nze{constructor(t,e,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const s=t.offset/60*-1,a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;0!==t.offset&&au.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=XB(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if("timeZoneName"===e.type){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:n}}return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Fze{constructor(t,e,n){this.opts={style:"long",...n},!e&&kie()&&(this.rtf=function Tze(i,t={}){const{base:e,...n}=t,r=JSON.stringify([i,n]);let o=e3[r];return o||(o=new Intl.RelativeTimeFormat(i,t),e3[r]=o),o}(t,n))}format(t,e){return this.rtf?this.rtf.format(t,e):function iHe(i,t,e="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(i);if("auto"===e&&o){const h="days"===i;switch(t){case 1:return h?"tomorrow":`next ${r[i][0]}`;case-1:return h?"yesterday":`last ${r[i][0]}`;case 0:return h?"today":`this ${r[i][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,l=r[i],d=n?c?l[1]:l[2]||l[1]:c?r[i][0]:i;return s?`${a} ${d} ago`:`in ${a} ${d}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const Lze={firstDay:1,minimalDays:4,weekend:[6,7]};class pn{static fromOpts(t){return pn.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,n,r,o=!1){const s=t||Rr.defaultLocale,a=s||(o?"en-US":function Dze(){return Yx||(Yx=(new Intl.DateTimeFormat).resolvedOptions().locale,Yx)}()),c=e||Rr.defaultNumberingSystem,l=n||Rr.defaultOutputCalendar,d=s3(r)||Rr.defaultWeekSettings;return new pn(a,c,l,d,s)}static resetCache(){Yx=null,QB={},JB={},e3={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:n,weekSettings:r}={}){return pn.create(t,e,n,r)}constructor(t,e,n,r,o){const[s,a,c]=function Sze(i){const t=i.indexOf("-x-");-1!==t&&(i=i.substring(0,t));const e=i.indexOf("-u-");if(-1===e)return[i];{let n,r;try{n=XB(i).resolvedOptions(),r=i}catch{const c=i.substring(0,e);n=XB(c).resolvedOptions(),r=c}const{numberingSystem:o,calendar:s}=n;return[r,o,s]}}(t);this.locale=s,this.numberingSystem=e||a||null,this.outputCalendar=n||c||null,this.weekSettings=r,this.intl=function Mze(i,t,e){return(e||t)&&(i.includes("-u-")||(i+="-u"),e&&(i+=`-ca-${e}`),t&&(i+=`-nu-${t}`)),i}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Pze(i){return(!i.numberingSystem||"latn"===i.numberingSystem)&&("latn"===i.numberingSystem||!i.locale||i.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?pn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,s3(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return oM(this,t,Rie,()=>{const n=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=function Aze(i){const t=[];for(let e=1;e<=12;e++){const n=Wt.utc(2009,e,1);t.push(i(n))}return t}(o=>this.extract(o,n,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1){return oM(this,t,Nie,()=>{const n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=function Rze(i){const t=[];for(let e=1;e<=7;e++){const n=Wt.utc(2016,11,13+e);t.push(i(n))}return t}(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return oM(this,void 0,()=>Fie,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Wt.utc(2016,11,13,9),Wt.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return oM(this,t,Lie,()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[Wt.utc(-40,1,1),Wt.utc(2017,1,1)].map(n=>this.extract(n,e,"era"))),this.eraCache[t]})}extract(t,e,n){const s=this.dtFormatter(t,e).formatToParts().find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(t={}){return new Oze(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new Nze(t,this.intl,e)}relFormatter(t={}){return new Fze(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function Eze(i,t={}){const e=JSON.stringify([i,t]);let n=sie[e];return n||(n=new Intl.ListFormat(i,t),sie[e]=n),n}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Tie()?function Ize(i){let t=aie[i];if(!t){const e=new Intl.Locale(i);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,aie[i]=t}return t}(this.locale):Lze}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let t3=null;class Os extends qx{static get utcInstance(){return null===t3&&(t3=new Os(0)),t3}static instance(t){return 0===t?Os.utcInstance:new Os(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Os(dM(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Qx(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Qx(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return Qx(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class Vze extends qx{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function im(i,t){if(qt(i)||null===i)return t;if(i instanceof qx)return i;if(function Hze(i){return"string"==typeof i}(i)){const n=i.toLowerCase();return"default"===n?t:"local"===n||"system"===n?iM.instance:"utc"===n||"gmt"===n?Os.utcInstance:Os.parseSpecifier(n)||au.create(i)}return bf(i)?Os.instance(i):"object"==typeof i&&"offset"in i&&"function"==typeof i.offset?i:new Vze(i)}let pie,cie=()=>Date.now(),lie="system",die=null,uie=null,hie=null,mie=60,fie=null;class Rr{static get now(){return cie}static set now(t){cie=t}static set defaultZone(t){lie=t}static get defaultZone(){return im(lie,iM.instance)}static get defaultLocale(){return die}static set defaultLocale(t){die=t}static get defaultNumberingSystem(){return uie}static set defaultNumberingSystem(t){uie=t}static get defaultOutputCalendar(){return hie}static set defaultOutputCalendar(t){hie=t}static get defaultWeekSettings(){return fie}static set defaultWeekSettings(t){fie=s3(t)}static get twoDigitCutoffYear(){return mie}static set twoDigitCutoffYear(t){mie=t%100}static get throwOnInvalid(){return pie}static set throwOnInvalid(t){pie=t}static resetCaches(){pn.resetCache(),au.resetCache()}}class Lc{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gie=[0,31,59,90,120,151,181,212,243,273,304,334],_ie=[0,31,60,91,121,152,182,213,244,274,305,335];function uc(i,t){return new Lc("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${i}, which is invalid`)}function n3(i,t,e){const n=new Date(Date.UTC(i,t-1,e));i<100&&i>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function vie(i,t,e){return e+(Zx(i)?_ie:gie)[t-1]}function bie(i,t){const e=Zx(i)?_ie:gie,n=e.findIndex(o=>o<t);return{month:n+1,day:t-e[n]}}function r3(i,t){return(i-t+7)%7+1}function sM(i,t=4,e=1){const{year:n,month:r,day:o}=i,s=vie(n,r,o),a=r3(n3(n,r,o),e);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=n-1,c=Kx(l,t,e)):c>Kx(n,t,e)?(l=n+1,c=1):l=n,{weekYear:l,weekNumber:c,weekday:a,...hM(i)}}function yie(i,t=4,e=1){const{weekYear:n,weekNumber:r,weekday:o}=i,s=r3(n3(n,1,t),e),a=$v(n);let l,c=7*r+o-s-7+t;c<1?(l=n-1,c+=$v(l)):c>a?(l=n+1,c-=$v(n)):l=n;const{month:d,day:h}=bie(l,c);return{year:l,month:d,day:h,...hM(i)}}function o3(i){const{year:t,month:e,day:n}=i;return{year:t,ordinal:vie(t,e,n),...hM(i)}}function wie(i){const{year:t,ordinal:e}=i,{month:n,day:r}=bie(t,e);return{year:t,month:n,day:r,...hM(i)}}function xie(i,t){if(qt(i.localWeekday)&&qt(i.localWeekNumber)&&qt(i.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!qt(i.weekday)||!qt(i.weekNumber)||!qt(i.weekYear))throw new jv("Cannot mix locale-based week fields with ISO-based week fields");return qt(i.localWeekday)||(i.weekday=i.localWeekday),qt(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),qt(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function Cie(i){const t=aM(i.year),e=hc(i.month,1,12),n=hc(i.day,1,cM(i.year,i.month));return t?e?!n&&uc("day",i.day):uc("month",i.month):uc("year",i.year)}function Eie(i){const{hour:t,minute:e,second:n,millisecond:r}=i,o=hc(t,0,23)||24===t&&0===e&&0===n&&0===r,s=hc(e,0,59),a=hc(n,0,59),c=hc(r,0,999);return o?s?a?!c&&uc("millisecond",r):uc("second",n):uc("minute",e):uc("hour",t)}function qt(i){return typeof i>"u"}function bf(i){return"number"==typeof i}function aM(i){return"number"==typeof i&&i%1==0}function kie(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Tie(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Die(i,t,e){if(0!==i.length)return i.reduce((n,r)=>{const o=[t(r),r];return n&&e(n[0],o[0])===n[0]?n:o},null)[1]}function Wv(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function s3(i){if(null==i)return null;if("object"!=typeof i)throw new na("Week settings must be an object");if(!hc(i.firstDay,1,7)||!hc(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(t=>!hc(t,1,7)))throw new na("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function hc(i,t,e){return aM(i)&&i>=t&&i<=e}function $r(i,t=2){let n;return n=i<0?"-"+(""+-i).padStart(t,"0"):(""+i).padStart(t,"0"),n}function nm(i){if(!qt(i)&&null!==i&&""!==i)return parseInt(i,10)}function yf(i){if(!qt(i)&&null!==i&&""!==i)return parseFloat(i)}function a3(i){if(!qt(i)&&null!==i&&""!==i){const t=1e3*parseFloat("0."+i);return Math.floor(t)}}function c3(i,t,e=!1){const n=10**t;return(e?Math.trunc:Math.round)(i*n)/n}function Zx(i){return i%4==0&&(i%100!=0||i%400==0)}function $v(i){return Zx(i)?366:365}function cM(i,t){const e=function $ze(i,t){return i-t*Math.floor(i/t)}(t-1,12)+1;return 2===e?Zx(i+(t-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function lM(i){let t=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(t=new Date(t),t.setUTCFullYear(i.year,i.month-1,i.day)),+t}function Iie(i,t,e){return-r3(n3(i,1,t),e)+t-1}function Kx(i,t=4,e=1){const n=Iie(i,t,e),r=Iie(i+1,t,e);return($v(i)-n+r)/7}function l3(i){return i>99?i:i>Rr.twoDigitCutoffYear?1900+i:2e3+i}function Sie(i,t,e,n=null){const r=new Date(i),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(e,s).formatToParts(r).find(c=>"timezonename"===c.type.toLowerCase());return a?a.value:null}function dM(i,t){let e=parseInt(i,10);Number.isNaN(e)&&(e=0);const n=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-n:n)}function Mie(i){const t=Number(i);if("boolean"==typeof i||""===i||Number.isNaN(t))throw new na(`Invalid unit value ${i}`);return t}function uM(i,t){const e={};for(const n in i)if(Wv(i,n)){const r=i[n];if(null==r)continue;e[t(n)]=Mie(r)}return e}function Qx(i,t){const e=Math.trunc(Math.abs(i/60)),n=Math.trunc(Math.abs(i%60)),r=i>=0?"+":"-";switch(t){case"short":return`${r}${$r(e,2)}:${$r(n,2)}`;case"narrow":return`${r}${e}${n>0?`:${n}`:""}`;case"techie":return`${r}${$r(e,2)}${$r(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function hM(i){return function Wze(i,t){return t.reduce((e,n)=>(e[n]=i[n],e),{})}(i,["hour","minute","second","millisecond"])}const Gze=["January","February","March","April","May","June","July","August","September","October","November","December"],Aie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qze=["J","F","M","A","M","J","J","A","S","O","N","D"];function Rie(i){switch(i){case"narrow":return[...qze];case"short":return[...Aie];case"long":return[...Gze];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Pie=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Oie=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Yze=["M","T","W","T","F","S","S"];function Nie(i){switch(i){case"narrow":return[...Yze];case"short":return[...Oie];case"long":return[...Pie];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Fie=["AM","PM"],Zze=["Before Christ","Anno Domini"],Kze=["BC","AD"],Qze=["B","A"];function Lie(i){switch(i){case"narrow":return[...Qze];case"short":return[...Kze];case"long":return[...Zze];default:return null}}function Vie(i,t){let e="";for(const n of i)e+=n.literal?n.val:t(n.val);return e}const nHe={D:tM,DD:Hte,DDD:Ute,DDDD:jte,t:Wte,tt:$te,ttt:Gte,tttt:qte,T:Yte,TT:Zte,TTT:Kte,TTTT:Qte,f:Xte,ff:eie,fff:iie,ffff:rie,F:Jte,FF:tie,FFF:nie,FFFF:oie};class is{static create(t,e={}){return new is(t,e)}static parseFormat(t){let e=null,n="",r=!1;const o=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);"'"===a?(n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),e=null,n="",r=!r):r||a===e?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,e=a)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return nHe[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return $r(t,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,e){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(g,b)=>this.loc.extract(t,g,b),s=g=>t.isOffsetFixed&&0===t.offset&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",c=(g,b)=>n?function eHe(i,t){return Rie(t)[i.month-1]}(t,g):o(b?{month:g}:{month:g,day:"numeric"},"month"),l=(g,b)=>n?function Jze(i,t){return Nie(t)[i.weekday-1]}(t,g):o(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),d=g=>{const b=is.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},h=g=>n?function tHe(i,t){return Lie(t)[i.year<0?0:1]}(t,g):o({era:g},"era");return Vie(is.parseFormat(e),g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return n?function Xze(i){return Fie[i.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(t.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(t.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(t.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(g)}})}formatDurationFromString(t,e){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=is.parseFormat(e),s=o.reduce((c,{literal:l,val:d})=>l?c:c.concat(d),[]);return Vie(o,(c=>l=>{const d=n(l);return d?this.num(c.get(d),l.length):l})(t.shiftTo(...s.map(n).filter(c=>c))))}}const Bie=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Gv(...i){const t=i.reduce((e,n)=>e+n.source,"");return RegExp(`^${t}$`)}function qv(...i){return t=>i.reduce(([e,n,r],o)=>{const[s,a,c]=o(t,r);return[{...e,...s},a||n,c]},[{},null,1]).slice(0,2)}function Yv(i,...t){if(null==i)return[null,null];for(const[e,n]of t){const r=e.exec(i);if(r)return n(r)}return[null,null]}function zie(...i){return(t,e)=>{const n={};let r;for(r=0;r<i.length;r++)n[i[r]]=nm(t[e+r]);return[n,null,e+r]}}const Hie=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,d3=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Uie=RegExp(`${d3.source}(?:${Hie.source}?(?:\\[(${Bie.source})\\])?)?`),u3=RegExp(`(?:T${Uie.source})?`),cHe=zie("weekYear","weekNumber","weekDay"),lHe=zie("year","ordinal"),jie=RegExp(`${d3.source} ?(?:${Hie.source}|(${Bie.source}))?`),uHe=RegExp(`(?: ${jie.source})?`);function Zv(i,t,e){const n=i[t];return qt(n)?e:nm(n)}function Kv(i,t){return[{hours:Zv(i,t,0),minutes:Zv(i,t+1,0),seconds:Zv(i,t+2,0),milliseconds:a3(i[t+3])},null,t+4]}function Xx(i,t){const e=!i[t]&&!i[t+1],n=dM(i[t+1],i[t+2]);return[{},e?null:Os.instance(n),t+3]}function Jx(i,t){return[{},i[t]?au.create(i[t]):null,t+1]}const mHe=RegExp(`^T?${d3.source}$`),pHe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function fHe(i){const[t,e,n,r,o,s,a,c,l]=i,d="-"===t[0],h=c&&"-"===c[0],p=(g,b=!1)=>void 0!==g&&(b||g&&d)?-g:g;return[{years:p(yf(e)),months:p(yf(n)),weeks:p(yf(r)),days:p(yf(o)),hours:p(yf(s)),minutes:p(yf(a)),seconds:p(yf(c),"-0"===c),milliseconds:p(a3(l),h)}]}const gHe={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function h3(i,t,e,n,r,o,s){const a={year:2===t.length?l3(nm(t)):nm(t),month:Aie.indexOf(e)+1,day:nm(n),hour:nm(r),minute:nm(o)};return s&&(a.second=nm(s)),i&&(a.weekday=i.length>3?Pie.indexOf(i)+1:Oie.indexOf(i)+1),a}const _He=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function vHe(i){const[,t,e,n,r,o,s,a,c,l,d,h]=i,p=h3(t,r,n,e,o,s,a);let g;return g=c?gHe[c]:l?0:dM(d,h),[p,new Os(g)]}const yHe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,wHe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,xHe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Wie(i){const[,t,e,n,r,o,s,a]=i;return[h3(t,r,n,e,o,s,a),Os.utcInstance]}function CHe(i){const[,t,e,n,r,o,s,a]=i;return[h3(t,a,e,n,r,o,s),Os.utcInstance]}const EHe=Gv(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,u3),kHe=Gv(/(\d{4})-?W(\d\d)(?:-?(\d))?/,u3),THe=Gv(/(\d{4})-?(\d{3})/,u3),DHe=Gv(Uie),$ie=qv(function hHe(i,t){return[{year:Zv(i,t),month:Zv(i,t+1,1),day:Zv(i,t+2,1)},null,t+3]},Kv,Xx,Jx),IHe=qv(cHe,Kv,Xx,Jx),SHe=qv(lHe,Kv,Xx,Jx),MHe=qv(Kv,Xx,Jx),NHe=qv(Kv),LHe=Gv(/(\d{4})-(\d\d)-(\d\d)/,uHe),VHe=Gv(jie),BHe=qv(Kv,Xx,Jx),Gie="Invalid Duration",qie={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},HHe={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...qie},mc=365.2425,Qv=30.436875,UHe={years:{quarters:4,months:12,weeks:mc/7,days:mc,hours:24*mc,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:mc/28,days:mc/4,hours:24*mc/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Qv/7,days:Qv,hours:24*Qv,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...qie},wf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],jHe=wf.slice(0).reverse();function rm(i,t,e=!1){const n={values:e?t.values:{...i.values,...t.values||{}},loc:i.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||i.conversionAccuracy,matrix:t.matrix||i.matrix};return new Ni(n)}function Yie(i,t){let e=t.milliseconds??0;for(const n of jHe.slice(1))t[n]&&(e+=t[n]*i[n].milliseconds);return e}function Zie(i,t){const e=Yie(i,t)<0?-1:1;wf.reduceRight((n,r)=>{if(qt(t[r]))return n;if(n){const s=i[r][n],a=Math.floor(t[n]*e/s);t[r]+=a*e,t[n]-=a*s*e}return r},null),wf.reduce((n,r)=>{if(qt(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*i[n][r]}return r},null)}class Ni{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let n=e?UHe:HHe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||pn.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,e){return Ni.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new na("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Ni({values:uM(t,Ni.normalizeUnit),loc:pn.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(bf(t))return Ni.fromMillis(t);if(Ni.isDuration(t))return t;if("object"==typeof t)return Ni.fromObject(t);throw new na(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[n]=function OHe(i){return Yv(i,[pHe,fHe])}(t);return n?Ni.fromObject(n,e):Ni.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[n]=function FHe(i){return Yv(i,[mHe,NHe])}(t);return n?Ni.fromObject(n,e):Ni.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new na("need to specify a reason the Duration is invalid");const n=t instanceof Lc?t:new Lc(t,e);if(Rr.throwOnInvalid)throw new _ze(n);return new Ni({invalid:n})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new zte(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?is.create(this.loc,n).formatDurationFromString(this,t):Gie}toHuman(t={}){if(!this.isValid)return Gie;const e=wf.map(n=>{const r=this.values[n];return qt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=c3(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Wt.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Yie(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Ni.fromDurationLike(t),n={};for(const r of wf)(Wv(e.values,r)||Wv(this.values,r))&&(n[r]=e.get(r)+this.get(r));return rm(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const e=Ni.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=Mie(t(this.values[n],n));return rm(this,{values:e},!0)}get(t){return this[Ni.normalizeUnit(t)]}set(t){return this.isValid?rm(this,{values:{...this.values,...uM(t,Ni.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:n,matrix:r}={}){return rm(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:n})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Zie(this.matrix,t),rm(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=function WHe(i){const t={};for(const[e,n]of Object.entries(i))0!==n&&(t[e]=n);return t}(this.normalize().shiftToAll().toObject());return rm(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(s=>Ni.normalizeUnit(s));const e={},n={},r=this.toObject();let o;for(const s of wf)if(t.indexOf(s)>=0){o=s;let a=0;for(const l in n)a+=this.matrix[l][s]*n[l],n[l]=0;bf(r[s])&&(a+=r[s]);const c=Math.trunc(a);e[s]=c,n[s]=(1e3*a-1e3*c)/1e3}else bf(r[s])&&(n[s]=r[s]);for(const s in n)0!==n[s]&&(e[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return Zie(this.matrix,e),rm(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return rm(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(n,r){return void 0===n||0===n?void 0===r||0===r:n===r}for(const n of wf)if(!e(this.values[n],t.values[n]))return!1;return!0}}const Xv="Invalid Interval";class wr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new na("need to specify a reason the Interval is invalid");const n=t instanceof Lc?t:new Lc(t,e);if(Rr.throwOnInvalid)throw new gze(n);return new wr({invalid:n})}static fromDateTimes(t,e){const n=tC(t),r=tC(e),o=function $He(i,t){return i&&i.isValid?t&&t.isValid?t<i?wr.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${t.toISO()}`):null:wr.invalid("missing or invalid end"):wr.invalid("missing or invalid start")}(n,r);return o??new wr({start:n,end:r})}static after(t,e){const n=Ni.fromDurationLike(e),r=tC(t);return wr.fromDateTimes(r,r.plus(n))}static before(t,e){const n=Ni.fromDurationLike(e),r=tC(t);return wr.fromDateTimes(r.minus(n),r)}static fromISO(t,e){const[n,r]=(t||"").split("/",2);if(n&&r){let o,s,a,c;try{o=Wt.fromISO(n,e),s=o.isValid}catch{s=!1}try{a=Wt.fromISO(r,e),c=a.isValid}catch{c=!1}if(s&&c)return wr.fromDateTimes(o,a);if(s){const l=Ni.fromISO(r,e);if(l.isValid)return wr.after(o,l)}else if(c){const l=Ni.fromISO(n,e);if(l.isValid)return wr.before(a,l)}}return wr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(t,e);let r;return r=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(t,e),Math.floor(r.diff(n,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?wr.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(tC).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:r}=this,o=0;for(;r<this.e;){const s=e[o]||this.e,a=+s>+this.e?this.e:s;n.push(wr.fromDateTimes(r,a)),r=a,o+=1}return n}splitBy(t){const e=Ni.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let o,{s:n}=this,r=1;const s=[];for(;n<this.e;){const a=this.start.plus(e.mapUnits(c=>c*r));o=+a>+this.e?this.e:a,s.push(wr.fromDateTimes(n,o)),n=o,r+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return e>=n?null:wr.fromDateTimes(e,n)}union(t){return this.isValid?wr.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[e,n]=t.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return n&&e.push(n),e}static xor(t){let e=null,n=0;const r=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...o).sort((c,l)=>c.time-l.time);for(const c of a)n+="s"===c.type?1:-1,1===n?e=c.time:(e&&+e!=+c.time&&r.push(wr.fromDateTimes(e,c.time)),e=null);return wr.merge(r)}difference(...t){return wr.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Xv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=tM,e={}){return this.isValid?is.create(this.s.loc.clone(e),t).formatInterval(this):Xv}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Xv}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xv}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Xv}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Xv}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Ni.invalid(this.invalidReason)}mapEndpoints(t){return wr.fromDateTimes(t(this.s),t(this.e))}}class mM{static hasDST(t=Rr.defaultZone){const e=Wt.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return au.isValidZone(t)}static normalizeZone(t){return im(t,Rr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||pn.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||pn.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||pn.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||pn.create(e,n,o)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||pn.create(e,n,o)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||pn.create(e,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||pn.create(e,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return pn.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return pn.create(e,null,"gregory").eras(t)}static features(){return{relative:kie(),localeWeek:Tie()}}}function Kie(i,t){const e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=e(t)-e(i);return Math.floor(Ni.fromMillis(n).as("days"))}const m3={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Qie={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},YHe=m3.hanidec.replace(/[\[|\]]/g,"").split("");function Vc({numberingSystem:i},t=""){return new RegExp(`${m3[i||"latn"]}${t}`)}function ji(i,t=(e=>e)){return{regex:i,deser:([e])=>t(function ZHe(i){let t=parseInt(i,10);if(isNaN(t)){t="";for(let e=0;e<i.length;e++){const n=i.charCodeAt(e);if(-1!==i[e].search(m3.hanidec))t+=YHe.indexOf(i[e]);else for(const r in Qie){const[o,s]=Qie[r];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(e))}}const Xie=`[ ${String.fromCharCode(160)}]`,Jie=new RegExp(Xie,"g");function QHe(i){return i.replace(/\./g,"\\.?").replace(Jie,Xie)}function ene(i){return i.replace(/\./g,"").replace(Jie," ").toLowerCase()}function Bc(i,t){return null===i?null:{regex:RegExp(i.map(QHe).join("|")),deser:([e])=>i.findIndex(n=>ene(e)===ene(n))+t}}function tne(i,t){return{regex:i,deser:([,e,n])=>dM(e,n),groups:t}}function pM(i){return{regex:i,deser:([t])=>t}}function XHe(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const e5e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let p3=null;function ine(i,t){return Array.prototype.concat(...i.map(e=>function s5e(i,t){if(i.literal)return i;const n=rne(is.macroTokenToFormatOpts(i.val),t);return null==n||n.includes(void 0)?i:n}(e,t)))}function nne(i,t,e){const n=ine(is.parseFormat(e),i),r=n.map(s=>function JHe(i,t){const e=Vc(t),n=Vc(t,"{2}"),r=Vc(t,"{3}"),o=Vc(t,"{4}"),s=Vc(t,"{6}"),a=Vc(t,"{1,2}"),c=Vc(t,"{1,3}"),l=Vc(t,"{1,6}"),d=Vc(t,"{1,9}"),h=Vc(t,"{2,4}"),p=Vc(t,"{4,6}"),g=x=>({regex:RegExp(XHe(x.val)),deser:([S])=>S,literal:!0}),w=(x=>{if(i.literal)return g(x);switch(x.val){case"G":return Bc(t.eras("short"),0);case"GG":return Bc(t.eras("long"),0);case"y":return ji(l);case"yy":case"kk":return ji(h,l3);case"yyyy":case"kkkk":return ji(o);case"yyyyy":return ji(p);case"yyyyyy":return ji(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ji(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ji(n);case"MMM":return Bc(t.months("short",!0),1);case"MMMM":return Bc(t.months("long",!0),1);case"LLL":return Bc(t.months("short",!1),1);case"LLLL":return Bc(t.months("long",!1),1);case"o":case"S":return ji(c);case"ooo":case"SSS":return ji(r);case"u":return pM(d);case"uu":return pM(a);case"uuu":case"E":case"c":return ji(e);case"a":return Bc(t.meridiems(),0);case"EEE":return Bc(t.weekdays("short",!1),1);case"EEEE":return Bc(t.weekdays("long",!1),1);case"ccc":return Bc(t.weekdays("short",!0),1);case"cccc":return Bc(t.weekdays("long",!0),1);case"Z":case"ZZ":return tne(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return tne(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return pM(/[a-z_+-/]{1,256}?/i);case" ":return pM(/[^\S\n\r]/);default:return g(x)}})(i)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return w.token=i,w}(s,i)),o=r.find(s=>s.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{const[s,a]=function i5e(i){return[`^${i.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,i]}(r),c=RegExp(s,"i"),[l,d]=function n5e(i,t,e){const n=i.match(t);if(n){const r={};let o=1;for(const s in e)if(Wv(e,s)){const a=e[s],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(o,o+c))),o+=c}return[n,r]}return[n,{}]}(t,c,a),[h,p,g]=d?function r5e(i){let n,e=null;return qt(i.z)||(e=au.create(i.z)),qt(i.Z)||(e||(e=new Os(i.Z)),n=i.Z),qt(i.q)||(i.M=3*(i.q-1)+1),qt(i.h)||(i.h<12&&1===i.a?i.h+=12:12===i.h&&0===i.a&&(i.h=0)),0===i.G&&i.y&&(i.y=-i.y),qt(i.u)||(i.S=a3(i.u)),[Object.keys(i).reduce((o,s)=>{const a=(o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(s);return a&&(o[a]=i[s]),o},{}),e,n]}(d):[null,null,void 0];if(Wv(d,"a")&&Wv(d,"H"))throw new jv("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:c,rawMatches:l,matches:d,result:h,zone:p,specificOffset:g}}}function rne(i,t){if(!i)return null;const n=is.create(t,i).dtFormatter(function o5e(){return p3||(p3=Wt.fromMillis(1555555555555)),p3}()),r=n.formatToParts(),o=n.resolvedOptions();return r.map(s=>function t5e(i,t,e){const{type:n,value:r}=i;if("literal"===n){const c=/^\s+$/.test(r);return{literal:!c,val:c?" ":r}}let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":e.hour12?"hour12":"hour24");let a=e5e[s];if("object"==typeof a&&(a=a[t[n]]),a)return{literal:!1,val:a}}(s,i,o))}const f3="Invalid DateTime",one=864e13;function fM(i){return new Lc("unsupported zone",`the zone "${i.name}" is not supported`)}function g3(i){return null===i.weekData&&(i.weekData=sM(i.c)),i.weekData}function _3(i){return null===i.localWeekData&&(i.localWeekData=sM(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function xf(i,t){const e={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Wt({...e,...t,old:e})}function sne(i,t,e){let n=i-60*t*1e3;const r=e.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const o=e.offset(n);return r===o?[n,r]:[i-60*Math.min(r,o)*1e3,Math.max(r,o)]}function gM(i,t){const e=new Date(i+=60*t*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function _M(i,t,e){return sne(lM(i),t,e)}function ane(i,t){const e=i.o,n=i.c.year+Math.trunc(t.years),r=i.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...i.c,year:n,month:r,day:Math.min(i.c.day,cM(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Ni.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=lM(o);let[c,l]=sne(a,e,i.zone);return 0!==s&&(c+=s,l=i.zone.offset(c)),{ts:c,o:l}}function eC(i,t,e,n,r,o){const{setZone:s,zone:a}=e;if(i&&0!==Object.keys(i).length||t){const c=t||a,l=Wt.fromObject(i,{...e,zone:c,specificOffset:o});return s?l:l.setZone(a)}return Wt.invalid(new Lc("unparsable",`the input "${r}" can't be parsed as ${n}`))}function vM(i,t,e=!0){return i.isValid?is.create(pn.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(i,t):null}function v3(i,t){const e=i.c.year>9999||i.c.year<0;let n="";return e&&i.c.year>=0&&(n+="+"),n+=$r(i.c.year,e?6:4),t?(n+="-",n+=$r(i.c.month),n+="-",n+=$r(i.c.day)):(n+=$r(i.c.month),n+=$r(i.c.day)),n}function cne(i,t,e,n,r,o){let s=$r(i.c.hour);return t?(s+=":",s+=$r(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=":")):s+=$r(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=$r(i.c.second),(0!==i.c.millisecond||!n)&&(s+=".",s+=$r(i.c.millisecond,3))),r&&(i.isOffsetFixed&&0===i.offset&&!o?s+="Z":i.o<0?(s+="-",s+=$r(Math.trunc(-i.o/60)),s+=":",s+=$r(Math.trunc(-i.o%60))):(s+="+",s+=$r(Math.trunc(i.o/60)),s+=":",s+=$r(Math.trunc(i.o%60)))),o&&(s+="["+i.zone.ianaName+"]"),s}const lne={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},c5e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},l5e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},dne=["year","month","day","hour","minute","second","millisecond"],d5e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],u5e=["year","ordinal","hour","minute","second","millisecond"];function une(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function h5e(i){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!t)throw new zte(i);return t}(i)}}function hne(i,t){const e=im(t.zone,Rr.defaultZone),n=pn.fromObject(t),r=Rr.now();let o,s;if(qt(i.year))o=r;else{for(const l of dne)qt(i[l])&&(i[l]=lne[l]);const a=Cie(i)||Eie(i);if(a)return Wt.invalid(a);const c=e.offset(r);[o,s]=_M(i,c,e)}return new Wt({ts:o,zone:e,loc:n,o:s})}function mne(i,t,e){const n=!!qt(e.round)||e.round,r=(s,a)=>(s=c3(s,n||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(s,a)),o=s=>e.calendary?t.hasSame(i,s)?0:t.startOf(s).diff(i.startOf(s),s).get(s):t.diff(i,s).get(s);if(e.unit)return r(o(e.unit),e.unit);for(const s of e.units){const a=o(s);if(Math.abs(a)>=1)return r(a,s)}return r(i>t?-0:0,e.units[e.units.length-1])}function pne(i){let e,t={};return i.length>0&&"object"==typeof i[i.length-1]?(t=i[i.length-1],e=Array.from(i).slice(0,i.length-1)):e=Array.from(i),[t,e]}class Wt{constructor(t){const e=t.zone||Rr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Lc("invalid input"):null)||(e.isValid?null:fM(e));this.ts=qt(t.ts)?Rr.now():t.ts;let r=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,o]=[t.old.c,t.old.o];else{const a=e.offset(this.ts);r=gM(this.ts,a),n=Number.isNaN(r.year)?new Lc("invalid input"):null,r=n?null:r,o=n?null:a}this._zone=e,this.loc=t.loc||pn.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new Wt({})}static local(){const[t,e]=pne(arguments),[n,r,o,s,a,c,l]=e;return hne({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static utc(){const[t,e]=pne(arguments),[n,r,o,s,a,c,l]=e;return t.zone=Os.utcInstance,hne({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static fromJSDate(t,e={}){const n=function Uze(i){return"[object Date]"===Object.prototype.toString.call(i)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return Wt.invalid("invalid input");const r=im(e.zone,Rr.defaultZone);return r.isValid?new Wt({ts:n,zone:r,loc:pn.fromObject(e)}):Wt.invalid(fM(r))}static fromMillis(t,e={}){if(bf(t))return t<-one||t>one?Wt.invalid("Timestamp out of range"):new Wt({ts:t,zone:im(e.zone,Rr.defaultZone),loc:pn.fromObject(e)});throw new na(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(bf(t))return new Wt({ts:1e3*t,zone:im(e.zone,Rr.defaultZone),loc:pn.fromObject(e)});throw new na("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const n=im(e.zone,Rr.defaultZone);if(!n.isValid)return Wt.invalid(fM(n));const r=pn.fromObject(e),o=uM(t,une),{minDaysInFirstWeek:s,startOfWeek:a}=xie(o,r),c=Rr.now(),l=qt(e.specificOffset)?n.offset(c):e.specificOffset,d=!qt(o.ordinal),h=!qt(o.year),p=!qt(o.month)||!qt(o.day),g=h||p,b=o.weekYear||o.weekNumber;if((g||d)&&b)throw new jv("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new jv("Can't mix ordinal dates with month/day");const w=b||o.weekday&&!g;let x,S,D=gM(c,l);w?(x=d5e,S=c5e,D=sM(D,s,a)):d?(x=u5e,S=l5e,D=o3(D)):(x=dne,S=lne);let M=!1;for(const Me of x)qt(o[Me])?o[Me]=M?S[Me]:D[Me]:M=!0;const L=w?function Bze(i,t=4,e=1){const n=aM(i.weekYear),r=hc(i.weekNumber,1,Kx(i.weekYear,t,e)),o=hc(i.weekday,1,7);return n?r?!o&&uc("weekday",i.weekday):uc("week",i.weekNumber):uc("weekYear",i.weekYear)}(o,s,a):d?function zze(i){const t=aM(i.year),e=hc(i.ordinal,1,$v(i.year));return t?!e&&uc("ordinal",i.ordinal):uc("year",i.year)}(o):Cie(o),z=L||Eie(o);if(z)return Wt.invalid(z);const Z=w?yie(o,s,a):d?wie(o):o,[ue,ie]=_M(Z,l,n),fe=new Wt({ts:ue,zone:n,o:ie,loc:r});return o.weekday&&g&&t.weekday!==fe.weekday?Wt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${fe.toISO()}`):fe}static fromISO(t,e={}){const[n,r]=function AHe(i){return Yv(i,[EHe,$ie],[kHe,IHe],[THe,SHe],[DHe,MHe])}(t);return eC(n,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[n,r]=function RHe(i){return Yv(function bHe(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(i),[_He,vHe])}(t);return eC(n,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[n,r]=function PHe(i){return Yv(i,[yHe,Wie],[wHe,Wie],[xHe,CHe])}(t);return eC(n,r,e,"HTTP",e)}static fromFormat(t,e,n={}){if(qt(t)||qt(e))throw new na("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,s=pn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,c,l,d]=function a5e(i,t,e){const{result:n,zone:r,specificOffset:o,invalidReason:s}=nne(i,t,e);return[n,r,o,s]}(s,t,e);return d?Wt.invalid(d):eC(a,c,n,`format ${e}`,t,l)}static fromString(t,e,n={}){return Wt.fromFormat(t,e,n)}static fromSQL(t,e={}){const[n,r]=function zHe(i){return Yv(i,[LHe,$ie],[VHe,BHe])}(t);return eC(n,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new na("need to specify a reason the DateTime is invalid");const n=t instanceof Lc?t:new Lc(t,e);if(Rr.throwOnInvalid)throw new fze(n);return new Wt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const n=rne(t,pn.fromObject(e));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return ine(is.parseFormat(t),pn.fromObject(e)).map(r=>r.val).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?g3(this).weekYear:NaN}get weekNumber(){return this.isValid?g3(this).weekNumber:NaN}get weekday(){return this.isValid?g3(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?_3(this).weekday:NaN}get localWeekNumber(){return this.isValid?_3(this).weekNumber:NaN}get localWeekYear(){return this.isValid?_3(this).weekYear:NaN}get ordinal(){return this.isValid?o3(this.c).ordinal:NaN}get monthShort(){return this.isValid?mM.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?mM.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?mM.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?mM.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,n=lM(this.c),r=this.zone.offset(n-t),o=this.zone.offset(n+t),s=this.zone.offset(n-r*e),a=this.zone.offset(n-o*e);if(s===a)return[this];const c=n-s*e,l=n-a*e,d=gM(c,s),h=gM(l,a);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[xf(this,{ts:c}),xf(this,{ts:l})]:[this]}get isInLeapYear(){return Zx(this.year)}get daysInMonth(){return cM(this.year,this.month)}get daysInYear(){return this.isValid?$v(this.year):NaN}get weeksInWeekYear(){return this.isValid?Kx(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Kx(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:n,calendar:r}=is.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(Os.instance(t),e)}toLocal(){return this.setZone(Rr.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((t=im(t,Rr.defaultZone)).equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||n){const o=t.offset(this.ts),s=this.toObject();[r]=_M(s,o,t)}return xf(this,{ts:r,zone:t})}return Wt.invalid(fM(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:n}={}){return xf(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:n})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=uM(t,une),{minDaysInFirstWeek:n,startOfWeek:r}=xie(e,this.loc),o=!qt(e.weekYear)||!qt(e.weekNumber)||!qt(e.weekday),s=!qt(e.ordinal),a=!qt(e.year),c=!qt(e.month)||!qt(e.day);if((a||c||s)&&(e.weekYear||e.weekNumber))throw new jv("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new jv("Can't mix ordinal dates with month/day");let h;o?h=yie({...sM(this.c,n,r),...e},n,r):qt(e.ordinal)?(h={...this.toObject(),...e},qt(e.day)&&(h.day=Math.min(cM(h.year,h.month),h.day))):h=wie({...o3(this.c),...e});const[p,g]=_M(h,this.o,this.zone);return xf(this,{ts:p,o:g})}plus(t){return this.isValid?xf(this,ane(this,Ni.fromDurationLike(t))):this}minus(t){return this.isValid?xf(this,ane(this,Ni.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},r=Ni.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(e){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if("quarters"===r){const o=Math.ceil(this.month/3);n.month=3*(o-1)+1}return this.set(n)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?is.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):f3}toLocaleString(t=tM,e={}){return this.isValid?is.create(this.loc.clone(e),t).formatDateTime(this):f3}toLocaleParts(t={}){return this.isValid?is.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s="extended"===t;let a=v3(this,s);return a+="T",a+=cne(this,s,e,n,r,o),a}toISODate({format:t="extended"}={}){return this.isValid?v3(this,"extended"===t):null}toISOWeekDate(){return vM(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+cne(this,"extended"===s,e,t,n,o):null}toRFC2822(){return vM(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return vM(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?v3(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(n&&(r+=" "),e?r+="z":t&&(r+="ZZ")),vM(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():f3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",n={}){if(!this.isValid||!t.isValid)return Ni.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=function jze(i){return Array.isArray(i)?i:[i]}(e).map(Ni.normalizeUnit),s=t.valueOf()>this.valueOf(),l=function qHe(i,t,e,n){let[r,o,s,a]=function GHe(i,t,e){const n=[["years",(c,l)=>l.year-c.year],["quarters",(c,l)=>l.quarter-c.quarter+4*(l.year-c.year)],["months",(c,l)=>l.month-c.month+12*(l.year-c.year)],["weeks",(c,l)=>{const d=Kie(c,l);return(d-d%7)/7}],["days",Kie]],r={},o=i;let s,a;for(const[c,l]of n)e.indexOf(c)>=0&&(s=c,r[c]=l(i,t),a=o.plus(r),a>t?(r[c]--,(i=o.plus(r))>t&&(a=i,r[c]--,i=o.plus(r))):i=a);return[i,r,a,s]}(i,t,e);const c=t-r,l=e.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);0===l.length&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+c/(s-r)));const d=Ni.fromObject(o,n);return l.length>0?Ni.fromMillis(c,n).shiftTo(...l).plus(d):d}(s?this:t,s?t:this,o,r);return s?l.negate():l}diffNow(t="milliseconds",e={}){return this.diff(Wt.now(),t,e)}until(t){return this.isValid?wr.fromDateTimes(this,t):this}hasSame(t,e,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e,n)<=r&&r<=o.endOf(e,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||Wt.fromObject({},{zone:this.zone}),n=t.padding?this<e?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(r=t.unit,o=void 0),mne(e,this.plus(n),{...t,numeric:"always",units:r,unit:o})}toRelativeCalendar(t={}){return this.isValid?mne(t.base||Wt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Wt.isDateTime))throw new na("min requires all arguments be DateTimes");return Die(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(Wt.isDateTime))throw new na("max requires all arguments be DateTimes");return Die(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,n={}){const{locale:r=null,numberingSystem:o=null}=n;return nne(pn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,n={}){return Wt.fromFormatExplain(t,e,n)}static get DATE_SHORT(){return tM}static get DATE_MED(){return Hte}static get DATE_MED_WITH_WEEKDAY(){return vze}static get DATE_FULL(){return Ute}static get DATE_HUGE(){return jte}static get TIME_SIMPLE(){return Wte}static get TIME_WITH_SECONDS(){return $te}static get TIME_WITH_SHORT_OFFSET(){return Gte}static get TIME_WITH_LONG_OFFSET(){return qte}static get TIME_24_SIMPLE(){return Yte}static get TIME_24_WITH_SECONDS(){return Zte}static get TIME_24_WITH_SHORT_OFFSET(){return Kte}static get TIME_24_WITH_LONG_OFFSET(){return Qte}static get DATETIME_SHORT(){return Xte}static get DATETIME_SHORT_WITH_SECONDS(){return Jte}static get DATETIME_MED(){return eie}static get DATETIME_MED_WITH_SECONDS(){return tie}static get DATETIME_MED_WITH_WEEKDAY(){return bze}static get DATETIME_FULL(){return iie}static get DATETIME_FULL_WITH_SECONDS(){return nie}static get DATETIME_HUGE(){return rie}static get DATETIME_HUGE_WITH_SECONDS(){return oie}}function tC(i){if(Wt.isDateTime(i))return i;if(i&&i.valueOf&&bf(i.valueOf()))return Wt.fromJSDate(i);if(i&&"object"==typeof i)return Wt.fromObject(i);throw new na(`Unknown datetime argument: ${i}, of type ${typeof i}`)}var eb=function(i){return i.AM="AM",i.PM="PM",i}(eb||{}),cu=function(i){return i.TWELVE="hh:mm a",i.TWELVE_SHORT="h:m a",i.TWENTY_FOUR="HH:mm",i.TWENTY_FOUR_SHORT="H:m",i}(cu||{});function y3(i,t,e="minutes"){return"hours"===e?i.hour>=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()>t.valueOf():void 0}function w3(i,t,e="minutes"){return"hours"===e?i.hour<=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()<=t.valueOf():void 0}let Cf=(()=>{class i{static parseTime(e,n){const{numberingSystem:r,locale:o}=i.getLocaleOptionsByTime(e,n),a=2===e.split(" ").length?cu.TWELVE_SHORT:cu.TWENTY_FOUR_SHORT;return Wt.fromFormat(e,a,{numberingSystem:r,locale:o})}static formatTime(e,n){if(!e)return"Invalid Time";const{format:r}=n,o=i.parseTime(e,n).setLocale(i.DEFAULT_LOCALE);return o.isValid?24!==r?o.toLocaleString(Object.assign(Object.assign({},Wt.TIME_SIMPLE),{hour12:24!==r,numberingSystem:i.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(e,n={}){const{format:r=i.DEFAULT_FORMAT,locale:o=i.DEFAULT_LOCALE}=n,s=24===r?"h23":"h12",a=Object.assign(Object.assign({},Wt.TIME_SIMPLE),{hourCycle:s}),c=24===r?cu.TWENTY_FOUR_SHORT:cu.TWELVE_SHORT,l=Object.assign({locale:n.locale,numberingSystem:n.numberingSystem},a);return Wt.fromFormat(e,c).setLocale(o).toLocaleString(l).replace(/\u202F/g," ")}static isTimeAvailable(e,n,r,o,s,a){if(!e)return;const c=this.parseTime(e,{format:a}),l=c.minute;if(s&&l==l&&l%s!=0)throw new Error(`Your minutes - ${l} doesn't match your minutesGap - ${s}`);const d=n&&!r&&y3(c,n,o),h=r&&!n&&w3(c,r,o),p=n&&r&&function D5e(i,t,e,n="minutes"){return"hours"===n?w3(i,e,n)&&y3(i,t,n):"minutes"===n?w3(i,e)&&y3(i,t):void 0}(c,n,r,o);return d||h||p||!n&&!r}static formatHour(e,n,r){if(24===n)return e;const o=r===eb.AM?e:e+12;return r===eb.AM&&12===o?0:r===eb.PM&&24===o?12:o}static fromDateTimeToString(e,n){const r=24===n?cu.TWENTY_FOUR:cu.TWELVE;return e.reconfigure({numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE}).toFormat(r).replace(/\u202F/g," ")}static getLocaleOptionsByTime(e,n){const r={numberingSystem:n.numberingSystem,locale:n.locale},o={numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?r:o}}return i.DEFAULT_FORMAT=12,i.DEFAULT_LOCALE="en-US",i.DEFAULT_NUMBERING_SYSTEM="latn",i})();const I5e=new Y("TimeLocale",{providedIn:"root",factory:()=>Cf.DEFAULT_LOCALE}),S5e=new Y("NumberingSystem",{providedIn:"root",factory:()=>Cf.DEFAULT_NUMBERING_SYSTEM});let R5e=(()=>{class i{static setOpts(e,n=Cf.DEFAULT_NUMBERING_SYSTEM){return{ngModule:i,providers:[{provide:I5e,useValue:e},{provide:S5e,useValue:n}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Re({type:i}),i.\u0275inj=Ne({imports:[[qi,VG,BG]]}),i})();!function Kue(i,t,e){(function Lae(i,t,e){"string"!=typeof t&&(e=t,t=i[In.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Lg[t]=i,e&&(Lg[t][In.ExtraData]=e)})(i,t,e)}(DPe);let P5e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Re({type:i,bootstrap:[qMe]});static#i=this.\u0275inj=Ne({imports:[Mj,GMe,UAe,fxe,qi,VG,BG,qAe,rRe,kPe,Cwe,LPe,KPe,bMe,WD,RSe,JZ,COe,NOe,zOe,UOe,SMe,ZOe,oK,QOe,e2e,M2e,j2e,Y2e,oNe,UD,hNe,mNe,jNe,BY,GNe,YNe,Ca,ZNe,$we,XNe,DK,dFe,mFe,FFe,lOe,yge.initializeApp(pze_firebase),mze,R5e]})}return i})();vme().bootstrapModule(P5e).catch(i=>console.error(i))},519:function(ra){ra.exports=function(){"use strict";function En(k,v,y){if("function"==typeof k?k===v:k.has(v))return arguments.length<3?v:y;throw new TypeError("Private element is not present on this object")}function bt(k,v,y){return v=Ft(v),function ki(k,v){if(v&&("object"==typeof v||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function xr(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(k,Et()?Reflect.construct(v,y||[],Ft(k).constructor):v.apply(k,y))}function P(k,v){return k.get(En(k,v))}function Et(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Et=function(){return!!k})()}function kn(k){var v=function on(k,v){if("object"!=typeof k||!k)return k;var y=k[Symbol.toPrimitive];if(void 0!==y){var E=y.call(k,v||"default");if("object"!=typeof E)return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(k)}(k,"string");return"symbol"==typeof v?v:String(v)}function fi(k){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(k)}function Yt(k,v){if(!(k instanceof v))throw new TypeError("Cannot call a class as a function")}function _e(k,v){for(var y=0;y<v.length;y++){var E=v[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,kn(E.key),E)}}function Se(k,v,y){return v&&_e(k.prototype,v),y&&_e(k,y),Object.defineProperty(k,"prototype",{writable:!1}),k}function Ft(k){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(k)}function hi(k,v){return(hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,V){return E.__proto__=V,E})(k,v)}function Lt(){return Lt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,y,E){var V=function Mt(k,v){for(;!Object.prototype.hasOwnProperty.call(k,v)&&null!==(k=Ft(k)););return k}(v,y);if(V){var de=Object.getOwnPropertyDescriptor(V,y);return de.get?de.get.call(arguments.length<3?v:E):de.value}},Lt.apply(this,arguments)}function Cr(k,v){return function Ti(k){if(Array.isArray(k))return k}(k)||function wt(k,v){var y=null==k?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(null!=y){var E,V,de,Ze,_t=[],Nt=!0,bi=!1;try{if(de=(y=y.call(k)).next,0===v){if(Object(y)!==y)return;Nt=!1}else for(;!(Nt=(E=de.call(y)).done)&&(_t.push(E.value),_t.length!==v);Nt=!0);}catch(Qi){bi=!0,V=Qi}finally{try{if(!Nt&&null!=y.return&&(Ze=y.return(),Object(Ze)!==Ze))return}finally{if(bi)throw V}}return _t}}(k,v)||Gr(k,v)||function ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(k){return function sn(k){if(Array.isArray(k))return Bt(k)}(k)||function Wi(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(k)||Gr(k)||function dr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(k,v){if(k){if("string"==typeof k)return Bt(k,v);var y=Object.prototype.toString.call(k).slice(8,-1);if("Object"===y&&k.constructor&&(y=k.constructor.name),"Map"===y||"Set"===y)return Array.from(k);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Bt(k,v)}}function Bt(k,v){(null==v||v>k.length)&&(v=k.length);for(var y=0,E=new Array(v);y<v;y++)E[y]=k[y];return E}function an(k,v,y){(function fn(k,v){if(v.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")})(k,v),v.set(k,y)}var Tt={},zt=function(v){return new Promise(function(y){if(!v)return y();var E=window.scrollX,V=window.scrollY;Tt.restoreFocusTimeout=setTimeout(function(){Tt.previousActiveElement instanceof HTMLElement?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus(),y()},100),window.scrollTo(E,V)})},O=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(k,v){return k[v]="swal2-"+v,k},{}),q=["success","warning","info","question","error"].reduce(function(k,v){return k[v]="swal2-"+v,k},{}),me="SweetAlert2:",be=function(v){return v.charAt(0).toUpperCase()+v.slice(1)},te=function(v){console.warn("".concat(me," ").concat("object"===fi(v)?v.join(" "):v))},Oe=function(v){console.error("".concat(me," ").concat(v))},ui=[],dt=function(v,y){!function(v){ui.includes(v)||(ui.push(v),te(v))}('"'.concat(v,'" is deprecated and will be removed in the next major release. Please use "').concat(y,'" instead.'))},si=function(v){return"function"==typeof v?v():v},Zi=function(v){return v&&"function"==typeof v.toPromise},Ri=function(v){return Zi(v)?v.toPromise():Promise.resolve(v)},ir=function(v){return v&&Promise.resolve(v)===v},wi=function(){return document.body.querySelector(".".concat(O.container))},nr=function(v){var y=wi();return y?y.querySelector(v):null},Vi=function(v){return nr(".".concat(v))},Ut=function(){return Vi(O.popup)},Ls=function(){return Vi(O.icon)},cn=function(){return Vi(O.title)},Pa=function(){return Vi(O["html-container"])},Uc=function(){return Vi(O.image)},yo=function(){return Vi(O["progress-steps"])},Oa=function(){return Vi(O["validation-message"])},ln=function(){return nr(".".concat(O.actions," .").concat(O.confirm))},so=function(){return nr(".".concat(O.actions," .").concat(O.cancel))},ao=function(){return nr(".".concat(O.actions," .").concat(O.deny))},Ho=function(){return nr(".".concat(O.loader))},Mi=function(){return Vi(O.actions)},wo=function(){return Vi(O.footer)},gn=function(){return Vi(O["timer-progress-bar"])},Na=function(){return Vi(O.close)},Or=function(){var v=Ut();if(!v)return[];var y=v.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),E=Array.from(y).sort(function(Ze,_t){var Nt=parseInt(Ze.getAttribute("tabindex")||"0"),bi=parseInt(_t.getAttribute("tabindex")||"0");return Nt>bi?1:Nt<bi?-1:0}),V=v.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),de=Array.from(V).filter(function(Ze){return"-1"!==Ze.getAttribute("tabindex")});return Er(new Set(E.concat(de))).filter(function(Ze){return kt(Ze)})},os=function(){return _n(document.body,O.shown)&&!_n(document.body,O["toast-shown"])&&!_n(document.body,O["no-backdrop"])},ss=function(){var v=Ut();return!!v&&_n(v,O.toast)},ur=function(v,y){if(v.textContent="",y){var V=(new DOMParser).parseFromString(y,"text/html"),de=V.querySelector("head");de&&Array.from(de.childNodes).forEach(function(_t){v.appendChild(_t)});var Ze=V.querySelector("body");Ze&&Array.from(Ze.childNodes).forEach(function(_t){_t instanceof HTMLVideoElement||_t instanceof HTMLAudioElement?v.appendChild(_t.cloneNode(!0)):v.appendChild(_t)})}},_n=function(v,y){if(!y)return!1;for(var E=y.split(/\s+/),V=0;V<E.length;V++)if(!v.classList.contains(E[V]))return!1;return!0},rr=function(v,y,E){if(function(v,y){Array.from(v.classList).forEach(function(E){!Object.values(O).includes(E)&&!Object.values(q).includes(E)&&!Object.values(y.showClass||{}).includes(E)&&v.classList.remove(E)})}(v,y),y.customClass&&y.customClass[E]){if("string"!=typeof y.customClass[E]&&!y.customClass[E].forEach)return void te("Invalid type of customClass.".concat(E,'! Expected string or iterable object, got "').concat(fi(y.customClass[E]),'"'));Xt(v,y.customClass[E])}},aa=function(v,y){if(!y)return null;switch(y){case"select":case"textarea":case"file":return v.querySelector(".".concat(O.popup," > .").concat(O[y]));case"checkbox":return v.querySelector(".".concat(O.popup," > .").concat(O.checkbox," input"));case"radio":return v.querySelector(".".concat(O.popup," > .").concat(O.radio," input:checked"))||v.querySelector(".".concat(O.popup," > .").concat(O.radio," input:first-child"));case"range":return v.querySelector(".".concat(O.popup," > .").concat(O.range," input"));default:return v.querySelector(".".concat(O.popup," > .").concat(O.input))}},Wl=function(v){if(v.focus(),"file"!==v.type){var y=v.value;v.value="",v.value=y}},jc=function(v,y,E){!v||!y||("string"==typeof y&&(y=y.split(/\s+/).filter(Boolean)),y.forEach(function(V){Array.isArray(v)?v.forEach(function(de){E?de.classList.add(V):de.classList.remove(V)}):E?v.classList.add(V):v.classList.remove(V)}))},Xt=function(v,y){jc(v,y,!0)},U=function(v,y){jc(v,y,!1)},B=function(v,y){for(var E=Array.from(v.children),V=0;V<E.length;V++){var de=E[V];if(de instanceof HTMLElement&&_n(de,y))return de}},j=function(v,y,E){E==="".concat(parseInt(E))&&(E=parseInt(E)),E||0===parseInt(E)?v.style.setProperty(y,"number"==typeof E?"".concat(E,"px"):E):v.style.removeProperty(y)},ee=function(v){v&&(v.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},G=function(v){v&&(v.style.display="none")},ae=function(v){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";v&&new MutationObserver(function(){Pt(v,v.innerHTML,y)}).observe(v,{childList:!0,subtree:!0})},xt=function(v,y,E,V){var de=v.querySelector(y);de&&de.style.setProperty(E,V)},Pt=function(v,y){y?ee(v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):G(v)},kt=function(v){return!(!v||!(v.offsetWidth||v.offsetHeight||v.getClientRects().length))},or=function(v){return v.scrollHeight>v.clientHeight},Je=function(v){var y=window.getComputedStyle(v),E=parseFloat(y.getPropertyValue("animation-duration")||"0"),V=parseFloat(y.getPropertyValue("transition-duration")||"0");return E>0||V>0},sr=function(v){var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=gn();E&&kt(E)&&(y&&(E.style.transition="none",E.style.width="100%"),setTimeout(function(){E.style.transition="width ".concat(v/1e3,"s linear"),E.style.width="0%"},10))},as=function(){return typeof window>"u"||typeof document>"u"},lu='\n <div aria-labelledby="'.concat(O.title,'" aria-describedby="').concat(O["html-container"],'" class="').concat(O.popup,'" tabindex="-1">\n   <button type="button" class="').concat(O.close,'"></button>\n   <ul class="').concat(O["progress-steps"],'"></ul>\n   <div class="').concat(O.icon,'"></div>\n   <img class="').concat(O.image,'" />\n   <h2 class="').concat(O.title,'" id="').concat(O.title,'"></h2>\n   <div class="').concat(O["html-container"],'" id="').concat(O["html-container"],'"></div>\n   <input class="').concat(O.input,'" id="').concat(O.input,'" />\n   <input type="file" class="').concat(O.file,'" />\n   <div class="').concat(O.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(O.select,'" id="').concat(O.select,'"></select>\n   <div class="').concat(O.radio,'"></div>\n   <label class="').concat(O.checkbox,'">\n     <input type="checkbox" id="').concat(O.checkbox,'" />\n     <span class="').concat(O.label,'"></span>\n   </label>\n   <textarea class="').concat(O.textarea,'" id="').concat(O.textarea,'"></textarea>\n   <div class="').concat(O["validation-message"],'" id="').concat(O["validation-message"],'"></div>\n   <div class="').concat(O.actions,'">\n     <div class="').concat(O.loader,'"></div>\n     <button type="button" class="').concat(O.confirm,'"></button>\n     <button type="button" class="').concat(O.deny,'"></button>\n     <button type="button" class="').concat(O.cancel,'"></button>\n   </div>\n   <div class="').concat(O.footer,'"></div>\n   <div class="').concat(O["timer-progress-bar-container"],'">\n     <div class="').concat(O["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),$=function(){Tt.currentInstance.resetValidationMessage()},X=function(v){var y=function(){var v=wi();return!!v&&(v.remove(),U([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)}();if(as())Oe("SweetAlert2 requires document to initialize");else{var E=document.createElement("div");E.className=O.container,y&&Xt(E,O["no-transition"]),ur(E,lu);var V=function(v){return"string"==typeof v?document.querySelector(v):v}(v.target);V.appendChild(E),function(v){var y=Ut();y.setAttribute("role",v.toast?"alert":"dialog"),y.setAttribute("aria-live",v.toast?"polite":"assertive"),v.toast||y.setAttribute("aria-modal","true")}(v),function(v){"rtl"===window.getComputedStyle(v).direction&&Xt(wi(),O.rtl)}(V),function(){var v=Ut(),y=B(v,O.input),E=B(v,O.file),V=v.querySelector(".".concat(O.range," input")),de=v.querySelector(".".concat(O.range," output")),Ze=B(v,O.select),_t=v.querySelector(".".concat(O.checkbox," input")),Nt=B(v,O.textarea);y.oninput=$,E.onchange=$,Ze.onchange=$,_t.onchange=$,Nt.oninput=$,V.oninput=function(){$(),de.value=V.value},V.onchange=function(){$(),de.value=V.value}}()}},dn=function(v,y){v instanceof HTMLElement?y.appendChild(v):"object"===fi(v)?it(v,y):v&&ur(y,v)},it=function(v,y){v.jquery?Jt(y,v):ur(y,v.toString())},Jt=function(v,y){if(v.textContent="",0 in y)for(var E=0;E in y;E++)v.appendChild(y[E].cloneNode(!0));else v.appendChild(y.cloneNode(!0))},Uo=function(){if(as())return!1;var k=document.createElement("div");return typeof k.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof k.style.animation<"u"&&"animationend"}(),iC=function(v,y){var E=Mi(),V=Ho();!E||!V||(y.showConfirmButton||y.showDenyButton||y.showCancelButton?ee(E):G(E),rr(E,y,"actions"),function tb(k,v,y){var E=ln(),V=ao(),de=so();!E||!V||!de||(qr(E,"confirm",y),qr(V,"deny",y),qr(de,"cancel",y),function $l(k,v,y,E){E.buttonsStyling?(Xt([k,v,y],O.styled),E.confirmButtonColor&&(k.style.backgroundColor=E.confirmButtonColor,Xt(k,O["default-outline"])),E.denyButtonColor&&(v.style.backgroundColor=E.denyButtonColor,Xt(v,O["default-outline"])),E.cancelButtonColor&&(y.style.backgroundColor=E.cancelButtonColor,Xt(y,O["default-outline"]))):U([k,v,y],O.styled)}(E,V,de,y),y.reverseButtons&&(y.toast?(k.insertBefore(de,E),k.insertBefore(V,E)):(k.insertBefore(de,v),k.insertBefore(V,v),k.insertBefore(E,v))))}(E,V,y),ur(V,y.loaderHtml||""),rr(V,y,"loader"))};function qr(k,v,y){var E=be(v);Pt(k,y["show".concat(E,"Button")],"inline-block"),ur(k,y["".concat(v,"ButtonText")]||""),k.setAttribute("aria-label",y["".concat(v,"ButtonAriaLabel")]||""),k.className=O[v],rr(k,y,"".concat(v,"Button"))}var ib=function(v,y){var E=wi();E&&(function un(k,v){"string"==typeof v?k.style.background=v:v||Xt([document.documentElement,document.body],O["no-backdrop"])}(E,y.backdrop),function La(k,v){v&&(v in O?Xt(k,O[v]):(te('The "position" parameter is not valid, defaulting to "center"'),Xt(k,O.center)))}(E,y.position),function rC(k,v){v&&Xt(k,O["grow-".concat(v)])}(E,y.grow),rr(E,y,"container"))};var zi={innerParams:new WeakMap,domCache:new WeakMap},nb=["input","file","range","select","radio","checkbox","textarea"],rb=function(v){if(v.input){if(!Tn[v.input])return void Oe("Unexpected type of input! Expected ".concat(Object.keys(Tn).join(" | "),', got "').concat(v.input,'"'));var y=om(v.input),E=Tn[v.input](y,v);ee(y),v.inputAutoFocus&&setTimeout(function(){Wl(E)})}},kf=function(v,y){var E=aa(Ut(),v);if(E)for(var V in function(v){for(var y=0;y<v.attributes.length;y++){var E=v.attributes[y].name;["id","type","value","style"].includes(E)||v.removeAttribute(E)}}(E),y)E.setAttribute(V,y[V])},ob=function(v){var y=om(v.input);"object"===fi(v.customClass)&&Xt(y,v.customClass.input)},Nr=function(v,y){(!v.placeholder||y.inputPlaceholder)&&(v.placeholder=y.inputPlaceholder)},ft=function(v,y,E){if(E.inputLabel){var V=document.createElement("label"),de=O["input-label"];V.setAttribute("for",v.id),V.className=de,"object"===fi(E.customClass)&&Xt(V,E.customClass.inputLabel),V.innerText=E.inputLabel,y.insertAdjacentElement("beforebegin",V)}},om=function(v){return B(Ut(),O[v]||O.input)},sm=function(v,y){["string","number"].includes(fi(y))?v.value="".concat(y):ir(y)||te('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(fi(y),'"'))},Tn={};Tn.text=Tn.email=Tn.password=Tn.number=Tn.tel=Tn.url=Tn.search=Tn.date=Tn["datetime-local"]=Tn.time=Tn.week=Tn.month=function(k,v){return sm(k,v.inputValue),ft(k,k,v),Nr(k,v),k.type=v.input,k},Tn.file=function(k,v){return ft(k,k,v),Nr(k,v),k},Tn.range=function(k,v){var y=k.querySelector("input"),E=k.querySelector("output");return sm(y,v.inputValue),y.type=v.input,sm(E,v.inputValue),ft(y,k,v),k},Tn.select=function(k,v){if(k.textContent="",v.inputPlaceholder){var y=document.createElement("option");ur(y,v.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,k.appendChild(y)}return ft(k,k,v),k},Tn.radio=function(k){return k.textContent="",k},Tn.checkbox=function(k,v){var y=aa(Ut(),"checkbox");y.value="1",y.checked=!!v.inputValue;var E=k.querySelector("span");return ur(E,v.inputPlaceholder),y},Tn.textarea=function(k,v){sm(k,v.inputValue),Nr(k,v),ft(k,k,v);return setTimeout(function(){if("MutationObserver"in window){var E=parseInt(window.getComputedStyle(Ut()).width);new MutationObserver(function(){if(document.body.contains(k)){var Ze=k.offsetWidth+(V=k,parseInt(window.getComputedStyle(V).marginLeft)+parseInt(window.getComputedStyle(V).marginRight));Ze>E?Ut().style.width="".concat(Ze,"px"):j(Ut(),"width",v.width)}var V}).observe(k,{attributes:!0,attributeFilter:["style"]})}}),k};var Ce=function(v,y){var E=Pa();E&&(ae(E),rr(E,y,"htmlContainer"),y.html?(dn(y.html,E),ee(E,"block")):y.text?(E.textContent=y.text,ee(E,"block")):G(E),function(v,y){var E=Ut();if(E){var V=zi.innerParams.get(v),de=!V||y.input!==V.input;nb.forEach(function(Ze){var _t=B(E,O[Ze]);_t&&(kf(Ze,y.inputAttributes),_t.className=O[Ze],de&&G(_t))}),y.input&&(de&&rb(y),ob(y))}}(v,y))},Wc=function(v,y){for(var E=0,V=Object.entries(q);E<V.length;E++){var de=Cr(V[E],2);y.icon!==de[0]&&U(v,de[1])}Xt(v,y.icon&&q[y.icon]),Gl(v,y),sb(),rr(v,y,"icon")},sb=function(){var v=Ut();if(v)for(var y=window.getComputedStyle(v).getPropertyValue("background-color"),E=v.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),V=0;V<E.length;V++)E[V].style.backgroundColor=y},Vs=function(v,y){if(y.icon||y.iconHtml){var E=v.innerHTML,V="";y.iconHtml?V=$c(y.iconHtml):"success"===y.icon?(V='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',E=E.replace(/ style=".*?"/g,"")):"error"===y.icon?V='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':y.icon&&(V=$c({question:"?",warning:"!",info:"i"}[y.icon])),E.trim()!==V.trim()&&ur(v,V)}},Gl=function(v,y){if(y.iconColor){v.style.color=y.iconColor,v.style.borderColor=y.iconColor;for(var E=0,V=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];E<V.length;E++)xt(v,V[E],"background-color",y.iconColor);xt(v,".swal2-success-ring","border-color",y.iconColor)}},$c=function(v){return'<div class="'.concat(O["icon-content"],'">').concat(v,"</div>")},ci=function(v,y){var E=y.showClass||{};v.className="".concat(O.popup," ").concat(kt(v)?E.popup:""),y.toast?(Xt([document.documentElement,document.body],O["toast-shown"]),Xt(v,O.toast)):Xt(v,O.modal),rr(v,y,"popup"),"string"==typeof y.customClass&&Xt(v,y.customClass),y.icon&&Xt(v,O["icon-".concat(y.icon)])},Df=function(v){var y=document.createElement("li");return Xt(y,O["progress-step"]),ur(y,v),y},Fr=function(v){var y=document.createElement("li");return Xt(y,O["progress-step-line"]),v.progressStepsDistance&&j(y,"width",v.progressStepsDistance),y},lm=function(v,y){(function(v,y){var E=wi(),V=Ut();if(E&&V){if(y.toast){j(E,"width",y.width),V.style.width="100%";var de=Ho();de&&V.insertBefore(de,Ls())}else j(V,"width",y.width);j(V,"padding",y.padding),y.color&&(V.style.color=y.color),y.background&&(V.style.background=y.background),G(Oa()),ci(V,y)}})(0,y),ib(0,y),function(v,y){var E=yo();if(E){var V=y.progressSteps,de=y.currentProgressStep;if(!V||0===V.length||void 0===de)return void G(E);ee(E),E.textContent="",de>=V.length&&te("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),V.forEach(function(Ze,_t){var Nt=Df(Ze);if(E.appendChild(Nt),_t===de&&Xt(Nt,O["active-progress-step"]),_t!==V.length-1){var bi=Fr(y);E.appendChild(bi)}})}}(0,y),function(v,y){var E=zi.innerParams.get(v),V=Ls();if(V){if(E&&y.icon===E.icon)return Vs(V,y),void Wc(V,y);if(!y.icon&&!y.iconHtml)return void G(V);if(y.icon&&-1===Object.keys(q).indexOf(y.icon))return Oe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(y.icon,'"')),void G(V);ee(V),Vs(V,y),Wc(V,y),Xt(V,y.showClass&&y.showClass.icon)}}(v,y),function(v,y){var E=Uc();if(E){if(!y.imageUrl)return void G(E);ee(E,""),E.setAttribute("src",y.imageUrl),E.setAttribute("alt",y.imageAlt||""),j(E,"width",y.imageWidth),j(E,"height",y.imageHeight),E.className=O.image,rr(E,y,"image")}}(0,y),function(v,y){var E=cn();E&&(ae(E),Pt(E,y.title||y.titleText,"block"),y.title&&dn(y.title,E),y.titleText&&(E.innerText=y.titleText),rr(E,y,"title"))}(0,y),function(v,y){var E=Na();E&&(ur(E,y.closeButtonHtml||""),rr(E,y,"closeButton"),Pt(E,y.showCloseButton),E.setAttribute("aria-label",y.closeButtonAriaLabel||""))}(0,y),Ce(v,y),iC(0,y),function(v,y){var E=wo();E&&(ae(E),Pt(E,y.footer,"block"),y.footer&&dn(y.footer,E),rr(E,y,"footer"))}(0,y);var E=Ut();"function"==typeof y.didRender&&E&&y.didRender(E)},dm=function(){var v;return null===(v=ln())||void 0===v?void 0:v.click()},Va=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Gc=function(v){v.keydownTarget&&v.keydownHandlerAdded&&(v.keydownTarget.removeEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!1)},fc=function(v,y){var E,V=Or();if(V.length)return(v+=y)===V.length?v=0:-1===v&&(v=V.length-1),void V[v].focus();null===(E=Ut())||void 0===E||E.focus()},Mf=["ArrowRight","ArrowDown"],Yl=["ArrowLeft","ArrowUp"],lC=function(v,y,E){v&&(y.isComposing||229===y.keyCode||(v.stopKeydownPropagation&&y.stopPropagation(),"Enter"===y.key?Af(y,v):"Tab"===y.key?dC(y):[].concat(Mf,Yl).includes(y.key)?Rf(y.key):"Escape"===y.key&&du(y,v,E)))},Af=function(v,y){if(si(y.allowEnterKey)){var E=aa(Ut(),y.input);if(v.target&&E&&v.target instanceof HTMLElement&&v.target.outerHTML===E.outerHTML){if(["textarea","file"].includes(y.input))return;dm(),v.preventDefault()}}},dC=function(v){for(var y=v.target,E=Or(),V=-1,de=0;de<E.length;de++)if(y===E[de]){V=de;break}fc(V,v.shiftKey?-1:1),v.stopPropagation(),v.preventDefault()},Rf=function(v){var y=Mi(),E=ln(),V=ao(),de=so();if(y&&E&&V&&de&&(!(document.activeElement instanceof HTMLElement)||[E,V,de].includes(document.activeElement))){var _t=Mf.includes(v)?"nextElementSibling":"previousElementSibling",Nt=document.activeElement;if(Nt){for(var bi=0;bi<y.children.length;bi++){if(!(Nt=Nt[_t]))return;if(Nt instanceof HTMLButtonElement&&kt(Nt))break}Nt instanceof HTMLButtonElement&&Nt.focus()}}},du=function(v,y,E){si(y.allowEscapeKey)&&(v.preventDefault(),E(Va.esc))},hr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Kl=function(){Array.from(document.body.children).forEach(function(y){y.hasAttribute("data-previous-aria-hidden")?(y.setAttribute("aria-hidden",y.getAttribute("data-previous-aria-hidden")||""),y.removeAttribute("data-previous-aria-hidden")):y.removeAttribute("aria-hidden")})},cs=typeof window<"u"&&!!window.GestureEvent,um=function(){var y,v=wi();v&&(v.ontouchstart=function(E){y=Pf(E)},v.ontouchmove=function(E){y&&(E.preventDefault(),E.stopPropagation())})},Pf=function(v){var y=v.target,E=wi(),V=Pa();return!(!E||!V||Ba(v)||lb(v)||y!==E&&(or(E)||!(y instanceof HTMLElement)||"INPUT"===y.tagName||"TEXTAREA"===y.tagName||or(V)&&V.contains(y)))},Ba=function(v){return v.touches&&v.touches.length&&"stylus"===v.touches[0].touchType},lb=function(v){return v.touches&&v.touches.length>1},W=null,uu=function(v){null===W&&(document.body.scrollHeight>window.innerHeight||"scroll"===v)&&(W=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(W+function(){var v=document.createElement("div");v.className=O["scrollbar-measure"],document.body.appendChild(v);var y=v.getBoundingClientRect().width-v.clientWidth;return document.body.removeChild(v),y}(),"px"))};function Ql(k,v,y,E){ss()?jo(k,E):(zt(y).then(function(){return jo(k,E)}),Gc(Tt)),cs?(v.setAttribute("style","display:none !important"),v.removeAttribute("class"),v.innerHTML=""):v.remove(),os()&&(null!==W&&(document.body.style.paddingRight="".concat(W,"px"),W=null),function(){if(_n(document.body,O.iosfix)){var v=parseInt(document.body.style.top,10);U(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*v}}(),Kl()),function hm(){U([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function Lr(k){k=lo(k);var v=hr.swalPromiseResolve.get(this),y=uC(this);this.isAwaitingPromise?k.isDismissed||(Co(this),v(k)):y&&v(k)}var uC=function(v){var y=Ut();if(!y)return!1;var E=zi.innerParams.get(v);if(!E||_n(y,E.hideClass.popup))return!1;U(y,E.showClass.popup),Xt(y,E.hideClass.popup);var V=wi();return U(V,E.showClass.backdrop),Xt(V,E.hideClass.backdrop),ca(v,y,E),!0};function hu(k){var v=hr.swalPromiseReject.get(this);Co(this),v&&v(k)}var Co=function(v){v.isAwaitingPromise&&(delete v.isAwaitingPromise,zi.innerParams.get(v)||v._destroy())},lo=function(v){return typeof v>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},v)},ca=function(v,y,E){var V=wi(),de=Uo&&Je(y);"function"==typeof E.willClose&&E.willClose(y),de?Eo(v,y,V,E.returnFocus,E.didClose):Ql(v,V,E.returnFocus,E.didClose)},Eo=function(v,y,E,V,de){Uo&&(Tt.swalCloseEventFinishedCallback=Ql.bind(null,v,E,V,de),y.addEventListener(Uo,function(Ze){Ze.target===y&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback)}))},jo=function(v,y){setTimeout(function(){"function"==typeof y&&y.bind(v.params)(),v._destroy&&v._destroy()})},ei=function(v){var y=Ut();if(y||new ld,y=Ut()){var E=Ho();ss()?G(Ls()):mu(y,v),ee(E),y.setAttribute("data-loading","true"),y.setAttribute("aria-busy","true"),y.focus()}},mu=function(v,y){var E=Mi(),V=Ho();!E||!V||(!y&&kt(ln())&&(y=ln()),ee(E),y&&(G(y),V.setAttribute("data-button-to-replace",y.className),E.insertBefore(V,y)),Xt([v,E],O.loading))},Xl=function(v){return v.checked?1:0},zs=function(v){return v.checked?v.value:null},qc=function(v){return v.files&&v.files.length?null!==v.getAttribute("multiple")?v.files:v.files[0]:null},pu=function(v,y){var E=Ut();if(E){var V=function(Ze){"select"===y.input?function fu(k,v,y){var E=B(k,O.select);if(E){var V=function(Ze,_t,Nt){var bi=document.createElement("option");bi.value=Nt,ur(bi,_t),bi.selected=la(Nt,y.inputValue),Ze.appendChild(bi)};v.forEach(function(de){var Ze=de[0],_t=de[1];if(Array.isArray(_t)){var Nt=document.createElement("optgroup");Nt.label=Ze,Nt.disabled=!1,E.appendChild(Nt),_t.forEach(function(bi){return V(Nt,bi[1],bi[0])})}else V(E,_t,Ze)}),E.focus()}}(E,Jl(Ze),y):"radio"===y.input&&function Of(k,v,y){var E=B(k,O.radio);if(E){v.forEach(function(de){var Ze=de[0],_t=de[1],Nt=document.createElement("input"),bi=document.createElement("label");Nt.type="radio",Nt.name=O.radio,Nt.value=Ze,la(Ze,y.inputValue)&&(Nt.checked=!0);var Qi=document.createElement("span");ur(Qi,_t),Qi.className=O.label,bi.appendChild(Nt),bi.appendChild(Qi),E.appendChild(bi)});var V=E.querySelectorAll("input");V.length&&V[0].focus()}}(E,Jl(Ze),y)};Zi(y.inputOptions)||ir(y.inputOptions)?(ei(ln()),Ri(y.inputOptions).then(function(de){v.hideLoading(),V(de)})):"object"===fi(y.inputOptions)?V(y.inputOptions):Oe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(fi(y.inputOptions)))}},ko=function(v,y){var E=v.getInput();E&&(G(E),Ri(y.inputValue).then(function(V){E.value="".concat("number"===y.input?parseFloat(V)||0:V),ee(E),E.focus(),v.hideLoading()}).catch(function(V){Oe("Error in inputValue promise: ".concat(V)),E.value="",ee(E),E.focus(),v.hideLoading()}))};var Jl=function k(v){var y=[];return v instanceof Map?v.forEach(function(E,V){var de=E;"object"===fi(de)&&(de=k(de)),y.push([V,de])}):Object.keys(v).forEach(function(E){var V=v[E];"object"===fi(V)&&(V=k(V)),y.push([E,V])}),y},la=function(v,y){return!!y&&y.toString()===v.toString()},Yc=void 0,_u=function(v,y){var E=zi.innerParams.get(v);if(E.input){var V=v.getInput(),de=function(v,y){var E=v.getInput();if(!E)return null;switch(y.input){case"checkbox":return Xl(E);case"radio":return zs(E);case"file":return qc(E);default:return y.inputAutoTrim?E.value.trim():E.value}}(v,E);E.inputValidator?fm(v,de,y):V&&!V.checkValidity()?(v.enableButtons(),v.showValidationMessage(E.validationMessage||V.validationMessage)):"deny"===y?Vr(v,de):ed(v,de)}else Oe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(be(y)))},fm=function(v,y,E){var V=zi.innerParams.get(v);v.disableInput(),Promise.resolve().then(function(){return Ri(V.inputValidator(y,V.validationMessage))}).then(function(Ze){v.enableButtons(),v.enableInput(),Ze?v.showValidationMessage(Ze):"deny"===E?Vr(v,y):ed(v,y)})},Vr=function(v,y){var E=zi.innerParams.get(v||Yc);E.showLoaderOnDeny&&ei(ao()),E.preDeny?(v.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ri(E.preDeny(y,E.validationMessage))}).then(function(de){!1===de?(v.hideLoading(),Co(v)):v.close({isDenied:!0,value:typeof de>"u"?y:de})}).catch(function(de){return bu(v||Yc,de)})):v.close({isDenied:!0,value:y})},vu=function(v,y){v.close({isConfirmed:!0,value:y})},bu=function(v,y){v.rejectPromise(y)},ed=function(v,y){var E=zi.innerParams.get(v||Yc);E.showLoaderOnConfirm&&ei(),E.preConfirm?(v.resetValidationMessage(),v.isAwaitingPromise=!0,Promise.resolve().then(function(){return Ri(E.preConfirm(y,E.validationMessage))}).then(function(de){kt(Oa())||!1===de?(v.hideLoading(),Co(v)):vu(v,typeof de>"u"?y:de)}).catch(function(de){return bu(v||Yc,de)})):vu(v,y)};function td(){var k=zi.innerParams.get(this);if(k){var v=zi.domCache.get(this);G(v.loader),ss()?k.icon&&ee(Ls()):gm(v),U([v.popup,v.actions],O.loading),v.popup.removeAttribute("aria-busy"),v.popup.removeAttribute("data-loading"),v.confirmButton.disabled=!1,v.denyButton.disabled=!1,v.cancelButton.disabled=!1}}var gm=function(v){var y=v.popup.getElementsByClassName(v.loader.getAttribute("data-button-to-replace"));y.length?ee(y[0],"inline-block"):!kt(ln())&&!kt(ao())&&!kt(so())&&G(v.actions)};function id(){var k=zi.innerParams.get(this),v=zi.domCache.get(this);return v?aa(v.popup,k.input):null}function nd(k,v,y){var E=zi.domCache.get(k);v.forEach(function(V){E[V].disabled=y})}function _m(k,v){var y=Ut();if(y&&k)if("radio"===k.type)for(var E=y.querySelectorAll('[name="'.concat(O.radio,'"]')),V=0;V<E.length;V++)E[V].disabled=v;else k.disabled=v}function yu(){nd(this,["confirmButton","denyButton","cancelButton"],!1)}function vm(){nd(this,["confirmButton","denyButton","cancelButton"],!0)}function ct(){_m(this.getInput(),!1)}function Nf(){_m(this.getInput(),!0)}function wu(k){var v=zi.domCache.get(this),y=zi.innerParams.get(this);ur(v.validationMessage,k),v.validationMessage.className=O["validation-message"],y.customClass&&y.customClass.validationMessage&&Xt(v.validationMessage,y.customClass.validationMessage),ee(v.validationMessage);var E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",O["validation-message"]),Wl(E),Xt(E,O.inputerror))}function Ff(){var k=zi.domCache.get(this);k.validationMessage&&G(k.validationMessage);var v=this.getInput();v&&(v.removeAttribute("aria-invalid"),v.removeAttribute("aria-describedby"),U(v,O.inputerror))}var Re={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},rd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],xu={},ne=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],mr=function(v){return Object.prototype.hasOwnProperty.call(Re,v)},li=function(v){return-1!==rd.indexOf(v)},Yn=function(v){return xu[v]},Yr=function(v){mr(v)||te('Unknown parameter "'.concat(v,'"'))},Ha=function(v){ne.includes(v)&&te('The parameter "'.concat(v,'" is incompatible with toasts'))},To=function(v){var y=Yn(v);y&&dt(v,y)};function bm(k){var v=Ut(),y=zi.innerParams.get(this);if(v&&!_n(v,y.hideClass.popup)){var E=Zc(k),V=Object.assign({},y,E);lm(this,V),zi.innerParams.set(this,V),Object.defineProperties(this,{params:{value:Object.assign({},this.params,k),writable:!1,enumerable:!0}})}else te("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Zc=function(v){var y={};return Object.keys(v).forEach(function(E){li(E)?y[E]=v[E]:te("Invalid parameter to update: ".concat(E))}),y};function ym(){var k=zi.domCache.get(this),v=zi.innerParams.get(this);v?(k.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),"function"==typeof v.didDestroy&&v.didDestroy(),wm(this)):vn(this)}var wm=function(v){vn(v),delete v.params,delete Tt.keydownHandler,delete Tt.keydownTarget,delete Tt.currentInstance},vn=function(v){v.isAwaitingPromise?(Be(zi,v),v.isAwaitingPromise=!0):(Be(hr,v),Be(zi,v),delete v.isAwaitingPromise,delete v.disableButtons,delete v.enableButtons,delete v.getInput,delete v.disableInput,delete v.enableInput,delete v.hideLoading,delete v.disableLoading,delete v.showValidationMessage,delete v.resetValidationMessage,delete v.close,delete v.closePopup,delete v.closeModal,delete v.closeToast,delete v.rejectPromise,delete v.update,delete v._destroy)},Be=function(v,y){for(var E in v)v[E].delete(y)},Vt=Object.freeze({__proto__:null,_destroy:ym,close:Lr,closeModal:Lr,closePopup:Lr,closeToast:Lr,disableButtons:vm,disableInput:Nf,disableLoading:td,enableButtons:yu,enableInput:ct,getInput:id,handleAwaitingPromise:Co,hideLoading:td,rejectPromise:hu,resetValidationMessage:Ff,showValidationMessage:wu,update:bm}),ls=function(v,y,E){y.popup.onclick=function(){v&&(od(v)||v.timer||v.input)||E(Va.close)}},od=function(v){return!!(v.showConfirmButton||v.showDenyButton||v.showCancelButton||v.showCloseButton)},Nn=!1,Kc=function(v){v.popup.onmousedown=function(){v.container.onmouseup=function(y){v.container.onmouseup=function(){},y.target===v.container&&(Nn=!0)}}},Fn=function(v){v.container.onmousedown=function(){v.popup.onmouseup=function(y){v.popup.onmouseup=function(){},(y.target===v.popup||y.target instanceof HTMLElement&&v.popup.contains(y.target))&&(Nn=!0)}}},Hs=function(v,y,E){y.container.onclick=function(V){Nn?Nn=!1:V.target===y.container&&si(v.allowOutsideClick)&&E(Va.backdrop)}},Dt=function(v){return v instanceof Element||function(v){return"object"===fi(v)&&v.jquery}(v)};var Jc=function(){if(Tt.timeout)return function(){var v=gn();if(v){var y=parseInt(window.getComputedStyle(v).width);v.style.removeProperty("transition"),v.style.width="100%";var E=parseInt(window.getComputedStyle(v).width);v.style.width="".concat(y/E*100,"%")}}(),Tt.timeout.stop()},da=function(){if(Tt.timeout){var v=Tt.timeout.start();return sr(v),v}},ds=!1,us={};var el=function(v){for(var y=v.target;y&&y!==document;y=y.parentNode)for(var E in us){var V=y.getAttribute(E);if(V)return void us[E].fire({template:V})}},Zt=Object.freeze({__proto__:null,argsToParams:function(v){var y={};return"object"!==fi(v[0])||Dt(v[0])?["title","html","icon"].forEach(function(E,V){var de=v[V];"string"==typeof de||Dt(de)?y[E]=de:void 0!==de&&Oe("Unexpected type of ".concat(E,'! Expected "string" or "Element", got ').concat(fi(de)))}):Object.assign(y,v[0]),y},bindClickHandler:function ad(){us[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ds||(document.body.addEventListener("click",el),ds=!0)},clickCancel:function(){var v;return null===(v=so())||void 0===v?void 0:v.click()},clickConfirm:dm,clickDeny:function(){var v;return null===(v=ao())||void 0===v?void 0:v.click()},enableLoading:ei,fire:function Eu(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];return function he(k,v,y){if(Et())return Reflect.construct.apply(null,arguments);var E=[null];E.push.apply(E,v);var V=new(k.bind.apply(k,E));return y&&hi(V,y.prototype),V}(this,y)},getActions:Mi,getCancelButton:so,getCloseButton:Na,getConfirmButton:ln,getContainer:wi,getDenyButton:ao,getFocusableElements:Or,getFooter:wo,getHtmlContainer:Pa,getIcon:Ls,getIconContent:function(){return Vi(O["icon-content"])},getImage:Uc,getInputLabel:function(){return Vi(O["input-label"])},getLoader:Ho,getPopup:Ut,getProgressSteps:yo,getTimerLeft:function(){return Tt.timeout&&Tt.timeout.getTimerLeft()},getTimerProgressBar:gn,getTitle:cn,getValidationMessage:Oa,increaseTimer:function(v){if(Tt.timeout){var y=Tt.timeout.increase(v);return sr(y,!0),y}},isDeprecatedParameter:Yn,isLoading:function(){var v=Ut();return!!v&&v.hasAttribute("data-loading")},isTimerRunning:function(){return!(!Tt.timeout||!Tt.timeout.isRunning())},isUpdatableParameter:li,isValidParameter:mr,isVisible:function(){return kt(Ut())},mixin:function Xc(k){var v=function(y){function E(){return Yt(this,E),bt(this,E,arguments)}return function et(k,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(v&&v.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),v&&hi(k,v)}(E,y),Se(E,[{key:"_main",value:function(de,Ze){return Lt(Ft(E.prototype),"_main",this).call(this,de,Object.assign({},k,Ze))}}]),E}(this);return v},resumeTimer:da,showLoading:ei,stopTimer:Jc,toggleTimer:function(){var v=Tt.timeout;return v&&(v.running?Jc():da())}}),hC=function(){function k(v,y){Yt(this,k),this.callback=v,this.remaining=y,this.running=!1,this.start()}return Se(k,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(y){var E=this.running;return E&&this.stop(),this.remaining+=y,E&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),k}(),ua=["swal-title","swal-html","swal-footer"],js=function(v){var y={};return Array.from(v.querySelectorAll("swal-param")).forEach(function(V){hs(V,["name","value"]);var de=V.getAttribute("name"),Ze=V.getAttribute("value");y[de]="boolean"==typeof Re[de]?"false"!==Ze:"object"===fi(Re[de])?JSON.parse(Ze):Ze}),y},ku=function(v){var y={};return Array.from(v.querySelectorAll("swal-function-param")).forEach(function(V){var de=V.getAttribute("name"),Ze=V.getAttribute("value");y[de]=new Function("return ".concat(Ze))()}),y},tl=function(v){var y={};return Array.from(v.querySelectorAll("swal-button")).forEach(function(V){hs(V,["type","color","aria-label"]);var de=V.getAttribute("type");y["".concat(de,"ButtonText")]=V.innerHTML,y["show".concat(be(de),"Button")]=!0,V.hasAttribute("color")&&(y["".concat(de,"ButtonColor")]=V.getAttribute("color")),V.hasAttribute("aria-label")&&(y["".concat(de,"ButtonAriaLabel")]=V.getAttribute("aria-label"))}),y},cd=function(v){var y={},E=v.querySelector("swal-image");return E&&(hs(E,["src","width","height","alt"]),E.hasAttribute("src")&&(y.imageUrl=E.getAttribute("src")),E.hasAttribute("width")&&(y.imageWidth=E.getAttribute("width")),E.hasAttribute("height")&&(y.imageHeight=E.getAttribute("height")),E.hasAttribute("alt")&&(y.imageAlt=E.getAttribute("alt"))),y},kr=function(v){var y={},E=v.querySelector("swal-icon");return E&&(hs(E,["type","color"]),E.hasAttribute("type")&&(y.icon=E.getAttribute("type")),E.hasAttribute("color")&&(y.iconColor=E.getAttribute("color")),y.iconHtml=E.innerHTML),y},yM=function(v){var y={},E=v.querySelector("swal-input");E&&(hs(E,["type","label","placeholder","value"]),y.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(y.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(y.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(y.inputValue=E.getAttribute("value")));var V=Array.from(v.querySelectorAll("swal-input-option"));return V.length&&(y.inputOptions={},V.forEach(function(de){hs(de,["value"]);var Ze=de.getAttribute("value");y.inputOptions[Ze]=de.innerHTML})),y},Do=function(v,y){var E={};for(var V in y){var de=y[V],Ze=v.querySelector(de);Ze&&(hs(Ze,[]),E[de.replace(/^swal-/,"")]=Ze.innerHTML.trim())}return E},uo=function(v){var y=ua.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(v.children).forEach(function(E){var V=E.tagName.toLowerCase();y.includes(V)||te("Unrecognized element <".concat(V,">"))})},hs=function(v,y){Array.from(v.attributes).forEach(function(E){-1===y.indexOf(E.name)&&te(['Unrecognized attribute "'.concat(E.name,'" on <').concat(v.tagName.toLowerCase(),">."),"".concat(y.length?"Allowed attributes are: ".concat(y.join(", ")):"To set the value, use HTML within the element.")])})},Tu=function(v){var y=wi(),E=Ut();"function"==typeof v.willOpen&&v.willOpen(E);var de=window.getComputedStyle(document.body).overflowY;pC(y,E,v),setTimeout(function(){Vf(y,E)},10),os()&&(mC(y,v.scrollbarPadding,de),function(){var v=wi();Array.from(document.body.children).forEach(function(E){E.contains(v)||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")||""),E.setAttribute("aria-hidden","true"))})}()),!ss()&&!Tt.previousActiveElement&&(Tt.previousActiveElement=document.activeElement),"function"==typeof v.didOpen&&setTimeout(function(){return v.didOpen(E)}),U(y,O["no-transition"])},Ws=function k(v){var y=Ut();if(v.target===y&&Uo){var E=wi();y.removeEventListener(Uo,k),E.style.overflowY="auto"}},Vf=function(v,y){Uo&&Je(y)?(v.style.overflowY="hidden",y.addEventListener(Uo,Ws)):v.style.overflowY="auto"},mC=function(v,y,E){(function(){if(cs&&!_n(document.body,O.iosfix)){var v=document.body.scrollTop;document.body.style.top="".concat(-1*v,"px"),Xt(document.body,O.iosfix),um()}})(),y&&"hidden"!==E&&uu(E),setTimeout(function(){v.scrollTop=0})},pC=function(v,y,E){Xt(v,E.showClass.backdrop),E.animation?(y.style.setProperty("opacity","0","important"),ee(y,"grid"),setTimeout(function(){Xt(y,E.showClass.popup),y.style.removeProperty("opacity")},10)):ee(y,"grid"),Xt([document.documentElement,document.body],O.shown),E.heightAuto&&E.backdrop&&!E.toast&&Xt([document.documentElement,document.body],O["height-auto"])},fC={email:function(v,y){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(v)?Promise.resolve():Promise.resolve(y||"Invalid email address")},url:function(v,y){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(v)?Promise.resolve():Promise.resolve(y||"Invalid URL")}};function il(k){(function gC(k){k.inputValidator||("email"===k.input&&(k.inputValidator=fC.email),"url"===k.input&&(k.inputValidator=fC.url))})(k),k.showLoaderOnConfirm&&!k.preConfirm&&te("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Cm(k){(!k.target||"string"==typeof k.target&&!document.querySelector(k.target)||"string"!=typeof k.target&&!k.target.appendChild)&&(te('Target parameter is not valid, defaulting to "body"'),k.target="body")}(k),"string"==typeof k.title&&(k.title=k.title.split("\n").join("<br />")),X(k)}var ms,Em=new WeakMap,Zn=function(){function k(){if(Yt(this,k),an(this,Em,void 0),!(typeof window>"u")){ms=this;for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];var V=Object.freeze(this.constructor.argsToParams(y));this.params=V,this.isAwaitingPromise=!1,function yt(k,v,y){return k.set(En(k,v),y),y}(Em,this,this._main(ms.params))}}return Se(k,[{key:"_main",value:function(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(v){for(var y in!1===v.backdrop&&v.allowOutsideClick&&te('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),v)Yr(y),v.toast&&Ha(y),To(y)}(Object.assign({},E,y)),Tt.currentInstance){var V=hr.swalPromiseResolve.get(Tt.currentInstance),de=Tt.currentInstance.isAwaitingPromise;Tt.currentInstance._destroy(),de||V({isDismissed:!0}),os()&&Kl()}Tt.currentInstance=ms;var Ze=wM(y,E);il(Ze),Object.freeze(Ze),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);var _t=vC(ms);return lm(ms,Ze),zi.innerParams.set(ms,Ze),_C(ms,_t,Ze)}},{key:"then",value:function(y){return P(Em,this).then(y)}},{key:"finally",value:function(y){return P(Em,this).finally(y)}}]),k}(),_C=function(v,y,E){return new Promise(function(V,de){var Ze=function(Nt){v.close({isDismissed:!0,dismiss:Nt})};hr.swalPromiseResolve.set(v,V),hr.swalPromiseReject.set(v,de),y.confirmButton.onclick=function(){!function(v){var y=zi.innerParams.get(v);v.disableButtons(),y.input?_u(v,"confirm"):ed(v,!0)}(v)},y.denyButton.onclick=function(){!function(v){var y=zi.innerParams.get(v);v.disableButtons(),y.returnInputValueOnDeny?_u(v,"deny"):Vr(v,!1)}(v)},y.cancelButton.onclick=function(){!function(v,y){v.disableButtons(),y(Va.cancel)}(v,Ze)},y.closeButton.onclick=function(){Ze(Va.close)},function(v,y,E){v.toast?ls(v,y,E):(Kc(y),Fn(y),Hs(v,y,E))}(E,y,Ze),function(v,y,E){Gc(v),y.toast||(v.keydownHandler=function(V){return lC(y,V,E)},v.keydownTarget=y.keydownListenerCapture?window:Ut(),v.keydownListenerCapture=y.keydownListenerCapture,v.keydownTarget.addEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!0)}(Tt,E,Ze),function(v,y){"select"===y.input||"radio"===y.input?pu(v,y):["text","email","number","tel","textarea"].some(function(E){return E===y.input})&&(Zi(y.inputValue)||ir(y.inputValue))&&(ei(ln()),ko(v,y))}(v,E),Tu(E),bC(Tt,E,Ze),Bf(y,E),setTimeout(function(){y.container.scrollTop=0})})},wM=function(v,y){var E=function(v){var y="string"==typeof v.template?document.querySelector(v.template):v.template;if(!y)return{};var E=y.content;return uo(E),Object.assign(js(E),ku(E),tl(E),cd(E),kr(E),yM(E),Do(E,ua))}(v),V=Object.assign({},Re,y,E,v);return V.showClass=Object.assign({},Re.showClass,V.showClass),V.hideClass=Object.assign({},Re.hideClass,V.hideClass),!1===V.animation&&(V.showClass={backdrop:"swal2-noanimation"},V.hideClass={}),V},vC=function(v){var y={popup:Ut(),container:wi(),actions:Mi(),confirmButton:ln(),denyButton:ao(),cancelButton:so(),loader:Ho(),closeButton:Na(),validationMessage:Oa(),progressSteps:yo()};return zi.domCache.set(v,y),y},bC=function(v,y,E){var V=gn();G(V),y.timer&&(v.timeout=new hC(function(){E("timer"),delete v.timeout},y.timer),y.timerProgressBar&&(ee(V),rr(V,y,"timerProgressBar"),setTimeout(function(){v.timeout&&v.timeout.running&&sr(y.timer)})))},Bf=function(v,y){if(!y.toast){if(!si(y.allowEnterKey))return void yC();zf(v,y)||fc(-1,1)}},zf=function(v,y){return y.focusDeny&&kt(v.denyButton)?(v.denyButton.focus(),!0):y.focusCancel&&kt(v.cancelButton)?(v.cancelButton.focus(),!0):!(!y.focusConfirm||!kt(v.confirmButton)||(v.confirmButton.focus(),0))},yC=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Du=new Date,Iu=localStorage.getItem("swal-initiation");Iu?(Du.getTime()-Date.parse(Iu))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var k=document.createElement("audio");k.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",k.loop=!0,document.body.appendChild(k),setTimeout(function(){k.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Du))}Zn.prototype.disableButtons=vm,Zn.prototype.enableButtons=yu,Zn.prototype.getInput=id,Zn.prototype.disableInput=Nf,Zn.prototype.enableInput=ct,Zn.prototype.hideLoading=td,Zn.prototype.disableLoading=td,Zn.prototype.showValidationMessage=wu,Zn.prototype.resetValidationMessage=Ff,Zn.prototype.close=Lr,Zn.prototype.closePopup=Lr,Zn.prototype.closeModal=Lr,Zn.prototype.closeToast=Lr,Zn.prototype.rejectPromise=hu,Zn.prototype.update=bm,Zn.prototype._destroy=ym,Object.assign(Zn,Zt),Object.keys(Vt).forEach(function(k){Zn[k]=function(){var v;return ms&&ms[k]?(v=ms)[k].apply(v,arguments):null}}),Zn.DismissReason=Va,Zn.version="11.10.7";var ld=Zn;return ld.default=ld,ld}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(En,bt){var P=En.createElement("style");if(En.getElementsByTagName("head")[0].appendChild(P),P.styleSheet)P.styleSheet.disabled||(P.styleSheet.cssText=bt);else try{P.innerHTML=bt}catch{P.innerText=bt}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},399:(ra,En,bt)=>{"use strict";bt.d(En,{Z:()=>xr});var P=bt(58),yt=bt(537),he=bt(823),Et=bt(879);class wt{constructor(Mt,Lt){this._delegate=Mt,this.firebase=Lt,(0,he._addComponent)(Mt,new yt.wA("app-compat",()=>this,"PUBLIC")),this.container=Mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Mt){this._delegate.automaticDataCollectionEnabled=Mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Mt=>{this._delegate.checkDestroyed(),Mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,he.deleteApp)(this._delegate)))}_getService(Mt,Lt=he._DEFAULT_ENTRY_NAME){var Cr;this._delegate.checkDestroyed();const Er=this._delegate.container.getProvider(Mt);return!Er.isInitialized()&&"EXPLICIT"===(null===(Cr=Er.getComponent())||void 0===Cr?void 0:Cr.instantiationMode)&&Er.initialize(),Er.getImmediate({identifier:Lt})}_removeServiceInstance(Mt,Lt=he._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Mt).clearInstance(Lt)}_addComponent(Mt){(0,he._addComponent)(this._delegate,Mt)}_addOrOverwriteComponent(Mt){(0,he._addOrOverwriteComponent)(this._delegate,Mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const kn=new P.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function Yt(){const ki=function fi(ki){const Mt={},Lt={__esModule:!0,initializeApp:function sn(Bt,dr={}){const ge=he.initializeApp(Bt,dr);if((0,P.r3)(Mt,ge.name))return Mt[ge.name];const fn=new ki(ge,Lt);return Mt[ge.name]=fn,fn},app:Er,registerVersion:he.registerVersion,setLogLevel:he.setLogLevel,onLog:he.onLog,apps:null,SDK_VERSION:he.SDK_VERSION,INTERNAL:{registerComponent:function Wi(Bt){const dr=Bt.name,ge=dr.replace("-compat","");if(he._registerComponent(Bt)&&"PUBLIC"===Bt.type){const fn=(an=Er())=>{if("function"!=typeof an[ge])throw kn.create("invalid-app-argument",{appName:dr});return an[ge]()};void 0!==Bt.serviceProps&&(0,P.ZB)(fn,Bt.serviceProps),Lt[ge]=fn,ki.prototype[ge]=function(...an){return this._getService.bind(this,dr).apply(this,Bt.multipleInstances?an:[])}}return"PUBLIC"===Bt.type?Lt[ge]:null},removeApp:function Cr(Bt){delete Mt[Bt]},useAsService:function Gr(Bt,dr){return"serverAuth"===dr?null:dr},modularAPIs:he}};function Er(Bt){if(!(0,P.r3)(Mt,Bt=Bt||he._DEFAULT_ENTRY_NAME))throw kn.create("no-app",{appName:Bt});return Mt[Bt]}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function Ti(){return Object.keys(Mt).map(Bt=>Mt[Bt])}}),Er.App=ki,Lt}(wt);return ki.INTERNAL=Object.assign(Object.assign({},ki.INTERNAL),{createFirebaseNamespace:Yt,extendNamespace:function Mt(Lt){(0,P.ZB)(ki,Lt)},createSubscribe:P.ne,ErrorFactory:P.LL,deepExtend:P.ZB}),ki}(),Se=new Et.Yd("@firebase/app-compat");if((0,P.jU)()&&void 0!==self.firebase){Se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ki=self.firebase.SDK_VERSION;ki&&ki.indexOf("LITE")>=0&&Se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xr=_e;!function hi(ki){(0,he.registerVersion)("@firebase/app-compat","0.2.26",ki)}()},823:(ra,En,bt)=>{"use strict";bt.r(En),bt.d(En,{FirebaseError:()=>Et.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>yo,_addComponent:()=>ao,_addOrOverwriteComponent:()=>Pr,_apps:()=>ln,_clearComponents:()=>gn,_components:()=>so,_getProvider:()=>Mi,_registerComponent:()=>Ho,_removeServiceInstance:()=>wo,deleteApp:()=>_n,getApp:()=>Fa,getApps:()=>ur,initializeApp:()=>ss,onLog:()=>aa,registerVersion:()=>rr,setLogLevel:()=>Wl});var P=bt(861),yt=bt(537),he=bt(879),Et=bt(58);const wt=(Q,$)=>$.some(ke=>Q instanceof ke);let on,kn;const _e=new WeakMap,Se=new WeakMap,et=new WeakMap,Ft=new WeakMap,hi=new WeakMap;let Mt={get(Q,$,ke){if(Q instanceof IDBTransaction){if("done"===$)return Se.get(Q);if("objectStoreNames"===$)return Q.objectStoreNames||et.get(Q);if("store"===$)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return sn(Q[$])},set:(Q,$,ke)=>(Q[$]=ke,!0),has:(Q,$)=>Q instanceof IDBTransaction&&("done"===$||"store"===$)||$ in Q};function Er(Q){return"function"==typeof Q?function Cr(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yt(){return kn||(kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...$){return Q.apply(Ti(this),$),sn(_e.get(this))}:function(...$){return sn(Q.apply(Ti(this),$))}:function($,...ke){const tt=Q.call(Ti(this),$,...ke);return et.set(tt,$.sort?$.sort():[$]),sn(tt)}}(Q):(Q instanceof IDBTransaction&&function ki(Q){if(Se.has(Q))return;const $=new Promise((ke,tt)=>{const Ot=()=>{Q.removeEventListener("complete",ai),Q.removeEventListener("error",X),Q.removeEventListener("abort",X)},ai=()=>{ke(),Ot()},X=()=>{tt(Q.error||new DOMException("AbortError","AbortError")),Ot()};Q.addEventListener("complete",ai),Q.addEventListener("error",X),Q.addEventListener("abort",X)});Se.set(Q,$)}(Q),wt(Q,function fi(){return on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Mt):Q)}function sn(Q){if(Q instanceof IDBRequest)return function xr(Q){const $=new Promise((ke,tt)=>{const Ot=()=>{Q.removeEventListener("success",ai),Q.removeEventListener("error",X)},ai=()=>{ke(sn(Q.result)),Ot()},X=()=>{tt(Q.error),Ot()};Q.addEventListener("success",ai),Q.addEventListener("error",X)});return $.then(ke=>{ke instanceof IDBCursor&&_e.set(ke,Q)}).catch(()=>{}),hi.set($,Q),$}(Q);if(Ft.has(Q))return Ft.get(Q);const $=Er(Q);return $!==Q&&(Ft.set(Q,$),hi.set($,Q)),$}const Ti=Q=>hi.get(Q),Bt=["get","getKey","getAll","getAllKeys","count"],dr=["put","add","delete","clear"],ge=new Map;function fn(Q,$){if(!(Q instanceof IDBDatabase)||$ in Q||"string"!=typeof $)return;if(ge.get($))return ge.get($);const ke=$.replace(/FromIndex$/,""),tt=$!==ke,Ot=dr.includes(ke);if(!(ke in(tt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Bt.includes(ke))return;const ai=function(){var X=(0,P.Z)(function*(dn,...it){const Jt=this.transaction(dn,Ot?"readwrite":"readonly");let Uo=Jt.store;return tt&&(Uo=Uo.index(it.shift())),(yield Promise.all([Uo[ke](...it),Ot&&Jt.done]))[0]});return function(it){return X.apply(this,arguments)}}();return ge.set($,ai),ai}!function Lt(Q){Mt=Q(Mt)}(Q=>({...Q,get:($,ke,tt)=>fn($,ke)||Q.get($,ke,tt),has:($,ke)=>!!fn($,ke)||Q.has($,ke)}));class an{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function qn(Q){const $=Q.getComponent();return"VERSION"===$?.type}(ke)){const tt=ke.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(ke=>ke).join(" ")}}const Tt="@firebase/app",zt=new he.Yd("@firebase/app"),yo="[DEFAULT]",Oa={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,so=new Map;function ao(Q,$){try{Q.container.addComponent($)}catch(ke){zt.debug(`Component ${$.name} failed to register with FirebaseApp ${Q.name}`,ke)}}function Pr(Q,$){Q.container.addOrOverwriteComponent($)}function Ho(Q){const $=Q.name;if(so.has($))return zt.debug(`There were multiple attempts to register component ${$}.`),!1;so.set($,Q);for(const ke of ln.values())ao(ke,Q);return!0}function Mi(Q,$){const ke=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),Q.container.getProvider($)}function wo(Q,$,ke=yo){Mi(Q,$).clearInstance(ke)}function gn(){so.clear()}const xo=new Et.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor($,ke,tt){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new yt.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}const os="10.7.2";function ss(Q,$={}){let ke=Q;"object"!=typeof $&&($={name:$});const tt=Object.assign({name:yo,automaticDataCollectionEnabled:!1},$),Ot=tt.name;if("string"!=typeof Ot||!Ot)throw xo.create("bad-app-name",{appName:String(Ot)});if(ke||(ke=(0,Et.aH)()),!ke)throw xo.create("no-options");const ai=ln.get(Ot);if(ai){if((0,Et.vZ)(ke,ai.options)&&(0,Et.vZ)(tt,ai.config))return ai;throw xo.create("duplicate-app",{appName:Ot})}const X=new yt.H0(Ot);for(const it of so.values())X.addComponent(it);const dn=new Or(ke,tt,X);return ln.set(Ot,dn),dn}function Fa(Q=yo){const $=ln.get(Q);if(!$&&Q===yo&&(0,Et.aH)())return ss();if(!$)throw xo.create("no-app",{appName:Q});return $}function ur(){return Array.from(ln.values())}function _n(Q){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(Q){const $=Q.name;ln.has($)&&(ln.delete($),yield Promise.all(Q.container.getProviders().map(ke=>ke.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function rr(Q,$,ke){var tt;let Ot=null!==(tt=Oa[Q])&&void 0!==tt?tt:Q;ke&&(Ot+=`-${ke}`);const ai=Ot.match(/\s|\//),X=$.match(/\s|\//);if(ai||X){const dn=[`Unable to register library "${Ot}" with version "${$}":`];return ai&&dn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),ai&&X&&dn.push("and"),X&&dn.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void zt.warn(dn.join(" "))}Ho(new yt.wA(`${Ot}-version`,()=>({library:Ot,version:$}),"VERSION"))}function aa(Q,$){if(null!==Q&&"function"!=typeof Q)throw xo.create("invalid-log-argument");(0,he.Am)(Q,$)}function Wl(Q){(0,he.Ub)(Q)}const jc="firebase-heartbeat-database",Xt=1,U="firebase-heartbeat-store";let B=null;function j(){return B||(B=function Wi(Q,$,{blocked:ke,upgrade:tt,blocking:Ot,terminated:ai}={}){const X=indexedDB.open(Q,$),dn=sn(X);return tt&&X.addEventListener("upgradeneeded",it=>{tt(sn(X.result),it.oldVersion,it.newVersion,sn(X.transaction),it)}),ke&&X.addEventListener("blocked",it=>ke(it.oldVersion,it.newVersion,it)),dn.then(it=>{ai&&it.addEventListener("close",()=>ai()),Ot&&it.addEventListener("versionchange",Jt=>Ot(Jt.oldVersion,Jt.newVersion,Jt))}).catch(()=>{}),dn}(jc,Xt,{upgrade:(Q,$)=>{if(0===$)try{Q.createObjectStore(U)}catch(ke){console.warn(ke)}}}).catch(Q=>{throw xo.create("idb-open",{originalErrorMessage:Q.message})})),B}function G(){return(G=(0,P.Z)(function*(Q){try{return yield(yield j()).transaction(U).objectStore(U).get(Pt(Q))}catch($){if($ instanceof Et.ZR)zt.warn($.message);else{const ke=xo.create("idb-get",{originalErrorMessage:$?.message});zt.warn(ke.message)}}})).apply(this,arguments)}function ae(Q,$){return xt.apply(this,arguments)}function xt(){return(xt=(0,P.Z)(function*(Q,$){try{const tt=(yield j()).transaction(U,"readwrite");yield tt.objectStore(U).put($,Pt(Q)),yield tt.done}catch(ke){if(ke instanceof Et.ZR)zt.warn(ke.message);else{const tt=xo.create("idb-set",{originalErrorMessage:ke?.message});zt.warn(tt.message)}}})).apply(this,arguments)}function Pt(Q){return`${Q.name}!${Q.options.appId}`}class or{constructor($){this.container=$,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new Bi(ke),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var $=this;return(0,P.Z)(function*(){var ke,tt;const ai=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=Je();if((null!=(null===(ke=$._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats)||($._heartbeatsCache=yield $._heartbeatsCachePromise,null!=(null===(tt=$._heartbeatsCache)||void 0===tt?void 0:tt.heartbeats)))&&$._heartbeatsCache.lastSentHeartbeatDate!==X&&!$._heartbeatsCache.heartbeats.some(dn=>dn.date===X))return $._heartbeatsCache.heartbeats.push({date:X,agent:ai}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(dn=>{const it=new Date(dn.date).valueOf();return Date.now()-it<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,P.Z)(function*(){var ke;if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null==(null===(ke=$._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats)||0===$._heartbeatsCache.heartbeats.length)return"";const tt=Je(),{heartbeatsToSend:Ot,unsentEntries:ai}=function sr(Q,$=1024){const ke=[];let tt=Q.slice();for(const Ot of Q){const ai=ke.find(X=>X.agent===Ot.agent);if(ai){if(ai.dates.push(Ot.date),as(ke)>$){ai.dates.pop();break}}else if(ke.push({agent:Ot.agent,dates:[Ot.date]}),as(ke)>$){ke.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:tt}}($._heartbeatsCache.heartbeats),X=(0,Et.L)(JSON.stringify({version:2,heartbeats:Ot}));return $._heartbeatsCache.lastSentHeartbeatDate=tt,ai.length>0?($._heartbeatsCache.heartbeats=ai,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),X})()}}function Je(){return(new Date).toISOString().substring(0,10)}class Bi{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,P.Z)(function*(){return!!(0,Et.hl)()&&(0,Et.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,P.Z)(function*(){if(yield $._canUseIndexedDBPromise){const tt=yield function ee(Q){return G.apply(this,arguments)}($.app);return tt?.heartbeats?tt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite($){var ke=this;return(0,P.Z)(function*(){var tt;if(yield ke._canUseIndexedDBPromise){const ai=yield ke.read();return ae(ke.app,{lastSentHeartbeatDate:null!==(tt=$.lastSentHeartbeatDate)&&void 0!==tt?tt:ai.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var ke=this;return(0,P.Z)(function*(){var tt;if(yield ke._canUseIndexedDBPromise){const ai=yield ke.read();return ae(ke.app,{lastSentHeartbeatDate:null!==(tt=$.lastSentHeartbeatDate)&&void 0!==tt?tt:ai.lastSentHeartbeatDate,heartbeats:[...ai.heartbeats,...$.heartbeats]})}})()}}function as(Q){return(0,Et.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function lu(Q){Ho(new yt.wA("platform-logger",$=>new an($),"PRIVATE")),Ho(new yt.wA("heartbeat",$=>new or($),"PRIVATE")),rr(Tt,"0.9.26",Q),rr(Tt,"0.9.26","esm2017"),rr("fire-js","")}("")},191:(ra,En,bt)=>{"use strict";bt.r(En);var P=bt(861),yt=bt(399),he=bt(58),Et=bt(823),wt=bt(879),on=bt(582),kn=bt(537);const Yt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const xr=function Ft(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ki=function hi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cr=new wt.Yd("@firebase/auth");function sn(f,...u){Cr.logLevel<=wt.in.ERROR&&Cr.error(`Auth (${Et.SDK_VERSION}): ${f}`,...u)}function Ti(f,...u){throw dr(f,...u)}function Wi(f,...u){return dr(f,...u)}function Gr(f,u,m){const _=Object.assign(Object.assign({},ki()),{[u]:m});return new he.LL("auth","Firebase",_).create(u,{appName:f.name})}function Bt(f,u,m){if(!(u instanceof m))throw m.name!==u.constructor.name&&Ti(f,"argument-error"),Gr(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dr(f,...u){if("string"!=typeof f){const m=u[0],_=[...u.slice(1)];return _[0]&&(_[0].appName=f.name),f._errorFactory.create(m,..._)}return Mt.create(f,...u)}function ge(f,u,...m){if(!f)throw dr(u,...m)}function fn(f){const u="INTERNAL ASSERTION FAILED: "+f;throw sn(u),new Error(u)}function an(f,u){f||fn(u)}function qn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Tt(){return"http:"===Ns()||"https:"===Ns()}function Ns(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Fs{constructor(u,m){this.shortDelay=u,this.longDelay=m,an(m>u,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O(f,u){an(f.emulator,"Emulator should always be set here");const{url:m}=f.emulator;return u?`${m}${u.startsWith("/")?u.slice(1):u}`:m}class le{static initialize(u,m,_){this.fetchImpl=u,m&&(this.headersImpl=m),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new Fs(3e4,6e4);function be(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function te(f,u,m,_){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,P.Z)(function*(f,u,m,_,C={}){return ui(f,C,(0,P.Z)(function*(){let I={},H={};_&&("GET"===u?H=_:I={body:JSON.stringify(_)});const K=(0,he.xO)(Object.assign({key:f.config.apiKey},H)).slice(1),pe=yield f._getAdditionalHeaders();return pe["Content-Type"]="application/json",f.languageCode&&(pe["X-Firebase-Locale"]=f.languageCode),le.fetch()(Zi(f,f.config.apiHost,m,K),Object.assign({method:u,headers:pe,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function ui(f,u,m){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(f,u,m){f._canInitEmulator=!1;const _=Object.assign(Object.assign({},q),u);try{const C=new ir(f),I=yield Promise.race([m(),C.promise]);C.clearNetworkTimeout();const H=yield I.json();if("needConfirmation"in H)throw wi(f,"account-exists-with-different-credential",H);if(I.ok&&!("errorMessage"in H))return H;{const K=I.ok?H.errorMessage:H.error.message,[pe,je]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pe)throw wi(f,"credential-already-in-use",H);if("EMAIL_EXISTS"===pe)throw wi(f,"email-already-in-use",H);if("USER_DISABLED"===pe)throw wi(f,"user-disabled",H);const nt=_[pe]||pe.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Gr(f,nt,je);Ti(f,nt)}}catch(C){if(C instanceof he.ZR)throw C;Ti(f,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function dt(f,u,m,_){return si.apply(this,arguments)}function si(){return(si=(0,P.Z)(function*(f,u,m,_,C={}){const I=yield te(f,u,m,_,C);return"mfaPendingCredential"in I&&Ti(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Zi(f,u,m,_){const C=`${u}${m}?${_}`;return f.config.emulator?O(f.config,C):`${f.config.apiScheme}://${C}`}function Ri(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ir{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((m,_)=>{this.timer=setTimeout(()=>_(Wi(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wi(f,u,m){const _={appName:f.name};m.email&&(_.email=m.email),m.phoneNumber&&(_.phoneNumber=m.phoneNumber);const C=Wi(f,u,_);return C.customData._tokenResponse=m,C}function nr(f){return void 0!==f&&void 0!==f.getResponse}function Vi(f){return void 0!==f&&void 0!==f.enterprise}class Ut{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===u)return Ri(m.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function sa(){return(sa=(0,P.Z)(function*(f){return(yield te(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cn(f,u){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(f,u){return te(f,"GET","/v2/recaptchaConfig",be(f,u))})).apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Pr(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function wo(){return(wo=(0,P.Z)(function*(f,u=!1){const m=(0,he.m9)(f),_=yield m.getIdToken(u),C=Na(_);ge(C&&C.exp&&C.auth_time&&C.iat,m.auth,"internal-error");const I="object"==typeof C.firebase?C.firebase:void 0,H=I?.sign_in_provider;return{claims:C,token:_,authTime:Pr(gn(C.auth_time)),issuedAtTime:Pr(gn(C.iat)),expirationTime:Pr(gn(C.exp)),signInProvider:H||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(f){return 1e3*Number(f)}function Na(f){const[u,m,_]=f.split(".");if(void 0===u||void 0===m||void 0===_)return sn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,he.tV)(m);return C?JSON.parse(C):(sn("Failed to decode base64 JWT payload"),null)}catch(C){return sn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Or(f,u){return os.apply(this,arguments)}function os(){return(os=(0,P.Z)(function*(f,u,m=!1){if(m)return u;try{return yield u}catch(_){throw _ instanceof he.ZR&&function ss({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(_)&&f.auth.currentUser===f&&(yield f.auth.signOut()),_}})).apply(this,arguments)}class Fa{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var m;if(u){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var m=this;if(!this.isRunning)return;const _=this.getInterval(u);this.timerId=setTimeout((0,P.Z)(function*(){yield m.iteration()}),_)}iteration(){var u=this;return(0,P.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&u.schedule(!0))}u.schedule()})()}}class ur{constructor(u,m){this.createdAt=u,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _n(f){return co.apply(this,arguments)}function co(){return co=(0,P.Z)(function*(f){var u;const m=f.auth,_=yield f.getIdToken(),C=yield Or(f,function so(f,u){return ao.apply(this,arguments)}(m,{idToken:_}));ge(C?.users.length,m,"internal-error");const I=C.users[0];f._notifyReloadListener(I);const H=null!==(u=I.providerUserInfo)&&void 0!==u&&u.length?function jc(f){return f.map(u=>{var{providerId:m}=u,_=(0,on._T)(u,["providerId"]);return{providerId:m,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(I.providerUserInfo):[],K=function Wl(f,u){return[...f.filter(_=>!u.some(C=>C.providerId===_.providerId)),...u]}(f.providerData,H),nt=!!f.isAnonymous&&!(f.email&&I.passwordHash||K?.length),st={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:K,metadata:new ur(I.createdAt,I.lastLoginAt),isAnonymous:nt};Object.assign(f,st)}),co.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(f){const u=(0,he.m9)(f);yield _n(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function U(){return(U=(0,P.Z)(function*(f,u){const m=yield ui(f,{},(0,P.Z)(function*(){const _=(0,he.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:I}=f.config,H=Zi(f,C,"/v1/token",`key=${I}`),K=yield f._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(H,{method:"POST",headers:K,body:_})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(f,u){return te(f,"POST","/v2/accounts:revokeToken",be(f,u))})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ge(u.idToken,"internal-error"),ge(typeof u.idToken<"u","internal-error"),ge(typeof u.refreshToken<"u","internal-error");const m="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function xo(f){const u=Na(f);return ge(u,"internal-error"),ge(typeof u.exp<"u","internal-error"),ge(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,m)}getToken(u,m=!1){var _=this;return(0,P.Z)(function*(){return ge(!_.accessToken||_.refreshToken,u,"user-token-expired"),m||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(u,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,m){var _=this;return(0,P.Z)(function*(){const{accessToken:C,refreshToken:I,expiresIn:H}=yield function Xt(f,u){return U.apply(this,arguments)}(u,m);_.updateTokensAndExpiration(C,I,Number(H))})()}updateTokensAndExpiration(u,m,_){this.refreshToken=m||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(u,m){const{refreshToken:_,accessToken:C,expirationTime:I}=m,H=new ee;return _&&(ge("string"==typeof _,"internal-error",{appName:u}),H.refreshToken=_),C&&(ge("string"==typeof C,"internal-error",{appName:u}),H.accessToken=C),I&&(ge("number"==typeof I,"internal-error",{appName:u}),H.expirationTime=I),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return fn("not implemented")}}function G(f,u){ge("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class ae{constructor(u){var{uid:m,auth:_,stsTokenManager:C}=u,I=(0,on._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new ur(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(u){var m=this;return(0,P.Z)(function*(){const _=yield Or(m,m.stsTokenManager.getToken(m.auth,u));return ge(_,m.auth,"internal-error"),m.accessToken!==_&&(m.accessToken=_,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),_})()}getIdTokenResult(u){return function Mi(f){return wo.apply(this,arguments)}(this,u)}reload(){return function rr(f){return aa.apply(this,arguments)}(this)}_assign(u){this!==u&&(ge(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(m=>Object.assign({},m)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const m=new ae(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(u){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,m=!1){var _=this;return(0,P.Z)(function*(){let C=!1;u.idToken&&u.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(u),C=!0),m&&(yield _n(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var u=this;return(0,P.Z)(function*(){const m=yield u.getIdToken();return yield Or(u,function Uc(f,u){return yo.apply(this,arguments)}(u.auth,{idToken:m})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,m){var _,C,I,H,K,pe,je,nt;const st=null!==(_=m.displayName)&&void 0!==_?_:void 0,Kn=null!==(C=m.email)&&void 0!==C?C:void 0,ma=null!==(I=m.phoneNumber)&&void 0!==I?I:void 0,hg=null!==(H=m.photoURL)&&void 0!==H?H:void 0,lE=null!==(K=m.tenantId)&&void 0!==K?K:void 0,zu=null!==(pe=m._redirectEventId)&&void 0!==pe?pe:void 0,qb=null!==(je=m.createdAt)&&void 0!==je?je:void 0,dE=null!==(nt=m.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:mg,emailVerified:d1,isAnonymous:Yb,providerData:uE,stsTokenManager:hE}=m;ge(mg&&hE,u,"internal-error");const u1=ee.fromJSON(this.name,hE);ge("string"==typeof mg,u,"internal-error"),G(st,u.name),G(Kn,u.name),ge("boolean"==typeof d1,u,"internal-error"),ge("boolean"==typeof Yb,u,"internal-error"),G(ma,u.name),G(hg,u.name),G(lE,u.name),G(zu,u.name),G(qb,u.name),G(dE,u.name);const jm=new ae({uid:mg,auth:u,email:Kn,emailVerified:d1,displayName:st,isAnonymous:Yb,photoURL:hg,phoneNumber:ma,tenantId:lE,stsTokenManager:u1,createdAt:qb,lastLoginAt:dE});return uE&&Array.isArray(uE)&&(jm.providerData=uE.map(F3=>Object.assign({},F3))),zu&&(jm._redirectEventId=zu),jm}static _fromIdTokenResponse(u,m,_=!1){return(0,P.Z)(function*(){const C=new ee;C.updateFromServerResponse(m);const I=new ae({uid:m.localId,auth:u,stsTokenManager:C,isAnonymous:_});return yield _n(I),I})()}}const xt=new Map;function Pt(f){an(f instanceof Function,"Expected a class definition");let u=xt.get(f);return u?(an(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,xt.set(f,u),u)}const Ki=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,P.Z)(function*(){return!0})()}_set(m,_){var C=this;return(0,P.Z)(function*(){C.storage[m]=_})()}_get(m){var _=this;return(0,P.Z)(function*(){const C=_.storage[m];return void 0===C?null:C})()}_remove(m){var _=this;return(0,P.Z)(function*(){delete _.storage[m]})()}_addListener(m,_){}_removeListener(m,_){}}return f.type="NONE",f})();function or(f,u,m){return`firebase:${f}:${u}:${m}`}class Je{constructor(u,m,_){this.persistence=u,this.auth=m,this.userKey=_;const{config:C,name:I}=this.auth;this.fullUserKey=or(this.userKey,C.apiKey,I),this.fullPersistenceKey=or("persistence",C.apiKey,I),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,P.Z)(function*(){const m=yield u.persistence._get(u.fullUserKey);return m?ae._fromJSON(u.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var m=this;return(0,P.Z)(function*(){if(m.persistence===u)return;const _=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=u,_?m.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,m,_="authUser"){return(0,P.Z)(function*(){if(!m.length)return new Je(Pt(Ki),u,_);const C=(yield Promise.all(m.map(function(){var je=(0,P.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return je.apply(this,arguments)}}()))).filter(je=>je);let I=C[0]||Pt(Ki);const H=or(_,u.config.apiKey,u.name);let K=null;for(const je of m)try{const nt=yield je._get(H);if(nt){const st=ae._fromJSON(u,nt);je!==I&&(K=st),I=je;break}}catch{}const pe=C.filter(je=>je._shouldAllowMigration);return I._shouldAllowMigration&&pe.length?(I=pe[0],K&&(yield I._set(H,K.toJSON())),yield Promise.all(m.map(function(){var je=(0,P.Z)(function*(nt){if(nt!==I)try{yield nt._remove(H)}catch{}});return function(nt){return je.apply(this,arguments)}}())),new Je(I,u,_)):new Je(I,u,_)})()}}function sr(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Q(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Bi(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ke(u))return"Blackberry";if(tt(u))return"Webos";if(as(u))return"Safari";if((u.includes("chrome/")||lu(u))&&!u.includes("edge/"))return"Chrome";if($(u))return"Android";{const _=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Bi(f=(0,he.z$)()){return/firefox\//i.test(f)}function as(f=(0,he.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function lu(f=(0,he.z$)()){return/crios\//i.test(f)}function Q(f=(0,he.z$)()){return/iemobile/i.test(f)}function $(f=(0,he.z$)()){return/android/i.test(f)}function ke(f=(0,he.z$)()){return/blackberry/i.test(f)}function tt(f=(0,he.z$)()){return/webos/i.test(f)}function Ot(f=(0,he.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function it(f=(0,he.z$)()){return Ot(f)||$(f)||tt(f)||ke(f)||/windows phone/i.test(f)||Q(f)}function Uo(f,u=[]){let m;switch(f){case"Browser":m=sr((0,he.z$)());break;case"Worker":m=`${sr((0,he.z$)())}-${f}`;break;default:m=f}const _=u.length?u.join(","):"FirebaseCore-web";return`${m}/JsCore/${Et.SDK_VERSION}/${_}`}class iC{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,m){const _=I=>new Promise((H,K)=>{try{H(u(I))}catch(pe){K(pe)}});_.onAbort=m,this.queue.push(_);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var m=this;return(0,P.Z)(function*(){if(m.auth.currentUser===u)return;const _=[];try{for(const C of m.queue)yield C(u),C.onAbort&&_.push(C.onAbort)}catch(C){_.reverse();for(const I of _)try{I()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function $l(){return($l=(0,P.Z)(function*(f,u={}){return te(f,"GET","/v2/passwordPolicy",be(f,u))})).apply(this,arguments)}class nC{constructor(u){var m,_,C,I;const H=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=H.minPasswordLength)&&void 0!==m?m:6,H.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=H.maxPasswordLength),void 0!==H.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=H.containsLowercaseCharacter),void 0!==H.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=H.containsUppercaseCharacter),void 0!==H.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=H.containsNumericCharacter),void 0!==H.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=H.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(_=u.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(I=u.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=u.schemaVersion}validatePassword(u){var m,_,C,I,H,K;const pe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,pe),this.validatePasswordCharacterOptions(u,pe),pe.isValid&&(pe.isValid=null===(m=pe.meetsMinPasswordLength)||void 0===m||m),pe.isValid&&(pe.isValid=null===(_=pe.meetsMaxPasswordLength)||void 0===_||_),pe.isValid&&(pe.isValid=null===(C=pe.containsLowercaseLetter)||void 0===C||C),pe.isValid&&(pe.isValid=null===(I=pe.containsUppercaseLetter)||void 0===I||I),pe.isValid&&(pe.isValid=null===(H=pe.containsNumericCharacter)||void 0===H||H),pe.isValid&&(pe.isValid=null===(K=pe.containsNonAlphanumericCharacter)||void 0===K||K),pe}validatePasswordLengthOptions(u,m){const _=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;_&&(m.meetsMinPasswordLength=u.length>=_),C&&(m.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,m){let _;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let C=0;C<u.length;C++)_=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(m,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(u,m,_,C,I){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=I))}}class ib{constructor(u,m,_,C){this.app=u,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new La(this),this.idTokenSubscription=new La(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,m){var _=this;return m&&(this._popupRedirectResolver=Pt(m)),this._initializationPromise=this.queue((0,P.Z)(function*(){var C,I;if(!_._deleted&&(_.persistenceManager=yield Je.create(_,u),!_._deleted)){if(null!==(C=_._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(m),_.lastNotifiedUid=(null===(I=_.currentUser)||void 0===I?void 0:I.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,P.Z)(function*(){if(u._deleted)return;const m=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||m){if(u.currentUser&&m&&u.currentUser.uid===m.uid)return u._currentUser._assign(m),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(m,!0)}})()}initializeCurrentUser(u){var m=this;return(0,P.Z)(function*(){var _;const C=yield m.assertedPersistence.getCurrentUser();let I=C,H=!1;if(u&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(_=m.redirectUser)||void 0===_?void 0:_._redirectEventId,pe=I?._redirectEventId,je=yield m.tryRedirectSignIn(u);(!K||K===pe)&&je?.user&&(I=je.user,H=!0)}if(!I)return m.directlySetCurrentUser(null);if(!I._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(I)}catch(K){I=C,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return I?m.reloadAndSetCurrentUserOrClear(I):m.directlySetCurrentUser(null)}return ge(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===I._redirectEventId?m.directlySetCurrentUser(I):m.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(u){var m=this;return(0,P.Z)(function*(){let _=null;try{_=yield m._popupRedirectResolver._completeRedirectFn(m,u,!0)}catch{yield m._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(u){var m=this;return(0,P.Z)(function*(){try{yield _n(u)}catch(_){if("auth/network-request-failed"!==_?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function oa(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,P.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var m=this;return(0,P.Z)(function*(){const _=u?(0,he.m9)(u):null;return _&&ge(_.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(_&&_._clone(m))})()}_updateCurrentUser(u,m=!1){var _=this;return(0,P.Z)(function*(){if(!_._deleted)return u&&ge(_.tenantId===u.tenantId,_,"tenant-id-mismatch"),m||(yield _.beforeStateQueue.runMiddleware(u)),_.queue((0,P.Z)(function*(){yield _.directlySetCurrentUser(u),_.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,P.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var m=this;return this.queue((0,P.Z)(function*(){yield m.assertedPersistence.setPersistence(Pt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var m=this;return(0,P.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const _=m._getPasswordPolicyInternal();return _.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,P.Z)(function*(){const m=yield function tb(f){return $l.apply(this,arguments)}(u),_=new nC(m);null===u.tenantId?u._projectPasswordPolicy=_:u._tenantPasswordPolicies[u.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new he.LL("auth","Firebase",u())}onAuthStateChanged(u,m,_){return this.registerStateListener(this.authStateSubscription,u,m,_)}beforeAuthStateChanged(u,m){return this.beforeStateQueue.pushCallback(u,m)}onIdTokenChanged(u,m,_){return this.registerStateListener(this.idTokenSubscription,u,m,_)}authStateReady(){return new Promise((u,m)=>{if(this.currentUser)u();else{const _=this.onAuthStateChanged(()=>{_(),u()},m)}})}revokeAccessToken(u){var m=this;return(0,P.Z)(function*(){if(m.currentUser){const _=yield m.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:_};null!=m.tenantId&&(C.tenantId=m.tenantId),yield function B(f,u){return j.apply(this,arguments)}(m,C)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,m){var _=this;return(0,P.Z)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(m);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var m=this;return(0,P.Z)(function*(){if(!m.redirectPersistenceManager){const _=u&&Pt(u)||m._popupRedirectResolver;ge(_,m,"argument-error"),m.redirectPersistenceManager=yield Je.create(m,[Pt(_._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(u){var m=this;return(0,P.Z)(function*(){var _,C;return m._isInitialized&&(yield m.queue((0,P.Z)(function*(){}))),(null===(_=m._currentUser)||void 0===_?void 0:_._redirectEventId)===u?m._currentUser:(null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?m.redirectUser:null})()}_persistUserIfCurrent(u){var m=this;return(0,P.Z)(function*(){if(u===m.currentUser)return m.queue((0,P.Z)(function*(){return m.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(m=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,m,_,C){if(this._deleted)return()=>{};const I="function"==typeof m?m:m.next.bind(m);let H=!1;const K=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(K,this,"internal-error"),K.then(()=>{H||I(this.currentUser)}),"function"==typeof m){const pe=u.addObserver(m,_,C);return()=>{H=!0,pe()}}{const pe=u.addObserver(m);return()=>{H=!0,pe()}}}directlySetCurrentUser(u){var m=this;return(0,P.Z)(function*(){m.currentUser&&m.currentUser!==u&&m._currentUser._stopProactiveRefresh(),u&&m.isProactiveRefreshEnabled&&u._startProactiveRefresh(),m.currentUser=u,u?yield m.assertedPersistence.setCurrentUser(u):yield m.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Uo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,P.Z)(function*(){var m;const _={"X-Client-Version":u.clientVersion};u.app.options.appId&&(_["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(m=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();C&&(_["X-Firebase-Client"]=C);const I=yield u._getAppCheckToken();return I&&(_["X-Firebase-AppCheck"]=I),_})()}_getAppCheckToken(){var u=this;return(0,P.Z)(function*(){var m;const _=yield null===(m=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return _?.error&&function Er(f,...u){Cr.logLevel<=wt.in.WARN&&Cr.warn(`Auth (${Et.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function un(f){return(0,he.m9)(f)}class La{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,he.ne)(m=>this.observer=m)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zi(f){return new Promise((u,m)=>{const _=document.createElement("script");_.setAttribute("src",f),_.onload=u,_.onerror=C=>{const I=Wi("internal-error");I.customData=C,m(I)},_.type="text/javascript",_.charset="UTF-8",function rC(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(_)})}function nb(f){return`__${f}${Math.floor(1e6*Math.random())}`}class kf{constructor(u){this.type="recaptcha-enterprise",this.auth=un(u)}verify(u="verify",m=!1){var _=this;return(0,P.Z)(function*(){function I(){return I=(0,P.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var pe=(0,P.Z)(function*(je,nt){cn(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const Kn=new Ut(st);return null==K.tenantId?K._agentRecaptchaConfig=Kn:K._tenantRecaptchaConfigs[K.tenantId]=Kn,je(Kn.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{nt(st)})});return function(je,nt){return pe.apply(this,arguments)}}())}),I.apply(this,arguments)}function H(K,pe,je){const nt=window.grecaptcha;Vi(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(K,{action:u}).then(st=>{pe(st)}).catch(()=>{pe("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,pe)=>{(function C(K){return I.apply(this,arguments)})(_.auth).then(je=>{if(!m&&Vi(window.grecaptcha))H(je,K,pe);else{if(typeof window>"u")return void pe(new Error("RecaptchaVerifier is only supported in browser"));zi("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{H(je,K,pe)}).catch(nt=>{pe(nt)})}}).catch(je=>{pe(je)})})})()}}function ob(f,u,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(f,u,m,_=!1){const C=new kf(f);let I;try{I=yield C.verify(m)}catch{I=yield C.verify(m,!0)}const H=Object.assign({},u);return Object.assign(H,_?{captchaResp:I}:{captchaResponse:I}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}function ft(f,u,m,_){return om.apply(this,arguments)}function om(){return om=(0,P.Z)(function*(f,u,m,_){var C;if(null!==(C=f._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield ob(f,u,m,"getOobCode"===m);return _(f,I)}return _(f,u).catch(function(){var I=(0,P.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const K=yield ob(f,u,m,"getOobCode"===m);return _(f,K)}return Promise.reject(H)});return function(H){return I.apply(this,arguments)}}())}),om.apply(this,arguments)}function Wc(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function am(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Vs{constructor(u,m){this.providerId=u,this.signInMethod=m}toJSON(){return fn("not implemented")}_getIdTokenResponse(u){return fn("not implemented")}_linkToIdToken(u,m){return fn("not implemented")}_getReauthenticationResolver(u){return fn("not implemented")}}function Gl(f,u){return $c.apply(this,arguments)}function $c(){return($c=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:resetPassword",be(f,u))})).apply(this,arguments)}function cm(){return(cm=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ci(f,u){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",be(f,u))})).apply(this,arguments)}function If(f,u){return lm.apply(this,arguments)}function lm(){return(lm=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithPassword",be(f,u))})).apply(this,arguments)}function Pi(f,u){return dm.apply(this,arguments)}function dm(){return(dm=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:sendOobCode",be(f,u))})).apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(f,u){return Pi(f,u)})).apply(this,arguments)}function Va(f,u){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,P.Z)(function*(f,u){return Pi(f,u)})).apply(this,arguments)}function Sf(f,u){return fc.apply(this,arguments)}function fc(){return(fc=(0,P.Z)(function*(f,u){return Pi(f,u)})).apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(f,u){return Pi(f,u)})).apply(this,arguments)}function Af(){return(Af=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithEmailLink",be(f,u))})).apply(this,arguments)}function Rf(){return(Rf=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithEmailLink",be(f,u))})).apply(this,arguments)}class du extends Vs{constructor(u,m,_,C=null){super("password",_),this._email=u,this._password=m,this._tenantId=C}static _fromEmailAndPassword(u,m){return new du(u,m,"password")}static _fromEmailAndCode(u,m,_=null){return new du(u,m,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(u){var m=this;return(0,P.Z)(function*(){switch(m.signInMethod){case"password":return ft(u,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",If);case"emailLink":return function lC(f,u){return Af.apply(this,arguments)}(u,{email:m._email,oobCode:m._password});default:Ti(u,"internal-error")}})()}_linkToIdToken(u,m){var _=this;return(0,P.Z)(function*(){switch(_.signInMethod){case"password":return ft(u,{idToken:m,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci);case"emailLink":return function dC(f,u){return Rf.apply(this,arguments)}(u,{idToken:m,email:_._email,oobCode:_._password});default:Ti(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function hr(f,u){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithIdp",be(f,u))})).apply(this,arguments)}class cs extends Vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const m=new cs(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(m.idToken=u.idToken),u.accessToken&&(m.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(m.nonce=u.nonce),u.pendingToken&&(m.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(m.accessToken=u.oauthToken,m.secret=u.oauthTokenSecret):Ti("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C}=m,I=(0,on._T)(m,["providerId","signInMethod"]);if(!_||!C)return null;const H=new cs(_,C);return H.idToken=I.idToken||void 0,H.accessToken=I.accessToken||void 0,H.secret=I.secret,H.nonce=I.nonce,H.pendingToken=I.pendingToken||null,H}_getIdTokenResponse(u){return hr(u,this.buildRequest())}_linkToIdToken(u,m){const _=this.buildRequest();return _.idToken=m,hr(u,_)}_getReauthenticationResolver(u){const m=this.buildRequest();return m.autoCreate=!1,hr(u,m)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),u.postBody=(0,he.xO)(m)}return u}}function um(){return(um=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:sendVerificationCode",be(f,u))})).apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithPhoneNumber",be(f,u))})).apply(this,arguments)}function Bs(){return(Bs=(0,P.Z)(function*(f,u){const m=yield dt(f,"POST","/v1/accounts:signInWithPhoneNumber",be(f,u));if(m.temporaryProof)throw wi(f,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const db={USER_NOT_FOUND:"user-not-found"};function uu(){return(uu=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithPhoneNumber",be(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),db)})).apply(this,arguments)}class Ie extends Vs{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,m){return new Ie({verificationId:u,verificationCode:m})}static _fromTokenResponse(u,m){return new Ie({phoneNumber:u,temporaryProof:m})}_getIdTokenResponse(u){return function Pf(f,u){return Ba.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,m){return function lb(f,u){return Bs.apply(this,arguments)}(u,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function W(f,u){return uu.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:m,verificationId:_,verificationCode:C}=this.params;return u&&m?{temporaryProof:u,phoneNumber:m}:{sessionInfo:_,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:m,verificationCode:_,phoneNumber:C,temporaryProof:I}=u;return _||m||C||I?new Ie({verificationId:m,verificationCode:_,phoneNumber:C,temporaryProof:I}):null}}class Lr{constructor(u){var m,_,C,I,H,K;const pe=(0,he.zd)((0,he.pd)(u)),je=null!==(m=pe.apiKey)&&void 0!==m?m:null,nt=null!==(_=pe.oobCode)&&void 0!==_?_:null,st=function Ql(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=pe.mode)&&void 0!==C?C:null);ge(je&&nt&&st,"argument-error"),this.apiKey=je,this.operation=st,this.code=nt,this.continueUrl=null!==(I=pe.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(H=pe.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(K=pe.tenantId)&&void 0!==K?K:null}static parseLink(u){const m=function hm(f){const u=(0,he.zd)((0,he.pd)(f)).link,m=u?(0,he.zd)((0,he.pd)(u)).deep_link_id:null,_=(0,he.zd)((0,he.pd)(f)).deep_link_id;return(_?(0,he.zd)((0,he.pd)(_)).link:null)||_||m||u||f}(u);try{return new Lr(m)}catch{return null}}}let hu=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(m,_){return du._fromEmailAndPassword(m,_)}static credentialWithLink(m,_){const C=Lr.parseLink(_);return ge(C,"argument-error"),du._fromEmailAndCode(m,C.code,C.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Co{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class lo extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class ca extends lo{static credentialFromJSON(u){const m="string"==typeof u?JSON.parse(u):u;return ge("providerId"in m&&"signInMethod"in m,"argument-error"),cs._fromParams(m)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ge(u.idToken||u.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return ca.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return ca.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:I,nonce:H,providerId:K}=u;if(!_&&!C&&!m&&!I||!K)return null;try{return new ca(K)._credential({idToken:m,accessToken:_,nonce:H,pendingToken:I})}catch{return null}}}let Eo=(()=>{class f extends lo{constructor(){super("facebook.com")}static credential(m){return cs._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return f.credential(m.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),jo=(()=>{class f extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,_){return cs._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:_})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C}=m;if(!_&&!C)return null;try{return f.credential(_,C)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),ei=(()=>{class f extends lo{constructor(){super("github.com")}static credential(m){return cs._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return f.credential(m.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class za extends Vs{constructor(u,m){super(u,u),this.pendingToken=m}_getIdTokenResponse(u){return hr(u,this.buildRequest())}_linkToIdToken(u,m){const _=this.buildRequest();return _.idToken=m,hr(u,_)}_getReauthenticationResolver(u){const m=this.buildRequest();return m.autoCreate=!1,hr(u,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C,pendingToken:I}=m;return _&&C&&I&&_===C?new za(_,I):null}static _create(u,m){return new za(u,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xl extends Co{constructor(u){ge(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Xl.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Xl.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const m=za.fromJSON(u);return ge(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:m,providerId:_}=u;if(!m||!_)return null;try{return za._create(_,m)}catch{return null}}}let zs=(()=>{class f extends lo{constructor(){super("twitter.com")}static credential(m,_){return cs._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:_})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=m;if(!_||!C)return null;try{return f.credential(_,C)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function qc(f,u){return pu.apply(this,arguments)}function pu(){return(pu=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signUp",be(f,u))})).apply(this,arguments)}class ko{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,m,_,C=!1){return(0,P.Z)(function*(){const I=yield ae._fromIdTokenResponse(u,_,C),H=fu(_);return new ko({user:I,providerId:H,_tokenResponse:_,operationType:m})})()}static _forOperation(u,m,_){return(0,P.Z)(function*(){yield u._updateTokensIfNecessary(_,!0);const C=fu(_);return new ko({user:u,providerId:C,_tokenResponse:_,operationType:m})})()}}function fu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Jl(){return(Jl=(0,P.Z)(function*(f){var u;const m=un(f);if(yield m._initializationPromise,null!==(u=m.currentUser)&&void 0!==u&&u.isAnonymous)return new ko({user:m.currentUser,providerId:null,operationType:"signIn"});const _=yield qc(m,{returnSecureToken:!0}),C=yield ko._fromIdTokenResponse(m,"signIn",_,!0);return yield m._updateCurrentUser(C.user),C})).apply(this,arguments)}class la extends he.ZR{constructor(u,m,_,C){var I;super(m.code,m.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,la.prototype),this.customData={appName:u.name,tenantId:null!==(I=u.tenantId)&&void 0!==I?I:void 0,_serverResponse:m.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(u,m,_,C){return new la(u,m,_,C)}}function Yc(f,u,m,_){return("reauthenticate"===u?m._getReauthenticationResolver(f):m._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?la._fromErrorAndOperation(f,I,u,_):I})}function pm(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function gu(){return gu=(0,P.Z)(function*(f,u){const m=(0,he.m9)(f);yield Vr(!0,m,u);const{providerUserInfo:_}=yield function Oa(f,u){return ln.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[u]}),C=pm(_||[]);return m.providerData=m.providerData.filter(I=>C.has(I.providerId)),C.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),gu.apply(this,arguments)}function _u(f,u){return fm.apply(this,arguments)}function fm(){return(fm=(0,P.Z)(function*(f,u,m=!1){const _=yield Or(f,u._linkToIdToken(f.auth,yield f.getIdToken()),m);return ko._forOperation(f,"link",_)})).apply(this,arguments)}function Vr(f,u,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,P.Z)(function*(f,u,m){yield _n(u);const C=!1===f?"provider-already-linked":"no-such-provider";ge(pm(u.providerData).has(m)===f,u.auth,C)})).apply(this,arguments)}function bu(f,u){return ed.apply(this,arguments)}function ed(){return(ed=(0,P.Z)(function*(f,u,m=!1){const{auth:_}=f,C="reauthenticate";try{const I=yield Or(f,Yc(_,C,u,f),m);ge(I.idToken,_,"internal-error");const H=Na(I.idToken);ge(H,_,"internal-error");const{sub:K}=H;return ge(f.uid===K,_,"user-mismatch"),ko._forOperation(f,C,I)}catch(I){throw"auth/user-not-found"===I?.code&&Ti(_,"user-mismatch"),I}})).apply(this,arguments)}function td(f,u){return gm.apply(this,arguments)}function gm(){return(gm=(0,P.Z)(function*(f,u,m=!1){const _="signIn",C=yield Yc(f,_,u),I=yield ko._fromIdTokenResponse(f,_,C);return m||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function id(f,u){return nd.apply(this,arguments)}function nd(){return(nd=(0,P.Z)(function*(f,u){return td(un(f),u)})).apply(this,arguments)}function _m(f,u){return yu.apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(f,u){const m=(0,he.m9)(f);return yield Vr(!1,m,u.providerId),_u(m,u)})).apply(this,arguments)}function vm(f,u){return ct.apply(this,arguments)}function ct(){return(ct=(0,P.Z)(function*(f,u){return bu((0,he.m9)(f),u)})).apply(this,arguments)}function wu(){return(wu=(0,P.Z)(function*(f,u){return dt(f,"POST","/v1/accounts:signInWithCustomToken",be(f,u))})).apply(this,arguments)}function Re(){return Re=(0,P.Z)(function*(f,u){const m=un(f),_=yield function Nf(f,u){return wu.apply(this,arguments)}(m,{token:u,returnSecureToken:!0}),C=yield ko._fromIdTokenResponse(m,"signIn",_);return yield m._updateCurrentUser(C.user),C}),Re.apply(this,arguments)}class rd{constructor(u,m){this.factorId=u,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(u,m){return"phoneInfo"in m?xu._fromServerResponse(u,m):"totpInfo"in m?ne._fromServerResponse(u,m):Ti(u,"internal-error")}}class xu extends rd{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,m){return new xu(m)}}class ne extends rd{constructor(u){super("totp",u)}static _fromServerResponse(u,m){return new ne(m)}}function mr(f,u,m){var _;ge((null===(_=m.url)||void 0===_?void 0:_.length)>0,f,"invalid-continue-uri"),ge(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=m.url,u.dynamicLinkDomain=m.dynamicLinkDomain,u.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ge(m.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=m.iOS.bundleId),m.android&&(ge(m.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=m.android.installApp,u.androidMinimumVersionCode=m.android.minimumVersion,u.androidPackageName=m.android.packageName)}function li(f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(f){const u=un(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(f,u,m){const _=un(f),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};m&&mr(_,C,m),yield ft(_,C,"getOobCode",Va)})).apply(this,arguments)}function Cu(){return Cu=(0,P.Z)(function*(f,u,m){yield Gl((0,he.m9)(f),{oobCode:u,newPassword:m}).catch(function(){var _=(0,P.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&li(f),C});return function(C){return _.apply(this,arguments)}}())}),Cu.apply(this,arguments)}function Zc(){return Zc=(0,P.Z)(function*(f,u){yield function Df(f,u){return Fr.apply(this,arguments)}((0,he.m9)(f),{oobCode:u})}),Zc.apply(this,arguments)}function ym(f,u){return wm.apply(this,arguments)}function wm(){return(wm=(0,P.Z)(function*(f,u){const m=(0,he.m9)(f),_=yield Gl(m,{oobCode:u}),C=_.requestType;switch(ge(C,m,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(_.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(_.mfaInfo,m,"internal-error");default:ge(_.email,m,"internal-error")}let I=null;return _.mfaInfo&&(I=rd._fromServerResponse(un(m),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:I},operation:C}})).apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(f,u){const{data:m}=yield ym((0,he.m9)(f),u);return m.email})).apply(this,arguments)}function $i(){return($i=(0,P.Z)(function*(f,u,m){const _=un(f),H=yield ft(_,{returnSecureToken:!0,email:u,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qc).catch(pe=>{throw"auth/password-does-not-meet-requirements"===pe.code&&li(f),pe}),K=yield ko._fromIdTokenResponse(_,"signIn",H);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(f,u,m){const _=un(f),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function I(H,K){ge(K.handleCodeInApp,_,"argument-error"),K&&mr(_,H,K)})(C,m),yield ft(_,C,"getOobCode",Sf)})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f),C=hu.credentialWithLink(u,m||qn());return ge(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),id(_,C)})).apply(this,arguments)}function Dt(){return(Dt=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:createAuthUri",be(f,u))})).apply(this,arguments)}function Eu(){return Eu=(0,P.Z)(function*(f,u){const _={identifier:u,continueUri:Tt()?qn():"http://localhost"},{signinMethods:C}=yield function Qc(f,u){return Dt.apply(this,arguments)}((0,he.m9)(f),_);return C||[]}),Eu.apply(this,arguments)}function bn(){return bn=(0,P.Z)(function*(f,u){const m=(0,he.m9)(f),C={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&mr(m.auth,C,u);const{email:I}=yield function cC(f,u){return Y.apply(this,arguments)}(m.auth,C);I!==f.email&&(yield f.reload())}),bn.apply(this,arguments)}function da(){return da=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};m&&mr(_.auth,I,m);const{email:H}=yield function Mf(f,u){return Yl.apply(this,arguments)}(_.auth,I);H!==f.email&&(yield f.reload())}),da.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ds(){return ds=(0,P.Z)(function*(f,{displayName:u,photoURL:m}){if(void 0===u&&void 0===m)return;const _=(0,he.m9)(f),I={idToken:yield _.getIdToken(),displayName:u,photoUrl:m,returnSecureToken:!0},H=yield Or(_,function Us(f,u){return gc.apply(this,arguments)}(_.auth,I));_.displayName=H.displayName||null,_.photoURL=H.photoUrl||null;const K=_.providerData.find(({providerId:pe})=>"password"===pe);K&&(K.displayName=_.displayName,K.photoURL=_.photoURL),yield _._updateTokensIfNecessary(H)}),ds.apply(this,arguments)}function el(f,u,m){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,P.Z)(function*(f,u,m){const{auth:_}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(I.email=u),m&&(I.password=m);const H=yield Or(f,function Tf(f,u){return cm.apply(this,arguments)}(_,I));yield f._updateTokensIfNecessary(H,!0)}),Zt.apply(this,arguments)}class ua{constructor(u,m,_={}){this.isNewUser=u,this.providerId=m,this.profile=_}}class xm extends ua{constructor(u,m,_,C){super(u,m,_),this.username=C}}class js extends ua{constructor(u,m){super(u,"facebook.com",m)}}class ku extends xm{constructor(u,m){super(u,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class tl extends ua{constructor(u,m){super(u,"google.com",m)}}class cd extends xm{constructor(u,m,_){super(u,"twitter.com",m,_)}}function kr(f){const{user:u,_tokenResponse:m}=f;return u.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function hC(f){var u,m;if(!f)return null;const{providerId:_}=f,C=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!_&&f?.idToken){const H=null===(m=null===(u=Na(f.idToken))||void 0===u?void 0:u.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new ua(I,"anonymous"!==H&&"custom"!==H?H:null)}if(!_)return null;switch(_){case"facebook.com":return new js(I,C);case"github.com":return new ku(I,C);case"google.com":return new tl(I,C);case"twitter.com":return new cd(I,C,f.screenName||null);case"custom":case"anonymous":return new ua(I,null);default:return new ua(I,_,C)}}(m)}class il{constructor(u,m,_){this.type=u,this.credential=m,this.user=_}static _fromIdtoken(u,m){return new il("enroll",u,m)}static _fromMfaPendingCredential(u){return new il("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var m,_;if(u?.multiFactorSession){if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.pendingCredential)return il._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(_=u.multiFactorSession)&&void 0!==_&&_.idToken)return il._fromIdtoken(u.multiFactorSession.idToken)}return null}}class ms{constructor(u,m,_){this.session=u,this.hints=m,this.signInResolver=_}static _fromError(u,m){const _=un(u),C=m.customData._serverResponse,I=(C.mfaInfo||[]).map(K=>rd._fromServerResponse(_,K));ge(C.mfaPendingCredential,_,"internal-error");const H=il._fromMfaPendingCredential(C.mfaPendingCredential);return new ms(H,I,function(){var K=(0,P.Z)(function*(pe){const je=yield pe._process(_,H);delete C.mfaInfo,delete C.mfaPendingCredential;const nt=Object.assign(Object.assign({},C),{idToken:je.idToken,refreshToken:je.refreshToken});switch(m.operationType){case"signIn":const st=yield ko._fromIdTokenResponse(_,m.operationType,nt);return yield _._updateCurrentUser(st.user),st;case"reauthenticate":return ge(m.user,_,"internal-error"),ko._forOperation(m.user,m.operationType,nt);default:Ti(_,"internal-error")}});return function(pe){return K.apply(this,arguments)}}())}resolveSignIn(u){var m=this;return(0,P.Z)(function*(){return m.signInResolver(u)})()}}class Bf{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(_=>rd._fromServerResponse(u.auth,_)))})}static _fromUser(u){return new Bf(u)}getSession(){var u=this;return(0,P.Z)(function*(){return il._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,m){var _=this;return(0,P.Z)(function*(){const C=u,I=yield _.getSession(),H=yield Or(_.user,C._process(_.user.auth,I,m));return yield _.user._updateTokensIfNecessary(H),_.user.reload()})()}unenroll(u){var m=this;return(0,P.Z)(function*(){const _="string"==typeof u?u:u.uid,C=yield m.user.getIdToken();try{const I=yield Or(m.user,function bC(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:withdraw",be(f,u))}(m.user.auth,{idToken:C,mfaEnrollmentId:_}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==_),yield m.user._updateTokensIfNecessary(I),yield m.user.reload()}catch(I){throw I}})()}}const zf=new WeakMap,Du="__sak";class Iu{constructor(u,m){this.storageRetriever=u,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,m){return this.storage.setItem(u,JSON.stringify(m)),Promise.resolve()}_get(u){const m=this.storage.getItem(u);return Promise.resolve(m?JSON.parse(m):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const E=(()=>{class f extends Iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,_)=>this.onStorageEvent(m,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ld(){const f=(0,he.z$)();return as(f)||Ot(f)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=it(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),I=this.localCache[_];C!==I&&m(_,I,C)}}onStorageEvent(m,_=!1){if(!m.key)return void this.forAllChangedKeys((K,pe,je)=>{this.notifyListeners(K,je)});const C=m.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(C);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(C,m.newValue):this.storage.removeItem(C);else if(this.localCache[C]===m.newValue&&!_)return}const I=()=>{const K=this.storage.getItem(C);!_&&this.localCache[C]===K||this.notifyListeners(C,K)},H=this.storage.getItem(C);!function dn(){return(0,he.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?I():setTimeout(I,10)}notifyListeners(m,_){this.localCache[m]=_;const C=this.listeners[m];if(C)for(const I of Array.from(C))I(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,_){var C=()=>super._set,I=this;return(0,P.Z)(function*(){yield C().call(I,m,_),I.localCache[m]=JSON.stringify(_)})()}_get(m){var _=()=>super._get,C=this;return(0,P.Z)(function*(){const I=yield _().call(C,m);return C.localCache[m]=JSON.stringify(I),I})()}_remove(m){var _=()=>super._remove,C=this;return(0,P.Z)(function*(){yield _().call(C,m),delete C.localCache[m]})()}}return f.type="LOCAL",f})(),de=(()=>{class f extends Iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,_){}_removeListener(m,_){}}return f.type="SESSION",f})();let _t=(()=>{class f{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const _=this.receivers.find(I=>I.isListeningto(m));if(_)return _;const C=new f(m);return this.receivers.push(C),C}isListeningto(m){return this.eventTarget===m}handleEvent(m){var _=this;return(0,P.Z)(function*(){const C=m,{eventId:I,eventType:H,data:K}=C.data,pe=_.handlersMap[H];if(!pe?.size)return;C.ports[0].postMessage({status:"ack",eventId:I,eventType:H});const je=Array.from(pe).map(function(){var st=(0,P.Z)(function*(Kn){return Kn(C.origin,K)});return function(Kn){return st.apply(this,arguments)}}()),nt=yield function Ze(f){return Promise.all(f.map(function(){var u=(0,P.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(_){return{fulfilled:!1,reason:_}}});return function(m){return u.apply(this,arguments)}}()))}(je);C.ports[0].postMessage({status:"done",eventId:I,eventType:H,response:nt})})()}_subscribe(m,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(_)}_unsubscribe(m,_){this.handlersMap[m]&&_&&this.handlersMap[m].delete(_),(!_||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Nt(f="",u=10){let m="";for(let _=0;_<u;_++)m+=Math.floor(10*Math.random());return f+m}class bi{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,m,_=50){var C=this;return(0,P.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let H,K;return new Promise((pe,je)=>{const nt=Nt("",20);I.port1.start();const st=setTimeout(()=>{je(new Error("unsupported_event"))},_);K={messageChannel:I,onMessage(Kn){const ma=Kn;if(ma.data.eventId===nt)switch(ma.data.status){case"ack":clearTimeout(st),H=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),pe(ma.data.response);break;default:clearTimeout(st),clearTimeout(H),je(new Error("invalid_response"))}}},C.handlers.add(K),I.port1.addEventListener("message",K.onMessage),C.target.postMessage({eventType:u,eventId:nt,data:m},[I.port2])}).finally(()=>{K&&C.removeMessageHandler(K)})})()}}function Qi(){return window}function Hf(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function km(){return(km=(0,P.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Uf="firebaseLocalStorageDb",Tm="firebaseLocalStorage",mb="fbase_key";class nl{constructor(u){this.request=u}toPromise(){return new Promise((u,m)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function rl(f,u){return f.transaction([Tm],u?"readwrite":"readonly").objectStore(Tm)}function jf(){const f=indexedDB.open(Uf,1);return new Promise((u,m)=>{f.addEventListener("error",()=>{m(f.error)}),f.addEventListener("upgradeneeded",()=>{const _=f.result;try{_.createObjectStore(Tm,{keyPath:mb})}catch(C){m(C)}}),f.addEventListener("success",(0,P.Z)(function*(){const _=f.result;_.objectStoreNames.contains(Tm)?u(_):(_.close(),yield function Su(){const f=indexedDB.deleteDatabase(Uf);return new nl(f).toPromise()}(),u(yield jf()))}))})}function xM(f,u,m){return kC.apply(this,arguments)}function kC(){return(kC=(0,P.Z)(function*(f,u,m){const _=rl(f,!0).put({[mb]:u,value:m});return new nl(_).toPromise()})).apply(this,arguments)}function pb(){return(pb=(0,P.Z)(function*(f,u){const m=rl(f,!1).get(u),_=yield new nl(m).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function TC(f,u){const m=rl(f,!0).delete(u);return new nl(m).toPromise()}const Mu=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,P.Z)(function*(){return m.db||(m.db=yield jf()),m.db})()}_withRetries(m){var _=this;return(0,P.Z)(function*(){let C=0;for(;;)try{const I=yield _._openDb();return yield m(I)}catch(I){if(C++>3)throw I;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,P.Z)(function*(){return Hf()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,P.Z)(function*(){m.receiver=_t._getInstance(function hb(){return Hf()?self:null}()),m.receiver._subscribe("keyChanged",function(){var _=(0,P.Z)(function*(C,I){return{keyProcessed:(yield m._poll()).includes(I.key)}});return function(C,I){return _.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var _=(0,P.Z)(function*(C,I){return["keyChanged"]});return function(C,I){return _.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,P.Z)(function*(){var _,C;if(m.activeServiceWorker=yield function xC(){return km.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new bi(m.activeServiceWorker);const I=yield m.sender._send("ping",{},800);I&&null!==(_=I[0])&&void 0!==_&&_.fulfilled&&null!==(C=I[0])&&void 0!==C&&C.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var _=this;return(0,P.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function CC(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:m},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,P.Z)(function*(){try{if(!indexedDB)return!1;const m=yield jf();return yield xM(m,Du,"1"),yield TC(m,Du),!0}catch{}return!1})()}_withPendingWrite(m){var _=this;return(0,P.Z)(function*(){_.pendingWrites++;try{yield m()}finally{_.pendingWrites--}})()}_set(m,_){var C=this;return(0,P.Z)(function*(){return C._withPendingWrite((0,P.Z)(function*(){return yield C._withRetries(I=>xM(I,m,_)),C.localCache[m]=_,C.notifyServiceWorker(m)}))})()}_get(m){var _=this;return(0,P.Z)(function*(){const C=yield _._withRetries(I=>function C3(f,u){return pb.apply(this,arguments)}(I,m));return _.localCache[m]=C,C})()}_remove(m){var _=this;return(0,P.Z)(function*(){return _._withPendingWrite((0,P.Z)(function*(){return yield _._withRetries(C=>TC(C,m)),delete _.localCache[m],_.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,P.Z)(function*(){const _=yield m._withRetries(H=>{const K=rl(H,!1).getAll();return new nl(K).toPromise()});if(!_)return[];if(0!==m.pendingWrites)return[];const C=[],I=new Set;if(0!==_.length)for(const{fbase_key:H,value:K}of _)I.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(K)&&(m.notifyListeners(H,K),C.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!I.has(H)&&(m.notifyListeners(H,null),C.push(H));return C})()}notifyListeners(m,_){this.localCache[m]=_;const C=this.listeners[m];if(C)for(const I of Array.from(C))I(_)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,P.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Dm=1e12;class EM{constructor(u){this.auth=u,this.counter=Dm,this._widgets=new Map}render(u,m){const _=this.counter;return this._widgets.set(_,new kM(u,this.auth.name,m||{})),this.counter++,_}reset(u){var m;const _=u||Dm;null===(m=this._widgets.get(_))||void 0===m||m.delete(),this._widgets.delete(_)}getResponse(u){var m;return(null===(m=this._widgets.get(u||Dm))||void 0===m?void 0:m.getResponse())||""}execute(u){var m=this;return(0,P.Z)(function*(){var _;return null===(_=m._widgets.get(u||Dm))||void 0===_||_.execute(),""})()}}class kM{constructor(u,m,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;ge(C,"argument-error",{appName:m}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function TM(f){const u=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<f;_++)u.push(m.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":m}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wf=nb("rcb"),DM=new Fs(3e4,6e4);class IM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Qi().grecaptcha)||void 0===u||!u.render)}load(u,m=""){return ge(function D3(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(m),u,"argument-error"),this.shouldResolveImmediately(m)&&nr(Qi().grecaptcha)?Promise.resolve(Qi().grecaptcha):new Promise((_,C)=>{const I=Qi().setTimeout(()=>{C(Wi(u,"network-request-failed"))},DM.get());Qi()[Wf]=()=>{Qi().clearTimeout(I),delete Qi()[Wf];const K=Qi().grecaptcha;if(!K||!nr(K))return void C(Wi(u,"internal-error"));const pe=K.render;K.render=(je,nt)=>{const st=pe(je,nt);return this.counter++,st},this.hostLanguage=m,_(K)},zi(`https://www.google.com/recaptcha/api.js??${(0,he.xO)({onload:Wf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(I),C(Wi(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var m;return!(null===(m=Qi().grecaptcha)||void 0===m||!m.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class SM{load(u){return(0,P.Z)(function*(){return new EM(u)})()}clearedOneInstance(){}}const Xi="recaptcha",AC={theme:"light",type:"image"};class MM{constructor(u,m,_=Object.assign({},AC)){this.parameters=_,this.type=Xi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(u),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof m?document.getElementById(m):m;ge(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SM:new IM,this.validateStartingState()}verify(){var u=this;return(0,P.Z)(function*(){u.assertNotDestroyed();const m=yield u.render(),_=u.getAssertedRecaptcha();return _.getResponse(m)||new Promise(I=>{const H=K=>{K&&(u.tokenChangeListeners.delete(H),I(K))};u.tokenChangeListeners.add(H),u.isInvisible&&_.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return m=>{if(this.tokenChangeListeners.forEach(_=>_(m)),"function"==typeof u)u(m);else if("string"==typeof u){const _=Qi()[u];"function"==typeof _&&_(m)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,P.Z)(function*(){if(yield u.init(),!u.widgetId){let m=u.container;if(!u.isInvisible){const _=document.createElement("div");m.appendChild(_),m=_}u.widgetId=u.getAssertedRecaptcha().render(m,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,P.Z)(function*(){ge(Tt()&&!Hf(),u.auth,"internal-error"),yield function AM(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const m=yield function Ls(f){return sa.apply(this,arguments)}(u.auth);ge(m,u.auth,"internal-error"),u.parameters.sitekey=m})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $f{constructor(u,m){this.verificationId=u,this.onConfirmation=m}confirm(u){const m=Ie._fromVerification(this.verificationId,u);return this.onConfirmation(m)}}function gb(){return(gb=(0,P.Z)(function*(f,u,m){const _=un(f),C=yield Im(_,u,(0,he.m9)(m));return new $f(C,I=>id(_,I))})).apply(this,arguments)}function vb(){return(vb=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f);yield Vr(!1,_,"phone");const C=yield Im(_.auth,u,(0,he.m9)(m));return new $f(C,I=>_m(_,I))})).apply(this,arguments)}function Gf(){return(Gf=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f),C=yield Im(_.auth,u,(0,he.m9)(m));return new $f(C,I=>vm(_,I))})).apply(this,arguments)}function Im(f,u,m){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,P.Z)(function*(f,u,m){var _;const C=yield m.verify();try{let I;if(ge("string"==typeof C,f,"argument-error"),ge(m.type===Xi,f,"argument-error"),I="string"==typeof u?{phoneNumber:u}:u,"session"in I){const H=I.session;if("phoneNumber"in I)return ge("enroll"===H.type,f,"internal-error"),(yield function Zn(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:start",be(f,u))}(f,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ge("signin"===H.type,f,"internal-error");const K=(null===(_=I.multiFactorHint)||void 0===_?void 0:_.uid)||I.multiFactorUid;return ge(K,f,"missing-multi-factor-info"),(yield function fb(f,u){return te(f,"POST","/v2/accounts/mfaSignIn:start",be(f,u))}(f,{mfaPendingCredential:H.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function cb(f,u){return um.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:C});return H}}finally{m._reset()}}),Gi.apply(this,arguments)}function Au(){return(Au=(0,P.Z)(function*(f,u){yield _u((0,he.m9)(f),u)})).apply(this,arguments)}let Br=(()=>{class f{constructor(m){this.providerId=f.PROVIDER_ID,this.auth=un(m)}verifyPhoneNumber(m,_){return Im(this.auth,m,(0,he.m9)(_))}static credential(m,_){return Ie._fromVerification(m,_)}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:_,temporaryProof:C}=m;return _&&C?Ie._fromTokenResponse(_,C):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function dd(f,u){return u?Pt(u):(ge(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class qf extends Vs{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return hr(u,this._buildIdpRequest())}_linkToIdToken(u,m){return hr(u,this._buildIdpRequest(m))}_getReauthenticationResolver(u){return hr(u,this._buildIdpRequest())}_buildIdpRequest(u){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(m.idToken=u),m}}function Ru(f){return td(f.auth,new qf(f),f.bypassAuthState)}function ps(f){const{auth:u,user:m}=f;return ge(m,u,"internal-error"),bu(m,new qf(f),f.bypassAuthState)}function RM(f){return yb.apply(this,arguments)}function yb(){return(yb=(0,P.Z)(function*(f){const{auth:u,user:m}=f;return ge(m,u,"internal-error"),_u(m,new qf(f),f.bypassAuthState)})).apply(this,arguments)}class PC{constructor(u,m,_,C,I=!1){this.auth=u,this.resolver=_,this.user=C,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var u=this;return new Promise(function(){var m=(0,P.Z)(function*(_,C){u.pendingPromise={resolve:_,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(I){u.reject(I)}});return function(_,C){return m.apply(this,arguments)}}())}onAuthEvent(u){var m=this;return(0,P.Z)(function*(){const{urlResponse:_,sessionId:C,postBody:I,tenantId:H,error:K,type:pe}=u;if(K)return void m.reject(K);const je={auth:m.auth,requestUri:_,sessionId:C,tenantId:H||void 0,postBody:I||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(pe)(je))}catch(nt){m.reject(nt)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Ru;case"linkViaPopup":case"linkViaRedirect":return RM;case"reauthViaPopup":case"reauthViaRedirect":return ps;default:Ti(this.auth,"internal-error")}}resolve(u){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){an(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ol=new Fs(2e3,1e4);function wb(){return(wb=(0,P.Z)(function*(f,u,m){const _=un(f);Bt(f,u,Co);const C=dd(_,m);return new It(_,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Yf(){return(Yf=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f);Bt(_.auth,u,Co);const C=dd(_.auth,m);return new It(_.auth,"reauthViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}function xb(){return(xb=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f);Bt(_.auth,u,Co);const C=dd(_.auth,m);return new It(_.auth,"linkViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}let It=(()=>{class f extends PC{constructor(m,_,C,I,H){super(m,_,I,H),this.provider=C,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var m=this;return(0,P.Z)(function*(){const _=yield m.execute();return ge(_,m.auth,"internal-error"),_})()}onExecution(){var m=this;return(0,P.Z)(function*(){an(1===m.filter.length,"Popup operations only handle one event");const _=Nt();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],_),m.authWindow.associatedEvent=_,m.resolver._originValidation(m.auth).catch(C=>{m.reject(C)}),m.resolver._isIframeWebStorageSupported(m.auth,C=>{C||m.reject(Wi(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const m=()=>{var _,C;this.pollId=null!==(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,ol.get())};m()}}return f.currentPopupAction=null,f})();const LC="pendingRedirect",Zf=new Map;class PM extends PC{constructor(u,m,_=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,_),this.eventId=null}execute(){var u=()=>super.execute,m=this;return(0,P.Z)(function*(){let _=Zf.get(m.auth._key());if(!_){try{const I=(yield function OM(f,u){return Cb.apply(this,arguments)}(m.resolver,m.auth))?yield u().call(m):null;_=()=>Promise.resolve(I)}catch(C){_=()=>Promise.reject(C)}Zf.set(m.auth._key(),_)}return m.bypassAuthState||Zf.set(m.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(u){var m=()=>super.onAuthEvent,_=this;return(0,P.Z)(function*(){if("signInViaRedirect"===u.type)return m().call(_,u);if("unknown"!==u.type){if(u.eventId){const C=yield _.auth._redirectUserForId(u.eventId);if(C)return _.user=C,m().call(_,u);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,P.Z)(function*(){})()}cleanUp(){}}function Cb(){return(Cb=(0,P.Z)(function*(f,u){const m=BC(u),_=VC(f);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(m));return yield _._remove(m),C})).apply(this,arguments)}function Kf(f,u){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(f,u){return VC(f)._set(BC(u),"true")})).apply(this,arguments)}function Eb(f,u){Zf.set(f._key(),u)}function VC(f){return Pt(f._redirectPersistence)}function BC(f){return or(LC,f.config.apiKey,f.name)}function FM(f,u,m){return function Ee(f,u,m){return gi.apply(this,arguments)}(f,u,m)}function gi(){return(gi=(0,P.Z)(function*(f,u,m){const _=un(f);Bt(f,u,Co),yield _._initializationPromise;const C=dd(_,m);return yield Kf(C,_),C._openRedirect(_,u,"signInViaRedirect")})).apply(this,arguments)}function fs(f,u,m){return function gs(f,u,m){return Tr.apply(this,arguments)}(f,u,m)}function Tr(){return(Tr=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f);Bt(_.auth,u,Co),yield _.auth._initializationPromise;const C=dd(_.auth,m);yield Kf(C,_.auth);const I=yield Tb(_);return C._openRedirect(_.auth,u,"reauthViaRedirect",I)})).apply(this,arguments)}function zC(f,u,m){return function Sm(f,u,m){return $s.apply(this,arguments)}(f,u,m)}function $s(){return($s=(0,P.Z)(function*(f,u,m){const _=(0,he.m9)(f);Bt(_.auth,u,Co),yield _.auth._initializationPromise;const C=dd(_.auth,m);yield Vr(!1,_,u.providerId),yield Kf(C,_.auth);const I=yield Tb(_);return C._openRedirect(_.auth,u,"linkViaRedirect",I)})).apply(this,arguments)}function Mm(){return(Mm=(0,P.Z)(function*(f,u){return yield un(f)._initializationPromise,Qf(f,u,!1)})).apply(this,arguments)}function Qf(f,u){return HC.apply(this,arguments)}function HC(){return(HC=(0,P.Z)(function*(f,u,m=!1){const _=un(f),C=dd(_,u),H=yield new PM(_,C,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield _._persistUserIfCurrent(H.user),yield _._setRedirectUser(null,u)),H})).apply(this,arguments)}function Tb(f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(f){const u=Nt(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class Db{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let m=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(u,_)&&(m=!0,this.sendToConsumer(u,_),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function LM(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wa(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=u,m=!0)),m}sendToConsumer(u,m){var _;if(u.error&&!Wa(u)){const C=(null===(_=u.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";m.onError(Wi(this.auth,C))}else m.onAuthEvent(u)}isEventForConsumer(u,m){const _=null===m.eventId||!!u.eventId&&u.eventId===m.eventId;return m.filter.includes(u.type)&&_}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ud(u))}saveEventToCache(u){this.cachedEventUids.add(ud(u)),this.lastProcessedEventTime=Date.now()}}function ud(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Wa({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function Ib(f){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,P.Z)(function*(f,u={}){return te(f,"GET","/v1/projects",u)})).apply(this,arguments)}const VM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mb=/^https?/;function Xf(){return(Xf=(0,P.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield Ib(f);for(const m of u)try{if(Rb(m))return}catch{}Ti(f,"unauthorized-domain")})).apply(this,arguments)}function Rb(f){const u=qn(),{protocol:m,hostname:_}=new URL(u);if(f.startsWith("chrome-extension://")){const H=new URL(f);return""===H.hostname&&""===_?"chrome-extension:"===m&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===_}if(!Mb.test(m))return!1;if(VM.test(f))return _===f;const C=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const BM=new Fs(3e4,6e4);function Pb(){const f=Qi().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let m=0;m<f.CP.length;m++)f.CP[m]=null}let Am=null;const jC=new Fs(5e3,15e3),WC="__/auth/iframe",Nb="emulator/auth/iframe",zM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Io(f){const u=f.config;ge(u.authDomain,f,"auth-domain-config-required");const m=u.emulator?O(u,Nb):`https://${f.config.authDomain}/${WC}`,_={apiKey:u.apiKey,appName:f.name,v:Et.SDK_VERSION},C=HM.get(f.config.apiHost);C&&(_.eid=C);const I=f._getFrameworks();return I.length&&(_.fw=I.join(",")),`${m}?${(0,he.xO)(_).slice(1)}`}function yn(){return yn=(0,P.Z)(function*(f){const u=yield function UC(f){return Am=Am||function Ob(f){return new Promise((u,m)=>{var _,C,I;function H(){Pb(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Pb(),m(Wi(f,"network-request-failed"))},timeout:BM.get()})}if(null!==(C=null===(_=Qi().gapi)||void 0===_?void 0:_.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(I=Qi().gapi)||void 0===I||!I.load){const K=nb("iframefcb");return Qi()[K]=()=>{gapi.load?H():m(Wi(f,"network-request-failed"))},zi(`https://apis.google.com/js/api.js?onload=${K}`).catch(pe=>m(pe))}H()}}).catch(u=>{throw Am=null,u})}(f),Am}(f),m=Qi().gapi;return ge(m,f,"internal-error"),u.open({where:document.body,url:Io(f),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zM,dontclear:!0},_=>new Promise(function(){var C=(0,P.Z)(function*(I,H){yield _.restyle({setHideOnLeave:!1});const K=Wi(f,"network-request-failed"),pe=Qi().setTimeout(()=>{H(K)},jC.get());function je(){Qi().clearTimeout(pe),I(_)}_.ping(je).then(je,()=>{H(K)})});return function(I,H){return C.apply(this,arguments)}}()))}),yn.apply(this,arguments)}const $a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fb{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const WM="__/auth/handler",eg="emulator/auth/handler",tg=encodeURIComponent("fac");function Pu(f,u,m,_,C,I){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,P.Z)(function*(f,u,m,_,C,I){ge(f.config.authDomain,f,"auth-domain-config-required"),ge(f.config.apiKey,f,"invalid-api-key");const H={apiKey:f.config.apiKey,appName:f.name,authType:m,redirectUrl:_,v:Et.SDK_VERSION,eventId:C};if(u instanceof Co){u.setDefaultLanguage(f.languageCode),H.providerId=u.providerId||"",(0,he.xb)(u.getCustomParameters())||(H.customParameters=JSON.stringify(u.getCustomParameters()));for(const[nt,st]of Object.entries(I||{}))H[nt]=st}if(u instanceof lo){const nt=u.getScopes().filter(st=>""!==st);nt.length>0&&(H.scopes=nt.join(","))}f.tenantId&&(H.tid=f.tenantId);const K=H;for(const nt of Object.keys(K))void 0===K[nt]&&delete K[nt];const pe=yield f._getAppCheckToken(),je=pe?`#${tg}=${encodeURIComponent(pe)}`:"";return`${function GC({config:f}){return f.emulator?O(f,eg):`https://${f.authDomain}/${WM}`}(f)}?${(0,he.xO)(K).slice(1)}${je}`})).apply(this,arguments)}const ig="webStorageSupport",pd=class $M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=de,this._completeRedirectFn=Qf,this._overrideRedirectResult=Eb}_openPopup(u,m,_,C){var I=this;return(0,P.Z)(function*(){var H;an(null===(H=I.eventManagers[u._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const K=yield Pu(u,m,_,qn(),C);return function Jf(f,u,m,_=500,C=600){const I=Math.max((window.screen.availHeight-C)/2,0).toString(),H=Math.max((window.screen.availWidth-_)/2,0).toString();let K="";const pe=Object.assign(Object.assign({},$a),{width:_.toString(),height:C.toString(),top:I,left:H}),je=(0,he.z$)().toLowerCase();m&&(K=lu(je)?"_blank":m),Bi(je)&&(u=u||"http://localhost",pe.scrollbars="yes");const nt=Object.entries(pe).reduce((Kn,[ma,hg])=>`${Kn}${ma}=${hg},`,"");if(function X(f=(0,he.z$)()){var u;return Ot(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(je)&&"_self"!==K)return function al(f,u){const m=document.createElement("a");m.href=f,m.target=u;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(_)}(u||"",K),new Fb(null);const st=window.open(u||"",K,nt);ge(st,f,"popup-blocked");try{st.focus()}catch{}return new Fb(st)}(u,K,Nt())})()}_openRedirect(u,m,_,C){var I=this;return(0,P.Z)(function*(){return yield I._originValidation(u),function wC(f){Qi().location.href=f}(yield Pu(u,m,_,qn(),C)),new Promise(()=>{})})()}_initialize(u){const m=u._key();if(this.eventManagers[m]){const{manager:C,promise:I}=this.eventManagers[m];return C?Promise.resolve(C):(an(I,"If manager is not set, promise should be"),I)}const _=this.initAndGetManager(u);return this.eventManagers[m]={promise:_},_.catch(()=>{delete this.eventManagers[m]}),_}initAndGetManager(u){var m=this;return(0,P.Z)(function*(){const _=yield function hd(f){return yn.apply(this,arguments)}(u),C=new Db(u);return _.register("authEvent",I=>(ge(I?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[u._key()]={manager:C},m.iframes[u._key()]=_,C})()}_isIframeWebStorageSupported(u,m){this.iframes[u._key()].send(ig,{type:ig},C=>{var I;const H=null===(I=C?.[0])||void 0===I?void 0:I[ig];void 0!==H&&m(!!H),Ti(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const m=u._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ab(f){return Xf.apply(this,arguments)}(u)),this.originValidationPromises[m]}get _shouldInitProactively(){return it()||as()||Ot()}};class Pm{constructor(u){this.factorId=u}_process(u,m,_){switch(m.type){case"enroll":return this._finalizeEnroll(u,m.credential,_);case"signin":return this._finalizeSignIn(u,m.credential);default:return fn("unexpected MultiFactorSessionType")}}}class Lb extends Pm{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Lb(u)}_finalizeEnroll(u,m,_){return function _C(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:finalize",be(f,u))}(u,{idToken:m,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,m){return function k3(f,u){return te(f,"POST","/v2/accounts/mfaSignIn:finalize",be(f,u))}(u,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let I3=(()=>{class f{constructor(){}static assertion(m){return Lb._fromCredential(m)}}return f.FACTOR_ID="phone",f})();var GM="@firebase/auth";class Vb{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var m=this;return(0,P.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const m=this.auth.onIdTokenChanged(_=>{u(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,m),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const m=this.internalListeners.get(u);m&&(this.internalListeners.delete(u),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cl(){return window}(0,he.Pz)("authIdTokenMaxAge"),function YM(f){(0,Et._registerComponent)(new kn.wA("auth",(u,{options:m})=>{const _=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),I=u.getProvider("app-check-internal"),{apiKey:H,authDomain:K}=_.options;ge(H&&!H.includes(":"),"invalid-api-key",{appName:_.name});const pe={apiKey:H,authDomain:K,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uo(f)},je=new ib(_,C,I,pe);return function aC(f,u){const m=u?.persistence||[],_=(Array.isArray(m)?m:[m]).map(Pt);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(_,u?.popupRedirectResolver)}(je,m),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,m,_)=>{u.getProvider("auth-internal").initialize()})),(0,Et._registerComponent)(new kn.wA("auth-internal",u=>{const m=un(u.getProvider("auth").getImmediate());return new Vb(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Et.registerVersion)(GM,"1.5.1",function Om(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Et.registerVersion)(GM,"1.5.1","esm2017")}("Browser");function zb(){return zb=(0,P.Z)(function*(f,u,m){var _;const{BuildInfo:C}=cl();an(u.sessionId,"AuthEvent did not contain a session ID");const I=yield function QC(f){return sg.apply(this,arguments)}(u.sessionId),H={};return Ot()?H.ibi=C.packageName:$()?H.apn=C.packageName:Ti(f,"operation-not-supported-in-this-environment"),C.displayName&&(H.appDisplayName=C.displayName),H.sessionId=I,Pu(f,m,u.type,void 0,null!==(_=u.eventId)&&void 0!==_?_:void 0,H)}),zb.apply(this,arguments)}function Lm(){return(Lm=(0,P.Z)(function*(f){const{BuildInfo:u}=cl(),m={};Ot()?m.iosBundleId=u.packageName:$()?m.androidPackageName=u.packageName:Ti(f,"operation-not-supported-in-this-environment"),yield Ib(f,m)})).apply(this,arguments)}function Vm(){return(Vm=(0,P.Z)(function*(f,u,m){const{cordova:_}=cl();let C=()=>{};try{yield new Promise((I,H)=>{let K=null;function pe(){var st;I();const Kn=null===(st=_.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Kn&&Kn(),"function"==typeof m?.close&&m.close()}function je(){K||(K=window.setTimeout(()=>{H(Wi(f,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===document?.visibilityState&&je()}u.addPassiveListener(pe),document.addEventListener("resume",je,!1),$()&&document.addEventListener("visibilitychange",nt,!1),C=()=>{u.removePassiveListener(pe),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",nt,!1),K&&window.clearTimeout(K)}})}finally{C()}})).apply(this,arguments)}function sg(){return(sg=(0,P.Z)(function*(f){const u=function XC(f){if(an(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),m=new Uint8Array(u);for(let _=0;_<f.length;_++)m[_]=f.charCodeAt(_);return m}(f),m=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(m)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class XM extends Db{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(u)),super.onEvent(u)}initialized(){var u=this;return(0,P.Z)(function*(){yield u.initPromise})()}}function eE(f){return cg.apply(this,arguments)}function cg(){return(cg=(0,P.Z)(function*(f){const u=yield Hb()._get(Kr(f));return u&&(yield Hb()._remove(Kr(f))),u})).apply(this,arguments)}function Bm(){const f=[];for(let m=0;m<20;m++){const _=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return f.join("")}function Hb(){return Pt(E)}function Kr(f){return or("authEvent",f.config.apiKey,f.name)}function Ou(f){if(!f?.includes("?"))return{};const[u,...m]=f.split("?");return(0,he.zd)(m.join("?"))}const So=class iE{constructor(){this._redirectPersistence=de,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qf,this._overrideRedirectResult=Eb}_initialize(u){var m=this;return(0,P.Z)(function*(){const _=u._key();let C=m.eventManagers.get(_);return C||(C=new XM(u),m.eventManagers.set(_,C),m.attachCallbackListeners(u,C)),C})()}_openPopup(u){Ti(u,"operation-not-supported-in-this-environment")}_openRedirect(u,m,_,C){var I=this;return(0,P.Z)(function*(){!function QM(f){var u,m,_,C,I,H,K,pe,je,nt;const st=cl();ge("function"==typeof(null===(u=st?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof(null===(m=st?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(I=null===(C=null===(_=st?.cordova)||void 0===_?void 0:_.plugins)||void 0===C?void 0:C.browsertab)||void 0===I?void 0:I.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(pe=null===(K=null===(H=st?.cordova)||void 0===H?void 0:H.plugins)||void 0===K?void 0:K.browsertab)||void 0===pe?void 0:pe.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(nt=null===(je=st?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===nt?void 0:nt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const H=yield I._initialize(u);yield H.initialized(),H.resetRedirect(),function NM(){Zf.clear()}(),yield I._originValidation(u);const K=function ag(f,u,m=null){return{type:u,eventId:m,urlResponse:null,sessionId:Bm(),postBody:null,tenantId:f.tenantId,error:Wi(f,"no-auth-event")}}(u,_,C);yield function fd(f,u){return Hb()._set(Kr(f),u)}(u,K);const pe=yield function Ga(f,u,m){return zb.apply(this,arguments)}(u,K,m),je=yield function KC(f){const{cordova:u}=cl();return new Promise(m=>{u.plugins.browsertab.isAvailable(_=>{let C=null;_?u.plugins.browsertab.openUrl(f):C=u.InAppBrowser.open(f,function ai(f=(0,he.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),m(C)})})}(pe);return function og(f,u,m){return Vm.apply(this,arguments)}(u,H,je)})()}_isIframeWebStorageSupported(u,m){throw new Error("Method not implemented.")}_originValidation(u){const m=u._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function rg(f){return Lm.apply(this,arguments)}(u)),this.originValidationPromises[m]}attachCallbackListeners(u,m){const{universalLinks:_,handleOpenURL:C,BuildInfo:I}=cl(),H=setTimeout((0,P.Z)(function*(){yield eE(u),m.onEvent(gd())}),500),K=function(){var nt=(0,P.Z)(function*(st){clearTimeout(H);const Kn=yield eE(u);let ma=null;Kn&&st?.url&&(ma=function tE(f,u){var m,_;const C=function St(f){const u=Ou(f),m=u.link?decodeURIComponent(u.link):void 0,_=Ou(m).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ou(C).link||C||_||m||f}(u);if(C.includes("/__/auth/callback")){const I=Ou(C),H=I.firebaseError?function JM(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(I.firebaseError)):null,K=null===(_=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===_?void 0:_[1],pe=K?Wi(K):null;return pe?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:pe,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:C,postBody:null}}return null}(Kn,st.url)),m.onEvent(ma||gd())});return function(Kn){return nt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,K);const pe=C,je=`${I.packageName.toLowerCase()}://`;cl().handleOpenURL=function(){var nt=(0,P.Z)(function*(st){if(st.toLowerCase().startsWith(je)&&K({url:st}),"function"==typeof pe)try{pe(st)}catch(Kn){console.error(Kn)}});return function(st){return nt.apply(this,arguments)}}()}};function gd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wi("no-auth-event")}}function qa(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function rE(f=(0,he.z$)()){return!("file:"!==qa()&&"ionic:"!==qa()&&"capacitor:"!==qa()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function t1(){try{const f=self.localStorage,u=Nt();if(f)return f.setItem(u,"1"),f.removeItem(u),!function O3(f=(0,he.z$)()){return function R3(){return(0,he.w1)()&&11===document?.documentMode}()||function P3(f=(0,he.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,he.hl)()}catch{return oE()&&(0,he.hl)()}return!1}function oE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ll(){return(function M3(){return"http:"===qa()||"https:"===qa()}()||(0,he.ru)()||rE())&&!function A3(){return(0,he.b$)()||(0,he.UG)()}()&&t1()&&!oE()}function sE(){return rE()&&typeof document<"u"}function ar(){return(ar=(0,P.Z)(function*(){return!!sE()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},zm=ge,_s="persistence";function lg(f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,P.Z)(function*(f){yield f._initializationPromise;const u=aE(),m=or(_s,f.config.apiKey,f.name);u&&u.setItem(m,f._getPersistence())})).apply(this,arguments)}function aE(){var f;try{return(null===(f=function r1(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const N3=ge;class dl{constructor(){this.browserResolver=Pt(pd),this.cordovaResolver=Pt(So),this.underlyingResolver=null,this._redirectPersistence=de,this._completeRedirectFn=Qf,this._overrideRedirectResult=Eb}_initialize(u){var m=this;return(0,P.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,m,_,C){var I=this;return(0,P.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(u,m,_,C)})()}_openRedirect(u,m,_,C){var I=this;return(0,P.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(u,m,_,C)})()}_isIframeWebStorageSupported(u,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,m)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return sE()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return N3(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,P.Z)(function*(){if(u.underlyingResolver)return;const m=yield function n1(){return ar.apply(this,arguments)}();u.underlyingResolver=m?u.cordovaResolver:u.browserResolver})()}}function o1(f){return f.unwrap()}function jb(f){return s1(f)}function s1(f){const{_tokenResponse:u}=f instanceof he.ZR?f.customData:f;if(!u)return null;if(!(f instanceof he.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Br.credentialFromResult(f);const m=u.providerId;if(!m||m===Yt.PASSWORD)return null;let _;switch(m){case Yt.GOOGLE:_=jo;break;case Yt.FACEBOOK:_=Eo;break;case Yt.GITHUB:_=ei;break;case Yt.TWITTER:_=zs;break;default:const{oauthIdToken:C,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:K,nonce:pe}=u;return I||H||C||K?K?m.startsWith("saml.")?za._create(m,K):cs._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:C,accessToken:I}):new ca(m).credential({idToken:C,accessToken:I,rawNonce:pe}):null}return f instanceof he.ZR?_.credentialFromError(f):_.credentialFromResult(f)}function Mo(f,u){return u.catch(m=>{throw m instanceof he.ZR&&function Bu(f,u){var m;const _=null===(m=u.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new a1(f,function Em(f,u){var m;const _=(0,he.m9)(f),C=u;return ge(u.customData.operationType,_,"argument-error"),ge(null===(m=C.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,_,"argument-error"),ms._fromError(_,C)}(f,u));else if(_){const C=s1(u),I=u;C&&(I.credential=C,I.tenantId=_.tenantId||void 0,I.email=_.email||void 0,I.phoneNumber=_.phoneNumber||void 0)}}(f,m),m}).then(m=>{const C=m.user;return{operationType:m.operationType,credential:jb(m),additionalUserInfo:kr(m),user:vc.getOrCreate(C)}})}function Wb(f,u){return $b.apply(this,arguments)}function $b(){return($b=(0,P.Z)(function*(f,u){const m=yield u;return{verificationId:m.verificationId,confirm:_=>Mo(f,m.confirm(_))}})).apply(this,arguments)}class a1{constructor(u,m){this.resolver=m,this.auth=function vs(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Mo(o1(this.auth),this.resolver.resolveSignIn(u))}}class vc{constructor(u){this._delegate=u,this.multiFactor=function yC(f){const u=(0,he.m9)(f);return zf.has(u)||zf.set(u,Bf._fromUser(u)),zf.get(u)}(u)}static getOrCreate(u){return vc.USER_MAP.has(u)||vc.USER_MAP.set(u,new vc(u)),vc.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var m=this;return(0,P.Z)(function*(){return Mo(m.auth,_m(m._delegate,u))})()}linkWithPhoneNumber(u,m){var _=this;return(0,P.Z)(function*(){return Wb(_.auth,function _b(f,u,m){return vb.apply(this,arguments)}(_._delegate,u,m))})()}linkWithPopup(u){var m=this;return(0,P.Z)(function*(){return Mo(m.auth,function FC(f,u,m){return xb.apply(this,arguments)}(m._delegate,u,dl))})()}linkWithRedirect(u){var m=this;return(0,P.Z)(function*(){return yield lg(un(m.auth)),zC(m._delegate,u,dl)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var m=this;return(0,P.Z)(function*(){return Mo(m.auth,vm(m._delegate,u))})()}reauthenticateWithPhoneNumber(u,m){return Wb(this.auth,function ja(f,u,m){return Gf.apply(this,arguments)}(this._delegate,u,m))}reauthenticateWithPopup(u){return Mo(this.auth,function NC(f,u,m){return Yf.apply(this,arguments)}(this._delegate,u,dl))}reauthenticateWithRedirect(u){var m=this;return(0,P.Z)(function*(){return yield lg(un(m.auth)),fs(m._delegate,u,dl)})()}sendEmailVerification(u){return function Xc(f,u){return bn.apply(this,arguments)}(this._delegate,u)}unlink(u){var m=this;return(0,P.Z)(function*(){return yield function ub(f,u){return gu.apply(this,arguments)}(m._delegate,u),m})()}updateEmail(u){return function us(f,u){return el((0,he.m9)(f),u,null)}(this._delegate,u)}updatePassword(u){return function ad(f,u){return el((0,he.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function bb(f,u){return Au.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Lf(f,u){return ds.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,m){return function Jc(f,u,m){return da.apply(this,arguments)}(this._delegate,u,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vc.USER_MAP=new WeakMap;const Um=ge;let cE=(()=>{class f{constructor(m,_){if(this.app=m,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=m.options;Um(C,"invalid-api-key",{appName:m.name}),Um(C,"invalid-api-key",{appName:m.name});const I=typeof window<"u"?dl:void 0;this._delegate=_.initialize({options:{persistence:ug(C,m.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(xr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,_){!function Ne(f,u,m){const _=un(f);ge(_._canInitEmulator,_,"emulator-config-failed"),ge(/^https?:\/\//.test(u),_,"invalid-emulator-scheme");const C=!!m?.disableWarnings,I=Wc(u),{host:H,port:K}=function sb(f){const u=Wc(f),m=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!m)return{host:"",port:null};const _=m[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const I=C[1];return{host:I,port:am(_.substr(I.length+1))}}{const[I,H]=_.split(":");return{host:I,port:am(H)}}}(u);_.config.emulator={url:`${I}//${H}${null===K?"":`:${K}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:H,port:K,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function ab(){function f(){const u=document.createElement("p"),m=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,m,_)}applyActionCode(m){return function bm(f,u){return Zc.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ym(this._delegate,m)}confirmPasswordReset(m,_){return function To(f,u,m){return Cu.apply(this,arguments)}(this._delegate,m,_)}createUserWithEmailAndPassword(m,_){var C=this;return(0,P.Z)(function*(){return Mo(C._delegate,function Vt(f,u,m){return $i.apply(this,arguments)}(C._delegate,m,_))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function sd(f,u){return Eu.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Kc(f,u){const m=Lr.parseLink(u);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,P.Z)(function*(){Um(ll(),m._delegate,"operation-not-supported-in-this-environment");const _=yield function kb(f,u){return Mm.apply(this,arguments)}(m._delegate,dl);return _?Mo(m._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Nu(f,u){un(f)._logFramework(u)}(this._delegate,m)}onAuthStateChanged(m,_,C){const{next:I,error:H,complete:K}=dg(m,_,C);return this._delegate.onAuthStateChanged(I,H,K)}onIdTokenChanged(m,_,C){const{next:I,error:H,complete:K}=dg(m,_,C);return this._delegate.onIdTokenChanged(I,H,K)}sendSignInLinkToEmail(m,_){return function od(f,u,m){return Nn.apply(this,arguments)}(this._delegate,m,_)}sendPasswordResetEmail(m,_){return function Yr(f,u,m){return Ha.apply(this,arguments)}(this._delegate,m,_||void 0)}setPersistence(m){var _=this;return(0,P.Z)(function*(){let C;switch(function Lu(f,u){zm(Object.values(Qr).includes(u),f,"invalid-persistence-type"),(0,he.b$)()?zm(u!==Qr.SESSION,f,"unsupported-persistence-type"):(0,he.UG)()?zm(u===Qr.NONE,f,"unsupported-persistence-type"):oE()?zm(u===Qr.NONE||u===Qr.LOCAL&&(0,he.hl)(),f,"unsupported-persistence-type"):zm(u===Qr.NONE||t1(),f,"unsupported-persistence-type")}(_._delegate,m),m){case Qr.SESSION:C=de;break;case Qr.LOCAL:C=(yield Pt(Mu)._isAvailable())?Mu:E;break;case Qr.NONE:C=Ki;break;default:return Ti("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Mo(this._delegate,function Of(f){return Jl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Mo(this._delegate,id(this._delegate,m))}signInWithCustomToken(m){return Mo(this._delegate,function Ff(f,u){return Re.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,_){return Mo(this._delegate,function ls(f,u,m){return id((0,he.m9)(f),hu.credential(u,m)).catch(function(){var _=(0,P.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&li(f),C});return function(C){return _.apply(this,arguments)}}())}(this._delegate,m,_))}signInWithEmailLink(m,_){return Mo(this._delegate,function Fn(f,u,m){return Hs.apply(this,arguments)}(this._delegate,m,_))}signInWithPhoneNumber(m,_){return Wb(this._delegate,function RC(f,u,m){return gb.apply(this,arguments)}(this._delegate,m,_))}signInWithPopup(m){var _=this;return(0,P.Z)(function*(){return Um(ll(),_._delegate,"operation-not-supported-in-this-environment"),Mo(_._delegate,function OC(f,u,m){return wb.apply(this,arguments)}(_._delegate,m,dl))})()}signInWithRedirect(m){var _=this;return(0,P.Z)(function*(){return Um(ll(),_._delegate,"operation-not-supported-in-this-environment"),yield lg(_._delegate),FM(_._delegate,m,dl)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vn(f,u){return Be.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Qr,f})();function dg(f,u,m){let _=f;"function"!=typeof f&&({next:_,error:u,complete:m}=f);const C=_;return{next:H=>C(H&&vc.getOrCreate(H)),error:u,complete:m}}function ug(f,u){const m=function Hm(f,u){const m=aE();if(!m)return[];const _=or(_s,f,u);switch(m.getItem(_)){case Qr.NONE:return[Ki];case Qr.LOCAL:return[Mu,de];case Qr.SESSION:return[de];default:return[]}}(f,u);if(typeof self<"u"&&!m.includes(Mu)&&m.push(Mu),typeof window<"u")for(const _ of[E,de])m.includes(_)||m.push(_);return m.includes(Ki)||m.push(Ki),m}class Gb{constructor(){this.providerId="phone",this._delegate=new Br(o1(yt.Z.auth()))}static credential(u,m){return Br.credential(u,m)}verifyPhoneNumber(u,m){return this._delegate.verifyPhoneNumber(u,m)}unwrap(){return this._delegate}}Gb.PHONE_SIGN_IN_METHOD=Br.PHONE_SIGN_IN_METHOD,Gb.PROVIDER_ID=Br.PROVIDER_ID;const Wo=ge;class c1{constructor(u,m,_=yt.Z.app()){var C;Wo(null===(C=_.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new MM(_.auth(),u,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function l1(f){f.INTERNAL.registerComponent(new kn.wA("auth-compat",u=>{const m=u.getProvider("app-compat").getImmediate(),_=u.getProvider("auth");return new cE(m,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hu,FacebookAuthProvider:Eo,GithubAuthProvider:ei,GoogleAuthProvider:jo,OAuthProvider:ca,SAMLAuthProvider:Xl,PhoneAuthProvider:Gb,PhoneMultiFactorGenerator:I3,RecaptchaVerifier:c1,TwitterAuthProvider:zs,Auth:cE,AuthCredential:Vs,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.1")}(yt.Z)},537:(ra,En,bt)=>{"use strict";bt.d(En,{H0:()=>fi,wA:()=>he,zt:()=>wt});var P=bt(861),yt=bt(58);class he{constructor(_e,Se,et){this.name=_e,this.instanceFactory=Se,this.type=et,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Et="[DEFAULT]";class wt{constructor(_e,Se){this.name=_e,this.container=Se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Se=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Se)){const et=new yt.BH;if(this.instancesDeferred.set(Se,et),this.isInitialized(Se)||this.shouldAutoInitialize())try{const Ft=this.getOrInitializeService({instanceIdentifier:Se});Ft&&et.resolve(Ft)}catch{}}return this.instancesDeferred.get(Se).promise}getImmediate(_e){var Se;const et=this.normalizeInstanceIdentifier(_e?.identifier),Ft=null!==(Se=_e?.optional)&&void 0!==Se&&Se;if(!this.isInitialized(et)&&!this.shouldAutoInitialize()){if(Ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:et})}catch(hi){if(Ft)return null;throw hi}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function kn(Yt){return"EAGER"===Yt.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Et})}catch{}for(const[Se,et]of this.instancesDeferred.entries()){const Ft=this.normalizeInstanceIdentifier(Se);try{const hi=this.getOrInitializeService({instanceIdentifier:Ft});et.resolve(hi)}catch{}}}}clearInstance(_e=Et){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,P.Z)(function*(){const Se=Array.from(_e.instances.values());yield Promise.all([...Se.filter(et=>"INTERNAL"in et).map(et=>et.INTERNAL.delete()),...Se.filter(et=>"_delete"in et).map(et=>et._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Et){return this.instances.has(_e)}getOptions(_e=Et){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Se={}}=_e,et=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(et))throw Error(`${this.name}(${et}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ft=this.getOrInitializeService({instanceIdentifier:et,options:Se});for(const[hi,xr]of this.instancesDeferred.entries())et===this.normalizeInstanceIdentifier(hi)&&xr.resolve(Ft);return Ft}onInit(_e,Se){var et;const Ft=this.normalizeInstanceIdentifier(Se),hi=null!==(et=this.onInitCallbacks.get(Ft))&&void 0!==et?et:new Set;hi.add(_e),this.onInitCallbacks.set(Ft,hi);const xr=this.instances.get(Ft);return xr&&_e(xr,Ft),()=>{hi.delete(_e)}}invokeOnInitCallbacks(_e,Se){const et=this.onInitCallbacks.get(Se);if(et)for(const Ft of et)try{Ft(_e,Se)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Se={}}){let et=this.instances.get(_e);if(!et&&this.component&&(et=this.component.instanceFactory(this.container,{instanceIdentifier:(Yt=_e,Yt===Et?void 0:Yt),options:Se}),this.instances.set(_e,et),this.instancesOptions.set(_e,Se),this.invokeOnInitCallbacks(et,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,et)}catch{}var Yt;return et||null}normalizeInstanceIdentifier(_e=Et){return this.component?this.component.multipleInstances?_e:Et:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fi{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Se=this.getProvider(_e.name);if(Se.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Se.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Se=new wt(_e,this);return this.providers.set(_e,Se),Se}getProviders(){return Array.from(this.providers.values())}}},879:(ra,En,bt)=>{"use strict";bt.d(En,{Am:()=>Yt,Ub:()=>fi,Yd:()=>kn,in:()=>yt});const P=[];var yt=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(yt||{});const he={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Et=yt.INFO,wt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},on=(_e,Se,...et)=>{if(Se<_e.logLevel)return;const Ft=(new Date).toISOString(),hi=wt[Se];if(!hi)throw new Error(`Attempted to log a message with an invalid logType (value: ${Se})`);console[hi](`[${Ft}]  ${_e.name}:`,...et)};class kn{constructor(Se){this.name=Se,this._logLevel=Et,this._logHandler=on,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(Se){if(!(Se in yt))throw new TypeError(`Invalid value "${Se}" assigned to \`logLevel\``);this._logLevel=Se}setLogLevel(Se){this._logLevel="string"==typeof Se?he[Se]:Se}get logHandler(){return this._logHandler}set logHandler(Se){if("function"!=typeof Se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Se}get userLogHandler(){return this._userLogHandler}set userLogHandler(Se){this._userLogHandler=Se}debug(...Se){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...Se),this._logHandler(this,yt.DEBUG,...Se)}log(...Se){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...Se),this._logHandler(this,yt.VERBOSE,...Se)}info(...Se){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...Se),this._logHandler(this,yt.INFO,...Se)}warn(...Se){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...Se),this._logHandler(this,yt.WARN,...Se)}error(...Se){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...Se),this._logHandler(this,yt.ERROR,...Se)}}function fi(_e){P.forEach(Se=>{Se.setLogLevel(_e)})}function Yt(_e,Se){for(const et of P){let Ft=null;Se&&Se.level&&(Ft=he[Se.level]),et.userLogHandler=null===_e?null:(hi,xr,...ki)=>{const Mt=ki.map(Lt=>{if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(Lt=>Lt).join(" ");xr>=(Ft??hi.logLevel)&&_e({level:yt[xr].toLowerCase(),message:Mt,args:ki,type:hi.name})}}}},861:(ra,En,bt)=>{"use strict";function P(he,Et,wt,on,kn,fi,Yt){try{var _e=he[fi](Yt),Se=_e.value}catch(et){return void wt(et)}_e.done?Et(Se):Promise.resolve(Se).then(on,kn)}function yt(he){return function(){var Et=this,wt=arguments;return new Promise(function(on,kn){var fi=he.apply(Et,wt);function Yt(Se){P(fi,on,kn,Yt,_e,"next",Se)}function _e(Se){P(fi,on,kn,Yt,_e,"throw",Se)}Yt(void 0)})}}bt.d(En,{Z:()=>yt})},582:(ra,En,bt)=>{"use strict";function Et(O,le){var q={};for(var me in O)Object.prototype.hasOwnProperty.call(O,me)&&le.indexOf(me)<0&&(q[me]=O[me]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(me=Object.getOwnPropertySymbols(O);be<me.length;be++)le.indexOf(me[be])<0&&Object.prototype.propertyIsEnumerable.call(O,me[be])&&(q[me[be]]=O[me[be]])}return q}function et(O,le,q,me){return new(q||(q=Promise))(function(te,Oe){function ui(si){try{dt(me.next(si))}catch(Zi){Oe(Zi)}}function Le(si){try{dt(me.throw(si))}catch(Zi){Oe(Zi)}}function dt(si){si.done?te(si.value):function be(te){return te instanceof q?te:new q(function(Oe){Oe(te)})}(si.value).then(ui,Le)}dt((me=me.apply(O,le||[])).next())})}function sn(O){return this instanceof sn?(this.v=O,this):new sn(O)}function Ti(O,le,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,me=q.apply(O,le||[]),te=[];return be={},Oe("next"),Oe("throw"),Oe("return"),be[Symbol.asyncIterator]=function(){return this},be;function Oe(Ri){me[Ri]&&(be[Ri]=function(ir){return new Promise(function(wi,nr){te.push([Ri,ir,wi,nr])>1||ui(Ri,ir)})})}function ui(Ri,ir){try{!function Le(Ri){Ri.value instanceof sn?Promise.resolve(Ri.value.v).then(dt,si):Zi(te[0][2],Ri)}(me[Ri](ir))}catch(wi){Zi(te[0][3],wi)}}function dt(Ri){ui("next",Ri)}function si(Ri){ui("throw",Ri)}function Zi(Ri,ir){Ri(ir),te.shift(),te.length&&ui(te[0][0],te[0][1])}}function Gr(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,le=O[Symbol.asyncIterator];return le?le.call(O):(O=function ki(O){var le="function"==typeof Symbol&&Symbol.iterator,q=le&&O[le],me=0;if(q)return q.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&me>=O.length&&(O=void 0),{value:O&&O[me++],done:!O}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),q={},me("next"),me("throw"),me("return"),q[Symbol.asyncIterator]=function(){return this},q);function me(te){q[te]=O[te]&&function(Oe){return new Promise(function(ui,Le){!function be(te,Oe,ui,Le){Promise.resolve(Le).then(function(dt){te({value:dt,done:ui})},Oe)}(ui,Le,(Oe=O[te](Oe)).done,Oe.value)})}}}bt.d(En,{FC:()=>Ti,KL:()=>Gr,_T:()=>Et,mG:()=>et,qq:()=>sn}),"function"==typeof SuppressedError&&SuppressedError}},ra=>{ra(ra.s=650)}]);