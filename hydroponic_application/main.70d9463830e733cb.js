(self.webpackChunkhydroponic_application=self.webpackChunkhydroponic_application||[]).push([[179],{58:(Zs,vn,ht)=>{"use strict";ht.d(vn,{BH:()=>Hi,DV:()=>Fi,Dv:()=>yo,G6:()=>Ds,GJ:()=>vi,L:()=>Wt,LL:()=>ee,Pz:()=>Ci,Sg:()=>$r,UG:()=>fe,UI:()=>Is,US:()=>en,Wj:()=>wo,Wl:()=>it,Yr:()=>Ks,ZB:()=>Ge,ZR:()=>ve,aH:()=>tn,b$:()=>zn,cI:()=>Fe,dS:()=>is,eu:()=>se,g5:()=>de,gK:()=>yn,gQ:()=>on,h$:()=>mi,hl:()=>O,hu:()=>pt,jU:()=>dn,lb:()=>Sr,m9:()=>Kt,ne:()=>oo,p$:()=>ke,pd:()=>xa,r3:()=>Zn,ru:()=>nn,tV:()=>ge,uI:()=>nr,ug:()=>ns,vZ:()=>Qs,w1:()=>Ts,w9:()=>Yn,xO:()=>Rc,xb:()=>Bt,z$:()=>Nt,zd:()=>bo});const P={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},pt=function(z,L){if(!z)throw de(L)},de=function(z){return new Error("Firebase Database ("+P.SDK_VERSION+") INTERNAL ASSERT FAILED: "+z)},_t=function(z){const L=[];let j=0;for(let te=0;te<z.length;te++){let G=z.charCodeAt(te);G<128?L[j++]=G:G<2048?(L[j++]=G>>6|192,L[j++]=63&G|128):55296==(64512&G)&&te+1<z.length&&56320==(64512&z.charCodeAt(te+1))?(G=65536+((1023&G)<<10)+(1023&z.charCodeAt(++te)),L[j++]=G>>18|240,L[j++]=G>>12&63|128,L[j++]=G>>6&63|128,L[j++]=63&G|128):(L[j++]=G>>12|224,L[j++]=G>>6&63|128,L[j++]=63&G|128)}return L},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,L){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let G=0;G<z.length;G+=3){const oe=z[G],ft=G+1<z.length,It=ft?z[G+1]:0,vt=G+2<z.length,Yi=vt?z[G+2]:0;let Xn=(15&It)<<2|Yi>>6,Ni=63&Yi;vt||(Ni=64,ft||(Xn=64)),te.push(j[oe>>2],j[(3&oe)<<4|It>>4],j[Xn],j[Ni])}return te.join("")},encodeString(z,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(z):this.encodeByteArray(_t(z),L)},decodeString(z,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(z):function(z){const L=[];let j=0,te=0;for(;j<z.length;){const G=z[j++];if(G<128)L[te++]=String.fromCharCode(G);else if(G>191&&G<224){const oe=z[j++];L[te++]=String.fromCharCode((31&G)<<6|63&oe)}else if(G>239&&G<365){const vt=((7&G)<<18|(63&z[j++])<<12|(63&z[j++])<<6|63&z[j++])-65536;L[te++]=String.fromCharCode(55296+(vt>>10)),L[te++]=String.fromCharCode(56320+(1023&vt))}else{const oe=z[j++],ft=z[j++];L[te++]=String.fromCharCode((15&G)<<12|(63&oe)<<6|63&ft)}}return L.join("")}(this.decodeStringToByteArray(z,L))},decodeStringToByteArray(z,L){this.init_();const j=L?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let G=0;G<z.length;){const oe=j[z.charAt(G++)],It=G<z.length?j[z.charAt(G)]:0;++G;const Yi=G<z.length?j[z.charAt(G)]:64;++G;const We=G<z.length?j[z.charAt(G)]:64;if(++G,null==oe||null==It||null==Yi||null==We)throw new bn;te.push(oe<<2|It>>4),64!==Yi&&(te.push(It<<4&240|Yi>>2),64!==We&&te.push(Yi<<6&192|We))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mi=function(z){const L=_t(z);return en.encodeByteArray(L,!0)},Wt=function(z){return mi(z).replace(/\./g,"")},ge=function(z){try{return en.decodeString(z,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function ke(z){return Ge(void 0,z)}function Ge(z,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return L}for(const j in L)!L.hasOwnProperty(j)||!Rt(j)||(z[j]=Ge(z[j],L[j]));return z}function Rt(z){return"__proto__"!==z}const Pt=()=>{try{return function li(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=z&&ge(z[1]);return L&&JSON.parse(L)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},tn=()=>{var z;return null===(z=Pt())||void 0===z?void 0:z.config},Ci=z=>{var L;return null===(L=Pt())||void 0===L?void 0:L[`_${z}`]};class Hi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,j)=>{this.resolve=L,this.reject=j})}wrapCallback(L){return(j,te)=>{j?this.reject(j):this.resolve(te),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(j):L(j,te))}}}function $r(z,L){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=L||"demo-project",G=z.iat||0,oe=z.sub||z.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:G,exp:G+3600,auth_time:G,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(ft)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function fe(){var z;const L=null===(z=Pt())||void 0===z?void 0:z.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dn(){return"object"==typeof self&&self.self===self}function nn(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ts(){const z=Nt();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Ks(){return!0===P.NODE_CLIENT||!0===P.NODE_ADMIN}function Ds(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((z,L)=>{try{let j=!0;const te="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(te);G.onsuccess=()=>{G.result.close(),j||self.indexedDB.deleteDatabase(te),z(!0)},G.onupgradeneeded=()=>{j=!1},G.onerror=()=>{var oe;L((null===(oe=G.error)||void 0===oe?void 0:oe.message)||"")}}catch(j){L(j)}})}class ve extends Error{constructor(L,j,te){super(j),this.code=L,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(L,j,te){this.service=L,this.serviceName=j,this.errors=te}create(L,...j){const te=j[0]||{},G=`${this.service}/${L}`,oe=this.errors[L],ft=oe?function Pe(z,L){return z.replace(ci,(j,te)=>{const G=L[te];return null!=G?String(G):`<${te}?>`})}(oe,te):"Error";return new ve(G,`${this.serviceName}: ${ft} (${G}).`,te)}}const ci=/\{\$([^}]+)}/g;function Fe(z){return JSON.parse(z)}function it(z){return JSON.stringify(z)}const ni=function(z){let L={},j={},te={},G="";try{const oe=z.split(".");L=Fe(ge(oe[0])||""),j=Fe(ge(oe[1])||""),G=oe[2],te=j.d||{},delete j.d}catch{}return{header:L,claims:j,data:te,signature:G}},Yn=function(z){const j=ni(z).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},vi=function(z){const L=ni(z).claims;return"object"==typeof L&&!0===L.admin};function Zn(z,L){return Object.prototype.hasOwnProperty.call(z,L)}function Fi(z,L){if(Object.prototype.hasOwnProperty.call(z,L))return z[L]}function Bt(z){for(const L in z)if(Object.prototype.hasOwnProperty.call(z,L))return!1;return!0}function Is(z,L,j){const te={};for(const G in z)Object.prototype.hasOwnProperty.call(z,G)&&(te[G]=L.call(j,z[G],G,z));return te}function Qs(z,L){if(z===L)return!0;const j=Object.keys(z),te=Object.keys(L);for(const G of j){if(!te.includes(G))return!1;const oe=z[G],ft=L[G];if(rn(oe)&&rn(ft)){if(!Qs(oe,ft))return!1}else if(oe!==ft)return!1}for(const G of te)if(!j.includes(G))return!1;return!0}function rn(z){return null!==z&&"object"==typeof z}function Rc(z){const L=[];for(const[j,te]of Object.entries(z))Array.isArray(te)?te.forEach(G=>{L.push(encodeURIComponent(j)+"="+encodeURIComponent(G))}):L.push(encodeURIComponent(j)+"="+encodeURIComponent(te));return L.length?"&"+L.join("&"):""}function bo(z){const L={};return z.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[G,oe]=te.split("=");L[decodeURIComponent(G)]=decodeURIComponent(oe)}}),L}function xa(z){const L=z.indexOf("?");if(!L)return"";const j=z.indexOf("#",L);return z.substring(L,j>0?j:void 0)}class on{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,j){j||(j=0);const te=this.W_;if("string"==typeof L)for(let We=0;We<16;We++)te[We]=L.charCodeAt(j)<<24|L.charCodeAt(j+1)<<16|L.charCodeAt(j+2)<<8|L.charCodeAt(j+3),j+=4;else for(let We=0;We<16;We++)te[We]=L[j]<<24|L[j+1]<<16|L[j+2]<<8|L[j+3],j+=4;for(let We=16;We<80;We++){const Xn=te[We-3]^te[We-8]^te[We-14]^te[We-16];te[We]=4294967295&(Xn<<1|Xn>>>31)}let Yi,Qn,G=this.chain_[0],oe=this.chain_[1],ft=this.chain_[2],It=this.chain_[3],vt=this.chain_[4];for(let We=0;We<80;We++){We<40?We<20?(Yi=It^oe&(ft^It),Qn=1518500249):(Yi=oe^ft^It,Qn=1859775393):We<60?(Yi=oe&ft|It&(oe|ft),Qn=2400959708):(Yi=oe^ft^It,Qn=3395469782);const Xn=(G<<5|G>>>27)+Yi+vt+Qn+te[We]&4294967295;vt=It,It=ft,ft=4294967295&(oe<<30|oe>>>2),oe=G,G=Xn}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+oe&4294967295,this.chain_[2]=this.chain_[2]+ft&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(L,j){if(null==L)return;void 0===j&&(j=L.length);const te=j-this.blockSize;let G=0;const oe=this.buf_;let ft=this.inbuf_;for(;G<j;){if(0===ft)for(;G<=te;)this.compress_(L,G),G+=this.blockSize;if("string"==typeof L){for(;G<j;)if(oe[ft]=L.charCodeAt(G),++ft,++G,ft===this.blockSize){this.compress_(oe),ft=0;break}}else for(;G<j;)if(oe[ft]=L[G],++ft,++G,ft===this.blockSize){this.compress_(oe),ft=0;break}}this.inbuf_=ft,this.total_+=j}digest(){const L=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&j,j/=256;this.compress_(this.buf_);let te=0;for(let G=0;G<5;G++)for(let oe=24;oe>=0;oe-=8)L[te]=this.chain_[G]>>oe&255,++te;return L}}function oo(z,L){const j=new so(z,L);return j.subscribe.bind(j)}class so{constructor(L,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{L(this)}).catch(te=>{this.error(te)})}next(L){this.forEachObserver(j=>{j.next(L)})}error(L){this.forEachObserver(j=>{j.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,j,te){let G;if(void 0===L&&void 0===j&&void 0===te)throw new Error("Missing Observer.");G=function Lo(z,L){if("object"!=typeof z||null===z)return!1;for(const j of L)if(j in z&&"function"==typeof z[j])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:j,complete:te},void 0===G.next&&(G.next=Ti),void 0===G.error&&(G.error=Ti),void 0===G.complete&&(G.complete=Ti);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),oe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,L)}sendOne(L,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{j(this.observers[L])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ti(){}const yo=function(z,L,j,te){let G;if(te<L?G="at least "+L:te>j&&(G=0===j?"none":"no more than "+j),G)throw new Error(z+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+G+".")};function yn(z,L){return`${z} failed: ${L} argument `}function wo(z,L,j,te){if((!te||j)&&"function"!=typeof j)throw new Error(yn(z,L)+"must be a valid function.")}function Sr(z,L,j,te){if((!te||j)&&("object"!=typeof j||null===j))throw new Error(yn(z,L)+"must be a valid context object.")}const is=function(z){const L=[];let j=0;for(let te=0;te<z.length;te++){let G=z.charCodeAt(te);if(G>=55296&&G<=56319){const oe=G-55296;te++,pt(te<z.length,"Surrogate pair missing trail surrogate."),G=65536+(oe<<10)+(z.charCodeAt(te)-56320)}G<128?L[j++]=G:G<2048?(L[j++]=G>>6|192,L[j++]=63&G|128):G<65536?(L[j++]=G>>12|224,L[j++]=G>>6&63|128,L[j++]=63&G|128):(L[j++]=G>>18|240,L[j++]=G>>12&63|128,L[j++]=G>>6&63|128,L[j++]=63&G|128)}return L},ns=function(z){let L=0;for(let j=0;j<z.length;j++){const te=z.charCodeAt(j);te<128?L++:te<2048?L+=2:te>=55296&&te<=56319?(L+=4,j++):L+=3}return L};function Kt(z){return z&&z._delegate?z._delegate:z}},342:(Zs,vn,ht)=>{"use strict";function P(i){return"function"==typeof i}function pt(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const de=pt(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _t(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class At{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(P(n))try{n()}catch(o){t=o instanceof de?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{mi(o)}catch(s){t=t??[],s instanceof de?t=[...t,...s.errors]:t.push(s)}}if(t)throw new de(t)}}add(t){var e;if(t&&t!==this)if(this.closed)mi(t);else{if(t instanceof At){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_t(e,t)}remove(t){const{_finalizers:e}=this;e&&_t(e,t),t instanceof At&&t._removeParent(this)}}At.EMPTY=(()=>{const i=new At;return i.closed=!0,i})();const en=At.EMPTY;function bn(i){return i instanceof At||i&&"closed"in i&&P(i.remove)&&P(i.add)&&P(i.unsubscribe)}function mi(i){P(i)?i():i.unsubscribe()}const Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ge={setTimeout(i,t,...e){const{delegate:n}=ge;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=ge;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function ke(i){ge.setTimeout(()=>{const{onUnhandledError:t}=Wt;if(!t)throw i;t(i)})}function Ge(){}const Rt=xi("C",void 0,void 0);function xi(i,t,e){return{kind:i,value:t,error:e}}let Ct=null;function Pt(i){if(Wt.useDeprecatedSynchronousErrorHandling){const t=!Ct;if(t&&(Ct={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=Ct;if(Ct=null,e)throw n}}else i()}class br extends At{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,bn(t)&&t.add(this)):this.destination=dn}static create(t,e,n){return new $r(t,e,n)}next(t){this.isStopped?fe(function _r(i){return xi("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?fe(function li(i){return xi("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?fe(Rt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tn=Function.prototype.bind;function Ci(i,t){return tn.call(i,t)}class Hi{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Nt(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Nt(n)}else Nt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Nt(e)}}}class $r extends br{constructor(t,e,n){let r;if(super(),P(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ci(t.next,o),error:t.error&&Ci(t.error,o),complete:t.complete&&Ci(t.complete,o)}):r=t}this.destination=new Hi(r)}}function Nt(i){Wt.useDeprecatedSynchronousErrorHandling?function vr(i){Wt.useDeprecatedSynchronousErrorHandling&&Ct&&(Ct.errorThrown=!0,Ct.error=i)}(i):ke(i)}function fe(i,t){const{onStoppedNotification:e}=Wt;e&&ge.setTimeout(()=>e(i,t))}const dn={closed:!0,next:Ge,error:function nr(i){throw i},complete:Ge},nn="function"==typeof Symbol&&Symbol.observable||"@@observable";function zn(i){return i}function Ts(i){return 0===i.length?zn:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}let Vt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function O(i){return i&&i instanceof br||function Ds(i){return i&&P(i.next)&&P(i.error)&&P(i.complete)}(i)&&bn(i)}(e)?e:new $r(e,n,r);return Pt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=Ks(n))((r,o)=>{const s=new $r({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[nn](){return this}pipe(...e){return Ts(e)(this)}toPromise(e){return new(e=Ks(e))((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function Ks(i){var t;return null!==(t=i??Wt.Promise)&&void 0!==t?t:Promise}const se=pt(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class i extends Vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new he(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new se}next(e){Pt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){Pt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Pt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?en:(this.currentObservers=null,o.push(e),new At(()=>{this.currentObservers=null,_t(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new Vt;return e.source=this,e}}return i.create=(t,e)=>new he(t,e),i})();class he extends Z{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:en}}function ve(i){return P(i?.lift)}function ee(i){return t=>{if(ve(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(i,t,e,n,r){return new ci(i,t,e,n,r)}class ci extends br{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Fe(i,t){return ee((e,n)=>{let r=0;e.subscribe(Pe(n,o=>{n.next(i.call(t,o,r++))}))})}var it=ht(582);const ni=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function qi(i){return P(i?.then)}function Si(i){return P(i[nn])}function Yn(i){return Symbol.asyncIterator&&P(i?.[Symbol.asyncIterator])}function vi(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Fi=function Zn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bt(i){return P(i?.[Fi])}function Is(i){return(0,it.FC)(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield(0,it.qq)(e.read());if(r)return yield(0,it.qq)(void 0);yield yield(0,it.qq)(n)}}finally{e.releaseLock()}})}function Qs(i){return P(i?.getReader)}function rn(i){if(i instanceof Vt)return i;if(null!=i){if(Si(i))return function wa(i){return new Vt(t=>{const e=i[nn]();if(P(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(ni(i))return function Rc(i){return new Vt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(qi(i))return function bo(i){return new Vt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ke)})}(i);if(Yn(i))return on(i);if(Bt(i))return function xa(i){return new Vt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(Qs(i))return function oo(i){return on(Is(i))}(i)}throw vi(i)}function on(i){return new Vt(t=>{(function so(i,t){var e,n,r,o;return(0,it.mG)(this,void 0,void 0,function*(){try{for(e=(0,it.KL)(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Ir(i,t,e,n=0,r=!1){const o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function Ti(i,t,e=1/0){return P(t)?Ti((n,r)=>Fe((o,s)=>t(n,o,r,s))(rn(i(n,r))),e):("number"==typeof t&&(e=t),ee((n,r)=>function Lo(i,t,e,n,r,o,s,a){const c=[];let l=0,d=0,h=!1;const p=()=>{h&&!c.length&&!l&&t.complete()},g=w=>l<n?b(w):c.push(w),b=w=>{o&&t.next(w),l++;let x=!1;rn(e(w,d++)).subscribe(Pe(t,I=>{r?.(I),o?g(I):t.next(I)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<n;){const I=c.shift();s?Ir(t,s,()=>b(I)):b(I)}p()}catch(I){t.error(I)}}))};return i.subscribe(Pe(t,g,()=>{h=!0,p()})),()=>{a?.()}}(n,r,i,e)))}function yo(i=1/0){return Ti(zn,i)}const yn=new Vt(i=>i.complete());function Sr(i){return i&&P(i.schedule)}function is(i){return i[i.length-1]}function ns(i){return P(is(i))?i.pop():void 0}function Ea(i){return Sr(is(i))?i.pop():void 0}function un(i,t=0){return ee((e,n)=>{e.subscribe(Pe(n,r=>Ir(n,i,()=>n.next(r),t),()=>Ir(n,i,()=>n.complete(),t),r=>Ir(n,i,()=>n.error(r),t)))})}function ao(i,t=0){return ee((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function Kt(i,t){if(!i)throw new Error("Iterable cannot be null");return new Vt(e=>{Ir(e,t,()=>{const n=i[Symbol.asyncIterator]();Ir(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function j(i,t){return t?function L(i,t){if(null!=i){if(Si(i))return function Kn(i,t){return rn(i).pipe(ao(t),un(t))}(i,t);if(ni(i))return function Fl(i,t){return new Vt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(qi(i))return function Xs(i,t){return rn(i).pipe(ao(t),un(t))}(i,t);if(Yn(i))return Kt(i,t);if(Bt(i))return function Pc(i,t){return new Vt(e=>{let n;return Ir(e,t,()=>{n=i[Fi](),Ir(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>P(n?.return)&&n.return()})}(i,t);if(Qs(i))return function z(i,t){return Kt(Is(i),t)}(i,t)}throw vi(i)}(i,t):rn(i)}function te(...i){const t=Ea(i),e=function rr(i,t){return"number"==typeof is(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?rn(n[0]):yo(e)(j(n,t)):yn}class G extends Z{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function oe(...i){return j(i,Ea(i))}function ft(i={}){const{connector:t=(()=>new Z),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,c,l=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=c=void 0,d=h=!1},b=()=>{const w=s;g(),w?.unsubscribe()};return ee((w,x)=>{l++,!h&&!d&&p();const I=c=c??t();x.add(()=>{l--,0===l&&!h&&!d&&(a=It(b,r))}),I.subscribe(x),!s&&l>0&&(s=new $r({next:T=>I.next(T),error:T=>{h=!0,p(),a=It(g,e,T),I.error(T)},complete:()=>{d=!0,p(),a=It(g,n),I.complete()}}),rn(w).subscribe(s))})(o)}}function It(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new $r({next:()=>{n.unsubscribe(),i()}});return rn(t(...e)).subscribe(n)}function vt(i,t){return ee((e,n)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&n.complete();e.subscribe(Pe(n,c=>{r?.unsubscribe();let l=0;const d=o++;rn(i(c,d)).subscribe(r=Pe(n,h=>n.next(t?t(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Yi(i,t=zn){return i=i??Qn,ee((e,n)=>{let r,o=!0;e.subscribe(Pe(n,s=>{const a=t(s);(o||!i(r,a))&&(o=!1,r=a,n.next(s))}))})}function Qn(i,t){return i===t}function We(i){for(let t in i)if(i[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Xn(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function Ni(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ni).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function rs(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const Qd=We({__forward_ref__:We});function Q(i){return i.__forward_ref__=Q,i.toString=function(){return Ni(this())},i}function W(i){return xe(i)?i():i}function xe(i){return"function"==typeof i&&i.hasOwnProperty(Qd)&&i.__forward_ref__===Q}function qe(i){return i&&!!i.\u0275providers}const ri="https://g.co/ng/security#xss";class X extends Error{constructor(t,e){super(function sn(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ye(i){return"string"==typeof i?i:null==i?"":String(i)}function Nl(i,t){throw new X(-201,!1)}function Mr(i,t){null==i&&function ct(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function ye(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Oe(i){return{providers:i.providers||[],imports:i.imports||[]}}function Oc(i){return qh(i,Ll)||qh(i,lf)}function qh(i,t){return i.hasOwnProperty(t)?i[t]:null}function Ss(i){return i&&(i.hasOwnProperty(Fc)||i.hasOwnProperty(Yh))?i[Fc]:null}const Ll=We({\u0275prov:We}),Fc=We({\u0275inj:We}),lf=We({ngInjectableDef:We}),Yh=We({ngInjectorDef:We});var oi=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(oi||{});let Vl;function Ar(i){const t=Vl;return Vl=i,t}function uf(i,t,e){const n=Oc(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&oi.Optional?null:void 0!==t?t:void Nl(Ni(i))}const Mi=globalThis;class q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ye({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const or={},zl="__NG_DI_FLAG__",Hl="ngTempTokenPath",Wv=/\n/gm,gf="__source";let Da;function Ms(i){const t=Da;return Da=i,t}function qv(i,t=oi.Default){if(void 0===Da)throw new X(-203,!1);return null===Da?uf(i,void 0,t):Da.get(i,t&oi.Optional?null:void 0,t)}function U(i,t=oi.Default){return(function df(){return Vl}()||qv)(W(i),t)}function De(i,t=oi.Default){return U(i,jl(t))}function jl(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Xh(i){const t=[];for(let e=0;e<i.length;e++){const n=W(i[e]);if(Array.isArray(n)){if(0===n.length)throw new X(900,!1);let r,o=oi.Default;for(let s=0;s<n.length;s++){const a=n[s],c=Hx(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(U(r,o))}else t.push(U(n))}return t}function Rr(i,t){return i[zl]=t,i.prototype[zl]=t,i}function Hx(i){return i[zl]}function co(i){return{toString:i}.toString()}var Js=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Js||{}),Co=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Co||{});const Bo={},Xt=[],tu=We({\u0275cmp:We}),Ia=We({\u0275dir:We}),Jh=We({\u0275pipe:We}),Ul=We({\u0275mod:We}),As=We({\u0275fac:We}),Lc=We({__NG_ELEMENT_ID__:We}),iu=We({__NG_ENV_ID__:We});function Eo(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function nu(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],s=e[n++],a=e[n++];i.setAttribute(t,s,a,o)}else{const o=r,s=e[++n];$l(o)?i.setProperty(t,o,s):i.setAttribute(t,o,s),n++}}return n}function _f(i){return 3===i||4===i||6===i}function $l(i){return 64===i.charCodeAt(0)}function ea(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||Vc(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function Vc(i,t,e,n,r){let o=0,s=i.length;if(-1===t)s=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(i[o+1]=r));if(n===i[o+1])return void(i[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==s&&(i.splice(s,0,t),o=s+1),i.splice(o++,0,e),null!==n&&i.splice(o++,0,n),null!==r&&i.splice(o++,0,r)}const em="ng-template";function Yv(i,t,e){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if("string"==typeof o&&r){const s=i[n++];if(e&&"class"===o&&-1!==Eo(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;n<i.length&&"string"==typeof(o=i[n++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function ru(i){return 4===i.type&&i.value!==em}function ou(i,t,e){return t===(4!==i.type||e?i.value:em)}function tm(i,t,e){let n=4;const r=i.attrs||[],o=function Gl(i){for(let t=0;t<i.length;t++)if(_f(i[t]))return t;return i.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&n){if(n=2|1&n,""!==c&&!ou(i,c,e)||""===c&&1===t.length){if(Pr(n))return!1;s=!0}}else{const l=8&n?c:t[++a];if(8&n&&null!==i.attrs){if(!Yv(i.attrs,l,e)){if(Pr(n))return!1;s=!0}continue}const h=su(8&n?"class":c,r,ru(i),e);if(-1===h){if(Pr(n))return!1;s=!0;continue}if(""!==l){let p;p=h>o?"":r[h+1].toLowerCase();const g=8&n?p:null;if(g&&-1!==Eo(g,l,0)||2&n&&l!==p){if(Pr(n))return!1;s=!0}}}}else{if(!s&&!Pr(n)&&!Pr(c))return!1;if(s&&Pr(c))continue;s=!1,n=c|1&n}}return Pr(n)||s}function Pr(i){return 0==(1&i)}function su(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===i)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function im(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function au(i,t,e=!1){for(let n=0;n<t.length;n++)if(tm(i,t[n],e))return!0;return!1}function ql(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function Yl(i,t){return i?":not("+t.trim()+")":t}function nm(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let s=i[e];if("string"==typeof s)if(2&n){const a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+s:4&n&&(r+=" "+s);else""!==r&&!Pr(s)&&(t+=Yl(o,r),r=""),n=s,o=o||!Pr(n);e++}return""!==r&&(t+=Yl(o,r)),t}function gt(i){return co(()=>{const t=uu(i),e={...t,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Js.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Co.Emulated,styles:i.styles||Xt,_:null,schemas:i.schemas||null,tView:null,id:""};om(e);const n=i.dependencies;return e.directiveDefs=Bc(n,!1),e.pipeDefs=Bc(n,!0),e.id=function am(i){let t=0;const e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function lu(i){return si(i)||Hn(i)}function bf(i){return null!==i}function Ae(i){return co(()=>({type:i.type,bootstrap:i.bootstrap||Xt,declarations:i.declarations||Xt,imports:i.imports||Xt,exports:i.exports||Xt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function du(i,t){if(null==i)return Bo;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}function ae(i){return co(()=>{const t=uu(i);return om(t),t})}function sr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function si(i){return i[tu]||null}function Hn(i){return i[Ia]||null}function Gr(i){return i[Jh]||null}function ko(i,t){const e=i[Ul]||null;if(!e&&!0===t)throw new Error(`Type ${Ni(i)} does not have '\u0275mod' property.`);return e}function uu(i){const t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||Bo,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Xt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:du(i.inputs,t),outputs:du(i.outputs)}}function om(i){i.features?.forEach(t=>t(i))}function Bc(i,t){if(!i)return null;const e=t?Gr:lu;return()=>("function"==typeof i?i():i).map(n=>e(n)).filter(bf)}const hn=0,Ne=1,Ot=2,ji=3,ss=4,Kl=5,Sn=6,zc=7,Mn=8,Rs=9,Hc=10,yt=11,Ql=12,hu=13,jc=14,mn=15,Uc=16,ta=17,Ps=18,sc=19,yf=20,as=21,cs=22,Xl=23,$c=24,Gt=25,ia=1,cm=2,Os=7,Wc=9,yr=11;function To(i){return Array.isArray(i)&&"object"==typeof i[ia]}function lo(i){return Array.isArray(i)&&!0===i[ia]}function ls(i){return 0!=(4&i.flags)}function Ma(i){return i.componentOffset>-1}function pu(i){return 1==(1&i.flags)}function Fs(i){return!!i.template}function wf(i){return 0!=(512&i[Ot])}function E(i,t){return i.hasOwnProperty(As)?i[As]:null}let ut=null,Mt=!1;function gi(i){const t=ut;return ut=i,t}const Zi={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ef(i){if(!Yc(i)||i.dirty){if(!i.producerMustRecompute(i)&&!eC(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Jx(i){i.dirty=!0,function Xx(i){if(void 0===i.liveConsumerNode)return;const t=Mt;Mt=!0;try{for(const e of i.liveConsumerNode)e.dirty||Jx(e)}finally{Mt=t}}(i),i.consumerMarkedDirty?.(i)}function Zv(i){return i&&(i.nextProducerIndex=0),gi(i)}function kf(i,t){if(gi(t),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Yc(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)qc(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function eC(i){_u(i);for(let t=0;t<i.producerNode.length;t++){const e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(Ef(e),n!==e.version))return!0}return!1}function hm(i){if(_u(i),Yc(i))for(let t=0;t<i.producerNode.length;t++)qc(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function qc(i,t){if(function Tf(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),_u(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)qc(i.producerNode[n],i.producerIndexOfThis[n]);const e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];_u(r),r.producerIndexOfThis[n]=t}}function Yc(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function _u(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let nC=null;const sC=()=>{},tM=(()=>({...Zi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:sC}))();class iM{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ar(){return aC}function aC(i){return i.type.prototype.ngOnChanges&&(i.setInput=rM),nM}function nM(){const i=cC(this),t=i?.current;if(t){const e=i.previous;if(e===Bo)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function rM(i,t,e,n){const r=this.declaredInputs[e],o=cC(i)||function Jv(i,t){return i[If]=t}(i,{previous:Bo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new iM(c&&c.currentValue,t,a===Bo),i[n]=t}ar.ngInherit=!0;const If="__ngSimpleChanges__";function cC(i){return i[If]||null}const Aa=function(i,t,e){};function Ui(i){for(;Array.isArray(i);)i=i[hn];return i}function bu(i,t){return Ui(t[i])}function Or(i,t){return Ui(t[i.index])}function Mf(i,t){return i.data[t]}function us(i,t){const e=t[i];return To(e)?e:e[hn]}function Zc(i,t){return null==t?null:i[t]}function dC(i){i[ta]=0}function rb(i){1024&i[Ot]||(i[Ot]|=1024,Af(i,1))}function uC(i){1024&i[Ot]&&(i[Ot]&=-1025,Af(i,-1))}function Af(i,t){let e=i[ji];if(null===e)return;e[Kl]+=t;let n=e;for(e=e[ji];null!==e&&(1===t&&1===n[Kl]||-1===t&&0===n[Kl]);)e[Kl]+=t,n=e,e=e[ji]}const wt={lFrame:vC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pf(){return wt.bindingsEnabled}function Kc(){return null!==wt.skipHydrationRootTNode}function we(){return wt.lFrame.lView}function pi(){return wt.lFrame.tView}function wr(){let i=gC();for(;null!==i&&64===i.type;)i=i.parent;return i}function gC(){return wt.lFrame.currentTNode}function Ns(i,t){const e=wt.lFrame;e.currentTNode=i,e.isParent=t}function cb(){return wt.lFrame.isParent}function gm(){wt.lFrame.isParent=!1}function qr(){const i=wt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function id(){return wt.lFrame.bindingIndex++}function hb(i,t){const e=wt.lFrame;e.bindingIndex=e.bindingRootIndex=i,mb(t)}function mb(i){wt.lFrame.currentDirectiveIndex=i}function Ff(){return wt.lFrame.currentQueryIndex}function fb(i){wt.lFrame.currentQueryIndex=i}function pM(i){const t=i[Ne];return 2===t.type?t.declTNode:1===t.type?i[Sn]:null}function gb(i,t,e){if(e&oi.SkipSelf){let r=t,o=i;for(;!(r=r.parent,null!==r||e&oi.Host||(r=pM(o),null===r||(o=o[jc],10&r.type))););if(null===r)return!1;t=r,i=o}const n=wt.lFrame=_m();return n.currentTNode=t,n.lView=i,!0}function _b(i){const t=_m(),e=i[Ne];wt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function _m(){const i=wt.lFrame,t=null===i?null:i.child;return null===t?vC(i):t}function vC(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function bC(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const yC=bC;function vb(){const i=bC();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Do(){return wt.lFrame.selectedIndex}function nd(i){wt.lFrame.selectedIndex=i}function pn(){const i=wt.lFrame;return Mf(i.tView,i.selectedIndex)}function Qc(){wt.lFrame.currentNamespace="svg"}function wu(){!function vM(){wt.lFrame.currentNamespace=null}()}let bb=!0;function Nf(){return bb}function Xc(i){bb=i}function Lf(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),c&&(i.viewHooks??=[]).push(-e,c),l&&((i.viewHooks??=[]).push(e,l),(i.viewCheckHooks??=[]).push(e,l)),null!=d&&(i.destroyHooks??=[]).push(e,d)}}function Vf(i,t,e){xC(i,t,3,e)}function xu(i,t,e,n){(3&i[Ot])===e&&xC(i,t,e,n)}function vm(i,t){let e=i[Ot];(3&e)===t&&(e&=8191,e+=1,i[Ot]=e)}function xC(i,t,e,n){const o=n??-1,s=t.length-1;let a=0;for(let c=void 0!==n?65535&i[ta]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=n&&a>=n)break}else t[c]<0&&(i[ta]+=65536),(a<o||-1==o)&&(yM(i,e,t,c),i[ta]=(4294901760&i[ta])+c+2),c++}function Bf(i,t){Aa(4,i,t);const e=gi(null);try{t.call(i)}finally{gi(e),Aa(5,i,t)}}function yM(i,t,e,n){const r=e[n]<0,o=e[n+1],a=i[r?-e[n]:e[n]];r?i[Ot]>>13<i[ta]>>16&&(3&i[Ot])===t&&(i[Ot]+=8192,Bf(a,o)):Bf(a,o)}const rd=-1;class bm{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function wb(i){return i!==rd}function ym(i){return 32767&i}function wm(i,t){let e=function CM(i){return i>>16}(i),n=t;for(;e>0;)n=n[jc],e--;return n}let xb=!0;function xm(i){const t=xb;return xb=i,t}const EM=255,Jc=5;let kM=0;const Pa={};function Hf(i,t){const e=TC(i,t);if(-1!==e)return e;const n=t[Ne];n.firstCreatePass&&(i.injectorIndex=t.length,Cm(n.data,i),Cm(t,null),Cm(n.blueprint,null));const r=jf(i,t),o=i.injectorIndex;if(wb(r)){const s=ym(r),a=wm(r,t),c=a[Ne].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Cm(i,t){i.push(0,0,0,0,0,0,0,0,t)}function TC(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function jf(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=RC(r),null===n)return rd;if(e++,r=r[jc],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return rd}function Em(i,t,e){!function Cb(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Lc)&&(n=e[Lc]),null==n&&(n=e[Lc]=kM++);const r=n&EM;t.data[i+(r>>Jc)]|=1<<r}(i,t,e)}function DC(i,t,e){if(e&oi.Optional||void 0!==i)return i;Nl()}function Uf(i,t,e,n){if(e&oi.Optional&&void 0===n&&(n=null),!(e&(oi.Self|oi.Host))){const r=i[Rs],o=Ar(void 0);try{return r?r.get(t,n,e&oi.Optional):uf(t,n,e&oi.Optional)}finally{Ar(o)}}return DC(n,0,e)}function IC(i,t,e,n=oi.Default,r){if(null!==i){if(2048&t[Ot]&&!(n&oi.Self)){const s=function SM(i,t,e,n,r){let o=i,s=t;for(;null!==o&&null!==s&&2048&s[Ot]&&!(512&s[Ot]);){const a=SC(o,s,e,n|oi.Self,Pa);if(a!==Pa)return a;let c=o.parent;if(!c){const l=s[yf];if(l){const d=l.get(e,Pa,n);if(d!==Pa)return d}c=RC(s),s=s[jc]}o=c}return r}(i,t,e,n,Pa);if(s!==Pa)return s}const o=SC(i,t,e,n,Pa);if(o!==Pa)return o}return Uf(t,e,n,r)}function SC(i,t,e,n,r){const o=function MC(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(Lc)?i[Lc]:void 0;return"number"==typeof t?t>=0?t&EM:IM:t}(e);if("function"==typeof o){if(!gb(t,i,n))return n&oi.Host?DC(r,0,n):Uf(t,e,n,r);try{let s;if(s=o(n),null!=s||n&oi.Optional)return s;Nl()}finally{yC()}}else if("number"==typeof o){let s=null,a=TC(i,t),c=rd,l=n&oi.Host?t[mn][Sn]:null;for((-1===a||n&oi.SkipSelf)&&(c=-1===a?jf(i,t):t[a+8],c!==rd&&AC(n,!1)?(s=t[Ne],a=ym(c),t=wm(c,t)):a=-1);-1!==a;){const d=t[Ne];if(Wf(o,a,d.data)){const h=DM(a,t,e,s,n,l);if(h!==Pa)return h}c=t[a+8],c!==rd&&AC(n,t[Ne].data[a+8]===l)&&Wf(o,a,t)?(s=d,a=ym(c),t=wm(c,t)):a=-1}}return r}function DM(i,t,e,n,r,o){const s=t[Ne],a=s.data[i+8],d=$f(a,s,e,null==n?Ma(a)&&xb:n!=s&&0!=(3&a.type),r&oi.Host&&o===a);return null!==d?od(t,s,d,a):Pa}function $f(i,t,e,n,r){const o=i.providerIndexes,s=t.data,a=1048575&o,c=i.directiveStart,d=o>>20,p=r?a+d:i.directiveEnd;for(let g=n?a:a+d;g<p;g++){const b=s[g];if(g<c&&e===b||g>=c&&b.type===e)return g}if(r){const g=s[c];if(g&&Fs(g)&&g.type===e)return c}return null}function od(i,t,e,n){let r=i[e];const o=t.data;if(function yb(i){return i instanceof bm}(r)){const s=r;s.resolving&&function Vo(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new X(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Qt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ye(i)}(o[e]));const a=xm(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ar(s.injectImpl):null;gb(i,n,oi.Default);try{r=i[e]=s.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&function bM(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){const s=aC(t);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}(e,o[e],t)}finally{null!==l&&Ar(l),xm(a),s.resolving=!1,yC()}}return r}function Wf(i,t,e){return!!(e[t+(i>>Jc)]&1<<i)}function AC(i,t){return!(i&oi.Self||i&oi.Host&&t)}class Yr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return IC(this._tNode,this._lView,t,jl(n),e)}}function IM(){return new Yr(wr(),we())}function Et(i){return co(()=>{const t=i.prototype.constructor,e=t[As]||Cu(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const o=r[As]||Cu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Cu(i){return xe(i)?()=>{const t=Cu(W(i));return t&&t()}:E(i)}function RC(i){const t=i[Ne],e=t.type;return 2===e?t.declTNode:1===e?i[Sn]:null}function zo(i){return function TM(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(_f(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(wr(),i)}const Eu="__parameters__";function Oa(i,t,e){return co(()=>{const n=function kb(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(Eu)?c[Eu]:Object.defineProperty(c,Eu,{value:[]})[Eu];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function Tu(i,t){i.forEach(e=>Array.isArray(e)?Tu(e,t):t(e))}function Gf(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Du(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Dm(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function ms(i,t,e){let n=Iu(i,t);return n>=0?i[1|n]=e:(n=~n,function tl(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function Tb(i,t){const e=Iu(i,t);if(e>=0)return i[1|e]}function Iu(i,t){return function Io(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const o=n+(r-n>>1),s=i[o<<e];if(t===s)return o<<e;s>t?r=o:n=o+1}return~(r<<e)}(i,t,1)}const Ho=Rr(Oa("Optional"),8),na=Rr(Oa("SkipSelf"),4);function WC(i){return 128==(128&i.flags)}var Mu=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Mu||{});const yie=/^>|^->|<!--|-->|--!>|<!-$/g,wie=/(<|>)/g,xie="\u200b$1\u200b";const HM=new Map;let Cie=0;const UM="__ngContext__";function jo(i,t){To(t)?(i[UM]=t[sc],function kie(i){HM.set(i[sc],i)}(t)):i[UM]=t}let $M;function WM(i,t){return $M(i,t)}function Pb(i){const t=i[ji];return lo(t)?t[ji]:t}function f3(i){return _3(i[Ql])}function g3(i){return _3(i[ss])}function _3(i){for(;null!==i&&!lo(i);)i=i[ss];return i}function Xf(i,t,e,n,r){if(null!=n){let o,s=!1;lo(n)?o=n:To(n)&&(s=!0,n=n[hn]);const a=Ui(n);0===i&&null!==e?null==r?w3(t,e,a):Mm(t,e,a,r||null,!0):1===i&&null!==e?Mm(t,e,a,r||null,!0):2===i?function XC(i,t,e){const n=KC(i,t);n&&function $ie(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,a,s):3===i&&t.destroyNode(a),null!=o&&function qie(i,t,e,n,r){const o=e[Os];o!==Ui(e)&&Xf(t,i,n,o,r);for(let a=yr;a<e.length;a++){const c=e[a];Fb(c[Ne],c,i,t,n,o)}}(t,i,o,e,r)}}function GM(i,t){return i.createComment(function a3(i){return i.replace(yie,t=>t.replace(wie,xie))}(t))}function YC(i,t,e){return i.createElement(t,e)}function b3(i,t){const e=i[Wc],n=e.indexOf(t);uC(t),e.splice(n,1)}function ZC(i,t){if(i.length<=yr)return;const e=yr+t,n=i[e];if(n){const r=n[Uc];null!==r&&r!==i&&b3(r,n),t>0&&(i[e-1][ss]=n[ss]);const o=Du(i,yr+t);!function Nie(i,t){Fb(i,t,t[yt],2,null,null),t[hn]=null,t[Sn]=null}(n[Ne],n);const s=o[Ps];null!==s&&s.detachView(o[Ne]),n[ji]=null,n[ss]=null,n[Ot]&=-129}return n}function qM(i,t){if(!(256&t[Ot])){const e=t[yt];t[Xl]&&hm(t[Xl]),t[$c]&&hm(t[$c]),e.destroyNode&&Fb(i,t,e,3,null,null),function Bie(i){let t=i[Ql];if(!t)return YM(i[Ne],i);for(;t;){let e=null;if(To(t))e=t[Ql];else{const n=t[yr];n&&(e=n)}if(!e){for(;t&&!t[ss]&&t!==i;)To(t)&&YM(t[Ne],t),t=t[ji];null===t&&(t=i),To(t)&&YM(t[Ne],t),e=t&&t[ss]}t=e}}(t)}}function YM(i,t){if(!(256&t[Ot])){t[Ot]&=-129,t[Ot]|=256,function Uie(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof bm)){const o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Aa(4,a,c);try{c.call(a)}finally{Aa(5,a,c)}}else{Aa(4,r,o);try{o.call(r)}finally{Aa(5,r,o)}}}}}(i,t),function jie(i,t){const e=i.cleanup,n=t[zc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else e[o].call(n[e[o+1]]);null!==n&&(t[zc]=null);const r=t[as];if(null!==r){t[as]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(i,t),1===t[Ne].type&&t[yt].destroy();const e=t[Uc];if(null!==e&&lo(t[ji])){e!==t[ji]&&b3(e,t);const n=t[Ps];null!==n&&n.detachView(i)}!function Tie(i){HM.delete(i[sc])}(t)}}function ZM(i,t,e){return function y3(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[hn];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=i.data[n.directiveStart+r];if(o===Co.None||o===Co.Emulated)return null}return Or(n,e)}}(i,t.parent,e)}function Mm(i,t,e,n,r){i.insertBefore(t,e,n,r)}function w3(i,t,e){i.appendChild(t,e)}function x3(i,t,e,n,r){null!==n?Mm(i,t,e,n,r):w3(i,t,e)}function KC(i,t){return i.parentNode(t)}function C3(i,t,e){return k3(i,t,e)}let KM,JC,e1,eE,k3=function E3(i,t,e){return 40&i.type?Or(i,e):null};function QC(i,t,e,n){const r=ZM(i,n,t),o=t[yt],a=C3(n.parent||t[Sn],n,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)x3(o,r,e[c],a,!1);else x3(o,r,e,a,!1);void 0!==KM&&KM(o,n,t,e,r)}function Ob(i,t){if(null!==t){const e=t.type;if(3&e)return Or(t,i);if(4&e)return QM(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Ob(i,n);{const r=i[t.index];return lo(r)?QM(-1,r):Ui(r)}}if(32&e)return WM(t,i)()||Ui(i[t.index]);{const n=D3(i,t);return null!==n?Array.isArray(n)?n[0]:Ob(Pb(i[mn]),n):Ob(i,t.next)}}return null}function D3(i,t){return null!==t?i[mn][Sn].projection[t.projection]:null}function QM(i,t){const e=yr+i+1;if(e<t.length){const n=t[e],r=n[Ne].firstChild;if(null!==r)return Ob(n,r)}return t[Os]}function XM(i,t,e,n,r,o,s){for(;null!=e;){const a=n[e.index],c=e.type;if(s&&0===t&&(a&&jo(Ui(a),n),e.flags|=2),32!=(32&e.flags))if(8&c)XM(i,t,e.child,n,r,o,!1),Xf(t,i,r,a,o);else if(32&c){const l=WM(e,n);let d;for(;d=l();)Xf(t,i,r,d,o);Xf(t,i,r,a,o)}else 16&c?S3(i,t,n,e,r,o):Xf(t,i,r,a,o);e=s?e.projectionNext:e.next}}function Fb(i,t,e,n,r,o){XM(e,n,i.firstChild,t,r,o,!1)}function S3(i,t,e,n,r,o){const s=e[mn],c=s[Sn].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Xf(t,i,r,c[l],o);else{let l=c;const d=s[ji];WC(n)&&(l.flags|=128),XM(i,t,l,d,r,o,!0)}}function M3(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function A3(i,t,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&nu(i,t,n),null!==r&&M3(i,t,r),null!==o&&function Zie(i,t,e){i.setAttribute(t,"style",e)}(i,t,o)}function Jf(i){return function JM(){if(void 0===JC&&(JC=null,Mi.trustedTypes))try{JC=Mi.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return JC}()?.createHTML(i)||i}function O3(i){return function t1(){if(void 0===eE&&(eE=null,Mi.trustedTypes))try{eE=Mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return eE}()?.createScriptURL(i)||i}class Am{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ri})`}}class ene extends Am{getTypeName(){return"HTML"}}class tne extends Am{getTypeName(){return"Style"}}class ine extends Am{getTypeName(){return"Script"}}class nne extends Am{getTypeName(){return"URL"}}class rne extends Am{getTypeName(){return"ResourceURL"}}function oa(i){return i instanceof Am?i.changingThisBreaksApplicationSecurity:i}function il(i,t){const e=function one(i){return i instanceof Am&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ri})`)}return e===t}class une{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Jf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class hne{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Jf(t),e}}const pne=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tE(i){return(i=String(i)).match(pne)?i:"unsafe:"+i}function ad(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Nb(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const N3=ad("area,br,col,hr,img,wbr"),L3=ad("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V3=ad("rp,rt"),n1=Nb(N3,Nb(L3,ad("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nb(V3,ad("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nb(V3,L3)),r1=ad("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),B3=Nb(r1,ad("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ad("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fne=ad("script,style,template");class gne{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!n1.hasOwnProperty(e))return this.sanitizedSomething=!0,!fne.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),s=o.name,a=s.toLowerCase();if(!B3.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;r1[a]&&(c=tE(c)),this.buf.push(" ",s,'="',z3(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();n1.hasOwnProperty(e)&&!N3.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(z3(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const _ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vne=/([^\#-~ |!])/g;function z3(i){return i.replace(/&/g,"&amp;").replace(_ne,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vne,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let iE;function H3(i,t){let e=null;try{iE=iE||function F3(i){const t=new hne(i);return function mne(){try{return!!(new window.DOMParser).parseFromString(Jf(""),"text/html")}catch{return!1}}()?new une(t):t}(i);let n=t?String(t):"";e=iE.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=iE.getInertBodyElement(n)}while(n!==o);return Jf((new gne).sanitizeChildren(o1(e)||e))}finally{if(e){const n=o1(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function o1(i){return"content"in i&&function bne(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var So=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(So||{});function j3(i){const t=Lb();return t?t.sanitize(So.URL,i)||"":il(i,"URL")?oa(i):tE(Ye(i))}function U3(i){const t=Lb();if(t)return O3(t.sanitize(So.RESOURCE_URL,i)||"");if(il(i,"ResourceURL"))return O3(oa(i));throw new X(904,!1)}function Lb(){const i=we();return i&&i[Hc].sanitizer}const Vb=new q("ENVIRONMENT_INITIALIZER"),W3=new q("INJECTOR",-1),G3=new q("INJECTOR_DEF_TYPES");class s1{get(t,e=or){if(e===or){const n=new Error(`NullInjectorError: No provider for ${Ni(t)}!`);throw n.name="NullInjectorError",n}return e}}function Tne(...i){return{\u0275providers:q3(0,i),\u0275fromNgModule:!0}}function q3(i,...t){const e=[],n=new Set;let r;const o=s=>{e.push(s)};return Tu(t,s=>{const a=s;nE(a,o,[],n)&&(r||=[],r.push(a))}),void 0!==r&&Y3(r,o),e}function Y3(i,t){for(let e=0;e<i.length;e++){const{ngModule:n,providers:r}=i[e];c1(r,o=>{t(o,n)})}}function nE(i,t,e,n){if(!(i=W(i)))return!1;let r=null,o=Ss(i);const s=!o&&si(i);if(o||s){if(s&&!s.standalone)return!1;r=i}else{const c=i.ngModule;if(o=Ss(c),!o)return!1;r=c}const a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)nE(l,t,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;n.add(r);try{Tu(o.imports,d=>{nE(d,t,e,n)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Y3(l,t)}if(!a){const l=E(r)||(()=>new r);t({provide:r,useFactory:l,deps:Xt},r),t({provide:G3,useValue:r,multi:!0},r),t({provide:Vb,useValue:()=>U(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=i;c1(c,d=>{t(d,l)})}}}return r!==i&&void 0!==i.providers}function c1(i,t){for(let e of i)qe(e)&&(e=e.\u0275providers),Array.isArray(e)?c1(e,t):t(e)}const Dne=We({provide:String,useValue:We});function l1(i){return null!==i&&"object"==typeof i&&Dne in i}function Rm(i){return"function"==typeof i}const d1=new q("Set Injector scope."),rE={},Sne={};let u1;function oE(){return void 0===u1&&(u1=new s1),u1}class sa{}class tg extends sa{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m1(t,s=>this.processProvider(s)),this.records.set(W3,ig(void 0,this)),r.has("environment")&&this.records.set(sa,ig(void 0,this));const o=this.records.get(d1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(G3.multi,Xt,oi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Ms(this),n=Ar(void 0);try{return t()}finally{Ms(e),Ar(n)}}get(t,e=or,n=oi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(iu))return t[iu](this);n=jl(n);const o=Ms(this),s=Ar(void 0);try{if(!(n&oi.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function One(i){return"function"==typeof i||"object"==typeof i&&i instanceof q}(t)&&Oc(t);c=l&&this.injectableDefInScope(l)?ig(h1(t),rE):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(n&oi.Self?oE():this.parent).get(t,e=n&oi.Optional&&e===or?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Hl]=a[Hl]||[]).unshift(Ni(t)),o)throw a;return function eu(i,t,e,n){const r=i[Hl];throw t[gf]&&r.unshift(t[gf]),i.message=function xo(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=Ni(t);if(Array.isArray(t))r=t.map(Ni).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ni(a)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(Wv,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[Hl]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{Ar(s),Ms(o)}}resolveInjectorInitializers(){const t=Ms(this),e=Ar(void 0);try{const r=this.get(Vb.multi,Xt,oi.Self);for(const o of r)o()}finally{Ms(t),Ar(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Ni(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(t){let e=Rm(t=W(t))?t:W(t&&t.provide);const n=function Ane(i){return l1(i)?ig(void 0,i.useValue):ig(Q3(i),rE)}(t);if(Rm(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ig(void 0,rE,!0),r.factory=()=>Xh(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===rE&&(e.value=Sne,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Pne(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=W(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function h1(i){const t=Oc(i),e=null!==t?t.factory:E(i);if(null!==e)return e;if(i instanceof q)throw new X(204,!1);if(i instanceof Function)return function Mne(i){const t=i.length;if(t>0)throw Dm(t,"?"),new X(204,!1);const e=function $v(i){return i&&(i[Ll]||i[lf])||null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new X(204,!1)}function Q3(i,t,e){let n;if(Rm(i)){const r=W(i);return E(r)||h1(r)}if(l1(i))n=()=>W(i.useValue);else if(function K3(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...Xh(i.deps||[]));else if(function Z3(i){return!(!i||!i.useExisting)}(i))n=()=>U(W(i.useExisting));else{const r=W(i&&(i.useClass||i.provide));if(!function Rne(i){return!!i.deps}(i))return E(r)||h1(r);n=()=>new r(...Xh(i.deps))}return n}function ig(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function m1(i,t){for(const e of i)Array.isArray(e)?m1(e,t):e&&qe(e)?m1(e.\u0275providers,t):t(e)}const sE=new q("AppId",{providedIn:"root",factory:()=>Fne}),Fne="ng",X3=new q("Platform Initializer"),Fa=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ps=new q("AnimationModuleType"),p1=new q("CSP nonce",{providedIn:"root",factory:()=>function eg(){if(void 0!==e1)return e1;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let J3=(i,t,e)=>null;function x1(i,t,e=!1){return J3(i,t,e)}class Wne{}class n4{}class qne{resolveComponentFactory(t){throw function Gne(i){const t=Error(`No component factory found for ${Ni(i)}.`);return t.ngComponent=i,t}(t)}}let og=(()=>{class i{static#e=this.NULL=new qne}return i})();function Yne(){return sg(wr(),we())}function sg(i,t){return new lt(Or(i,t))}let lt=(()=>{class i{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Yne}return i})();function Zne(i){return i instanceof lt?i.nativeElement:i}class Hb{}let cd=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Kne(){const i=we(),e=us(wr().index,i);return(To(e)?e:i)[yt]}()}return i})(),Qne=(()=>{class i{static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:()=>null})}return i})();class Au{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const o4=new Au("16.2.12"),k1={};function l4(i,t=null,e=null,n){const r=d4(i,t,e,n);return r.resolveInjectorInitializers(),r}function d4(i,t=null,e=null,n,r=new Set){const o=[e||Xt,Tne(i)];return n=n||("object"==typeof i?void 0:Ni(i)),new tg(o,t||oE(),n||null,r)}let Fr=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=or;static#t=this.NULL=new s1;static create(e,n){if(Array.isArray(e))return l4({name:""},n,e,"");{const r=e.name??"";return l4({name:r},e.parent,e.providers,r)}}static#i=this.\u0275prov=ye({token:i,providedIn:"any",factory:()=>U(W3)});static#n=this.__NG_ELEMENT_ID__=-1}return i})();function D1(i){return i.ngOriginalError}class Na{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&D1(t);for(;e&&D1(e);)e=D1(e);return e||null}}function S1(i){return t=>{setTimeout(i,void 0,t)}}const xt=class rre extends Z{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),s=n;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=S1(o),r&&(r=S1(r)),s&&(s=S1(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof At&&t.add(a),a}};function h4(...i){}class st{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ore(){const i="function"==typeof Mi.requestAnimationFrame;let t=Mi[i?"requestAnimationFrame":"setTimeout"],e=Mi[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function cre(i){const t=()=>{!function are(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Mi,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,A1(i),i.isCheckStableRunning=!0,M1(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),A1(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,a)=>{if(function dre(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return m4(i),e.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&t(),p4(i)}},onInvoke:(e,n,r,o,s,a,c)=>{try{return m4(i),e.invoke(r,o,s,a,c)}finally{i.shouldCoalesceRunChangeDetection&&t(),p4(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,A1(i),M1(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new X(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,sre,h4,h4);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const sre={};function M1(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function A1(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function m4(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function p4(i){i._nesting--,M1(i)}class lre{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const f4=new q("",{providedIn:"root",factory:g4});function g4(){const i=De(st);let t=!0;return te(new Vt(r=>{t=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Vt(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=i.onUnstable.subscribe(()=>{st.assertInAngularZone(),t&&(t=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ft()))}function ld(i){return i instanceof Function?i():i}let R1=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:()=>new i})}return i})();function jb(i){for(;i;){i[Ot]|=64;const t=Pb(i);if(wf(i)&&!t)return i;i=t}return null}const w4=new q("",{providedIn:"root",factory:()=>!1});let mE=null;function k4(i,t){return i[t]??I4()}function T4(i,t){const e=I4();e.producerNode?.length&&(i[t]=mE,e.lView=i,mE=D4())}const yre={...Zi,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{jb(i.lView)},lView:null};function D4(){return Object.create(yre)}function I4(){return mE??=D4(),mE}const jt={};function Se(i){S4(pi(),we(),Do()+i,!1)}function S4(i,t,e,n){if(!n)if(3==(3&t[Ot])){const o=i.preOrderCheckHooks;null!==o&&Vf(t,o,e)}else{const o=i.preOrderHooks;null!==o&&xu(t,o,0,e)}nd(e)}function S(i,t=oi.Default){const e=we();return null===e?U(i,t):IC(wr(),e,W(i),t)}function Ru(){throw new Error("invalid")}function pE(i,t,e,n,r,o,s,a,c,l,d){const h=t.blueprint.slice();return h[hn]=r,h[Ot]=140|n,(null!==l||i&&2048&i[Ot])&&(h[Ot]|=2048),dC(h),h[ji]=h[jc]=i,h[Mn]=e,h[Hc]=s||i&&i[Hc],h[yt]=a||i&&i[yt],h[Rs]=c||i&&i[Rs]||null,h[Sn]=o,h[sc]=function Eie(){return Cie++}(),h[cs]=d,h[yf]=l,h[mn]=2==t.type?i[mn]:h,h}function lg(i,t,e,n,r){let o=i.data[t];if(null===o)o=function P1(i,t,e,n,r){const o=gC(),s=cb(),c=i.data[t]=function Ire(i,t,e,n,r,o){let s=t?t.injectorIndex:-1,a=0;return Kc()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(i,t,e,n,r),function hM(){return wt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const s=function fm(){const i=wt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ns(o,!0),o}function Ub(i,t,e,n){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function M4(i,t,e,n,r){const o=k4(t,Xl),s=Do(),a=2&n;try{nd(-1),a&&t.length>Gt&&S4(i,t,Gt,!1),Aa(a?2:0,r);const l=a?o:null,d=Zv(l);try{null!==l&&(l.dirty=!1),e(n,r)}finally{kf(l,d)}}finally{a&&null===t[Xl]&&T4(t,Xl),nd(s),Aa(a?3:1,r)}}function O1(i,t,e){if(ls(t)){const n=gi(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=i.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{gi(n)}}}function F1(i,t,e){Pf()&&(function Fre(i,t,e,n){const r=e.directiveStart,o=e.directiveEnd;Ma(e)&&function jre(i,t,e){const n=Or(t,i),r=A4(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=fE(i,pE(i,r,null,s,n,t,null,i[Hc].rendererFactory.createRenderer(n,e),null,null,null));i[t.index]=a}(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||Hf(e,t),jo(n,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=i.data[a],l=od(t,i,a,e);jo(l,t),null!==s&&Ure(0,a-r,l,c,0,s),Fs(c)&&(us(e.index,t)[Mn]=od(t,i,a,e))}}(i,t,e,Or(e,t)),64==(64&e.flags)&&N4(i,t,e))}function N1(i,t,e=Or){const n=t.localNames;if(null!==n){let r=t.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?e(t,i):i[s];i[r++]=a}}}function A4(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=L1(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function L1(i,t,e,n,r,o,s,a,c,l,d){const h=Gt+n,p=h+r,g=function xre(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:jt);return e}(h,p),b="function"==typeof l?l():l;return g[Ne]={type:i,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}let R4=i=>null;function P4(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=null===e?{}:e;const o=i[r];null===n?O4(e,t,r,o):n.hasOwnProperty(r)&&O4(e,t,n[r],o)}return e}function O4(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function aa(i,t,e,n,r,o,s,a){const c=Or(t,e);let d,l=t.inputs;!a&&null!=l&&(d=l[n])?(j1(i,e,d,n,r),Ma(t)&&function Are(i,t){const e=us(t,i);16&e[Ot]||(e[Ot]|=64)}(e,t.index)):3&t.type&&(n=function Mre(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=s?s(r,t.value||"",n):r,o.setProperty(c,n,r))}function V1(i,t,e,n){if(Pf()){const r=null===n?null:{"":-1},o=function Lre(i,t){const e=i.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(au(t,s.selectors,!1))if(n||(n=[]),Fs(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s),B1(i,t,a.length)}else n.unshift(s),B1(i,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return null===n?null:[n,r]}(i,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&F4(i,t,e,s,r,a),r&&function Vre(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new X(-301,!1);n.push(t[r],o)}}}(e,n,r)}e.mergedAttrs=ea(e.mergedAttrs,e.attrs)}function F4(i,t,e,n,r,o){for(let l=0;l<n.length;l++)Em(Hf(e,t),i,n[l].type);!function zre(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}(e,i.data.length,n.length);for(let l=0;l<n.length;l++){const d=n[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Ub(i,t,n.length,null);for(let l=0;l<n.length;l++){const d=n[l];e.mergedAttrs=ea(e.mergedAttrs,d.hostAttrs),Hre(i,e,t,c,d),Bre(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function Sre(i,t,e){const r=t.directiveEnd,o=i.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<r;d++){const h=o[d],p=e?e.get(h):null,b=p?p.outputs:null;c=P4(h.inputs,d,c,p?p.inputs:null),l=P4(h.outputs,d,l,b);const w=null===c||null===s||ru(t)?null:$re(c,d,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(i,e,o)}function N4(i,t,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,s=function mM(){return wt.lFrame.currentDirectiveIndex}();try{nd(o);for(let a=n;a<r;a++){const c=i.data[a],l=t[a];mb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Nre(c,l)}}finally{nd(-1),mb(s)}}function Nre(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function B1(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function Bre(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Fs(t)&&(e[""]=i)}}function Hre(i,t,e,n,r){i.data[n]=r;const o=r.factory||(r.factory=E(r.type)),s=new bm(o,Fs(r),S);i.blueprint[n]=s,e[n]=s,function Pre(i,t,e,n,r){const o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;null===s&&(s=i.hostBindingOpCodes=[]);const a=~t.index;(function Ore(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,n,o)}}(i,t,n,Ub(i,e,r.hostVars,jt),r)}function nl(i,t,e,n,r,o){const s=Or(i,t);!function z1(i,t,e,n,r,o,s){if(null==o)i.removeAttribute(t,r,e);else{const a=null==s?Ye(o):s(o,n||"",r);i.setAttribute(t,r,a,e)}}(t[yt],s,o,i.value,e,n,r)}function Ure(i,t,e,n,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)L4(n,e,s[a++],s[a++],s[a++])}function L4(i,t,e,n,r){const o=gi(null);try{const s=i.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==i.setInput?i.setInput(t,r,e,n):t[n]=r}finally{gi(o)}}function $re(i,t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(i.hasOwnProperty(o)){null===n&&(n=[]);const s=i[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function V4(i,t,e,n){return[i,!0,!1,t,null,0,n,e,null,null,null]}function B4(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const o=e[n+1];if(-1!==o){const s=i.data[o];fb(e[n]),s.contentQueries(2,t[o],o)}}}function fE(i,t){return i[Ql]?i[hu][ss]=t:i[Ql]=t,i[hu]=t,t}function H1(i,t,e){fb(0);const n=gi(null);try{t(i,e)}finally{gi(n)}}function z4(i){return i[zc]||(i[zc]=[])}function H4(i){return i.cleanup||(i.cleanup=[])}function U4(i,t){const e=i[Rs],n=e?e.get(Na,null):null;n&&n.handleError(t)}function j1(i,t,e,n,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];L4(i.data[s],t[s],n,a,r)}}function Wre(i,t){const e=us(t,i),n=e[Ne];!function Gre(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}(n,e);const r=e[hn];null!==r&&null===e[cs]&&(e[cs]=x1(r,e[Rs])),U1(n,e,e[Mn])}function U1(i,t,e){_b(t);try{const n=i.viewQuery;null!==n&&H1(1,n,e);const r=i.template;null!==r&&M4(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&B4(i,t),i.staticViewQueries&&H1(2,i.viewQuery,e);const o=i.components;null!==o&&function qre(i,t){for(let e=0;e<t.length;e++)Wre(i,t[e])}(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[Ot]&=-5,vb()}}let $4=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(e,n,r){const o=typeof Zone>"u"?null:Zone.current,s=function eM(i,t,e){const n=Object.create(tM);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;const r=s=>{n.cleanupFn=s};return n.ref={notify:()=>Jx(n),run:()=>{if(n.dirty=!1,n.hasRun&&!eC(n))return;n.hasRun=!0;const s=Zv(n);try{n.cleanupFn(),n.cleanupFn=sC,n.fn(r)}finally{kf(n,s)}},cleanup:()=>n.cleanupFn()},n.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=n?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,n]of this.queue)this.queue.delete(e),n?n.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:()=>new i})}return i})();function gE(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=rs(r,a):2==o&&(n=rs(n,a+": "+t[++s]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}function $b(i,t,e,n,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&n.push(Ui(o)),lo(o)&&W4(o,n);const s=e.type;if(8&s)$b(i,t,e.child,n);else if(32&s){const a=WM(e,t);let c;for(;c=a();)n.push(c)}else if(16&s){const a=D3(t,e);if(Array.isArray(a))n.push(...a);else{const c=Pb(t[mn]);$b(c[Ne],c,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function W4(i,t){for(let e=yr;e<i.length;e++){const n=i[e],r=n[Ne].firstChild;null!==r&&$b(n[Ne],n,r,t)}i[Os]!==i[hn]&&t.push(i[Os])}function _E(i,t,e,n=!0){const r=t[Hc],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{G4(i,t,i.template,e)}catch(c){throw n&&U4(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function G4(i,t,e,n){const r=t[Ot];if(256!=(256&r)){t[Hc].effectManager?.flush(),_b(t);try{dC(t),function db(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&M4(i,t,e,2,n);const s=3==(3&r);if(s){const l=i.preOrderCheckHooks;null!==l&&Vf(t,l,null)}else{const l=i.preOrderHooks;null!==l&&xu(t,l,0,null),vm(t,0)}if(function Kre(i){for(let t=f3(i);null!==t;t=g3(t)){if(!t[cm])continue;const e=t[Wc];for(let n=0;n<e.length;n++){rb(e[n])}}}(t),q4(t,2),null!==i.contentQueries&&B4(i,t),s){const l=i.contentCheckHooks;null!==l&&Vf(t,l)}else{const l=i.contentHooks;null!==l&&xu(t,l,1),vm(t,1)}!function wre(i,t){const e=i.hostBindingOpCodes;if(null===e)return;const n=k4(t,$c);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)nd(~o);else{const s=o,a=e[++r],c=e[++r];hb(a,s),n.dirty=!1;const l=Zv(n);try{c(2,t[s])}finally{kf(n,l)}}}}finally{null===t[$c]&&T4(t,$c),nd(-1)}}(i,t);const a=i.components;null!==a&&Z4(t,a,0);const c=i.viewQuery;if(null!==c&&H1(2,c,n),s){const l=i.viewCheckHooks;null!==l&&Vf(t,l)}else{const l=i.viewHooks;null!==l&&xu(t,l,2),vm(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[Ot]&=-73,uC(t)}finally{vb()}}}function q4(i,t){for(let e=f3(i);null!==e;e=g3(e))for(let n=yr;n<e.length;n++)Y4(e[n],t)}function Qre(i,t,e){Y4(us(t,i),e)}function Y4(i,t){if(!function nb(i){return 128==(128&i[Ot])}(i))return;const e=i[Ne],n=i[Ot];if(80&n&&0===t||1024&n||2===t)G4(e,i,e.template,i[Mn]);else if(i[Kl]>0){q4(i,1);const r=e.components;null!==r&&Z4(i,r,1)}}function Z4(i,t,e){for(let n=0;n<t.length;n++)Qre(i,t[n],e)}class Wb{get rootNodes(){const t=this._lView,e=t[Ne];return $b(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(t){this._lView[Mn]=t}get destroyed(){return 256==(256&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ji];if(lo(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ZC(t,n),Du(e,n))}this._attachedToViewContainer=!1}qM(this._lView[Ne],this._lView)}onDestroy(t){!function hC(i,t){if(256==(256&i[Ot]))throw new X(911,!1);null===i[as]&&(i[as]=[]),i[as].push(t)}(this._lView,t)}markForCheck(){jb(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){this._lView[Ot]|=128}detectChanges(){_E(this._lView[Ne],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vie(i,t){Fb(i,t,t[yt],2,null,null)}(this._lView[Ne],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=t}}class Xre extends Wb{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;_E(t[Ne],t,t[Mn],!1)}checkNoChanges(){}get context(){return null}}class K4 extends og{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=si(t);return new Gb(e,this.ngModule)}}function Q4(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class eoe{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=jl(n);const r=this.injector.get(t,k1,n);return r!==k1||e===k1?r:this.parentInjector.get(t,e,n)}}class Gb extends n4{get inputs(){const t=this.componentDef,e=t.inputTransforms,n=Q4(t.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return Q4(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function cu(i){return i.map(nm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let o=(r=r||this.ngModule)instanceof sa?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new eoe(t,o):t,a=s.get(Hb,null);if(null===a)throw new X(407,!1);const h={rendererFactory:a,sanitizer:s.get(Qne,null),effectManager:s.get($4,null),afterRenderEventManager:s.get(R1,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function Cre(i,t,e,n){const o=n.get(w4,!1)||e===Co.ShadowDom,s=i.selectRootElement(t,o);return function Ere(i){R4(i)}(s),s}(p,n,this.componentDef.encapsulation,s):YC(p,g,function Jre(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let T=null;null!==b&&(T=x1(b,s,!0));const M=L1(0,null,null,1,0,null,null,null,null,null,null),F=pE(null,M,null,I,null,null,h,p,s,null,T);let V,Y;_b(F);try{const le=this.componentDef;let ie,pe=null;le.findHostDirectiveDefs?(ie=[],pe=new Map,le.findHostDirectiveDefs(le,ie,pe),ie.push(le)):ie=[le];const Te=function ioe(i,t){const e=i[Ne],n=Gt;return i[n]=t,lg(e,n,2,"#host",null)}(F,b),_e=function noe(i,t,e,n,r,o,s){const a=r[Ne];!function roe(i,t,e,n){for(const r of i)t.mergedAttrs=ea(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(gE(t,t.mergedAttrs,!0),null!==e&&A3(n,e,t))}(n,i,t,s);let c=null;null!==t&&(c=x1(t,r[Rs]));const l=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const h=pE(r,A4(e),null,d,r[i.index],i,o,l,null,null,c);return a.firstCreatePass&&B1(a,i,n.length-1),fE(r,h),r[i.index]=h}(Te,b,le,ie,F,h,p);Y=Mf(M,Gt),b&&function soe(i,t,e,n){if(n)nu(i,e,["ng-version",o4.full]);else{const{attrs:r,classes:o}=function rm(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===r?""!==o&&t.push(o,i[++n]):8===r&&e.push(o);else{if(!Pr(r))break;r=o}n++}return{attrs:t,classes:e}}(t.selectors[0]);r&&nu(i,e,r),o&&o.length>0&&M3(i,e,o.join(" "))}}(p,le,b,n),void 0!==e&&function aoe(i,t,e){const n=i.projection=[];for(let r=0;r<t.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,e),V=function ooe(i,t,e,n,r,o){const s=wr(),a=r[Ne],c=Or(s,r);F4(a,r,s,e,null,n);for(let d=0;d<e.length;d++)jo(od(r,a,s.directiveStart+d,s),r);N4(a,r,s),c&&jo(c,r);const l=od(r,a,s.directiveStart+s.componentOffset,s);if(i[Mn]=r[Mn]=l,null!==o)for(const d of o)d(l,t);return O1(a,s,i),l}(_e,le,ie,pe,F,[coe]),U1(M,F,null)}finally{vb()}return new toe(this.componentType,V,sg(Y,F),F,Y)}}class toe extends Wne{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Xre(r),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;j1(o[Ne],o,r,t,e),this.previousInputValues.set(t,e),jb(us(this._tNode.index,o))}}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function coe(){const i=wr();Lf(we()[Ne],i)}function Me(i){let t=function X4(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(Fs(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new X(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const s=i;s.inputs=vE(i.inputs),s.inputTransforms=vE(i.inputTransforms),s.declaredInputs=vE(i.declaredInputs),s.outputs=vE(i.outputs);const a=r.hostBindings;a&&hoe(i,a);const c=r.viewQuery,l=r.contentQueries;if(c&&doe(i,c),l&&uoe(i,l),Xn(i.inputs,r.inputs),Xn(i.declaredInputs,r.declaredInputs),Xn(i.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Xn(s.inputTransforms,r.inputTransforms)),Fs(r)&&r.data.animation){const d=i.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(i),a===Me&&(e=!1)}}t=Object.getPrototypeOf(t)}!function loe(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=ea(r.hostAttrs,e=ea(e,r.hostAttrs))}}(n)}function vE(i){return i===Bo?{}:i===Xt?[]:i}function doe(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function uoe(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,o)=>{t(n,r,o),e(n,r,o)}:t}function hoe(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}function iz(i){const t=i.inputConfig,e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(e[n]=r[2])}i.inputTransforms=e}function bE(i){return!!$1(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function $1(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function rl(i,t,e){return i[t]=e}function Uo(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function qt(i,t,e,n){const r=we();return Uo(r,id(),t)&&(pi(),nl(pn(),r,i,t,e,n)),qt}function Di(i,t,e,n,r,o,s,a){const c=we(),l=pi(),d=i+Gt,h=l.firstCreatePass?function Loe(i,t,e,n,r,o,s,a,c){const l=t.consts,d=lg(t,i,4,s||null,Zc(l,a));V1(t,e,d,Zc(l,c)),Lf(t,d);const h=d.tView=L1(2,d,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,l,c,t,e,n,r,o,s):l.data[d];Ns(h,!1);const p=fz(l,c,h,i);Nf()&&QC(l,c,p,h),jo(p,c),fE(c,c[d]=V4(p,c,p,h)),pu(h)&&F1(l,c,h),null!=s&&N1(c,h,a)}let fz=function gz(i,t,e,n){return Xc(!0),t[yt].createComment("")};function ot(i,t,e){const n=we();return Uo(n,id(),t)&&aa(pi(),pn(),n,i,t,n[yt],e,!1),ot}function K1(i,t,e,n,r){const s=r?"class":"style";j1(i,e,t.inputs[s],s,n)}function H(i,t,e,n){const r=we(),o=pi(),s=Gt+i,a=r[yt],c=o.firstCreatePass?function Hoe(i,t,e,n,r,o){const s=t.consts,c=lg(t,i,2,n,Zc(s,r));return V1(t,e,c,Zc(s,o)),null!==c.attrs&&gE(c,c.attrs,!1),null!==c.mergedAttrs&&gE(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,n):o.data[s],l=_z(o,r,c,a,t,i);r[s]=l;const d=pu(c);return Ns(c,!0),A3(a,l,c),32!=(32&c.flags)&&Nf()&&QC(o,r,l,c),0===function sM(){return wt.lFrame.elementDepthCount}()&&jo(l,r),function aM(){wt.lFrame.elementDepthCount++}(),d&&(F1(o,r,c),O1(o,c,r)),null!==n&&N1(r,c),H}function $(){let i=wr();cb()?gm():(i=i.parent,Ns(i,!1));const t=i;(function cM(i){return wt.skipHydrationRootTNode===i})(t)&&function lM(){wt.skipHydrationRootTNode=null}(),function sb(){wt.lFrame.elementDepthCount--}();const e=pi();return e.firstCreatePass&&(Lf(e,i),ls(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function kC(i){return 0!=(8&i.flags)}(t)&&K1(e,t,we(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function zf(i){return 0!=(16&i.flags)}(t)&&K1(e,t,we(),t.stylesWithoutHost,!1),$}function Xe(i,t,e,n){return H(i,t,e,n),$(),Xe}let _z=(i,t,e,n,r,o)=>(Xc(!0),YC(n,r,function wC(){return wt.lFrame.currentNamespace}()));function ol(i,t,e){const n=we(),r=pi(),o=i+Gt,s=r.firstCreatePass?function $oe(i,t,e,n,r){const o=t.consts,s=Zc(o,n),a=lg(t,i,8,"ng-container",s);return null!==s&&gE(a,s,!0),V1(t,e,a,Zc(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,n,t,e):r.data[o];Ns(s,!0);const a=vz(r,n,s,i);return n[o]=a,Nf()&&QC(r,n,a,s),jo(a,n),pu(s)&&(F1(r,n,s),O1(r,s,n)),null!=e&&N1(n,s),ol}function sl(){let i=wr();const t=pi();return cb()?gm():(i=i.parent,Ns(i,!1)),t.firstCreatePass&&(Lf(t,i),ls(i)&&t.queries.elementEnd(i)),sl}let vz=(i,t,e,n)=>(Xc(!0),GM(t[yt],""));function Qb(i){return!!i&&"function"==typeof i.then}function bz(i){return!!i&&"function"==typeof i.subscribe}function Ie(i,t,e,n){const r=we(),o=pi(),s=wr();return function wz(i,t,e,n,r,o,s){const a=pu(n),l=i.firstCreatePass&&H4(i),d=t[Mn],h=z4(t);let p=!0;if(3&n.type||s){const w=Or(n,t),x=s?s(w):w,I=h.length,T=s?F=>s(Ui(F[n.index])):n.index;let M=null;if(!s&&a&&(M=function Yoe(i,t,e,n){const r=i.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===n){const a=t[zc],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(i,t,r,n.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,p=!1;else{o=Cz(n,t,d,o,!1);const F=e.listen(x,r,o);h.push(o,F),l&&l.push(r,T,I,I+1)}}else o=Cz(n,t,d,o,!1);const g=n.outputs;let b;if(p&&null!==g&&(b=g[r])){const w=b.length;if(w)for(let x=0;x<w;x+=2){const V=t[b[x]][b[x+1]].subscribe(o),Y=h.length;h.push(o,V),l&&l.push(r,n.index,Y,-(Y+1))}}}(o,r,r[yt],s,i,t,n),Ie}function xz(i,t,e,n){try{return Aa(6,t,e),!1!==e(n)}catch(r){return U4(i,r),!1}finally{Aa(7,t,e)}}function Cz(i,t,e,n,r){return function o(s){if(s===Function)return n;jb(i.componentOffset>-1?us(i.index,t):t);let c=xz(t,e,n,s),l=o.__ngNextListenerFn__;for(;l;)c=xz(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Zoe(i,t){let e=null;const n=function Wl(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===n?au(i,o,!0):ql(n,o))return r}else e=r}return e}function xr(i){const t=we()[mn][Sn];if(!t.projection){const n=t.projection=Dm(i?i.length:1,null),r=n.slice();let o=t.child;for(;null!==o;){const s=i?Zoe(o,i):0;null!==s&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function di(i,t=0,e){const n=we(),r=pi(),o=lg(r,Gt+i,16,null,e||null);null===o.projection&&(o.projection=t),gm(),(!n[cs]||Kc())&&32!=(32&o.flags)&&function Gie(i,t,e){S3(t[yt],0,t,e,ZM(i,e,t),C3(e.parent||t[Sn],e,t))}(r,n,o)}function EE(i,t){return i<<17|t<<2}function Pu(i){return i>>17&32767}function X1(i){return 2|i}function Om(i){return(131068&i)>>2}function J1(i,t){return-131069&i|t<<2}function eA(i){return 1|i}function Pz(i,t,e,n,r){const o=i[e+1],s=null===t;let a=n?Pu(o):Om(o),c=!1;for(;0!==a&&(!1===c||s);){const d=i[a+1];tse(i[a],t)&&(c=!0,i[a+1]=n?eA(d):X1(d)),a=n?Pu(d):Om(d)}c&&(i[e+1]=n?X1(o):eA(o))}function tse(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&Iu(i,t)>=0}function Je(i,t){return function lc(i,t,e,n){const r=we(),o=pi(),s=function Ra(i){const t=wt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}(2);o.firstUpdatePass&&function Hz(i,t,e,n){const r=i.data;if(null===r[e+1]){const o=r[Do()],s=function zz(i,t){return t>=i.expandoStartIndex}(i,e);(function Wz(i,t){return 0!=(i.flags&(t?8:16))})(o,n)&&null===t&&!s&&(t=!1),t=function dse(i,t,e,n){const r=function pb(i){const t=wt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}(i);let o=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=Xb(e=tA(null,i,t,e,n),t.attrs,n),o=null);else{const s=t.directiveStylingLast;if(-1===s||i[s]!==r)if(e=tA(r,i,t,e,n),null===o){let c=function use(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==Om(n))return i[Pu(n)]}(i,t,n);void 0!==c&&Array.isArray(c)&&(c=tA(null,i,t,c[1],n),c=Xb(c,t.attrs,n),function hse(i,t,e,n){i[Pu(e?t.classBindings:t.styleBindings)]=n}(i,t,n,c))}else o=function mse(i,t,e){let n;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)n=Xb(n,i[o].hostAttrs,e);return Xb(n,t.attrs,e)}(i,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,n),function Joe(i,t,e,n,r,o){let s=o?t.classBindings:t.styleBindings,a=Pu(s),c=Om(s);i[n]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||Iu(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const p=Pu(i[a+1]);i[n+1]=EE(p,a),0!==p&&(i[p+1]=J1(i[p+1],n)),i[a+1]=function Qoe(i,t){return 131071&i|t<<17}(i[a+1],n)}else i[n+1]=EE(a,0),0!==a&&(i[a+1]=J1(i[a+1],n)),a=n;else i[n+1]=EE(c,0),0===a?a=n:i[c+1]=J1(i[c+1],n),c=n;l&&(i[n+1]=X1(i[n+1])),Pz(i,d,n,!0),Pz(i,d,n,!1),function ese(i,t,e,n,r){const o=r?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof t&&Iu(o,t)>=0&&(e[n+1]=eA(e[n+1]))}(t,d,i,n,o),s=EE(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,n)}}(o,i,s,n),t!==jt&&Uo(r,s,t)&&function Uz(i,t,e,n,r,o,s,a){if(!(3&t.type))return;const c=i.data,l=c[a+1],d=function Xoe(i){return 1==(1&i)}(l)?$z(c,t,e,r,Om(l),s):void 0;kE(d)||(kE(o)||function Koe(i){return 2==(2&i)}(l)&&(o=$z(c,null,e,r,a,s)),function Yie(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:Mu.DashCase;null==r?i.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Mu.Important),i.setStyle(e,n,r,o))}}(n,s,bu(Do(),e),r,o))}(o,o.data[Do()],r,r[yt],i,r[s+1]=function _se(i,t){return null==i||""===i||("string"==typeof t?i+=t:"object"==typeof i&&(i=Ni(oa(i)))),i}(t,e),n,s)}(i,t,null,!0),Je}function tA(i,t,e,n,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],n=Xb(n,o.hostAttrs,r),o!==i);)a++;return null!==i&&(e.directiveStylingLast=a),n}function Xb(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ms(i,s,!!e||t[++o]))}return void 0===i?null:i}function $z(i,t,e,n,r,o){const s=null===t;let a;for(;r>0;){const c=i[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let p=e[r+1];p===jt&&(p=h?Xt:void 0);let g=h?Tb(p,n):d===n?p:void 0;if(l&&!kE(g)&&(g=Tb(c,n)),kE(g)&&(a=g,s))return a;const b=i[r+1];r=s?Pu(b):Om(b)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Tb(c,n))}return a}function kE(i){return void 0!==i}function ue(i,t=""){const e=we(),n=pi(),r=i+Gt,o=n.firstCreatePass?lg(n,r,1,t,null):n.data[r],s=Gz(n,e,o,t,i);e[r]=s,Nf()&&QC(n,e,s,o),Ns(o,!1)}let Gz=(i,t,e,n,r)=>(Xc(!0),function qC(i,t){return i.createText(t)}(t[yt],n));function Jb(i){return ll("",i,""),Jb}function ll(i,t,e){const n=we(),r=function ug(i,t,e,n){return Uo(i,id(),e)?t+Ye(e)+n:jt}(n,i,t,e);return r!==jt&&function dd(i,t,e){const n=bu(t,i);!function v3(i,t,e){i.setValue(t,e)}(i[yt],n,e)}(n,Do(),r),ll}function za(i,t,e){const n=we();return Uo(n,id(),t)&&aa(pi(),pn(),n,i,t,n[yt],e,!0),za}const Fm=void 0;var Bse=["en",[["a","p"],["AM","PM"],Fm],[["AM","PM"],Fm,Fm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fm,"{1} 'at' {0}",Fm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vse(i){const e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let wg={};function fs(i){const t=function Hse(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=hH(t);if(e)return e;const n=t.split("-")[0];if(e=hH(n),e)return e;if("en"===n)return Bse;throw new X(701,!1)}function hH(i){return i in wg||(wg[i]=Mi.ng&&Mi.ng.common&&Mi.ng.common.locales&&Mi.ng.common.locales[i]),wg[i]}var xn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(xn||{});const xg="en-US";let mH=xg;function rA(i,t,e,n,r){if(i=W(i),Array.isArray(i))for(let o=0;o<i.length;o++)rA(i[o],t,e,n,r);else{const o=pi(),s=we(),a=wr();let c=Rm(i)?i:W(i.provide);const l=Q3(i),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(Rm(i)||!i.multi){const g=new bm(l,r,S),b=sA(c,t,r?d:d+p,h);-1===b?(Em(Hf(a,s),o,c),oA(o,i,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{const g=sA(c,t,d+p,h),b=sA(c,t,d,d+p),x=b>=0&&e[b];if(r&&!x||!r&&!(g>=0&&e[g])){Em(Hf(a,s),o,c);const I=function Bae(i,t,e,n,r){const o=new bm(i,e,S);return o.multi=[],o.index=t,o.componentProviders=0,VH(o,r,n&&!e),o}(r?Vae:Lae,e.length,r,n,l);!r&&x&&(e[b].providerFactory=I),oA(o,i,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(I),s.push(I)}else oA(o,i,g>-1?g:b,VH(e[r?b:g],l,!r&&n));!r&&n&&x&&e[b].componentProviders++}}}function oA(i,t,e,n){const r=Rm(t),o=function Ine(i){return!!i.useClass}(t);if(r||o){const c=(o?W(t.useClass):t).prototype.ngOnDestroy;if(c){const l=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[n,c]):l[d+1].push(n,c)}else l.push(e,c)}}}function VH(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function sA(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function Lae(i,t,e,n){return aA(this.multi,[])}function Vae(i,t,e,n){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=od(e,e[Ne],this.providerFactory.index,n);o=a.slice(0,s),aA(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],aA(r,o);return o}function aA(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function et(i,t=[]){return e=>{e.providersResolver=(n,r)=>function Nae(i,t,e){const n=pi();if(n.firstCreatePass){const r=Fs(i);rA(e,n.data,n.blueprint,r,!0),rA(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class Nm{}class BH{}class cA extends Nm{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K4(this);const r=ko(t);this._bootstrapComponents=ld(r.bootstrap),this._r3Injector=d4(t,e,[{provide:Nm,useValue:this},{provide:og,useValue:this.componentFactoryResolver},...n],Ni(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lA extends BH{constructor(t){super(),this.moduleType=t}create(t){return new cA(this.moduleType,t,[])}}class zH extends Nm{constructor(t){super(),this.componentFactoryResolver=new K4(this),this.instance=null;const e=new tg([...t.providers,{provide:Nm,useValue:this},{provide:og,useValue:this.componentFactoryResolver}],t.parent||oE(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dA(i,t,e=null){return new zH({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let jae=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=q3(0,e.type),r=n.length>0?dA([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ye({token:i,providedIn:"environment",factory:()=>new i(U(sa))})}return i})();function HH(i){i.getStandaloneInjector=t=>t.get(jae).getOrCreateStandaloneInjector(i)}function ud(i,t,e,n){return function ZH(i,t,e,n,r,o){const s=t+e;return Uo(i,s,r)?rl(i,s+1,o?n.call(o,r):n(r)):oy(i,s+1)}(we(),qr(),i,t,e,n)}function YH(i,t,e,n,r){return function KH(i,t,e,n,r,o,s){const a=t+e;return function Pm(i,t,e,n){const r=Uo(i,t,e);return Uo(i,t+1,n)||r}(i,a,r,o)?rl(i,a+2,s?n.call(s,r,o):n(r,o)):oy(i,a+2)}(we(),qr(),i,t,e,n,r)}function oy(i,t){const e=i[t];return e===jt?void 0:e}function hce(){return this._results[Symbol.iterator]()}class Cg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new xt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Cg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=hce)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=function hs(i){return i.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Tm(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pce(i,t,e,n=!0){const r=t[Ne];if(function zie(i,t,e,n){const r=yr+n,o=e.length;n>0&&(e[r-1][ss]=t),n<o-yr?(t[ss]=e[r],Gf(e,yr+n,t)):(e.push(t),t[ss]=null),t[ji]=e;const s=t[Uc];null!==s&&e!==s&&function Hie(i,t){const e=i[Wc];t[mn]!==t[ji][ji][mn]&&(i[cm]=!0),null===e?i[Wc]=[t]:e.push(t)}(s,t);const a=t[Ps];null!==a&&a.insertView(i),t[Ot]|=128}(r,t,i,e),n){const o=QM(e,i),s=t[yt],a=KC(s,i[Os]);null!==a&&function Lie(i,t,e,n,r,o){n[hn]=r,n[Sn]=t,Fb(i,n,e,1,r,o)}(r,i[Sn],s,t,a,o)}}let Qr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=_ce}return i})();const fce=Qr,gce=class extends fce{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){const r=function mce(i,t,e,n){const r=t.tView,a=pE(i,r,e,4096&i[Ot]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[Uc]=i[t.index];const l=i[Ps];return null!==l&&(a[Ps]=l.createEmbeddedView(r)),U1(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:n});return new Wb(r)}};function _ce(){return ME(wr(),we())}function ME(i,t){return 4&i.type?new gce(t,i,sg(i,t)):null}let Nr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Cce}return i})();function Cce(){return a5(wr(),we())}const Ece=Nr,o5=class extends Ece{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return sg(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=jf(this._hostTNode,this._hostLView);if(wb(t)){const e=wm(t,this._hostLView),n=ym(t);return new Yr(e[Ne].data[n+8],e)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=s5(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(t,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,n,r,o){const s=t&&!function Zr(i){return"function"==typeof i}(t);let a;if(s)a=e;else{const w=e||{};a=w.index,n=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?t:new Gb(si(t)),l=n||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(sa,null);x&&(o=x)}si(c.componentType??{});const g=c.create(l,r,null,o);return this.insertImpl(g.hostView,a,false),g}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,n){const r=t._lView;if(function lC(i){return lo(i[ji])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[ji],d=new o5(l,l[Sn],l[ji]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return pce(a,r,s,!n),t.attachToViewContainerRef(),Gf(hA(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=s5(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=ZC(this._lContainer,e);n&&(Du(hA(this._lContainer),e),qM(n[Ne],n))}detach(t){const e=this._adjustIndex(t,-1),n=ZC(this._lContainer,e);return n&&null!=Du(hA(this._lContainer),e)?new Wb(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function s5(i){return i[8]}function hA(i){return i[8]||(i[8]=[])}function a5(i,t){let e;const n=t[i.index];return lo(n)?e=n:(e=V4(n,t,null,i),t[i.index]=e,fE(t,e)),c5(e,t,i,n),new o5(e,i,t)}let c5=function l5(i,t,e,n){if(i[Os])return;let r;r=8&e.type?Ui(n):function kce(i,t){const e=i[yt],n=e.createComment(""),r=Or(t,i);return Mm(e,KC(e,r),n,function Wie(i,t){return i.nextSibling(t)}(e,r),!1),n}(t,e),i[Os]=r};class mA{constructor(t){this.queryList=t,this.matches=null}clone(){return new mA(this.queryList)}setDirty(){this.queryList.setDirty()}}class pA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new pA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==p5(t,e).matches&&this.queries[e].setDirty()}}class d5{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class fA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new fA(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,Ice(e,o)),this.matchTNodeWithReadOption(t,e,$f(e,t,o,!1,!1))}else n===Qr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$f(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===lt||r===Nr||r===Qr&&4&e.type)this.addMatch(e.index,-2);else{const o=$f(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ice(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function Mce(i,t,e,n){return-1===e?function Sce(i,t){return 11&i.type?sg(i,t):4&i.type?ME(i,t):null}(t,i):-2===e?function Ace(i,t,e){return e===lt?sg(t,i):e===Qr?ME(t,i):e===Nr?a5(t,i):void 0}(i,t,n):od(i,i[Ne],e,t)}function u5(i,t,e,n){const r=t[Ps].queries[n];if(null===r.matches){const o=i.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:Mce(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function _A(i,t,e,n){const r=i.queries.getByIndex(e),o=r.matches;if(null!==o){const s=u5(i,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)n.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let h=yr;h<d.length;h++){const p=d[h];p[Uc]===p[ji]&&_A(p[Ne],p,l,n)}if(null!==d[Wc]){const h=d[Wc];for(let p=0;p<h.length;p++){const g=h[p];_A(g[Ne],g,l,n)}}}}}return n}function Tt(i){const t=we(),e=pi(),n=Ff();fb(n+1);const r=p5(e,n);if(i.dirty&&function oM(i){return 4==(4&i[Ot])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const o=r.crossesNgTemplate?_A(e,t,n,[]):u5(e,t,r,n);i.reset(o,Zne),i.notifyOnChanges()}return!0}return!1}function $i(i,t,e,n){const r=pi();if(r.firstCreatePass){const o=wr();m5(r,new d5(t,e,n),o.index),function Pce(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}h5(r,we(),e)}function Dt(){return function Rce(i,t){return i[Ps].queries[t].queryList}(we(),Ff())}function h5(i,t,e){const n=new Cg(4==(4&e));(function Dre(i,t,e,n){const r=z4(t);r.push(e),i.firstCreatePass&&H4(i).push(n,r.length-1)})(i,t,n,n.destroy),null===t[Ps]&&(t[Ps]=new pA),t[Ps].queries.push(new mA(n))}function m5(i,t,e){null===i.queries&&(i.queries=new fA),i.queries.track(new gA(t,e))}function p5(i,t){return i.queries.getByIndex(t)}const CA=new q("Application Initializer");let EA=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=De(CA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Qb(o))e.push(o);else if(bz(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),A5=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const dl=new q("LocaleId",{providedIn:"root",factory:()=>De(dl,oi.Optional|oi.SkipSelf)||function ele(){return typeof $localize<"u"&&$localize.locale||xg}()});let PE=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new G(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class nle{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let R5=(()=>{class i{compileModuleSync(e){return new lA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=ld(ko(e).declarations).reduce((s,a)=>{const c=si(a);return c&&s.push(new Gb(c)),s},[]);return new nle(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const N5=new q(""),FE=new q("");let SA,DA=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,SA||(function kle(i){SA=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||i)(U(st),U(IA),U(FE))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})(),IA=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return SA?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),Ou=null;const L5=new q("AllowMultipleToken"),MA=new q("PlatformDestroyListeners"),AA=new q("appBootstrapListener");class B5{constructor(t,e){this.name=t,this.token=e}}function H5(i,t,e=[]){const n=`Platform: ${t}`,r=new q(n);return(o=[])=>{let s=RA();if(!s||s.injector.get(L5,!1)){const a=[...e,...o,{provide:r,useValue:!0}];i?i(a):function Ile(i){if(Ou&&!Ou.get(L5,!1))throw new X(400,!1);(function V5(){!function vu(i){nC=i}(()=>{throw new X(600,!1)})})(),Ou=i;const t=i.get(U5);(function z5(i){i.get(X3,null)?.forEach(e=>e())})(i)}(function j5(i=[],t){return Fr.create({name:t,providers:[{provide:d1,useValue:"platform"},{provide:MA,useValue:new Set([()=>Ou=null])},...i]})}(a,n))}return function Mle(i){const t=RA();if(!t)throw new X(401,!1);return t}()}}function RA(){return Ou?.get(U5)??null}let U5=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function Ale(i="zone.js",t){return"noop"===i?new lre:"zone.js"===i?new st(t):i}(n?.ngZone,function $5(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Hae(i,t,e){return new cA(i,t,e)}(e.moduleType,this.injector,function Z5(i){return[{provide:st,useFactory:i},{provide:Vb,multi:!0,useFactory:()=>{const t=De(Ple,{optional:!0});return()=>t.initialize()}},{provide:Y5,useFactory:Rle},{provide:f4,useFactory:g4}]}(()=>r)),s=o.injector.get(Na,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{NE(this._modules,o),a.unsubscribe()})}),function W5(i,t,e){try{const n=e();return Qb(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(s,r,()=>{const a=o.injector.get(EA);return a.runInitializers(),a.donePromise.then(()=>(function pH(i){Mr(i,"Expected localeId to be defined"),"string"==typeof i&&(mH=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(dl,xg)||xg),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,n=[]){const r=G5({},n);return function Tle(i,t,e){const n=new lA(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(Fu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new X(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(MA,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||i)(U(Fr))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function G5(i,t){return Array.isArray(t)?t.reduce(G5,i):{...i,...t}}let Fu=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(Y5),this.zoneIsStable=De(f4),this.componentTypes=[],this.components=[],this.isStable=De(PE).hasPendingTasks.pipe(vt(e=>e?oe(!1):this.zoneIsStable),Yi(),ft()),this._injector=De(sa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof n4;if(!this._injector.get(EA).done)throw!r&&function Sa(i){const t=si(i)||Hn(i)||Gr(i);return null!==t&&t.standalone}(e),new X(405,!1);let s;s=r?e:this._injector.get(og).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Dle(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Nm),l=s.create(Fr.NULL,[],n||s.selector,a),d=l.location.nativeElement,h=l.injector.get(N5,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),NE(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;NE(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(AA,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>NE(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new X(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function NE(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Y5=new q("",{providedIn:"root",factory:()=>De(Na).handleError.bind(void 0)});function Rle(){const i=De(st),t=De(Na);return e=>i.runOutsideAngular(()=>t.handleError(e))}let Ple=(()=>{class i{constructor(){this.zone=De(st),this.applicationRef=De(Fu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();let Vr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Fle}return i})();function Fle(i){return function Nle(i,t,e){if(Ma(i)&&!e){const n=us(i.index,t);return new Wb(n,n)}return 47&i.type?new Wb(t[mn],t):null}(wr(),we(),16==(16&i))}class ej{constructor(){}supports(t){return bE(t)}create(t){return new jle(t)}}const Hle=(i,t)=>t;class jle{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hle}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const s=!n||e&&e.currentIndex<ij(n,r,o)?e:n,a=ij(s,r,o),c=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const g=p<o.length?o[p]:o[p]=0,b=g+p;d<=b&&b<l&&(o[p]=g+1)}o[s.previousIndex]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bE(t))throw new X(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),n=!0),e=e._next}else r=0,function boe(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Symbol.iterator]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Ule(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new tj),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tj),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ule{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $le{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class tj{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new $le,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ij(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class nj{constructor(){}supports(t){return t instanceof Map||$1(t)}create(){return new Wle}}class Wle{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||$1(t)))throw new X(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const n=new Gle(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gle{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rj(){return new Ha([new ej])}let Ha=(()=>{class i{static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:rj});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||rj()),deps:[[i,new na,new Ho]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new X(901,!1)}}return i})();function oj(){return new dy([new nj])}let dy=(()=>{class i{static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:oj});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||oj()),deps:[[i,new na,new Ho]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new X(901,!1)}}return i})();const Zle=H5(null,"core",[]);let Kle=(()=>{class i{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||i)(U(Fu))};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})();function Tg(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let VA=null;function Nu(){return VA}class dde{}const Ft=new q("DocumentToken");let BA=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return De(hde)},providedIn:"platform"})}return i})();const ude=new q("Location Initialized");let hde=(()=>{class i extends BA{constructor(){super(),this._doc=De(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nu().getBaseHref(this._doc)}onPopState(e){const n=Nu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Nu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function zA(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function pj(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function hd(i){return i&&"?"!==i[0]?"?"+i:i}let Vm=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return De(gj)},providedIn:"root"})}return i})();const fj=new q("appBaseHref");let gj=(()=>{class i extends Vm{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??De(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return zA(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+hd(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const s=this.prepareExternalUrl(r+hd(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){const s=this.prepareExternalUrl(r+hd(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(BA),U(fj,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mde=(()=>{class i extends Vm{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=zA(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+hd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+hd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(BA),U(fj,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})(),uy=(()=>{class i{constructor(e){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function gde(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(pj(_j(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+hd(n))}normalize(e){return i.stripTrailingSlash(function fde(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,_j(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hd(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hd(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=hd;static#t=this.joinWithSlash=zA;static#i=this.stripTrailingSlash=pj;static#n=this.\u0275fac=function(n){return new(n||i)(U(Vm))};static#r=this.\u0275prov=ye({token:i,factory:function(){return function pde(){return new uy(U(Vm))}()},providedIn:"root"})}return i})();function _j(i){return i.replace(/\/index.html$/,"")}var Dg=function(i){return i[i.Zero=0]="Zero",i[i.One=1]="One",i[i.Two=2]="Two",i[i.Few=3]="Few",i[i.Many=4]="Many",i[i.Other=5]="Other",i}(Dg||{}),_s=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(_s||{}),fn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(fn||{}),ca=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(ca||{}),Cr=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(Cr||{});function HE(i,t){return Ua(fs(i)[xn.DateFormat],t)}function jE(i,t){return Ua(fs(i)[xn.TimeFormat],t)}function UE(i,t){return Ua(fs(i)[xn.DateTimeFormat],t)}function ja(i,t){const e=fs(i),n=e[xn.NumberSymbols][t];if(typeof n>"u"){if(t===Cr.CurrencyDecimal)return e[xn.NumberSymbols][Cr.Decimal];if(t===Cr.CurrencyGroup)return e[xn.NumberSymbols][Cr.Group]}return n}const Ede=function uH(i){return fs(i)[xn.PluralCase]};function bj(i){if(!i[xn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[xn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ua(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function jA(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const Mde=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hy={},Ade=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var md=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(md||{}),Vi=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(Vi||{}),Bi=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(Bi||{});function Xr(i,t,e,n){let r=function zde(i){if(xj(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[r,o=1,s=1]=i.split("-").map(a=>+a);return $E(r,o-1,s)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(Mde))return function Hde(i){const t=new Date(0);let e=0,n=0;const r=i[8]?t.setUTCFullYear:t.setFullYear,o=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const s=Number(i[4]||0)-e,a=Number(i[5]||0)-n,c=Number(i[6]||0),l=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return o.call(t,s,a,c,l),t}(n)}const t=new Date(i);if(!xj(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=pd(e,t)||t;let a,s=[];for(;t;){if(a=Ade.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let c=r.getTimezoneOffset();n&&(c=wj(n,c),r=function Bde(i,t,e){const n=e?-1:1,r=i.getTimezoneOffset();return function Vde(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,n*(wj(t,r)-r))}(r,n,!0));let l="";return s.forEach(d=>{const h=function Lde(i){if($A[i])return $A[i];let t;switch(i){case"G":case"GG":case"GGG":t=Cn(Bi.Eras,fn.Abbreviated);break;case"GGGG":t=Cn(Bi.Eras,fn.Wide);break;case"GGGGG":t=Cn(Bi.Eras,fn.Narrow);break;case"y":t=Br(Vi.FullYear,1,0,!1,!0);break;case"yy":t=Br(Vi.FullYear,2,0,!0,!0);break;case"yyy":t=Br(Vi.FullYear,3,0,!1,!0);break;case"yyyy":t=Br(Vi.FullYear,4,0,!1,!0);break;case"Y":t=YE(1);break;case"YY":t=YE(2,!0);break;case"YYY":t=YE(3);break;case"YYYY":t=YE(4);break;case"M":case"L":t=Br(Vi.Month,1,1);break;case"MM":case"LL":t=Br(Vi.Month,2,1);break;case"MMM":t=Cn(Bi.Months,fn.Abbreviated);break;case"MMMM":t=Cn(Bi.Months,fn.Wide);break;case"MMMMM":t=Cn(Bi.Months,fn.Narrow);break;case"LLL":t=Cn(Bi.Months,fn.Abbreviated,_s.Standalone);break;case"LLLL":t=Cn(Bi.Months,fn.Wide,_s.Standalone);break;case"LLLLL":t=Cn(Bi.Months,fn.Narrow,_s.Standalone);break;case"w":t=UA(1);break;case"ww":t=UA(2);break;case"W":t=UA(1,!0);break;case"d":t=Br(Vi.Date,1);break;case"dd":t=Br(Vi.Date,2);break;case"c":case"cc":t=Br(Vi.Day,1);break;case"ccc":t=Cn(Bi.Days,fn.Abbreviated,_s.Standalone);break;case"cccc":t=Cn(Bi.Days,fn.Wide,_s.Standalone);break;case"ccccc":t=Cn(Bi.Days,fn.Narrow,_s.Standalone);break;case"cccccc":t=Cn(Bi.Days,fn.Short,_s.Standalone);break;case"E":case"EE":case"EEE":t=Cn(Bi.Days,fn.Abbreviated);break;case"EEEE":t=Cn(Bi.Days,fn.Wide);break;case"EEEEE":t=Cn(Bi.Days,fn.Narrow);break;case"EEEEEE":t=Cn(Bi.Days,fn.Short);break;case"a":case"aa":case"aaa":t=Cn(Bi.DayPeriods,fn.Abbreviated);break;case"aaaa":t=Cn(Bi.DayPeriods,fn.Wide);break;case"aaaaa":t=Cn(Bi.DayPeriods,fn.Narrow);break;case"b":case"bb":case"bbb":t=Cn(Bi.DayPeriods,fn.Abbreviated,_s.Standalone,!0);break;case"bbbb":t=Cn(Bi.DayPeriods,fn.Wide,_s.Standalone,!0);break;case"bbbbb":t=Cn(Bi.DayPeriods,fn.Narrow,_s.Standalone,!0);break;case"B":case"BB":case"BBB":t=Cn(Bi.DayPeriods,fn.Abbreviated,_s.Format,!0);break;case"BBBB":t=Cn(Bi.DayPeriods,fn.Wide,_s.Format,!0);break;case"BBBBB":t=Cn(Bi.DayPeriods,fn.Narrow,_s.Format,!0);break;case"h":t=Br(Vi.Hours,1,-12);break;case"hh":t=Br(Vi.Hours,2,-12);break;case"H":t=Br(Vi.Hours,1);break;case"HH":t=Br(Vi.Hours,2);break;case"m":t=Br(Vi.Minutes,1);break;case"mm":t=Br(Vi.Minutes,2);break;case"s":t=Br(Vi.Seconds,1);break;case"ss":t=Br(Vi.Seconds,2);break;case"S":t=Br(Vi.FractionalSeconds,1);break;case"SS":t=Br(Vi.FractionalSeconds,2);break;case"SSS":t=Br(Vi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=GE(md.Short);break;case"ZZZZZ":t=GE(md.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=GE(md.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=GE(md.Long);break;default:return null}return $A[i]=t,t}(d);l+=h?h(r,e,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function $E(i,t,e){const n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function pd(i,t){const e=function vde(i){return fs(i)[xn.LocaleId]}(i);if(hy[e]=hy[e]||{},hy[e][t])return hy[e][t];let n="";switch(t){case"shortDate":n=HE(i,ca.Short);break;case"mediumDate":n=HE(i,ca.Medium);break;case"longDate":n=HE(i,ca.Long);break;case"fullDate":n=HE(i,ca.Full);break;case"shortTime":n=jE(i,ca.Short);break;case"mediumTime":n=jE(i,ca.Medium);break;case"longTime":n=jE(i,ca.Long);break;case"fullTime":n=jE(i,ca.Full);break;case"short":const r=pd(i,"shortTime"),o=pd(i,"shortDate");n=WE(UE(i,ca.Short),[r,o]);break;case"medium":const s=pd(i,"mediumTime"),a=pd(i,"mediumDate");n=WE(UE(i,ca.Medium),[s,a]);break;case"long":const c=pd(i,"longTime"),l=pd(i,"longDate");n=WE(UE(i,ca.Long),[c,l]);break;case"full":const d=pd(i,"fullTime"),h=pd(i,"fullDate");n=WE(UE(i,ca.Full),[d,h])}return n&&(hy[e][t]=n),n}function WE(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),i}function uc(i,t,e="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=1-i:(i=-i,o=e));let s=String(i);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function Br(i,t,e=0,n=!1,r=!1){return function(o,s){let a=function Pde(i,t){switch(i){case Vi.FullYear:return t.getFullYear();case Vi.Month:return t.getMonth();case Vi.Date:return t.getDate();case Vi.Hours:return t.getHours();case Vi.Minutes:return t.getMinutes();case Vi.Seconds:return t.getSeconds();case Vi.FractionalSeconds:return t.getMilliseconds();case Vi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,o);if((e>0||a>-e)&&(a+=e),i===Vi.Hours)0===a&&-12===e&&(a=12);else if(i===Vi.FractionalSeconds)return function Rde(i,t){return uc(i,3).substring(0,t)}(a,t);const c=ja(s,Cr.MinusSign);return uc(a,t,c,n,r)}}function Cn(i,t,e=_s.Format,n=!1){return function(r,o){return function Ode(i,t,e,n,r,o){switch(e){case Bi.Months:return function wde(i,t,e){const n=fs(i),o=Ua([n[xn.MonthsFormat],n[xn.MonthsStandalone]],t);return Ua(o,e)}(t,r,n)[i.getMonth()];case Bi.Days:return function yde(i,t,e){const n=fs(i),o=Ua([n[xn.DaysFormat],n[xn.DaysStandalone]],t);return Ua(o,e)}(t,r,n)[i.getDay()];case Bi.DayPeriods:const s=i.getHours(),a=i.getMinutes();if(o){const l=function kde(i){const t=fs(i);return bj(t),(t[xn.ExtraData][2]||[]).map(n=>"string"==typeof n?jA(n):[jA(n[0]),jA(n[1])])}(t),d=function Tde(i,t,e){const n=fs(i);bj(n);const o=Ua([n[xn.ExtraData][0],n[xn.ExtraData][1]],t)||[];return Ua(o,e)||[]}(t,r,n),h=l.findIndex(p=>{if(Array.isArray(p)){const[g,b]=p,w=s>=g.hours&&a>=g.minutes,x=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(w&&x)return!0}else if(w||x)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function bde(i,t,e){const n=fs(i),o=Ua([n[xn.DayPeriodsFormat],n[xn.DayPeriodsStandalone]],t);return Ua(o,e)}(t,r,n)[s<12?0:1];case Bi.Eras:return function xde(i,t){return Ua(fs(i)[xn.Eras],t)}(t,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,i,t,e,n)}}function GE(i){return function(t,e,n){const r=-1*n,o=ja(e,Cr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case md.Short:return(r>=0?"+":"")+uc(s,2,o)+uc(Math.abs(r%60),2,o);case md.ShortGMT:return"GMT"+(r>=0?"+":"")+uc(s,1,o);case md.Long:return"GMT"+(r>=0?"+":"")+uc(s,2,o)+":"+uc(Math.abs(r%60),2,o);case md.Extended:return 0===n?"Z":(r>=0?"+":"")+uc(s,2,o)+":"+uc(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}const Fde=0,qE=4;function yj(i){return $E(i.getFullYear(),i.getMonth(),i.getDate()+(qE-i.getDay()))}function UA(i,t=!1){return function(e,n){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=yj(e),s=function Nde(i){const t=$E(i,Fde,1).getDay();return $E(i,0,1+(t<=qE?qE:qE+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return uc(r,i,ja(n,Cr.MinusSign))}}function YE(i,t=!1){return function(e,n){return uc(yj(e).getFullYear(),i,ja(n,Cr.MinusSign),t)}}const $A={};function wj(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function xj(i){return i instanceof Date&&!isNaN(i.valueOf())}let ZA=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(n){let r=null;return n?r=new n:(o=U(dl),r=new Xde(o)),r;var o},providedIn:"root"})}return i})();let Xde=(()=>{class i extends ZA{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(Ede(n||this.locale)(e)){case Dg.Zero:return"zero";case Dg.One:return"one";case Dg.Two:return"two";case Dg.Few:return"few";case Dg.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(n){return new(n||i)(U(dl))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function Tj(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const KA=/\s+/,Dj=[];let KE=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=Dj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(KA):Dj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(KA):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(KA).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(S(Ha),S(dy),S(lt),S(cd))};static#t=this.\u0275dir=ae({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();const yue=/#/g;let XA=(()=>{class i{constructor(e){this._localization=e}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw function hc(i,t){return new X(2100,!1)}();return n[function kj(i,t,e,n){let r=`=${i}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(i,n),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${i}"`)}(e,Object.keys(n),this._localization,r)].replace(yue,e.toString())}static#e=this.\u0275fac=function(n){return new(n||i)(S(ZA,16))};static#t=this.\u0275pipe=sr({name:"i18nPlural",type:i,pure:!0,standalone:!0})}return i})(),Wi=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})();const Fj="browser";function XE(i){return"server"===i}let Rue=(()=>{class i{static#e=this.\u0275prov=ye({token:i,providedIn:"root",factory:()=>new Pue(U(Ft),window)})}return i})();class Pue{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Oue(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nj{}class nhe extends dde{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nR extends nhe{static makeCurrent(){!function lde(i){VA||(VA=i)}(new nR)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function rhe(){return fy=fy||document.querySelector("base"),fy?fy.getAttribute("href"):null}();return null==e?null:function ohe(i){tk=tk||document.createElement("a"),tk.setAttribute("href",i);const t=tk.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){fy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tj(document.cookie,t)}}let tk,fy=null,ahe=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const rR=new q("EventManagerPlugins");let Hj=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new X(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(U(rR),U(st))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();class jj{constructor(t){this._doc=t}}const oR="ng-app-id";let Uj=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=XE(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${oR}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(oR),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(oR,this.appId),s}}addStyleToHost(e,n){const r=this.getStyleElement(e,n);e.appendChild(r);const o=this.styleRef,s=o.get(n)?.elements;s?s.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(sE),U(p1,8),U(Fa))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const sR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aR=/%COMP%/g,uhe=new q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Wj(i,t){return t.map(e=>e.replace(aR,i))}let cR=(()=>{class i{constructor(e,n,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=XE(a),this.defaultRenderer=new lR(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Co.ShadowDom&&(n={...n,encapsulation:Co.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof qj?r.applyToHost(e):r instanceof dR&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(n.encapsulation){case Co.Emulated:o=new qj(c,l,n,this.appId,d,s,a,h);break;case Co.ShadowDom:return new fhe(c,l,e,n,s,a,this.nonce,h);default:o=new dR(c,l,n,d,s,a,h)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Hj),U(Uj),U(sE),U(uhe),U(Ft),U(Fa),U(st),U(p1))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();class lR{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(sR[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Gj(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Gj(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new X(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=sR[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=sR[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Mu.DashCase|Mu.Important)?t.style.setProperty(e,n,r&Mu.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Mu.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=Nu().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Gj(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class fhe extends lR{constructor(t,e,n,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Wj(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dR extends lR{constructor(t,e,n,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?Wj(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qj extends dR{constructor(t,e,n,r,o,s,a,c){const l=r+"-"+n.id;super(t,e,n,o,s,a,c,l),this.contentAttr=function hhe(i){return"_ngcontent-%COMP%".replace(aR,i)}(l),this.hostAttr=function mhe(i){return"_nghost-%COMP%".replace(aR,i)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let ghe=(()=>{class i extends jj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const Yj=["alt","control","meta","shift"],_he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vhe={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let bhe=(()=>{class i extends jj{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nu().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Yj.forEach(l=>{const d=n.indexOf(l);d>-1&&(n.splice(d,1),s+=l+".")}),s+=o,0!=n.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=_he[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yj.forEach(s=>{s!==r&&(0,vhe[s])(e)&&(o+=s+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const Kj=[{provide:Fa,useValue:Fj},{provide:X3,useValue:function yhe(){nR.makeCurrent()},multi:!0},{provide:Ft,useFactory:function xhe(){return function Jie(i){e1=i}(document),document},deps:[]}],Che=H5(Zle,"browser",Kj),Ehe=new q(""),Qj=[{provide:FE,useClass:class she{addToWindow(t){Mi.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new X(5103,!1);return o},Mi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mi.getAllAngularRootElements=()=>t.getAllRootElements(),Mi.frameworkStabilizers||(Mi.frameworkStabilizers=[]),Mi.frameworkStabilizers.push(n=>{const r=Mi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&n(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?Nu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:N5,useClass:DA,deps:[st,IA,FE]},{provide:DA,useClass:DA,deps:[st,IA,FE]}],Xj=[{provide:d1,useValue:"root"},{provide:Na,useFactory:function whe(){return new Na},deps:[]},{provide:rR,useClass:ghe,multi:!0,deps:[Ft,st,Fa]},{provide:rR,useClass:bhe,multi:!0,deps:[Ft]},cR,Uj,Hj,{provide:Hb,useExisting:cR},{provide:Nj,useClass:ahe,deps:[]},[]];let Jj=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:sE,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ehe,12))};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[...Xj,...Qj],imports:[Wi,Kle]})}return i})(),eU=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:function(n){let r=null;return r=n?new n:function The(){return new eU(U(Ft))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let hR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(n){let r=null;return r=n?new(n||i):U(nU),r},providedIn:"root"})}return i})(),nU=(()=>{class i extends hR{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case So.NONE:return n;case So.HTML:return il(n,"HTML")?oa(n):H3(this._doc,String(n)).toString();case So.STYLE:return il(n,"Style")?oa(n):n;case So.SCRIPT:if(il(n,"Script"))return oa(n);throw new X(5200,!1);case So.URL:return il(n,"URL")?oa(n):tE(String(n));case So.RESOURCE_URL:if(il(n,"ResourceURL"))return oa(n);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(e){return function sne(i){return new ene(i)}(e)}bypassSecurityTrustStyle(e){return function ane(i){return new tne(i)}(e)}bypassSecurityTrustScript(e){return function cne(i){return new ine(i)}(e)}bypassSecurityTrustUrl(e){return function lne(i){return new nne(i)}(e)}bypassSecurityTrustResourceUrl(e){return function dne(i){return new rne(i)}(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:function(n){let r=null;return r=n?new n:function Mhe(i){return new nU(i.get(Ft))}(U(Fr)),r},providedIn:"root"})}return i})();const{isArray:Ahe}=Array,{getPrototypeOf:Rhe,prototype:Phe,keys:Ohe}=Object;function oU(i){if(1===i.length){const t=i[0];if(Ahe(t))return{args:t,keys:null};if(function Fhe(i){return i&&"object"==typeof i&&Rhe(i)===Phe}(t)){const e=Ohe(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:Nhe}=Array;function mR(i){return Fe(t=>function Lhe(i,t){return Nhe(t)?i(...t):i(t)}(i,t))}function sU(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function nk(...i){const t=Ea(i),e=ns(i),{args:n,keys:r}=oU(i);if(0===n.length)return j([],t);const o=new Vt(function Vhe(i,t,e=zn){return n=>{aU(t,()=>{const{length:r}=i,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)aU(t,()=>{const l=j(i[c],t);let d=!1;l.subscribe(Pe(n,h=>{o[c]=h,d||(d=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,r?s=>sU(r,s):zn));return e?o.pipe(mR(e)):o}function aU(i,t,e){i?Ir(e,i,t):t()}const rk=pt(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function gy(...i){return function Bhe(){return yo(1)}()(j(i,Ea(i)))}function _y(i){return new Vt(t=>{rn(i()).subscribe(t)})}function Sg(i,t){const e=P(i)?i:()=>i,n=r=>r.error(e());return new Vt(t?r=>t.schedule(n,0,r):n)}function pR(){return ee((i,t)=>{let e=null;i._refCount++;const n=Pe(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class fR extends Vt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ve(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new At;const e=this.getSubject();t.add(this.source.subscribe(Pe(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=At.EMPTY)}return t}refCount(){return pR()(this)}}function lr(i){return i<=0?()=>yn:ee((t,e)=>{let n=0;t.subscribe(Pe(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function $a(...i){const t=Ea(i);return ee((e,n)=>{(t?gy(i,e,t):gy(i,e)).subscribe(n)})}function er(i,t){return ee((e,n)=>{let r=0;e.subscribe(Pe(n,o=>i.call(t,o,r++)&&n.next(o)))})}function ok(i){return ee((t,e)=>{let n=!1;t.subscribe(Pe(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function cU(i=zhe){return ee((t,e)=>{let n=!1;t.subscribe(Pe(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function zhe(){return new rk}function Vu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?er((r,o)=>i(r,o,n)):zn,lr(1),e?ok(t):cU(()=>new rk))}function Mg(i,t){return P(t)?Ti(i,t,1):Ti(i,1)}function dr(i,t,e){const n=P(i)||t||e?{next:i,error:t,complete:e}:i;return n?ee((r,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;r.subscribe(Pe(o,c=>{var l;null===(l=n.next)||void 0===l||l.call(n,c),o.next(c)},()=>{var c;a=!1,null===(c=n.complete)||void 0===c||c.call(n),o.complete()},c=>{var l;a=!1,null===(l=n.error)||void 0===l||l.call(n,c),o.error(c)},()=>{var c,l;a&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):zn}function Bu(i){return ee((t,e)=>{let o,n=null,r=!1;n=t.subscribe(Pe(e,void 0,void 0,s=>{o=rn(i(s,Bu(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function Ag(i,t){return ee(function Hhe(i,t,e,n,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Pe(s,d=>{const h=l++;c=a?i(c,d,h):(a=!0,d),n&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(i,t,arguments.length>=2,!0))}function gR(i){return i<=0?()=>yn:ee((t,e)=>{let n=[];t.subscribe(Pe(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Rg(i){return ee((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function An(i){return ee((t,e)=>{rn(i).subscribe(Pe(e,()=>e.complete(),Ge)),!e.closed&&t.subscribe(e)})}const Jt="primary",vy=Symbol("RouteTitle");class Uhe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pg(i){return new Uhe(i)}function $he(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function ul(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!dU(i[r],t[r]))return!1;return!0}function dU(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function uU(i){return i.length>0?i[i.length-1]:null}function zu(i){return function ik(i){return!!i&&(i instanceof Vt||P(i.lift)&&P(i.subscribe))}(i)?i:Qb(i)?j(Promise.resolve(i)):oe(i)}const Ghe={exact:function pU(i,t,e){if(!Bm(i.segments,t.segments)||!sk(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!pU(i.children[n],t.children[n],e))return!1;return!0},subset:fU},hU={exact:function qhe(i,t){return ul(i,t)},subset:function Yhe(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>dU(i[e],t[e]))},ignored:()=>!0};function mU(i,t,e){return Ghe[e.paths](i.root,t.root,e.matrixParams)&&hU[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function fU(i,t,e){return gU(i,t,t.segments,e)}function gU(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Bm(r,e)||t.hasChildren()||!sk(r,e,n))}if(i.segments.length===e.length){if(!Bm(i.segments,e)||!sk(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!fU(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(Bm(i.segments,r)&&sk(i.segments,r,n)&&i.children[Jt])&&gU(i.children[Jt],t,o,n)}}function sk(i,t,e){return t.every((n,r)=>hU[e](i[r].parameters,n.parameters))}class Og{constructor(t=new Ki([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pg(this.queryParams)),this._queryParamMap}toString(){return Qhe.serialize(this)}}class Ki{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ak(this)}}class by{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pg(this.parameters)),this._parameterMap}toString(){return bU(this)}}function Bm(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let yy=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return new _R},providedIn:"root"})}return i})();class _R{parse(t){const e=new cme(t);return new Og(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${wy(t.root,!0)}`,n=function eme(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${ck(e)}=${ck(r)}`).join("&"):`${ck(e)}=${ck(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function Xhe(i){return encodeURI(i)}(t.fragment)}`:""}`}}const Qhe=new _R;function ak(i){return i.segments.map(t=>bU(t)).join("/")}function wy(i,t){if(!i.hasChildren())return ak(i);if(t){const e=i.children[Jt]?wy(i.children[Jt],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Jt&&n.push(`${r}:${wy(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function Khe(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Jt&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Jt&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===Jt?[wy(i.children[Jt],!1)]:[`${r}:${wy(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Jt]?`${ak(i)}/${e[0]}`:`${ak(i)}/(${e.join("//")})`}}function _U(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ck(i){return _U(i).replace(/%3B/gi,";")}function vR(i){return _U(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lk(i){return decodeURIComponent(i)}function vU(i){return lk(i.replace(/\+/g,"%20"))}function bU(i){return`${vR(i.path)}${function Jhe(i){return Object.keys(i).map(t=>`;${vR(t)}=${vR(i[t])}`).join("")}(i.parameters)}`}const tme=/^[^\/()?;#]+/;function bR(i){const t=i.match(tme);return t?t[0]:""}const ime=/^[^\/()?;=#]+/,rme=/^[^=?&#]+/,sme=/^[^&#]+/;class cme{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ki([],{}):new Ki([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Jt]=new Ki(t,e)),n}parseSegment(){const t=bR(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new by(lk(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function nme(i){const t=i.match(ime);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=bR(this.remaining);r&&(n=r,this.capture(n))}t[lk(e)]=lk(n)}parseQueryParam(t){const e=function ome(i){const t=i.match(rme);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function ame(i){const t=i.match(sme);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const r=vU(e),o=vU(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bR(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new X(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Jt]:new Ki([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}}function yU(i){return i.segments.length>0?new Ki([],{[Jt]:i}):i}function wU(i){const t={};for(const n of Object.keys(i.children)){const o=wU(i.children[n]);if(n===Jt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function lme(i){if(1===i.numberOfChildren&&i.children[Jt]){const t=i.children[Jt];return new Ki(i.segments.concat(t.segments),t.children)}return i}(new Ki(i.segments,t))}function zm(i){return i instanceof Og}function xU(i){let t;const r=yU(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new Ki(o.url,s);return o===i&&(t=a),a}(i.root));return t??r}function CU(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return yR(r,r,r,e,n);const o=function ume(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new kU(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new kU(e,t,n)}(t);if(o.toRoot())return yR(r,r,new Ki([],{}),e,n);const s=function hme(i,t,e){if(i.isAbsolute)return new uk(t,!0,0);if(!e)return new uk(t,!1,NaN);if(null===e.parent)return new uk(e,!0,0);const n=dk(i.commands[0])?0:1;return function mme(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new X(4005,!1);r=n.segments.length}return new uk(n,!1,r-o)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(o,r,i),a=s.processChildren?Cy(s.segmentGroup,s.index,o.commands):TU(s.segmentGroup,s.index,o.commands);return yR(r,s.segmentGroup,a,e,n)}function dk(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function xy(i){return"object"==typeof i&&null!=i&&i.outlets}function yR(i,t,e,n,r){let s,o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=i===t?e:EU(i,t,e);const a=yU(wU(s));return new Og(a,o,r)}function EU(i,t,e){const n={};return Object.entries(i.children).forEach(([r,o])=>{n[r]=o===t?e:EU(o,t,e)}),new Ki(i.segments,n)}class kU{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dk(n[0]))throw new X(4003,!1);const r=n.find(xy);if(r&&r!==uU(n))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uk{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function TU(i,t,e){if(i||(i=new Ki([],{})),0===i.segments.length&&i.hasChildren())return Cy(i,t,e);const n=function fme(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const s=i.segments[r],a=e[n];if(xy(a))break;const c=`${a}`,l=n<e.length-1?e[n+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!IU(c,l,s))return o;n+=2}else{if(!IU(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new Ki(i.segments.slice(0,n.pathIndex),{});return o.children[Jt]=new Ki(i.segments.slice(n.pathIndex),i.children),Cy(o,0,r)}return n.match&&0===r.length?new Ki(i.segments,{}):n.match&&!i.hasChildren()?wR(i,t,e):n.match?Cy(i,0,r):wR(i,t,e)}function Cy(i,t,e){if(0===e.length)return new Ki(i.segments,{});{const n=function pme(i){return xy(i[0])?i[0].outlets:{[Jt]:i}}(e),r={};if(Object.keys(n).some(o=>o!==Jt)&&i.children[Jt]&&1===i.numberOfChildren&&0===i.children[Jt].segments.length){const o=Cy(i.children[Jt],t,e);return new Ki(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=TU(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{void 0===n[o]&&(r[o]=s)}),new Ki(i.segments,r)}}function wR(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(xy(o)){const c=gme(o.outlets);return new Ki(n,c)}if(0===r&&dk(e[0])){n.push(new by(i.segments[t].path,DU(e[0]))),r++;continue}const s=xy(o)?o.outlets[Jt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&dk(a)?(n.push(new by(s,DU(a))),r+=2):(n.push(new by(s,{})),r++)}return new Ki(n,{})}function gme(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=wR(new Ki([],{}),0,n))}),t}function DU(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function IU(i,t,e){return i==e.path&&ul(t,e.parameters)}const Ey="imperative";class hl{constructor(t,e){this.id=t,this.url=e}}class hk extends hl{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends hl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ky extends hl{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fg extends hl{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class mk extends hl{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SU extends hl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _me extends hl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vme extends hl{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bme extends hl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yme extends hl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wme{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xme{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cme{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eme{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kme{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tme{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MU{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xR{}class CR{constructor(t){this.url=t}}class Dme{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ty,this.attachRef=null}}let Ty=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Dme,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class AU{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ER(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=ER(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kR(t,this._root).map(e=>e.value)}}function ER(i,t){if(i===t.value)return t;for(const e of t.children){const n=ER(i,e);if(n)return n}return null}function kR(i,t){if(i===t.value)return[t];for(const e of t.children){const n=kR(i,e);if(n.length)return n.unshift(t),n}return[]}class fd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ng(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class RU extends AU{constructor(t,e){super(t),this.snapshot=e,TR(this,t)}toString(){return this.snapshot.toString()}}function PU(i,t){const e=function Ime(i,t){const s=new pk([],{},{},"",{},Jt,t,null,{});return new FU("",new fd(s,[]))}(0,t),n=new G([new by("",{})]),r=new G({}),o=new G({}),s=new G({}),a=new G(""),c=new Lg(n,r,s,a,o,Jt,t,e.root);return c.snapshot=e.root,new RU(new fd(c,[]),e)}class Lg{constructor(t,e,n,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Fe(l=>l[vy]))??oe(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(t=>Pg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(t=>Pg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OU(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function Sme(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class pk{get title(){return this.data?.[vy]}constructor(t,e,n,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FU extends AU{constructor(t,e){super(e),this.url=t,TR(this,e)}toString(){return NU(this._root)}}function TR(i,t){t.value._routerState=i,t.children.forEach(e=>TR(i,e))}function NU(i){const t=i.children.length>0?` { ${i.children.map(NU).join(", ")} } `:"";return`${i.value}${t}`}function DR(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ul(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),ul(t.params,e.params)||i.paramsSubject.next(e.params),function Whe(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ul(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),ul(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function IR(i,t){const e=ul(i.params,t.params)&&function Zhe(i,t){return Bm(i,t)&&i.every((e,n)=>ul(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||IR(i.parent,t.parent))}let Dy=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=De(Ty),this.location=De(Nr),this.changeDetector=De(Vr),this.environmentInjector=De(sa),this.inputBinder=De(fk,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Mme(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ae({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]})}return i})();class Mme{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Lg?this.route:t===Ty?this.childContexts:this.parent.get(t,e)}}const fk=new q("");let LU=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=nk([n.queryParams,n.params,n.data]).pipe(vt(([o,s,a],c)=>(a={...o,...s,...a},0===c?oe(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const s=function cde(i){const t=si(i);if(!t)return null;const e=new Gb(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function Iy(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function Rme(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Iy(i,n,r);return Iy(i,n)})}(i,t,e);return new fd(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Iy(i,a)),s}}const n=function Pme(i){return new Lg(new G(i.url),new G(i.params),new G(i.queryParams),new G(i.fragment),new G(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>Iy(i,o));return new fd(n,r)}}const SR="ngNavigationCancelingError";function VU(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=zm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=BU(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function BU(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[SR]=!0,n.cancellationCode=t,e&&(n.url=e),n}function zU(i){return i&&i[SR]}let HU=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=gt({type:i,selectors:[["ng-component"]],standalone:!0,features:[HH],decls:1,vars:0,template:function(n,r){1&n&&Xe(0,"router-outlet")},dependencies:[Dy],encapsulation:2})}return i})();function MR(i){const t=i.children&&i.children.map(MR),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=HU),e}function mc(i){return i.outlet||Jt}function Sy(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Hme{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),DR(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ng(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Ng(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Ng(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=Ng(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Tme(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Eme(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(DR(r),r===o)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),DR(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Sy(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class jU{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gk{constructor(t,e){this.component=t,this.route=e}}function jme(i,t,e){const n=i._root;return My(n,t?t._root:null,e,[n.value])}function Vg(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||function Uv(i){return null!==Oc(i)}(i)?t.get(i):i:n}function My(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ng(t);return i.children.forEach(s=>{(function $me(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Wme(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Bm(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Bm(i.url,t.url)||!ul(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IR(i,t)||!ul(i.queryParams,t.queryParams);default:return!IR(i,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new jU(n)):(o.data=s.data,o._resolvedData=s._resolvedData),My(i,t,o.component?a?a.children:null:e,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gk(a.outlet.component,s))}else s&&Ay(t,a,r),r.canActivateChecks.push(new jU(n)),My(i,null,o.component?a?a.children:null:e,n,r)})(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ay(a,e.getContext(s),r)),r}function Ay(i,t,e){const n=Ng(i),r=i.value;Object.entries(n).forEach(([o,s])=>{Ay(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new gk(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ry(i){return"function"==typeof i}function UU(i){return i instanceof rk||"EmptyError"===i?.name}const _k=Symbol("INITIAL_VALUE");function Bg(){return vt(i=>nk(i.map(t=>t.pipe(lr(1),$a(_k)))).pipe(Fe(t=>{for(const e of t)if(!0!==e){if(e===_k)return _k;if(!1===e||e instanceof Og)return e}return!0}),er(t=>t!==_k),lr(1)))}function $U(i){return function bt(...i){return Ts(i)}(dr(t=>{if(zm(t))throw VU(0,t)}),Fe(t=>!0===t))}class vk{constructor(t){this.segmentGroup=t||null}}class WU{constructor(t){this.urlTree=t}}function zg(i){return Sg(new vk(i))}function GU(i){return Sg(new WU(i))}class upe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new X(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return oe(n);if(r.numberOfChildren>1||!r.children[Jt])return Sg(new X(4e3,!1));r=r.children[Jt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new Og(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,r)}),new Ki(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const AR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hpe(i,t,e,n,r){const o=RR(i,t,e);return o.matched?(n=function Fme(i,t){return i.providers&&!i._injector&&(i._injector=dA(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function cpe(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?oe(r.map(s=>{const a=Vg(s,i);return zu(function Qme(i){return i&&Ry(i.canMatch)}(a)?a.canMatch(t,e):i.runInContext(()=>a(t,e)))})).pipe(Bg(),$U()):oe(!0)}(n,t,e).pipe(Fe(s=>!0===s?o:{...AR}))):oe(o)}function RR(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...AR}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||$he)(e,i,t);if(!r)return{...AR};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function qU(i,t,e,n){return e.length>0&&function fpe(i,t,e){return e.some(n=>bk(i,t,n)&&mc(n)!==Jt)}(i,e,n)?{segmentGroup:new Ki(t,ppe(n,new Ki(e,i.children))),slicedSegments:[]}:0===e.length&&function gpe(i,t,e){return e.some(n=>bk(i,t,n))}(i,e,n)?{segmentGroup:new Ki(i.segments,mpe(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Ki(i.segments,i.children),slicedSegments:e}}function mpe(i,t,e,n,r){const o={};for(const s of n)if(bk(i,e,s)&&!r[mc(s)]){const a=new Ki([],{});o[mc(s)]=a}return{...r,...o}}function ppe(i,t){const e={};e[Jt]=t;for(const n of i)if(""===n.path&&mc(n)!==Jt){const r=new Ki([],{});e[mc(n)]=r}return e}function bk(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ype{constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new upe(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,!1)}recognize(){const t=qU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Jt).pipe(Bu(e=>{if(e instanceof WU)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof vk?this.noMatchError(e):e}),Fe(e=>{const n=new pk([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),r=new fd(n,e),o=new FU("",r),s=function dme(i,t,e=null,n=null){return CU(xU(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Jt).pipe(Bu(n=>{throw n instanceof vk?this.noMatchError(n):n}))}inheritParamsAndData(t){const e=t.value,n=OU(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0)}processChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return j(r).pipe(Mg(o=>{const s=n.children[o],a=function Bme(i,t){const e=i.filter(n=>mc(n)===t);return e.push(...i.filter(n=>mc(n)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Ag((o,s)=>(o.push(...s),o)),ok(null),function jhe(i,t){const e=arguments.length>=2;return n=>n.pipe(i?er((r,o)=>i(r,o,n)):zn,gR(1),e?ok(t):cU(()=>new rk))}(),Ti(o=>{if(null===o)return zg(n);const s=YU(o);return function wpe(i){i.sort((t,e)=>t.value.outlet===Jt?-1:e.value.outlet===Jt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),oe(s)}))}processSegment(t,e,n,r,o,s){return j(e).pipe(Mg(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,r,o,s).pipe(Bu(c=>{if(c instanceof vk)return oe(null);throw c}))),Vu(a=>!!a),Bu(a=>{if(UU(a))return function vpe(i,t,e){return 0===t.length&&!i.children[e]}(n,r,o)?oe([]):zg(n);throw a}))}processSegmentAgainstRoute(t,e,n,r,o,s,a){return function _pe(i,t,e,n){return!!(mc(i)===n||n!==Jt&&bk(t,e,i))&&("**"===i.path||RR(t,i,e).matched)}(n,r,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s):zg(r):zg(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?GU(o):this.applyRedirects.lineralizeSegments(n,o).pipe(Ti(s=>{const a=new Ki(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:d}=RR(e,r,o);if(!a)return zg(e);const h=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return r.redirectTo.startsWith("/")?GU(h):this.applyRedirects.lineralizeSegments(r,h).pipe(Ti(p=>this.processSegment(t,n,e,p.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a;if("**"===n.path){const c=r.length>0?uU(r).parameters:{};a=oe({snapshot:new pk(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZU(n),mc(n),n.component??n._loadedComponent??null,n,KU(n)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=hpe(e,n,r,t).pipe(Fe(({matched:c,consumedSegments:l,remainingSegments:d,parameters:h})=>c?{snapshot:new pk(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZU(n),mc(n),n.component??n._loadedComponent??null,n,KU(n)),consumedSegments:l,remainingSegments:d}:null));return a.pipe(vt(c=>null===c?zg(e):this.getChildConfig(t=n._injector??t,n,r).pipe(vt(({routes:l})=>{const d=n._loadedInjector??t,{snapshot:h,consumedSegments:p,remainingSegments:g}=c,{segmentGroup:b,slicedSegments:w}=qU(e,p,g,l);if(0===w.length&&b.hasChildren())return this.processChildren(d,l,b).pipe(Fe(I=>null===I?null:[new fd(h,I)]));if(0===l.length&&0===w.length)return oe([new fd(h,[])]);const x=mc(n)===o;return this.processSegment(d,l,b,w,x?Jt:o,!0).pipe(Fe(I=>[new fd(h,I)]))}))))}getChildConfig(t,e,n){return e.children?oe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?oe({routes:e._loadedRoutes,injector:e._loadedInjector}):function ape(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?oe(!0):oe(r.map(s=>{const a=Vg(s,i);return zu(function qme(i){return i&&Ry(i.canLoad)}(a)?a.canLoad(t,e):i.runInContext(()=>a(t,e)))})).pipe(Bg(),$U())}(t,e,n).pipe(Ti(r=>r?this.configLoader.loadChildren(t,e).pipe(dr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function dpe(i){return Sg(BU(!1,3))}())):oe({routes:[],injector:t})}}function xpe(i){const t=i.value.routeConfig;return t&&""===t.path}function YU(i){const t=[],e=new Set;for(const n of i){if(!xpe(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=YU(n.children);t.push(new fd(n.value,r))}return t.filter(n=>!e.has(n))}function ZU(i){return i.data||{}}function KU(i){return i.resolve||{}}function Epe(i,t){return Ti(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return oe(e);let o=0;return j(r).pipe(Mg(s=>function kpe(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!QU(r)&&(o[vy]=r.title),function Tpe(i,t,e,n){const r=function Dpe(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return oe({});const o={};return j(r).pipe(Ti(s=>function Ipe(i,t,e,n){const r=Sy(t)??n,o=Vg(i,r);return zu(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(i[s],t,e,n).pipe(Vu(),dr(a=>{o[s]=a}))),gR(1),function lU(i){return Fe(()=>i)}(o),Bu(s=>UU(s)?yn:Sg(s)))}(o,i,t,n).pipe(Fe(s=>(i._resolvedData=s,i.data=OU(i,e).resolve,r&&QU(r)&&(i.data[vy]=r.title),null)))}(s.route,n,i,t)),dr(()=>o++),gR(1),Ti(s=>o===r.length?oe(e):yn))})}function QU(i){return"string"==typeof i.title||null===i.title}function PR(i){return vt(t=>{const e=i(t);return e?j(e).pipe(Fe(()=>t)):oe(t)})}const Hg=new q("ROUTES");let OR=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(R5)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return oe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=zu(e.loadComponent()).pipe(Fe(XU),dr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Rg(()=>{this.componentLoaders.delete(e)})),r=new fR(n,()=>new Z).pipe(pR());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return oe({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function Spe(i,t,e,n){return zu(i.loadChildren()).pipe(Fe(XU),Ti(r=>r instanceof BH||Array.isArray(r)?oe(r):j(t.compileModuleAsync(r))),Fe(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Hg,[],{optional:!0,self:!0}).flat()),{routes:s.map(MR),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Rg(()=>{this.childrenLoaders.delete(n)})),s=new fR(o,()=>new Z).pipe(pR());return this.childrenLoaders.set(n,s),s}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function XU(i){return function Mpe(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let yk=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=De(OR),this.environmentInjector=De(sa),this.urlSerializer=De(yy),this.rootContexts=De(Ty),this.inputBindingEnabled=null!==De(fk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new xme(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new wme(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new G({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:e.urlHandlingStrategy.extract(n),urlAfterRedirects:e.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ey,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(er(o=>0!==o.id),Fe(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{this.currentTransition=o;let s=!1,a=!1;return oe(o).pipe(dr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vt(c=>{const l=c.currentBrowserUrl.toString(),d=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new Fg(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),yn}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oe(c).pipe(vt(p=>{const g=this.transitions?.getValue();return this.events.next(new hk(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?yn:Promise.resolve(p)}),function Cpe(i,t,e,n,r,o){return Ti(s=>function bpe(i,t,e,n,r,o,s="emptyOnly"){return new ype(i,t,e,n,r,s,o).recognize()}(i,t,e,n,s.extractedUrl,r,o).pipe(Fe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),dr(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new SU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:b,restoredState:w,extras:x}=c,I=new hk(p,this.urlSerializer.serialize(g),b,w);this.events.next(I);const T=PU(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:T,urlAfterRedirects:g,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},oe(o)}{const p="";return this.events.next(new Fg(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),yn}}),dr(c=>{const l=new _me(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Fe(c=>(this.currentTransition=o={...c,guards:jme(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Jme(i,t){return Ti(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?oe({...e,guardsResult:!0}):function epe(i,t,e,n){return j(i).pipe(Ti(r=>function spe(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?oe(o.map(a=>{const c=Sy(t)??r,l=Vg(a,c);return zu(function Kme(i){return i&&Ry(i.canDeactivate)}(l)?l.canDeactivate(i,t,e,n):c.runInContext(()=>l(i,t,e,n))).pipe(Vu())})).pipe(Bg()):oe(!0)}(r.component,r.route,e,t,n)),Vu(r=>!0!==r,!0))}(s,n,r,i).pipe(Ti(a=>a&&function Gme(i){return"boolean"==typeof i}(a)?function tpe(i,t,e,n){return j(t).pipe(Mg(r=>gy(function npe(i,t){return null!==i&&t&&t(new Cme(i)),oe(!0)}(r.route.parent,n),function ipe(i,t){return null!==i&&t&&t(new kme(i)),oe(!0)}(r.route,n),function ope(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Ume(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(s)).filter(s=>null!==s).map(s=>_y(()=>oe(s.guards.map(c=>{const l=Sy(s.node)??e,d=Vg(c,l);return zu(function Zme(i){return i&&Ry(i.canActivateChild)}(d)?d.canActivateChild(n,i):l.runInContext(()=>d(n,i))).pipe(Vu())})).pipe(Bg())));return oe(o).pipe(Bg())}(i,r.path,e),function rpe(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return oe(!0);const r=n.map(o=>_y(()=>{const s=Sy(t)??e,a=Vg(o,s);return zu(function Yme(i){return i&&Ry(i.canActivate)}(a)?a.canActivate(t,i):s.runInContext(()=>a(t,i))).pipe(Vu())}));return oe(r).pipe(Bg())}(i,r.route,e))),Vu(r=>!0!==r,!0))}(n,o,i,t):oe(a)),Fe(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),dr(c=>{if(o.guardsResult=c.guardsResult,zm(c.guardsResult))throw VU(0,c.guardsResult);const l=new vme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),er(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),PR(c=>{if(c.guards.canActivateChecks.length)return oe(c).pipe(dr(l=>{const d=new bme(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),vt(l=>{let d=!1;return oe(l).pipe(Epe(e.paramsInheritanceStrategy,this.environmentInjector),dr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),dr(l=>{const d=new yme(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),PR(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(dr(p=>{d.component=p}),Fe(()=>{})));for(const p of d.children)h.push(...l(p));return h};return nk(l(c.targetSnapshot.root)).pipe(ok(),lr(1))}),PR(()=>this.afterPreactivation()),Fe(c=>{const l=function Ame(i,t,e){const n=Iy(i,t._root,e?e._root:void 0);return new RU(n,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),dr(()=>{this.events.next(new xR)}),((i,t,e,n)=>Fe(r=>(new Hme(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),lr(1),dr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),An(this.transitionAbortSubject.pipe(dr(c=>{throw c}))),Rg(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Bu(c=>{if(a=!0,zU(c))this.events.next(new ky(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Ome(i){return zU(i)&&zm(i.url)}(c)?this.events.next(new CR(c.url)):o.resolve(!1);else{this.events.next(new mk(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return yn}))}))}cancelNavigationTransition(e,n,r){const o=new ky(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function JU(i){return i!==Ey}let e6=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Jt);return n}getResolvedTitleForRoute(e){return e.data[vy]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return De(Ape)},providedIn:"root"})}return i})(),Ape=(()=>{class i extends e6{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(U(eU))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rpe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return De(Ope)},providedIn:"root"})}return i})();class Ppe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Ope=(()=>{class i extends Ppe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Et(i)))(r||i)}}();static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const wk=new q("",{providedIn:"root",factory:()=>({})});let Fpe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:function(){return De(Npe)},providedIn:"root"})}return i})(),Npe=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Py=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Py||{});function t6(i,t){i.events.pipe(er(e=>e instanceof Hu||e instanceof ky||e instanceof mk||e instanceof Fg),Fe(e=>e instanceof Hu||e instanceof Fg?Py.COMPLETE:e instanceof ky&&(0===e.code||1===e.code)?Py.REDIRECTING:Py.FAILED),er(e=>e!==Py.REDIRECTING),lr(1)).subscribe(()=>{t()})}function Lpe(i){throw i}function Vpe(i,t,e){return t.parse("/")}const Bpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vs=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(A5),this.isNgZoneEnabled=!1,this._events=new Z,this.options=De(wk,{optional:!0})||{},this.pendingTasks=De(PE),this.errorHandler=this.options.errorHandler||Lpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(Fpe),this.routeReuseStrategy=De(Rpe),this.titleStrategy=De(e6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(Hg,{optional:!0})?.flat()??[],this.navigationTransitions=De(yk),this.urlSerializer=De(yy),this.location=De(uy),this.componentInputBindingEnabled=!!De(fk,{optional:!0}),this.eventsSubscription=new At,this.isNgZoneEnabled=De(st)instanceof st&&st.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Og,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(n6(n)&&this._events.next(n));if(n instanceof hk)JU(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof Fg)this.rawUrlTree=r.rawUrl;else if(n instanceof SU){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof xR)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof ky)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof CR){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JU(r.source)};this.scheduleNavigation(o,Ey,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof mk&&this.restoreHistory(r,!0),n instanceof Hu&&(this.navigated=!0),n6(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ey,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(MR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=xU(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),h=this.currentUrlTree.root}return CU(h,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=zm(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ey,null,n)}navigate(e,n={skipLocationChange:!1}){return function Hpe(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new X(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...Bpe}:!1===n?{...zpe}:n,zm(e))return mU(this.currentUrlTree,e,r);const o=this.parseUrl(e);return mU(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return t6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function n6(i){return!(i instanceof xR||i instanceof CR)}let xk=(()=>{class i{constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Hu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function $3(i,t,e){return function kne(i,t){return"src"===t&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===t&&("base"===i||"link"===i)?U3:j3}(t,e)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(S(vs),S(Lg),zo("tabindex"),S(cd),S(lt),S(Vm))};static#t=this.\u0275dir=ae({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Ie("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Tg],skipLocationChange:["skipLocationChange","skipLocationChange",Tg],replaceUrl:["replaceUrl","replaceUrl",Tg],routerLink:"routerLink"},standalone:!0,features:[iz,ar]})}return i})(),r6=(()=>{class i{get isActive(){return this._isActive}constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xt,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Hu&&this.update()})}ngAfterContentInit(){oe(this.links.changes,oe(null)).pipe(yo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=j(e).pipe(yo()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function jpe(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||i)(S(vs),S(lt),S(cd),S(Vr),S(xk,8))};static#t=this.\u0275dir=ae({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&$i(o,xk,5),2&n){let s;Tt(s=Dt())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ar]})}return i})();class o6{}let Upe=(()=>{class i{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(er(e=>e instanceof Hu),Mg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=dA(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return j(r).pipe(yo())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):oe(null);const o=r.pipe(Ti(s=>null===s?oe(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return n.loadComponent&&!n._loadedComponent?j([o,this.loader.loadComponent(n)]).pipe(yo()):o})}static#e=this.\u0275fac=function(n){return new(n||i)(U(vs),U(R5),U(sa),U(o6),U(OR))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const FR=new q("");let s6=(()=>{class i{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof hk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hu?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fg&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof MU&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MU(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){Ru()};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function gd(i,t){return{\u0275kind:i,\u0275providers:t}}function c6(){const i=De(Fr);return t=>{const e=i.get(Fu);if(t!==e.components[0])return;const n=i.get(vs),r=i.get(l6);1===i.get(NR)&&n.initialNavigation(),i.get(d6,null,oi.Optional)?.setUpPreloading(),i.get(FR,null,oi.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const l6=new q("",{factory:()=>new Z}),NR=new q("",{providedIn:"root",factory:()=>1}),d6=new q("");function qpe(i){return gd(0,[{provide:d6,useExisting:Upe},{provide:o6,useExisting:i}])}const u6=new q("ROUTER_FORROOT_GUARD"),Zpe=[uy,{provide:yy,useClass:_R},vs,Ty,{provide:Lg,useFactory:function a6(i){return i.routerState.root},deps:[vs]},OR,[]];function Kpe(){return new B5("Router",vs)}let h6=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[Zpe,[],{provide:Hg,multi:!0,useValue:e},{provide:u6,useFactory:efe,deps:[[vs,new Ho,new na]]},{provide:wk,useValue:n||{}},n?.useHash?{provide:Vm,useClass:mde}:{provide:Vm,useClass:gj},{provide:FR,useFactory:()=>{const i=De(Rue),t=De(st),e=De(wk),n=De(yk),r=De(yy);return e.scrollOffset&&i.setOffset(e.scrollOffset),new s6(r,n,i,t,e)}},n?.preloadingStrategy?qpe(n.preloadingStrategy).\u0275providers:[],{provide:B5,multi:!0,useFactory:Kpe},n?.initialNavigation?tfe(n):[],n?.bindToComponentInputs?gd(8,[LU,{provide:fk,useExisting:LU}]).\u0275providers:[],[{provide:m6,useFactory:c6},{provide:AA,multi:!0,useExisting:m6}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Hg,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(U(u6,8))};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})();function efe(i){return"guarded"}function tfe(i){return["disabled"===i.initialNavigation?gd(3,[{provide:CA,multi:!0,useFactory:()=>{const t=De(vs);return()=>{t.setUpLocationChangeListener()}}},{provide:NR,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?gd(2,[{provide:NR,useValue:0},{provide:CA,multi:!0,deps:[Fr],useFactory:t=>{const e=t.get(ude,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get(vs),o=t.get(l6);t6(r,()=>{n(!0)}),t.get(yk).afterPreactivation=()=>(n(!0),o.closed?oe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const m6=new q("");var re=ht(861);var nfe=ht(519),rfe=ht.n(nfe),ml=(ht(191),ht(823));(0,ml.registerVersion)("firebase","10.7.2","app");class afe extends At{constructor(t,e){super()}schedule(t,e=0){return this}}const Ck={setInterval(i,t,...e){const{delegate:n}=Ck;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=Ck;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class Ek extends afe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return Ck.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Ck.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_t(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const LR={now:()=>(LR.delegate||Date).now(),delegate:void 0};class Oy{constructor(t,e=Oy.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Oy.now=LR.now;class kk extends Oy{constructor(t,e=Oy.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const dfe=new class lfe extends kk{}(class cfe extends Ek{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,e,n):(t.flush(this),0)}}),Hm=new kk(Ek),ufe=Hm,VR=new Au("ANGULARFIRE2_VERSION");class BR{constructor(){return((i,t)=>{const e=(0,ml.getApps)(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n})(mfe)}}const mfe="app-check";function jg(){}class f6{zone;delegate;constructor(t,e=dfe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,n)}}class pfe{zone;task=null;constructor(t){this.zone=t}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jg,{},jg,jg)),e.pipe(dr({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zR=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new f6(Zone.current)),this.insideAngular=e.run(()=>new f6(Zone.current,Hm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(U(st))};static \u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Jr(i){return function gfe(i){return function(e){return(e=e.lift(new pfe(i.ngZone))).pipe(ao(i.outsideAngular),un(i.insideAngular))}}(function Ug(){const i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return i}())(i)}var _d=ht(399);_d.Z.registerVersion("firebase","10.7.2","app-compat");const yfe=["ngOnDestroy"];class g6{constructor(t){return t}}const Fy=new q("angularfire2.app.options"),Ny=new q("angularfire2.app.name");function Tk(i,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=_d.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>_d.Z.initializeApp(i,r));try{if(JSON.stringify(i)!==JSON.stringify(s.options)){const a=!!module.hot;Cfe("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new g6(s)}const Cfe=(i,...t)=>{},Efe={provide:g6,useFactory:Tk,deps:[Fy,st,[new Ho,Ny]]};let kfe=(()=>{class i{static initializeApp(e,n){return{ngModule:i,providers:[{provide:Fy,useValue:e},{provide:Ny,useValue:n}]}}constructor(e){_d.Z.registerVersion("angularfire",VR.full,"core"),_d.Z.registerVersion("angularfire",VR.full,"app-compat"),_d.Z.registerVersion("angular",o4.full,e.toString())}static \u0275fac=function(n){return new(n||i)(U(Fa))};static \u0275mod=Ae({type:i});static \u0275inj=Oe({providers:[Efe]})}return i})();function HR(i,t,e,n,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===i)||[];if(o)return function Tfe(i,t){try{return i.toString()===t.toString()}catch{return i===t}}(r,s)||(_6("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Dfe?" You may need to reload as Firebase is not HMR aware.":""}`),_6("warn",{is:r,was:s})),o;{const a=n();return globalThis.\u0275AngularfireInstanceCache.push([i,a,r]),a}}const Dfe=typeof module<"u"&&!!module.hot,_6=(i,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class Ife extends Z{constructor(t=1/0,e=1/0,n=LR){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const s=e.now();let a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}}function v6(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,ft({connector:()=>new Ife(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function b6(i,t){return P(t)?vt(()=>i,t):vt(()=>i)}const jR=new q("angularfire2.auth.use-emulator"),UR=new q("angularfire2.auth.settings"),$R=new q("angularfire2.auth.tenant-id"),WR=new q("angularfire2.auth.langugage-code"),GR=new q("angularfire2.auth.use-device-language"),qR=new q("angularfire.auth.persistence"),YR=(i,t,e,n,r,o,s,a)=>HR(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const c=t.runOutsideAngular(()=>i.auth());if(e&&c.useEmulator(...e),n&&(c.tenantId=n),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[e,n,r,o,s,a]);let Dk=(()=>{class i{authState;idToken;user;idTokenResult;credential;constructor(e,n,r,o,s,a,c,l,d,h,p,g){const b=new Z,w=oe(void 0).pipe(un(s.outsideAngular),vt(()=>o.runOutsideAngular(()=>Promise.resolve().then(ht.bind(ht,191)))),Fe(()=>Tk(e,o,n)),Fe(x=>YR(x,o,a,l,d,h,c,p)),v6({bufferSize:1,refCount:!1}));if(XE(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=oe(null);else{w.pipe(Vu()).subscribe();const x=w.pipe(vt(M=>M.getRedirectResult().then(F=>F,()=>null)),Jr,v6({bufferSize:1,refCount:!1})),I=w.pipe(vt(M=>new Vt(F=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(V=>F.next(V),V=>F.error(V),()=>F.complete()))})))),T=w.pipe(vt(M=>new Vt(F=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(V=>F.next(V),V=>F.error(V),()=>F.complete()))}))));this.authState=x.pipe(b6(I),ao(s.outsideAngular),un(s.insideAngular)),this.user=x.pipe(b6(T),ao(s.outsideAngular),un(s.insideAngular)),this.idToken=this.user.pipe(vt(M=>M?j(M.getIdToken()):oe(null))),this.idTokenResult=this.user.pipe(vt(M=>M?j(M.getIdTokenResult()):oe(null))),this.credential=te(x,b,this.authState.pipe(er(M=>!M))).pipe(Fe(M=>M?.user?M:null),ao(s.outsideAngular),un(s.insideAngular))}return((i,t,e,n={})=>new Proxy(i,{get:(r,o)=>e.runOutsideAngular(()=>{if(i[o])return n?.spy?.get&&n.spy.get(o,i[o]),i[o];if(yfe.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{const h=d?.(...l);return n?.spy?.apply&&n.spy.apply(o,l,h),h})})})}))(this,w,o,{spy:{apply:(x,I,T)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&T.then(M=>b.next(M))}}})}static \u0275fac=function(n){return new(n||i)(U(Fy),U(Ny,8),U(Fa),U(st),U(zR),U(jR,8),U(UR,8),U($R,8),U(WR,8),U(GR,8),U(qR,8),U(BR,8))};static \u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();var vd=ht(537),R=ht(58),la=ht(879);const y6="@firebase/database";let ZR="";function KR(i){ZR=i}class Rfe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Pfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const x6=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rfe(t)}}catch{}return new Pfe},Um=x6("localStorage"),QR=x6("sessionStorage"),$g=new la.Yd("@firebase/database"),C6=function(){let i=1;return function(){return i++}}(),E6=function(i){const t=(0,R.dS)(i),e=new R.gQ;e.update(t);const n=e.digest();return R.US.encodeByteArray(n)},Ly=function(...i){let t="";for(let e=0;e<i.length;e++){const n=i[e];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=Ly.apply(null,n):t+="object"==typeof n?(0,R.Wl)(n):n,t+=" "}return t};let $m=null,k6=!0;const T6=function(i,t){(0,R.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?($g.logLevel=la.in.VERBOSE,$m=$g.log.bind($g),t&&QR.set("logging_enabled",!0)):"function"==typeof i?$m=i:($m=null,QR.remove("logging_enabled"))},uo=function(...i){if(!0===k6&&(k6=!1,null===$m&&!0===QR.get("logging_enabled")&&T6(!0)),$m){const t=Ly.apply(null,i);$m(t)}},Vy=function(i){return function(...t){uo(i,...t)}},XR=function(...i){const t="FIREBASE INTERNAL ERROR: "+Ly(...i);$g.error(t)},pl=function(...i){const t=`FIREBASE FATAL ERROR: ${Ly(...i)}`;throw $g.error(t),new Error(t)},$o=function(...i){const t="FIREBASE WARNING: "+Ly(...i);$g.warn(t)},Ik=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},ju="[MIN_NAME]",bd="[MAX_NAME]",Wm=function(i,t){if(i===t)return 0;if(i===ju||t===bd)return-1;if(t===ju||i===bd)return 1;{const e=S6(i),n=S6(t);return null!==e?null!==n?e-n==0?i.length-t.length:e-n:-1:null!==n?1:i<t?-1:1}},Nfe=function(i,t){return i===t?0:i<t?-1:1},By=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,R.Wl)(t))},JR=function(i){if("object"!=typeof i||null===i)return(0,R.Wl)(i);const t=[];for(const n in i)t.push(n);t.sort();let e="{";for(let n=0;n<t.length;n++)0!==n&&(e+=","),e+=(0,R.Wl)(t[n]),e+=":",e+=JR(i[t[n]]);return e+="}",e},D6=function(i,t){const e=i.length;if(e<=t)return[i];const n=[];for(let r=0;r<e;r+=t)n.push(i.substring(r,r+t>e?e:r+t));return n};function ho(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const I6=function(i){(0,R.hu)(!Ik(i),"Invalid JSON number");const n=1023;let r,o,s,a,c;0===i?(o=0,s=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(i)/Math.LN2),n),o=a+n,s=Math.round(i*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(i/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const d=l.join("");let h="";for(c=0;c<64;c+=8){let p=parseInt(d.substr(c,8),2).toString(16);1===p.length&&(p="0"+p),h+=p}return h.toLowerCase()},zfe=new RegExp("^-?(0*)\\d{1,10}$"),S6=function(i){if(zfe.test(i)){const t=Number(i);if(t>=-2147483648&&t<=2147483647)return t}return null},Wg=function(i){try{i()}catch(t){setTimeout(()=>{throw $o("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},zy=function(i,t){const e=setTimeout(i,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class $fe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){$o(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Wfe{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(uo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,n):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$o(t)}}let Hy=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const O6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L6="websocket",V6="long_polling";class tP{constructor(t,e,n,r,o=!1,s="",a=!1,c=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Um.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Um.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function B6(i,t,e){let n;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===L6)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==V6)throw new Error("Unknown connection type: "+t);n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function Gfe(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const r=[];return ho(e,(o,s)=>{r.push(o+"="+s)}),n+r.join("&")}class qfe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const iP={},nP={};function rP(i){const t=i.toString();return iP[t]||(iP[t]=new qfe),iP[t]}class Zfe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&Wg(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Uu{constructor(t,e,n,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vy(t),this.stats_=rP(e),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),B6(e,V6,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Zfe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,R.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oP((...o)=>{const[s,a,c,l,d]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={start:"t"};n.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(n.cb=this.scriptTagHolder.uniqueCallbackIdentifier),n.v="5",this.transportSessionId&&(n.s=this.transportSessionId),this.lastSessionId&&(n.ls=this.lastSessionId),this.applicationId&&(n.p=this.applicationId),this.appCheckToken&&(n.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&O6.test(location.hostname)&&(n.r="f");const r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uu.forceAllow_=!0}static forceDisallow(){Uu.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Uu.forceAllow_&&(Uu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=(0,R.h$)(e),r=D6(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class oP{constructor(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=C6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=oP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){uo("frame writing exception"),a.stack&&uo(a.stack),uo(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||uo("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const s=this.pendingSegs.shift();n=n+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),n()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const r=n.readyState;(!r||"loaded"===r||"complete"===r)&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{uo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}let Mk=null;typeof MozWebSocket<"u"?Mk=MozWebSocket:typeof WebSocket<"u"&&(Mk=WebSocket);let Gg=(()=>{class i{constructor(e,n,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vy(this.connId),this.stats_=rP(n),this.connURL=i.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,s){const a={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&O6.test(location.hostname)&&(a.r="f"),n&&(a.s=n),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),B6(e,L6,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Um.set("previous_websocket_failure",!0);try{let r;if((0,R.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ZR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Mk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Mk&&!i.forceDisallow_}static previouslyFailed(){return Um.isInMemoryStorage||!0===Um.get("previous_websocket_failure")}markConnectionHealthy(){Um.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=(0,R.cI)(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=(0,R.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=D6(n,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),G6=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Uu,Gg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Gg&&Gg.isAvailable();let r=n&&!Gg.previouslyFailed();if(e.webSocketOnly&&(n||$o("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gg];else{const o=this.transports_=[];for(const s of i.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class J6{constructor(t,e,n,r,o,s,a,c,l,d){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vy("c:"+this.id+":"),this.transportManager_=new G6(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,n)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=zy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=By("t",t),n=By("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=By("t",t),n=By("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=By("t",t);if("d"in t){const n=t.d;if("h"===e){const r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?XR("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&$o("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),zy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Um.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class e${put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class t${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ak extends t${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ak}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Gi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Pi(){return new Gi("")}function ui(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function $u(i){return i.pieces_.length-i.pieceNum_}function gn(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Gi(i.pieces_,t)}function aP(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function jy(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function r$(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new Gi(t,0)}function $n(i,t){const e=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)e.push(i.pieces_[n]);if(t instanceof Gi)for(let n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{const n=t.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&e.push(n[r])}return new Gi(e,0)}function hi(i){return i.pieceNum_>=i.pieces_.length}function bs(i,t){const e=ui(i),n=ui(t);if(null===e)return t;if(e===n)return bs(gn(i),gn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function _ge(i,t){const e=jy(i,0),n=jy(t,0);for(let r=0;r<e.length&&r<n.length;r++){const o=Wm(e[r],n[r]);if(0!==o)return o}return e.length===n.length?0:e.length<n.length?-1:1}function cP(i,t){if($u(i)!==$u(t))return!1;for(let e=i.pieceNum_,n=t.pieceNum_;e<=i.pieces_.length;e++,n++)if(i.pieces_[e]!==t.pieces_[n])return!1;return!0}function Wa(i,t){let e=i.pieceNum_,n=t.pieceNum_;if($u(i)>$u(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0}class vge{constructor(t,e){this.errorPrefix_=e,this.parts_=jy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,R.ug)(this.parts_[n]);o$(this)}}function o$(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gm(i))}function Gm(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class lP extends t${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new lP}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Uy=1e3;let Pk,qm=(()=>{class i extends e${constructor(e,n,r,o,s,a,c,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=i.nextPersistentConnectionId_++,this.log_=Vy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ak.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,s={r:o,a:e,b:n};this.log_((0,R.Wl)(s)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new R.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?n.resolve(c):n.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),n.promise}listen(e,n,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,d=c.s;i.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),"ok"!==d&&this.removeListen_(r,o),e.onComplete&&e.onComplete(d,l))})}static warnOnListenWarnings_(e,n){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const r=(0,R.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$o(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=(0,R.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";"ok"===n?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,s){this.initConnection_();const a={p:n,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Wl)(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),"d"===e?this.onDataUpdate_(n.p,n.d,!1,n.t):"m"===e?this.onDataUpdate_(n.p,n.d,!0,n.t):"c"===e?this.onListenRevoked_(n.p,n.q):"ac"===e?this.onAuthRevoked_(n.s,n.d):"apc"===e?this.onAppCheckRevoked_(n.s,n.d):"sd"===e?this.onSecurityDebugPacket_(n):XR("Unrecognized action received from server: "+(0,R.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Uy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,re.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const n=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+i.nextConnectionId_++,a=e.lastSessionId;let c=!1,l=null;const d=function(){l?l.close():(c=!0,o())};e.realtime_={close:d,sendRequest:function(g){(0,R.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)}};const p=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[g,b]=yield Promise.all([e.authTokenProvider_.getToken(p),e.appCheckTokenProvider_.getToken(p)]);c?uo("getToken() completed but was canceled"):(uo("getToken() completed. Creating connection."),e.authToken_=g&&g.accessToken,e.appCheckToken_=b&&b.token,l=new J6(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,n,r,o,w=>{$o(w+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(g){e.log_("Failed to get token: "+g),c||(e.repoInfo_.nodeAdmin&&$o(g),d())}}})()}interrupt(e){uo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){uo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Uy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;r=n?n.map(s=>JR(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Gi(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(n),s.delete(n),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){uo("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){uo("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";(0,R.Yr)()&&(n=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+n+"."+ZR.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ak.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new fi(t,e)}}class Rk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new fi(ju,t),r=new fi(ju,e);return 0!==this.compare(n,r)}minPost(){return fi.MIN}}class c$ extends Rk{static get __EMPTY_NODE(){return Pk}static set __EMPTY_NODE(t){Pk=t}compare(t,e){return Wm(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return fi.MIN}maxPost(){return new fi(bd,Pk)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new fi(t,Pk)}toString(){return".key"}}const fl=new c$;class Ok{constructor(t,e,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let uP,pc=(()=>{class i{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??i.RED,this.left=o??Hs.EMPTY_NODE,this.right=s??Hs.EMPTY_NODE}copy(e,n,r,o,s){return new i(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===s?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===n(e,r.key)){if(r.right.isEmpty())return Hs.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Hs{constructor(t,e=Hs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,pc.BLACK,null,null))}remove(t){return new Hs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,pc.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ok(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ok(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ok(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ok(this.root_,null,this.comparator_,!0,t)}}function Tge(i,t){return Wm(i.name,t.name)}function dP(i,t){return Wm(i,t)}Hs.EMPTY_NODE=new class kge{copy(t,e,n,r,o){return this}insert(t,e,n){return new pc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const l$=function(i){return"number"==typeof i?"number:"+I6(i):"string:"+i},d$=function(i){if(i.isLeafNode()){const t=i.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(i===uP||i.isEmpty(),"priority of unexpected type.");(0,R.hu)(i===uP||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let u$,h$,m$,qg=(()=>{class i{constructor(e,n=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),d$(this.priorityNode_)}static set __childrenNodeConstructor(e){u$=e}static get __childrenNodeConstructor(){return u$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return hi(e)?this:".priority"===ui(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ui(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,R.hu)(".priority"!==r||1===$u(e),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(gn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+l$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",e+="number"===n?I6(this.value_):this.value_,this.lazyHash_=E6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=i.VALUE_TYPE_ORDER.indexOf(n),s=i.VALUE_TYPE_ORDER.indexOf(r);return(0,R.hu)(o>=0,"Unknown leaf type: "+n),(0,R.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const En=new class Mge extends Rk{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?Wm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return fi.MIN}maxPost(){return new fi(bd,new qg("[PRIORITY-POST]",m$))}makePost(t,e){const n=h$(t);return new fi(e,new qg("[PRIORITY-POST]",n))}toString(){return".priority"}},Age=Math.log(2);class Rge{constructor(t){this.count=parseInt(Math.log(t+1)/Age,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fk=function(i,t,e,n){i.sort(t);const r=function(c,l){const d=l-c;let h,p;if(0===d)return null;if(1===d)return h=i[c],p=e?e(h):h,new pc(p,h.node,pc.BLACK,null,null);{const g=parseInt(d/2,10)+c,b=r(c,g),w=r(g+1,l);return h=i[g],p=e?e(h):h,new pc(p,h.node,pc.BLACK,b,w)}},a=function(c){let l=null,d=null,h=i.length;const p=function(b,w){const x=h-b,I=h;h-=b;const T=r(x+1,I),M=i[x],F=e?e(M):M;g(new pc(F,M.node,w,null,T))},g=function(b){l?(l.left=b,l=b):(d=b,l=b)};for(let b=0;b<c.count;++b){const w=c.nextBitIsOne(),x=Math.pow(2,c.count-(b+1));w?p(x,pc.BLACK):(p(x,pc.BLACK),p(x,pc.RED))}return d}(new Rge(i.length));return new Hs(n||t,a)};let hP;const Yg={};class yd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(Yg&&En,"ChildrenNode.ts has not been loaded"),hP=hP||new yd({".priority":Yg},{".priority":En}),hP}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hs?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=e.getIterator(fi.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),n.push(s),s=o.getNext();a=r?Fk(n,t.getCompare()):Yg;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const d=Object.assign({},this.indexes_);return d[c]=a,new yd(d,l)}addToIndexes(t,e){const n=(0,R.UI)(this.indexes_,(r,o)=>{const s=(0,R.DV)(this.indexSet_,o);if((0,R.hu)(s,"Missing index implementation for "+o),r===Yg){if(s.isDefinedOn(t.node)){const a=[],c=e.getIterator(fi.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Fk(a,s.getCompare())}return Yg}{const a=e.get(t.name);let c=r;return a&&(c=c.remove(new fi(t.name,a))),c.insert(t,t.node)}});return new yd(n,this.indexSet_)}removeFromIndexes(t,e){const n=(0,R.UI)(this.indexes_,r=>{if(r===Yg)return r;{const o=e.get(t.name);return o?r.remove(new fi(t.name,o)):r}});return new yd(n,this.indexSet_)}}let $y,Yt=(()=>{class i{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&d$(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $y||($y=new i(new Hs(dP),null,yd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$y}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const n=this.children_.get(e);return null===n?$y:n}}getChild(e){const n=ui(e);return null===n?this:this.getImmediateChild(n).getChild(gn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,n){if((0,R.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);{const r=new fi(e,n);let o,s;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?$y:this.priorityNode_;return new i(o,a,s)}}updateChild(e,n){const r=ui(e);if(null===r)return n;{(0,R.hu)(".priority"!==ui(e)||1===$u(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(gn(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,s=!0;if(this.forEachChild(En,(a,c)=>{n[a]=c.val(e),r++,s&&i.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const c in n)a[c]=n[c];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+l$(this.getPriority().val())+":"),this.forEachChild(En,(n,r)=>{const o=r.hash();""!==o&&(e+=":"+n+":"+o)}),this.lazyHash_=""===e?"":E6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new fi(e,n));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fi(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fi(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fi.Wrap);let s=o.peek();for(;null!=s&&n.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wy?-1:0}withIndex(e){if(e===fl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()===n.children_.count()){const r=this.getIterator(En),o=n.getIterator(En);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===fl?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Wy=new class Pge extends Yt{constructor(){super(new Hs(dP),Yt.EMPTY_NODE,yd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Yt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(fi,{MIN:{value:new fi(ju,Yt.EMPTY_NODE)},MAX:{value:new fi(bd,Wy)}}),c$.__EMPTY_NODE=Yt.EMPTY_NODE,qg.__childrenNodeConstructor=Yt,function Dge(i){uP=i}(Wy),function Sge(i){m$=i}(Wy);const Oge=!0;function tr(i,t=null){if(null===i)return Yt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new qg(i,tr(t));if(i instanceof Array||!Oge){let e=Yt.EMPTY_NODE;return ho(i,(n,r)=>{if((0,R.r3)(i,n)&&"."!==n.substring(0,1)){const o=tr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(n,o))}}),e.updatePriority(tr(t))}{const e=[];let n=!1;if(ho(i,(s,a)=>{if("."!==s.substring(0,1)){const c=tr(a);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),e.push(new fi(s,c)))}}),0===e.length)return Yt.EMPTY_NODE;const o=Fk(e,Tge,s=>s.name,dP);if(n){const s=Fk(e,En.getCompare());return new Yt(o,tr(t),new yd({".priority":s},{".priority":En}))}return new Yt(o,tr(t),yd.Default)}}!function Ige(i){h$=i}(tr);class mP extends Rk{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!hi(t)&&".priority"!==ui(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?Wm(t.name,e.name):o}makePost(t,e){const n=tr(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new fi(e,r)}maxPost(){const t=Yt.EMPTY_NODE.updateChild(this.indexPath_,Wy);return new fi(bd,t)}toString(){return jy(this.indexPath_,0).join("/")}}const pP=new class Fge extends Rk{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Wm(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return fi.MIN}maxPost(){return fi.MAX}makePost(t,e){const n=tr(t);return new fi(e,n)}toString(){return".value"}};function p$(i){return{type:"value",snapshotNode:i}}function Zg(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Gy(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function qy(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class fP{constructor(t){this.index_=t}updateChild(t,e,n,r,o,s){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()||(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Gy(e,a)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Zg(e,n)):s.trackChildChange(qy(e,n,a))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)}updateFullNode(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(En,(r,o)=>{e.hasChild(r)||n.trackChildChange(Gy(r,o))}),e.isLeafNode()||e.forEachChild(En,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||n.trackChildChange(qy(r,o,s))}else n.trackChildChange(Zg(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yy{constructor(t){this.indexedFilter_=new fP(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Yy.getStartPost_(t),this.endPost_=Yy.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&n}updateChild(t,e,n,r,o,s){return this.matches(new fi(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,s)}updateFullNode(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);const o=this;return e.forEachChild(En,(s,a)=>{o.matches(new fi(s,a))||(r=r.updateImmediateChild(s,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Lge{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=e=>{const n=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Yy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,n,r,o,s){return this.rangedFilter_.matches(new fi(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,s):this.fullLimitUpdateChild_(t,e,n,o,s)}updateFullNode(t,e,n){let r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Yt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,n,r,o){let s;if(this.reverse_){const h=this.index_.getCompare();s=(p,g)=>h(g,p)}else s=this.index_.getCompare();const a=t;(0,R.hu)(a.numChildren()===this.limit_,"");const c=new fi(e,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(a.hasChild(e)){const h=a.getImmediateChild(e);let p=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=p&&(p.name===e||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);const g=null==p?1:s(p,c);if(d&&!n.isEmpty()&&g>=0)return o?.trackChildChange(qy(e,n,h)),a.updateImmediateChild(e,n);{o?.trackChildChange(Gy(e,h));const w=a.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(o?.trackChildChange(Zg(p.name,p.node)),w.updateImmediateChild(p.name,p.node)):w}}return n.isEmpty()?t:d&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Gy(l.name,l.node)),o.trackChildChange(Zg(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(l.name,Yt.EMPTY_NODE)):t}}class Nk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ju}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const t=new Nk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gP(i,t,e){const n=i.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n}function _P(i,t,e){const n=i.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n}function Lk(i,t){const e=i.copy();return e.index_=t,e}function f$(i){const t={};if(i.isDefault())return t;let e;if(i.index_===En?e="$priority":i.index_===pP?e="$value":i.index_===fl?e="$key":((0,R.hu)(i.index_ instanceof mP,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,R.Wl)(e),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";t[n]=(0,R.Wl)(i.indexStartValue_),i.startNameSet_&&(t[n]+=","+(0,R.Wl)(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";t[n]=(0,R.Wl)(i.indexEndValue_),i.endNameSet_&&(t[n]+=","+(0,R.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function g$(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==En&&(t.i=i.index_.toString()),t}class Vk extends e${constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Vy("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Vk.getListenId_(t,n),a={};this.listens_[s]=a;const c=f$(t._queryParams);this.restRequest_(o+".json",c,(l,d)=>{let h=d;if(404===l&&(h=null,l=null),null===l&&this.onDataUpdate_(o,h,!1,n),(0,R.DV)(this.listens_,s)===a){let p;p=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(p,null)}})}unlisten(t,e){const n=Vk.getListenId_(t,e);delete this.listens_[n]}get(t){const e=f$(t._queryParams),n=t._path.toString(),r=new R.BH;return this.restRequest_(n+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,R.cI)(a.responseText)}catch{$o("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,c)}else 401!==a.status&&404!==a.status&&$o("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Uge{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Bk(){return{value:null,children:new Map}}function Kg(i,t,e){if(hi(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const n=ui(t);i.children.has(n)||i.children.set(n,Bk()),Kg(i.children.get(n),t=gn(t),e)}}function vP(i,t){if(hi(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(En,(n,r)=>{Kg(i,new Gi(n),r)}),vP(i,t)}}if(i.children.size>0){const e=ui(t);return t=gn(t),i.children.has(e)&&vP(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function bP(i,t,e){null!==i.value?e(t,i.value):function $ge(i,t){i.children.forEach((e,n)=>{t(n,e)})}(i,(n,r)=>{bP(r,new Gi(t.toString()+"/"+n),e)})}class Wge{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ho(this.last_,(n,r)=>{e[n]=e[n]-r}),this.last_=t,e}}class Yge{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Wge(t);const n=1e4+2e4*Math.random();zy(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;ho(t,(r,o)=>{o>0&&(0,R.r3)(this.statsToReport_,r)&&(e[r]=o,n=!0)}),n&&this.server_.reportStats(e),zy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var gl=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(gl||{});function xP(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class zk{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=gl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(hi(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gi(t));return new zk(Pi(),e,this.revert)}}return(0,R.hu)(ui(this.path)===t,"operationForChild called for unrelated child."),new zk(gn(this.path),this.affectedTree,this.revert)}}class Zy{constructor(t,e){this.source=t,this.path=e,this.type=gl.LISTEN_COMPLETE}operationForChild(t){return hi(this.path)?new Zy(this.source,Pi()):new Zy(this.source,gn(this.path))}}class Ym{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=gl.OVERWRITE}operationForChild(t){return hi(this.path)?new Ym(this.source,Pi(),this.snap.getImmediateChild(t)):new Ym(this.source,gn(this.path),this.snap)}}class Qg{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=gl.MERGE}operationForChild(t){if(hi(this.path)){const e=this.children.subtree(new Gi(t));return e.isEmpty()?null:e.value?new Ym(this.source,Pi(),e.value):new Qg(this.source,Pi(),e)}return(0,R.hu)(ui(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qg(this.source,gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wu{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(hi(t))return this.isFullyInitialized()&&!this.filtered_;const e=ui(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Zge{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ky(i,t,e,n,r,o){const s=n.filter(a=>a.type===e);s.sort((a,c)=>function Xge(i,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const n=new fi(t.childName,t.snapshotNode),r=new fi(e.childName,e.snapshotNode);return i.index_.compare(n,r)}(i,a,c)),s.forEach(a=>{const c=function Qge(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,i.query_))})})}function Hk(i,t){return{eventCache:i,serverCache:t}}function Qy(i,t,e,n){return Hk(new Wu(t,e,n),i.serverCache)}function v$(i,t,e,n){return Hk(i.eventCache,new Wu(t,e,n))}function jk(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Zm(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let CP;class kn{constructor(t,e=(()=>(CP||(CP=new Hs(Nfe)),CP))()){this.value=t,this.children=e}static fromObject(t){let e=new kn(null);return ho(t,(n,r)=>{e=e.set(new Gi(n),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Pi(),value:this.value};if(hi(t))return null;{const n=ui(t),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(gn(t),e);return null!=o?{path:$n(new Gi(n),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(hi(t))return this;{const e=ui(t),n=this.children.get(e);return null!==n?n.subtree(gn(t)):new kn(null)}}set(t,e){if(hi(t))return new kn(e,this.children);{const n=ui(t),o=(this.children.get(n)||new kn(null)).set(gn(t),e),s=this.children.insert(n,o);return new kn(this.value,s)}}remove(t){if(hi(t))return this.children.isEmpty()?new kn(null):new kn(null,this.children);{const e=ui(t),n=this.children.get(e);if(n){const r=n.remove(gn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new kn(null):new kn(this.value,o)}return this}}get(t){if(hi(t))return this.value;{const e=ui(t),n=this.children.get(e);return n?n.get(gn(t)):null}}setTree(t,e){if(hi(t))return e;{const n=ui(t),o=(this.children.get(n)||new kn(null)).setTree(gn(t),e);let s;return s=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),new kn(this.value,s)}}fold(t){return this.fold_(Pi(),t)}fold_(t,e){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_($n(t,r),e)}),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,Pi(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(hi(t))return null;{const o=ui(t),s=this.children.get(o);return s?s.findOnPath_(gn(t),$n(e,o),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Pi(),e)}foreachOnPath_(t,e,n){if(hi(t))return this;{this.value&&n(e,this.value);const r=ui(t),o=this.children.get(r);return o?o.foreachOnPath_(gn(t),$n(e,r),n):new kn(null)}}foreach(t){this.foreach_(Pi(),t)}foreach_(t,e){this.children.inorderTraversal((n,r)=>{r.foreach_($n(t,n),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,n)=>{n.value&&t(e,n.value)})}}class fc{constructor(t){this.writeTree_=t}static empty(){return new fc(new kn(null))}}function Xy(i,t,e){if(hi(t))return new fc(new kn(e));{const n=i.writeTree_.findRootMostValueAndPath(t);if(null!=n){const r=n.path;let o=n.value;const s=bs(r,t);return o=o.updateChild(s,e),new fc(i.writeTree_.set(r,o))}{const r=new kn(e),o=i.writeTree_.setTree(t,r);return new fc(o)}}}function EP(i,t,e){let n=i;return ho(e,(r,o)=>{n=Xy(n,$n(t,r),o)}),n}function b$(i,t){if(hi(t))return fc.empty();{const e=i.writeTree_.setTree(t,new kn(null));return new fc(e)}}function kP(i,t){return null!=Km(i,t)}function Km(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(bs(e.path,t)):null}function y$(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(En,(n,r)=>{t.push(new fi(n,r))}):i.writeTree_.children.inorderTraversal((n,r)=>{null!=r.value&&t.push(new fi(n,r.value))}),t}function Gu(i,t){if(hi(t))return i;{const e=Km(i,t);return new fc(null!=e?new kn(e):i.writeTree_.subtree(t))}}function TP(i){return i.writeTree_.isEmpty()}function Xg(i,t){return w$(Pi(),i.writeTree_,t)}function w$(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let n=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,R.hu)(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):e=w$($n(i,r),o,e)}),!e.getChild(i).isEmpty()&&null!==n&&(e=e.updateChild($n(i,".priority"),n)),e}}function Uk(i,t){return T$(t,i)}function r_e(i,t){if(i.snap)return Wa(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Wa($n(i.path,e),t))return!0;return!1}function s_e(i){return i.visible}function x$(i,t,e){let n=fc.empty();for(let r=0;r<i.length;++r){const o=i[r];if(t(o)){const s=o.path;let a;if(o.snap)Wa(e,s)?(a=bs(e,s),n=Xy(n,a,o.snap)):Wa(s,e)&&(a=bs(s,e),n=Xy(n,Pi(),o.snap.getChild(a)));else{if(!o.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Wa(e,s))a=bs(e,s),n=EP(n,a,o.children);else if(Wa(s,e))if(a=bs(s,e),hi(a))n=EP(n,Pi(),o.children);else{const c=(0,R.DV)(o.children,ui(a));if(c){const l=c.getChild(gn(a));n=Xy(n,Pi(),l)}}}}}return n}function C$(i,t,e,n,r){if(n||r){const o=Gu(i.visibleWrites,t);return!r&&TP(o)?e:r||null!=e||kP(o,Pi())?Xg(x$(i.allWrites,function(l){return(l.visible||r)&&(!n||!~n.indexOf(l.writeId))&&(Wa(l.path,t)||Wa(t,l.path))},t),e||Yt.EMPTY_NODE):null}{const o=Km(i.visibleWrites,t);if(null!=o)return o;{const s=Gu(i.visibleWrites,t);return TP(s)?e:null!=e||kP(s,Pi())?Xg(s,e||Yt.EMPTY_NODE):null}}}function $k(i,t,e,n){return C$(i.writeTree,i.treePath,t,e,n)}function DP(i,t){return function a_e(i,t,e){let n=Yt.EMPTY_NODE;const r=Km(i.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(En,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(e){const o=Gu(i.visibleWrites,t);return e.forEachChild(En,(s,a)=>{const c=Xg(Gu(o,new Gi(s)),a);n=n.updateImmediateChild(s,c)}),y$(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}return y$(Gu(i.visibleWrites,t)).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}(i.writeTree,i.treePath,t)}function E$(i,t,e,n){return function c_e(i,t,e,n,r){(0,R.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");const o=$n(t,e);if(kP(i.visibleWrites,o))return null;{const s=Gu(i.visibleWrites,o);return TP(s)?r.getChild(e):Xg(s,r.getChild(e))}}(i.writeTree,i.treePath,t,e,n)}function Wk(i,t){return function d_e(i,t){return Km(i.visibleWrites,t)}(i.writeTree,$n(i.treePath,t))}function IP(i,t,e){return function l_e(i,t,e,n){const r=$n(t,e),o=Km(i.visibleWrites,r);return null!=o?o:n.isCompleteForChild(e)?Xg(Gu(i.visibleWrites,r),n.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function k$(i,t){return T$($n(i.treePath,t),i.writeTree)}function T$(i,t){return{treePath:i,writeTree:t}}class p_e{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,qy(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,Gy(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,Zg(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,qy(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}const D$=new class f_e{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class SP{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const n=null!=this.optCompleteServerCache_?new Wu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IP(this.writes_,t,n)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zm(this.viewCache_),o=function m_e(i,t,e,n,r,o){return function u_e(i,t,e,n,r,o,s){let a;const c=Gu(i.visibleWrites,t),l=Km(c,Pi());if(null!=l)a=l;else{if(null==e)return[];a=Xg(c,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const d=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let g=p.getNext();for(;g&&d.length<r;)0!==h(g,n)&&d.push(g),g=p.getNext();return d}}(i.writeTree,i.treePath,t,e,n,r,o)}(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]}}function I$(i,t,e,n,r,o){const s=t.eventCache;if(null!=Wk(n,e))return t;{let a,c;if(hi(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Zm(t),h=DP(n,l instanceof Yt?l:Yt.EMPTY_NODE);a=i.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{const l=$k(n,Zm(t));a=i.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=ui(e);if(".priority"===l){(0,R.hu)(1===$u(e),"Can't have a priority with additional path components");const d=s.getNode();c=t.serverCache.getNode();const h=E$(n,e,d,c);a=null!=h?i.filter.updatePriority(d,h):s.getNode()}else{const d=gn(e);let h;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const p=E$(n,e,s.getNode(),c);h=null!=p?s.getNode().getImmediateChild(l).updateChild(d,p):s.getNode().getImmediateChild(l)}else h=IP(n,l,t.serverCache);a=null!=h?i.filter.updateChild(s.getNode(),l,h,d,r,o):s.getNode()}}return Qy(t,a,s.isFullyInitialized()||hi(e),i.filter.filtersNodes())}}function Gk(i,t,e,n,r,o,s,a){const c=t.serverCache;let l;const d=s?i.filter:i.filter.getIndexedFilter();if(hi(e))l=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(e,n);l=d.updateFullNode(c.getNode(),g,null)}else{const g=ui(e);if(!c.isCompleteForPath(e)&&$u(e)>1)return t;const b=gn(e),x=c.getNode().getImmediateChild(g).updateChild(b,n);l=".priority"===g?d.updatePriority(c.getNode(),x):d.updateChild(c.getNode(),g,x,b,D$,null)}const h=v$(t,l,c.isFullyInitialized()||hi(e),d.filtersNodes());return I$(i,h,e,r,new SP(r,h,o),a)}function MP(i,t,e,n,r,o,s){const a=t.eventCache;let c,l;const d=new SP(r,t,o);if(hi(e))l=i.filter.updateFullNode(t.eventCache.getNode(),n,s),c=Qy(t,l,!0,i.filter.filtersNodes());else{const h=ui(e);if(".priority"===h)l=i.filter.updatePriority(t.eventCache.getNode(),n),c=Qy(t,l,a.isFullyInitialized(),a.isFiltered());else{const p=gn(e),g=a.getNode().getImmediateChild(h);let b;if(hi(p))b=n;else{const w=d.getCompleteChild(h);b=null!=w?".priority"===aP(p)&&w.getChild(r$(p)).isEmpty()?w:w.updateChild(p,n):Yt.EMPTY_NODE}c=g.equals(b)?t:Qy(t,i.filter.updateChild(a.getNode(),h,b,p,d,s),a.isFullyInitialized(),i.filter.filtersNodes())}}return c}function S$(i,t){return i.eventCache.isCompleteForChild(t)}function M$(i,t,e){return e.foreach((n,r)=>{t=t.updateChild(n,r)}),t}function AP(i,t,e,n,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=hi(e)?n:new kn(null).setTree(e,n);const d=t.serverCache.getNode();return l.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const b=M$(0,t.serverCache.getNode().getImmediateChild(h),p);c=Gk(i,c,new Gi(h),b,r,o,s,a)}}),l.children.inorderTraversal((h,p)=>{const g=!t.serverCache.isCompleteForChild(h)&&null===p.value;if(!d.hasChild(h)&&!g){const w=M$(0,t.serverCache.getNode().getImmediateChild(h),p);c=Gk(i,c,new Gi(h),w,r,o,s,a)}}),c}class E_e{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new fP(n.getIndex()),o=function Vge(i){return i.loadsAllData()?new fP(i.getIndex()):i.hasLimit()?new Lge(i):new Yy(i)}(n);this.processor_=function g_e(i){return{filter:i}}(o);const s=e.serverCache,a=e.eventCache,c=r.updateFullNode(Yt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Yt.EMPTY_NODE,a.getNode(),null),d=new Wu(c,s.isFullyInitialized(),r.filtersNodes()),h=new Wu(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hk(h,d),this.eventGenerator_=new Zge(this.query_)}get query(){return this.query_}}function D_e(i,t){const e=Zm(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!hi(t)&&!e.getImmediateChild(ui(t)).isEmpty())?e.getChild(t):null}function A$(i){return 0===i.eventRegistrations_.length}function R$(i,t,e){const n=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&n.push(s)})}if(t){let r=[];for(let o=0;o<i.eventRegistrations_.length;++o){const s=i.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(o+1));break}}else r.push(s)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return n}function P$(i,t,e,n){t.type===gl.MERGE&&null!==t.source.queryId&&((0,R.hu)(Zm(i.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(jk(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,o=function v_e(i,t,e,n,r){const o=new p_e;let s,a;if(e.type===gl.OVERWRITE){const l=e;l.source.fromUser?s=MP(i,t,l.path,l.snap,n,r,o):((0,R.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!hi(l.path),s=Gk(i,t,l.path,l.snap,n,r,a,o))}else if(e.type===gl.MERGE){const l=e;l.source.fromUser?s=function y_e(i,t,e,n,r,o,s){let a=t;return n.foreach((c,l)=>{const d=$n(e,c);S$(t,ui(d))&&(a=MP(i,a,d,l,r,o,s))}),n.foreach((c,l)=>{const d=$n(e,c);S$(t,ui(d))||(a=MP(i,a,d,l,r,o,s))}),a}(i,t,l.path,l.children,n,r,o):((0,R.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=AP(i,t,l.path,l.children,n,r,a,o))}else if(e.type===gl.ACK_USER_WRITE){const l=e;s=l.revert?function C_e(i,t,e,n,r,o){let s;if(null!=Wk(n,e))return t;{const a=new SP(n,t,r),c=t.eventCache.getNode();let l;if(hi(e)||".priority"===ui(e)){let d;if(t.serverCache.isFullyInitialized())d=$k(n,Zm(t));else{const h=t.serverCache.getNode();(0,R.hu)(h instanceof Yt,"serverChildren would be complete if leaf node"),d=DP(n,h)}l=i.filter.updateFullNode(c,d,o)}else{const d=ui(e);let h=IP(n,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),l=null!=h?i.filter.updateChild(c,d,h,gn(e),a,o):t.eventCache.getNode().hasChild(d)?i.filter.updateChild(c,d,Yt.EMPTY_NODE,gn(e),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=$k(n,Zm(t)),s.isLeafNode()&&(l=i.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Wk(n,Pi()),Qy(t,l,s,i.filter.filtersNodes())}}(i,t,l.path,n,r,o):function w_e(i,t,e,n,r,o,s){if(null!=Wk(r,e))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=n.value){if(hi(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return Gk(i,t,e,c.getNode().getChild(e),r,o,a,s);if(hi(e)){let l=new kn(null);return c.getNode().forEachChild(fl,(d,h)=>{l=l.set(new Gi(d),h)}),AP(i,t,e,l,r,o,a,s)}return t}{let l=new kn(null);return n.foreach((d,h)=>{const p=$n(e,d);c.isCompleteForPath(p)&&(l=l.set(d,c.getNode().getChild(p)))}),AP(i,t,e,l,r,o,a,s)}}(i,t,l.path,l.affectedTree,n,r,o)}else{if(e.type!==gl.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);s=function x_e(i,t,e,n,r){const o=t.serverCache;return I$(i,v$(t,o.getNode(),o.isFullyInitialized()||hi(e),o.isFiltered()),e,n,D$,r)}(i,t,e.path,n,o)}const c=o.getChanges();return function b_e(i,t,e){const n=t.eventCache;if(n.isFullyInitialized()){const r=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=jk(i);(e.length>0||!i.eventCache.isFullyInitialized()||r&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&e.push(p$(jk(t)))}}(t,s,c),{viewCache:s,changes:c}}(i.processor_,r,t,e,n);return function __e(i,t){(0,R.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,o.viewCache),(0,R.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=o.viewCache,O$(i,o.changes,o.viewCache.eventCache.getNode(),null)}function O$(i,t,e,n){return function Kge(i,t,e,n){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&i.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Nge(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(s.childName,s.snapshotNode))}),Ky(i,r,"child_removed",t,n,e),Ky(i,r,"child_added",t,n,e),Ky(i,r,"child_moved",o,n,e),Ky(i,r,"child_changed",t,n,e),Ky(i,r,"value",t,n,e),r}(i.eventGenerator_,t,e,n?[n]:i.eventRegistrations_)}let qk,Zk;class F${constructor(){this.views=new Map}}function RP(i,t,e,n){const r=t.source.queryId;if(null!==r){const o=i.views.get(r);return(0,R.hu)(null!=o,"SyncTree gave us an op for an invalid query."),P$(o,t,e,n)}{let o=[];for(const s of i.views.values())o=o.concat(P$(s,t,e,n));return o}}function N$(i,t,e,n,r){const s=i.views.get(t._queryIdentifier);if(!s){let a=$k(e,r?n:null),c=!1;a?c=!0:n instanceof Yt?(a=DP(e,n),c=!1):(a=Yt.EMPTY_NODE,c=!1);const l=Hk(new Wu(a,c,!1),new Wu(n,r,!1));return new E_e(t,l)}return s}function L$(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function qu(i,t){let e=null;for(const n of i.views.values())e=e||D_e(n,t);return e}function V$(i,t){return t._queryParams.loadsAllData()?Yk(i):i.views.get(t._queryIdentifier)}function B$(i,t){return null!=V$(i,t)}function Yu(i){return null!=Yk(i)}function Yk(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let L_e=1;class z${constructor(t){this.listenProvider_=t,this.syncPointTree_=new kn(null),this.pendingWriteTree_=function h_e(){return{visibleWrites:fc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function PP(i,t,e,n,r){return function e_e(i,t,e,n,r){(0,R.hu)(n>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:t,snap:e,writeId:n,visible:r}),r&&(i.visibleWrites=Xy(i.visibleWrites,t,e)),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n,r),r?Jg(i,new Ym({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Zu(i,t,e=!1){const n=function i_e(i,t){for(let e=0;e<i.allWrites.length;e++){const n=i.allWrites[e];if(n.writeId===t)return n}return null}(i.pendingWriteTree_,t);if(function n_e(i,t){const e=i.allWrites.findIndex(a=>a.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[e];i.allWrites.splice(e,1);let r=n.visible,o=!1,s=i.allWrites.length-1;for(;r&&s>=0;){const a=i.allWrites[s];a.visible&&(s>=e&&r_e(a,n.path)?r=!1:Wa(n.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function o_e(i){i.visibleWrites=x$(i.allWrites,s_e,Pi()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(n.snap?i.visibleWrites=b$(i.visibleWrites,n.path):ho(n.children,c=>{i.visibleWrites=b$(i.visibleWrites,$n(n.path,c))}),!0))}(i.pendingWriteTree_,t)){let o=new kn(null);return null!=n.snap?o=o.set(Pi(),!0):ho(n.children,s=>{o=o.set(new Gi(s),!0)}),Jg(i,new zk(n.path,o,e))}return[]}function Jy(i,t,e){return Jg(i,new Ym({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Kk(i,t,e,n,r=!1){const o=t._path,s=i.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||B$(s,t))){const c=function O_e(i,t,e,n){const r=t._queryIdentifier,o=[];let s=[];const a=Yu(i);if("default"===r)for(const[c,l]of i.views.entries())s=s.concat(R$(l,e,n)),A$(l)&&(i.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=i.views.get(r);c&&(s=s.concat(R$(c,e,n)),A$(c)&&(i.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Yu(i)&&o.push(new(function A_e(){return(0,R.hu)(qk,"Reference.ts has not been loaded"),qk}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,n);(function R_e(i){return 0===i.views.size})(s)&&(i.syncPointTree_=i.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!r){const d=-1!==l.findIndex(p=>p._queryParams.loadsAllData()),h=i.syncPointTree_.findOnPath(o,(p,g)=>Yu(g));if(d&&!h){const p=i.syncPointTree_.subtree(o);if(!p.isEmpty()){const g=function $_e(i){return i.fold((t,e,n)=>{if(e&&Yu(e))return[Yk(e)];{let r=[];return e&&(r=L$(e)),ho(n,(o,s)=>{r=r.concat(s)}),r}})}(p);for(let b=0;b<g.length;++b){const w=g[b],x=w.query,I=$$(i,w);i.listenProvider_.startListening(t0(x),e0(i,x),I.hashFn,I.onComplete)}}}!h&&l.length>0&&!n&&(d?i.listenProvider_.stopListening(t0(t),null):l.forEach(p=>{const g=i.queryToTagMap.get(Xk(p));i.listenProvider_.stopListening(t0(p),g)}))}!function W_e(i,t){for(let e=0;e<t.length;++e){const n=t[e];if(!n._queryParams.loadsAllData()){const r=Xk(n),o=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(o)}}}(i,l)}return a}function H$(i,t,e,n){const r=FP(i,n);if(null!=r){const o=NP(r),s=o.path,a=o.queryId,c=bs(s,t);return LP(i,s,new Ym(xP(a),c,e))}return[]}function OP(i,t,e,n=!1){const r=t._path;let o=null,s=!1;i.syncPointTree_.foreachOnPath(r,(p,g)=>{const b=bs(p,r);o=o||qu(g,b),s=s||Yu(g)});let c,a=i.syncPointTree_.get(r);a?(s=s||Yu(a),o=o||qu(a,Pi())):(a=new F$,i.syncPointTree_=i.syncPointTree_.set(r,a)),null!=o?c=!0:(c=!1,o=Yt.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((g,b)=>{const w=qu(b,Pi());w&&(o=o.updateImmediateChild(g,w))}));const l=B$(a,t);if(!l&&!t._queryParams.loadsAllData()){const p=Xk(t);(0,R.hu)(!i.queryToTagMap.has(p),"View does not exist, but we have a tag");const g=function G_e(){return L_e++}();i.queryToTagMap.set(p,g),i.tagToQueryMap.set(g,p)}let h=function P_e(i,t,e,n,r,o){const s=N$(i,t,n,r,o);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,s),function I_e(i,t){i.eventRegistrations_.push(t)}(s,e),function S_e(i,t){const e=i.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(En,(o,s)=>{n.push(Zg(o,s))}),e.isFullyInitialized()&&n.push(p$(e.getNode())),O$(i,n,e.getNode(),t)}(s,e)}(a,t,e,Uk(i.pendingWriteTree_,r),o,c);if(!l&&!s&&!n){const p=V$(a,t);h=h.concat(function q_e(i,t,e){const n=t._path,r=e0(i,t),o=$$(i,e),s=i.listenProvider_.startListening(t0(t),r,o.hashFn,o.onComplete),a=i.syncPointTree_.subtree(n);if(r)(0,R.hu)(!Yu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,d,h)=>{if(!hi(l)&&d&&Yu(d))return[Yk(d).query];{let p=[];return d&&(p=p.concat(L$(d).map(g=>g.query))),ho(h,(g,b)=>{p=p.concat(b)}),p}});for(let l=0;l<c.length;++l){const d=c[l];i.listenProvider_.stopListening(t0(d),e0(i,d))}}return s}(i,t,p))}return h}function Qk(i,t,e){const r=i.pendingWriteTree_,o=i.syncPointTree_.findOnPath(t,(s,a)=>{const l=qu(a,bs(s,t));if(l)return l});return C$(r,t,o,e,!0)}function Jg(i,t){return j$(t,i.syncPointTree_,null,Uk(i.pendingWriteTree_,Pi()))}function j$(i,t,e,n){if(hi(i.path))return U$(i,t,e,n);{const r=t.get(Pi());null==e&&null!=r&&(e=qu(r,Pi()));let o=[];const s=ui(i.path),a=i.operationForChild(s),c=t.children.get(s);if(c&&a){const l=e?e.getImmediateChild(s):null,d=k$(n,s);o=o.concat(j$(a,c,l,d))}return r&&(o=o.concat(RP(r,i,n,e))),o}}function U$(i,t,e,n){const r=t.get(Pi());null==e&&null!=r&&(e=qu(r,Pi()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=e?e.getImmediateChild(s):null,l=k$(n,s),d=i.operationForChild(s);d&&(o=o.concat(U$(d,a,c,l)))}),r&&(o=o.concat(RP(r,i,n,e))),o}function $$(i,t){const e=t.query,n=e0(i,e);return{hashFn:()=>(function k_e(i){return i.viewCache_.serverCache.getNode()}(t)||Yt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return n?function H_e(i,t,e){const n=FP(i,e);if(n){const r=NP(n),o=r.path,s=r.queryId,a=bs(o,t);return LP(i,o,new Zy(xP(s),a))}return[]}(i,e._path,n):function z_e(i,t){return Jg(i,new Zy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const o=function Bfe(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const n=new Error(i+" at "+t._path.toString()+": "+e);return n.code=i.toUpperCase(),n}(r,e);return Kk(i,e,null,o)}}}}function e0(i,t){const e=Xk(t);return i.queryToTagMap.get(e)}function Xk(i){return i._path.toString()+"$"+i._queryIdentifier}function FP(i,t){return i.tagToQueryMap.get(t)}function NP(i){const t=i.indexOf("$");return(0,R.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Gi(i.substr(0,t))}}function LP(i,t,e){const n=i.syncPointTree_.get(t);return(0,R.hu)(n,"Missing sync point for query tag that we're tracking"),RP(n,e,Uk(i.pendingWriteTree_,t),null)}function t0(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function N_e(){return(0,R.hu)(Zk,"Reference.ts has not been loaded"),Zk}())(i._repo,i._path):i}class VP{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new VP(e)}node(){return this.node_}}class BP{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=$n(this.path_,t);return new BP(this.syncTree_,e)}node(){return Qk(this.syncTree_,this.path_)}}const Y_e=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},W$=function(i,t,e){return i&&"object"==typeof i?((0,R.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Z_e(i[".sv"],t,e):"object"==typeof i[".sv"]?K_e(i[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Z_e=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+i)},K_e=function(i,t,e){i.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;"number"!=typeof n&&(0,R.hu)(!1,"Unexpected increment value: "+n);const r=t.node();if((0,R.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;const s=r.getValue();return"number"!=typeof s?n:s+n},G$=function(i,t,e,n){return HP(t,new BP(e,i),n)},zP=function(i,t,e){return HP(i,new VP(t),e)};function HP(i,t,e){const n=i.getPriority().val(),r=W$(n,t.getImmediateChild(".priority"),e);let o;if(i.isLeafNode()){const s=i,a=W$(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new qg(a,tr(r)):i}{const s=i;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new qg(r))),s.forEachChild(En,(a,c)=>{const l=HP(c,t.getImmediateChild(a),e);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class jP{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Jk(i,t){let e=t instanceof Gi?t:new Gi(t),n=i,r=ui(e);for(;null!==r;){const o=(0,R.DV)(n.node.children,r)||{children:{},childCount:0};n=new jP(r,n,o),e=gn(e),r=ui(e)}return n}function Qm(i){return i.node.value}function UP(i,t){i.node.value=t,$P(i)}function q$(i){return i.node.childCount>0}function eT(i,t){ho(i.node.children,(e,n)=>{t(new jP(e,i,n))})}function Y$(i,t,e,n){e&&!n&&t(i),eT(i,r=>{Y$(r,t,!0,n)}),e&&n&&t(i)}function n0(i){return new Gi(null===i.parent?i.name:n0(i.parent)+"/"+i.name)}function $P(i){null!==i.parent&&function J_e(i,t,e){const n=function Q_e(i){return void 0===Qm(i)&&!q$(i)}(e),r=(0,R.r3)(i.node.children,t);n&&r?(delete i.node.children[t],i.node.childCount--,$P(i)):!n&&!r&&(i.node.children[t]=e.node,i.node.childCount++,$P(i))}(i.parent,i.name,i)}const eve=/[\[\].#$\/\u0000-\u001F\u007F]/,tve=/[\[\].#$\u0000-\u001F\u007F]/,WP=10485760,tT=function(i){return"string"==typeof i&&0!==i.length&&!eve.test(i)},Z$=function(i){return"string"==typeof i&&0!==i.length&&!tve.test(i)},r0=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!Ik(i)||i&&"object"==typeof i&&(0,R.r3)(i,".sv")},_l=function(i,t,e,n){n&&void 0===t||o0((0,R.gK)(i,"value"),t,e)},o0=function(i,t,e){const n=e instanceof Gi?new vge(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Gm(n));if("function"==typeof t)throw new Error(i+"contains a function "+Gm(n)+" with contents = "+t.toString());if(Ik(t))throw new Error(i+"contains "+t.toString()+" "+Gm(n));if("string"==typeof t&&t.length>WP/3&&(0,R.ug)(t)>WP)throw new Error(i+"contains a string greater than "+WP+" utf8 bytes "+Gm(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(ho(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!tT(s)))throw new Error(i+" contains an invalid key ("+s+") "+Gm(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bge(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,R.ug)(t),o$(i)})(n,s),o0(i,a,n),function yge(i){const t=i.parts_.pop();i.byteLength_-=(0,R.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(n)}),r&&o)throw new Error(i+' contains ".value" child '+Gm(n)+" in addition to actual children.")}},K$=function(i,t,e,n){if(n&&void 0===t)return;const r=(0,R.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];ho(t,(s,a)=>{const c=new Gi(s);if(o0(r,a,$n(e,c)),".priority"===aP(c)&&!r0(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(i,t){let e,n;for(e=0;e<t.length;e++){n=t[e];const o=jy(n);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!tT(o[s]))throw new Error(i+"contains an invalid key ("+o[s]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_ge);let r=null;for(e=0;e<t.length;e++){if(n=t[e],null!==r&&Wa(r,n))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}}(r,o)},GP=function(i,t,e){if(!e||void 0!==t){if(Ik(t))throw new Error((0,R.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!r0(t))throw new Error((0,R.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},s0=function(i,t,e,n){if(!(n&&void 0===e||tT(e)))throw new Error((0,R.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},a0=function(i,t,e,n){if(!(n&&void 0===e||Z$(e)))throw new Error((0,R.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rve=function(i,t,e,n){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),a0(i,t,e,n)},Ga=function(i,t){if(".info"===ui(t))throw new Error(i+" failed = Can't modify data under /.info/")},Q$=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Z$(i)}(e))throw new Error((0,R.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ove{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iT(i,t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],o=r.getPath();null!==e&&!cP(o,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&i.eventLists_.push(e)}function X$(i,t,e){iT(i,e),J$(i,n=>cP(n,t))}function da(i,t,e){iT(i,e),J$(i,n=>Wa(n,t)||Wa(t,n))}function J$(i,t){i.recursionDepth_++;let e=!0;for(let n=0;n<i.eventLists_.length;n++){const r=i.eventLists_[n];r&&(t(r.path)?(sve(i.eventLists_[n]),i.eventLists_[n]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function sve(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const n=e.getEventRunner();$m&&uo("event: "+e.toString()),Wg(n)}}}const eW="repo_interrupt",ave=25;class cve{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ove,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bk(),this.transactionQueueTree_=new jP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tW(i){const e=i.infoData_.getNode(new Gi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function c0(i){return Y_e({timestamp:tW(i)})}function iW(i,t,e,n,r){i.dataUpdateCount++;const o=new Gi(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(n){const c=(0,R.UI)(e,l=>tr(l));s=function j_e(i,t,e,n){const r=FP(i,n);if(r){const o=NP(r),s=o.path,a=o.queryId,c=bs(s,t),l=kn.fromObject(e);return LP(i,s,new Qg(xP(a),c,l))}return[]}(i.serverSyncTree_,o,c,r)}else{const c=tr(e);s=H$(i.serverSyncTree_,o,c,r)}else if(n){const c=(0,R.UI)(e,l=>tr(l));s=function B_e(i,t,e){const n=kn.fromObject(e);return Jg(i,new Qg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(i.serverSyncTree_,o,c)}else{const c=tr(e);s=Jy(i.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=t_(i,o)),da(i.eventQueue_,a,s)}function nW(i,t){qP(i,"connected",t),!1===t&&function mve(i){e_(i,"onDisconnectEvents");const t=c0(i),e=Bk();bP(i.onDisconnect_,Pi(),(r,o)=>{const s=G$(r,o,i.serverSyncTree_,t);Kg(e,r,s)});let n=[];bP(e,Pi(),(r,o)=>{n=n.concat(Jy(i.serverSyncTree_,r,o));const s=QP(i,r);t_(i,s)}),i.onDisconnect_=Bk(),da(i.eventQueue_,Pi(),n)}(i)}function qP(i,t,e){const n=new Gi("/.info/"+t),r=tr(e);i.infoData_.updateSnapshot(n,r);const o=Jy(i.infoSyncTree_,n,r);da(i.eventQueue_,n,o)}function nT(i){return i.nextWriteId_++}function YP(i,t,e,n,r){e_(i,"set",{path:t.toString(),value:e,priority:n});const o=c0(i),s=tr(e,n),a=Qk(i.serverSyncTree_,t),c=zP(s,a,o),l=nT(i),d=PP(i.serverSyncTree_,t,c,l,!0);iT(i.eventQueue_,d),i.server_.put(t.toString(),s.val(!0),(p,g)=>{const b="ok"===p;b||$o("set at "+t+" failed: "+p);const w=Zu(i.serverSyncTree_,l,!b);da(i.eventQueue_,t,w),Ku(0,r,p,g)});const h=QP(i,t);t_(i,h),da(i.eventQueue_,h,[])}function pve(i,t,e){i.server_.onDisconnectCancel(t.toString(),(n,r)=>{"ok"===n&&vP(i.onDisconnect_,t),Ku(0,e,n,r)})}function rW(i,t,e,n){const r=tr(e);i.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Kg(i.onDisconnect_,t,r),Ku(0,n,o,s)})}function ZP(i,t,e){let n;n=".info"===ui(t._path)?Kk(i.infoSyncTree_,t,e):Kk(i.serverSyncTree_,t,e),X$(i.eventQueue_,t._path,n)}function oW(i){i.persistentConnection_&&i.persistentConnection_.interrupt(eW)}function e_(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),uo(e,...t)}function Ku(i,t,e,n){t&&Wg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;n&&(o+=": "+n);const s=new Error(o);s.code=r,t(s)}})}function KP(i,t,e){return Qk(i.serverSyncTree_,t,e)||Yt.EMPTY_NODE}function rT(i,t=i.transactionQueueTree_){if(t||oT(i,t),Qm(t)){const e=aW(i,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function yve(i,t,e){const n=e.map(l=>l.currentWriteId),r=KP(i,t,n);let o=r;const s=r.hash();for(let l=0;l<e.length;l++){const d=e[l];(0,R.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=bs(t,d.path);o=o.updateChild(h,d.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;i.server_.put(c.toString(),a,l=>{e_(i,"transaction put response",{path:c.toString(),status:l});let d=[];if("ok"===l){const h=[];for(let p=0;p<e.length;p++)e[p].status=2,d=d.concat(Zu(i.serverSyncTree_,e[p].currentWriteId)),e[p].onComplete&&h.push(()=>e[p].onComplete(null,!0,e[p].currentOutputSnapshotResolved)),e[p].unwatcher();oT(i,Jk(i.transactionQueueTree_,t)),rT(i,i.transactionQueueTree_),da(i.eventQueue_,t,d);for(let p=0;p<h.length;p++)Wg(h[p])}else{if("datastale"===l)for(let h=0;h<e.length;h++)e[h].status=3===e[h].status?4:0;else{$o("transaction at "+c.toString()+" failed: "+l);for(let h=0;h<e.length;h++)e[h].status=4,e[h].abortReason=l}t_(i,t)}},s)}(i,n0(t),e)}else q$(t)&&eT(t,e=>{rT(i,e)})}function t_(i,t){const e=sW(i,t),n=n0(e);return function wve(i,t,e){if(0===t.length)return;const n=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=bs(e,c.path);let h,d=!1;if((0,R.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,h=c.abortReason,r=r.concat(Zu(i.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=ave)d=!0,h="maxretry",r=r.concat(Zu(i.serverSyncTree_,c.currentWriteId,!0));else{const p=KP(i,c.path,s);c.currentInputSnapshot=p;const g=t[a].update(p.val());if(void 0!==g){o0("transaction failed: Data returned ",g,c.path);let b=tr(g);"object"==typeof g&&null!=g&&(0,R.r3)(g,".priority")||(b=b.updatePriority(p.getPriority()));const x=c.currentWriteId,I=c0(i),T=zP(b,p,I);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=T,c.currentWriteId=nT(i),s.splice(s.indexOf(x),1),r=r.concat(PP(i.serverSyncTree_,c.path,T,c.currentWriteId,c.applyLocally)),r=r.concat(Zu(i.serverSyncTree_,x,!0))}else d=!0,h="nodata",r=r.concat(Zu(i.serverSyncTree_,c.currentWriteId,!0))}da(i.eventQueue_,e,r),r=[],d&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&n.push("nodata"===h?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(h),!1,null)))}oT(i,i.transactionQueueTree_);for(let a=0;a<n.length;a++)Wg(n[a]);rT(i,i.transactionQueueTree_)}(i,aW(i,e),n),n}function sW(i,t){let e,n=i.transactionQueueTree_;for(e=ui(t);null!==e&&void 0===Qm(n);)n=Jk(n,e),e=ui(t=gn(t));return n}function aW(i,t){const e=[];return cW(i,t,e),e.sort((n,r)=>n.order-r.order),e}function cW(i,t,e){const n=Qm(t);if(n)for(let r=0;r<n.length;r++)e.push(n[r]);eT(t,r=>{cW(i,r,e)})}function oT(i,t){const e=Qm(t);if(e){let n=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[n]=e[r],n++);e.length=n,UP(t,e.length>0?e:void 0)}eT(t,n=>{oT(i,n)})}function QP(i,t){const e=n0(sW(i,t)),n=Jk(i.transactionQueueTree_,t);return function X_e(i,t,e){let n=e?i:i.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,r=>{XP(i,r)}),XP(i,n),Y$(n,r=>{XP(i,r)}),e}function XP(i,t){const e=Qm(t);if(e){const n=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,R.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,R.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(Zu(i.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?UP(t,void 0):e.length=o+1,da(i.eventQueue_,n0(t),r);for(let s=0;s<n.length;s++)Wg(n[s])}}const JP=function(i,t){const e=Eve(i),n=e.namespace;return"firebase.com"===e.domain&&pl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||"undefined"===n)&&"localhost"!==e.domain&&pl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$o("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tP(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,t,"",n!==e.subdomain),path:new Gi(e.pathString)}},Eve=function(i){let t="",e="",n="",r="",o="",s=!0,a="https",c=443;if("string"==typeof i){let l=i.indexOf("//");l>=0&&(a=i.substring(0,l-1),i=i.substring(l+2));let d=i.indexOf("/");-1===d&&(d=i.length);let h=i.indexOf("?");-1===h&&(h=i.length),t=i.substring(0,Math.min(d,h)),d<h&&(r=function xve(i){let t="";const e=i.split("/");for(let n=0;n<e.length;n++)if(e[n].length>0){let r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(i.substring(d,h)));const p=function Cve(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const n=e.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):$o(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,h)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const g=t.slice(0,l);if("localhost"===g.toLowerCase())e="localhost";else if(g.split(".").length<=2)e=g;else{const b=t.indexOf(".");n=t.substring(0,b).toLowerCase(),e=t.substring(b+1),o=n}"ns"in p&&(o=p.ns)}return{host:t,port:c,domain:e,subdomain:n,secure:s,scheme:a,pathString:r,namespace:o}},lW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kve=function(){let i=0;const t=[];return function(e){const n=e===i;let r;i=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=lW.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(n){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=lW.charAt(t[r]);return(0,R.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class dW{constructor(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class uW{constructor(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eO{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class hW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return pve(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ga("OnDisconnect.remove",this._path);const t=new R.BH;return rW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ga("OnDisconnect.set",this._path),_l("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return rW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ga("OnDisconnect.setWithPriority",this._path),_l("OnDisconnect.setWithPriority",t,this._path,!1),GP("OnDisconnect.setWithPriority",e,!1);const n=new R.BH;return function fve(i,t,e,n,r){const o=tr(e,n);i.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&Kg(i.onDisconnect_,t,o),Ku(0,r,s,a)})}(this._repo,this._path,t,e,n.wrapCallback(()=>{})),n.promise}update(t){Ga("OnDisconnect.update",this._path),K$("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function gve(i,t,e,n){if((0,R.xb)(e))return uo("onDisconnect().update() called with empty data.  Don't do anything."),void Ku(0,n,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&ho(e,(s,a)=>{const c=tr(a);Kg(i.onDisconnect_,$n(t,s),c)}),Ku(0,n,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class js{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return hi(this._path)?null:aP(this._path)}get ref(){return new qa(this._repo,this._path)}get _queryIdentifier(){const t=g$(this._queryParams),e=JR(t);return"{}"===e?"default":e}get _queryObject(){return g$(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof js))return!1;const e=this._repo===t._repo,n=cP(this._path,t._path);return e&&n&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gge(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function sT(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qu(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===fl){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==ju)throw new Error(n);if("string"!=typeof t)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==bd)throw new Error(n);if("string"!=typeof e)throw new Error(r)}}else if(i.getIndex()===En){if(null!=t&&!r0(t)||null!=e&&!r0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(i.getIndex()instanceof mP||i.getIndex()===pP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function aT(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qa extends js{constructor(t,e){super(t,e,new Nk,!1)}get parent(){const t=r$(this._path);return null===t?null:new qa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Xm{constructor(t,e,n){this._node=t,this.ref=e,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Gi(t),n=Jm(this.ref,t);return new Xm(this._node.getChild(e),n,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(n,r)=>t(new Xm(r,Jm(this.ref,n),En)))}hasChild(t){const e=new Gi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mW(i,t){return(i=(0,R.m9)(i))._checkNotDeleted("ref"),void 0!==t?Jm(i._root,t):i._root}function pW(i,t){(i=(0,R.m9)(i))._checkNotDeleted("refFromURL");const e=JP(t,i._repo.repoInfo_.nodeAdmin);Q$("refFromURL",e);const n=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&n.host!==i._repo.repoInfo_.host&&pl("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+i._repo.repoInfo_.host+")"),mW(i,e.path.toString())}function Jm(i,t){return null===ui((i=(0,R.m9)(i))._path)?rve("child","path",t,!1):a0("child","path",t,!1),new qa(i._repo,$n(i._path,t))}function tO(i,t){i=(0,R.m9)(i),Ga("set",i._path),_l("set",t,i._path,!1);const e=new R.BH;return YP(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function Mve(i,t){K$("update",t,i._path,!1);const e=new R.BH;return function hve(i,t,e,n){e_(i,"update",{path:t.toString(),value:e});let r=!0;const o=c0(i),s={};if(ho(e,(a,c)=>{r=!1,s[a]=G$($n(t,a),tr(c),i.serverSyncTree_,o)}),r)uo("update() called with empty data.  Don't do anything."),Ku(0,n,"ok",void 0);else{const a=nT(i),c=function V_e(i,t,e,n){!function t_e(i,t,e,n){(0,R.hu)(n>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:n,visible:!0}),i.visibleWrites=EP(i.visibleWrites,t,e),i.lastWriteId=n}(i.pendingWriteTree_,t,e,n);const r=kn.fromObject(e);return Jg(i,new Qg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(i.serverSyncTree_,t,s,a);iT(i.eventQueue_,c),i.server_.merge(t.toString(),e,(l,d)=>{const h="ok"===l;h||$o("update at "+t+" failed: "+l);const p=Zu(i.serverSyncTree_,a,!h),g=p.length>0?t_(i,t):t;da(i.eventQueue_,g,p),Ku(0,n,l,d)}),ho(e,l=>{const d=QP(i,$n(t,l));t_(i,d)}),da(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function Ave(i){i=(0,R.m9)(i);const t=new eO(()=>{}),e=new l0(t);return function uve(i,t,e){const n=function U_e(i,t){const e=t._path;let n=null;i.syncPointTree_.foreachOnPath(e,(l,d)=>{const h=bs(l,e);n=n||qu(d,h)});let r=i.syncPointTree_.get(e);r?n=n||qu(r,Pi()):(r=new F$,i.syncPointTree_=i.syncPointTree_.set(e,r));const o=null!=n,s=o?new Wu(n,!0,!1):null;return function T_e(i){return jk(i.viewCache_)}(N$(r,t,Uk(i.pendingWriteTree_,t._path),o?s.getNode():Yt.EMPTY_NODE,o))}(i.serverSyncTree_,t);return null!=n?Promise.resolve(n):i.server_.get(t).then(r=>{const o=tr(r).withIndex(t._queryParams.getIndex());let s;if(OP(i.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=Jy(i.serverSyncTree_,t._path,o);else{const a=e0(i.serverSyncTree_,t);s=H$(i.serverSyncTree_,t._path,o,a)}return da(i.eventQueue_,t._path,s),Kk(i.serverSyncTree_,t,e,null,!0),o},r=>(e_(i,"get for query "+(0,R.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,e).then(n=>new Xm(n,new qa(i._repo,i._path),i._queryParams.getIndex()))}class l0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const n=e._queryParams.getIndex();return new dW("value",this,new Xm(t.snapshotNode,new qa(e._repo,e._path),n))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uW(this,t,e):null}matches(t){return t instanceof l0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uW(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const n=Jm(new qa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new dW(t.type,this,new Xm(t.snapshotNode,n,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function d0(i,t,e,n,r){let o;if("object"==typeof n&&(o=void 0,r=n),"function"==typeof n&&(o=n),r&&r.onlyOnce){const c=e,l=(d,h)=>{ZP(i._repo,i,a),c(d,h)};l.userCallback=e.userCallback,l.context=e.context,e=l}const s=new eO(e,o||void 0),a="value"===t?new l0(s):new cT(t,s);return function _ve(i,t,e){let n;n=".info"===ui(t._path)?OP(i.infoSyncTree_,t,e):OP(i.serverSyncTree_,t,e),X$(i.eventQueue_,t._path,n)}(i._repo,i,a),()=>ZP(i._repo,i,a)}function iO(i,t,e,n){return d0(i,"value",t,e,n)}function fW(i,t,e,n){return d0(i,"child_added",t,e,n)}function gW(i,t,e,n){return d0(i,"child_changed",t,e,n)}function _W(i,t,e,n){return d0(i,"child_moved",t,e,n)}function vW(i,t,e,n){return d0(i,"child_removed",t,e,n)}function bW(i,t,e){let n=null;const r=e?new eO(e):null;"value"===t?n=new l0(r):t&&(n=new cT(t,r)),ZP(i._repo,i,n)}class gc{}class yW extends gc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_l("endAt",this._value,t._path,!0);const e=_P(t._queryParams,this._value,this._key);if(aT(e),Qu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new js(t._repo,t._path,e,t._orderByCalled)}}class Pve extends gc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_l("endBefore",this._value,t._path,!1);const e=function jge(i,t,e){let n;return n=_P(i,t,i.index_===fl||e?e:ju),n.endBeforeSet_=!0,n}(t._queryParams,this._value,this._key);if(aT(e),Qu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new js(t._repo,t._path,e,t._orderByCalled)}}class wW extends gc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_l("startAt",this._value,t._path,!0);const e=gP(t._queryParams,this._value,this._key);if(aT(e),Qu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new js(t._repo,t._path,e,t._orderByCalled)}}class Nve extends gc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_l("startAfter",this._value,t._path,!1);const e=function Hge(i,t,e){let n;return n=gP(i,t,i.index_===fl||e?e:bd),n.startAfterSet_=!0,n}(t._queryParams,this._value,this._key);if(aT(e),Qu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new js(t._repo,t._path,e,t._orderByCalled)}}class Vve extends gc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new js(t._repo,t._path,function Bge(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class zve extends gc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new js(t._repo,t._path,function zge(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class jve extends gc{constructor(t){super(),this._path=t}_apply(t){sT(t,"orderByChild");const e=new Gi(this._path);if(hi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new mP(e),r=Lk(t._queryParams,n);return Qu(r),new js(t._repo,t._path,r,!0)}}class $ve extends gc{_apply(t){sT(t,"orderByKey");const e=Lk(t._queryParams,fl);return Qu(e),new js(t._repo,t._path,e,!0)}}class Gve extends gc{_apply(t){sT(t,"orderByPriority");const e=Lk(t._queryParams,En);return Qu(e),new js(t._repo,t._path,e,!0)}}class Yve extends gc{_apply(t){sT(t,"orderByValue");const e=Lk(t._queryParams,pP);return Qu(e),new js(t._repo,t._path,e,!0)}}class Kve extends gc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(_l("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yW(this._value,this._key)._apply(new wW(this._value,this._key)._apply(t))}}function _c(i,...t){let e=(0,R.m9)(i);for(const n of t)e=n._apply(e);return e}(function M_e(i){(0,R.hu)(!qk,"__referenceConstructor has already been defined"),qk=i})(qa),function F_e(i){(0,R.hu)(!Zk,"__referenceConstructor has already been defined"),Zk=i}(qa);const nO={};function rO(i,t,e,n,r){let o=n||i.options.databaseURL;void 0===o&&(i.options.projectId||pl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),uo("Using default host for project ",i.options.projectId),o=`${i.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=JP(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=JP(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const d=r&&c?new Hy(Hy.OWNER):new Wfe(i.name,i.options,t);Q$("Invalid Firebase Database URL",s),hi(s.path)||pl("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function tbe(i,t,e,n){let r=nO[t.name];r||(r={},nO[t.name]=r);let o=r[i.toURLString()];return o&&pl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new cve(i,false,e,n),r[i.toURLString()]=o,o}(a,i,d,new $fe(i.name,e));return new nbe(h,i)}class nbe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lve(i,t,e){if(i.stats_=rP(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new Vk(i.repoInfo_,(n,r,o,s)=>{iW(i,n,r,o,s)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>nW(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new qm(i.repoInfo_,t,(n,r,o,s)=>{iW(i,n,r,o,s)},n=>{nW(i,n)},n=>{!function dve(i,t){ho(t,(e,n)=>{qP(i,e,n)})}(i,n)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=function Yfe(i,t){const e=i.toString();return nP[e]||(nP[e]=t()),nP[e]}(i.repoInfo_,()=>new Yge(i.stats_,i.server_)),i.infoData_=new Uge,i.infoSyncTree_=new z$({startListening:(n,r,o,s)=>{let a=[];const c=i.infoData_.getNode(n._path);return c.isEmpty()||(a=Jy(i.infoSyncTree_,n._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),qP(i,"connected",!1),i.serverSyncTree_=new z$({startListening:(n,r,o,s)=>(i.server_.listen(n,o,r,(a,c)=>{const l=s(a,c);da(i.eventQueue_,n._path,l)}),[]),stopListening:(n,r)=>{i.server_.unlisten(n,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qa(this._repo,Pi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ebe(i,t){const e=nO[t];(!e||e[i.key]!==i)&&pl(`Database ${t}(${i.repoInfo_}) has already been deleted.`),oW(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&pl("Cannot call "+t+" on a deleted database.")}}function CW(){G6.IS_TRANSPORT_INITIALIZED&&$o("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rbe(){CW(),Uu.forceDisallow()}function obe(){CW(),Gg.forceDisallow(),Uu.forceAllow()}function cbe(i,t){T6(i,t)}const dbe={".sv":"timestamp"};class mbe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qm.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},qm.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function lbe(i){KR(ml.SDK_VERSION),(0,ml._registerComponent)(new vd.wA("database",(t,{instanceIdentifier:e})=>rO(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ml.registerVersion)(y6,"1.0.2",i),(0,ml.registerVersion)(y6,"1.0.2","esm2017")}();const _be=new la.Yd("@firebase/database-compat"),kW=function(i){_be.warn("FIREBASE WARNING: "+i)};class ybe{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),n=>t(n)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),n=>t(n)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const n=this._delegate.set(t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(t,e);return n&&r.then(()=>n(null),o=>n(o)),r}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const n=this._delegate.update(t);return e&&n.then(()=>e(null),r=>e(r)),n}}class wbe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),a0("DataSnapshot.child","path",t,!1),new Xu(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),a0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Xu(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new ua(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Mo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,n,r){var o;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const s=Mo.getCancelAndContextArgs_("Query.on",n,r),a=(l,d)=>{e.call(s.context,new Xu(this.database,l),d)};a.userCallback=e,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return iO(this._delegate,a,c),e;case"child_added":return fW(this._delegate,a,c),e;case"child_removed":return vW(this._delegate,a,c),e;case"child_changed":return gW(this._delegate,a,c),e;case"child_moved":return _W(this._delegate,a,c),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,n){if((0,R.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",n,!0),e){const r=()=>{};r.userCallback=e,r.context=n,bW(this._delegate,t,r)}else bW(this._delegate,t)}get(){return Ave(this._delegate).then(t=>new Xu(this.database,t))}once(t,e,n,r){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const o=Mo.getCancelAndContextArgs_("Query.once",n,r),s=new R.BH,a=(l,d)=>{const h=new Xu(this.database,l);e&&e.call(o.context,h,d),s.resolve(h)};a.userCallback=e,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(t){case"value":iO(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":fW(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":vW(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":gW(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":_W(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Mo(this.database,_c(this._delegate,function Bve(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vve(i)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Mo(this.database,_c(this._delegate,function Hve(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zve(i)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Mo(this.database,_c(this._delegate,function Uve(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return a0("orderByChild","path",i,!1),new jve(i)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Mo(this.database,_c(this._delegate,function Wve(){return new $ve}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Mo(this.database,_c(this._delegate,function qve(){return new Gve}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Mo(this.database,_c(this._delegate,function Zve(){return new Yve}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Mo(this.database,_c(this._delegate,function Fve(i=null,t){return s0("startAt","key",t,!0),new wW(i,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Mo(this.database,_c(this._delegate,function Lve(i,t){return s0("startAfter","key",t,!0),new Nve(i,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Mo(this.database,_c(this._delegate,function Rve(i,t){return s0("endAt","key",t,!0),new yW(i,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Mo(this.database,_c(this._delegate,function Ove(i,t){return s0("endBefore","key",t,!0),new Pve(i,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Mo(this.database,_c(this._delegate,function Qve(i,t){return s0("equalTo","key",t,!0),new Kve(i,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Mo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,n){const r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,R.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,R.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ua(this.database,new qa(this._delegate._repo,this._delegate._path))}}class ua extends Mo{constructor(t,e){super(t,new js(e._repo,e._path,new Nk,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ua(this.database,Jm(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ua(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new ua(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const n=tO(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ga("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const n=Mve(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}setWithPriority(t,e,n){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function Sve(i,t,e){if(Ga("setWithPriority",i._path),_l("setWithPriority",t,i._path,!1),GP("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const n=new R.BH;return YP(i._repo,i._path,t,e,n.wrapCallback(()=>{})),n.promise}(this._delegate,t,e);return n&&r.then(()=>n(null),o=>n(o)),r}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function Dve(i){return Ga("remove",i._path),tO(i,null)}(this._delegate);return t&&e.then(()=>t(null),n=>t(n)),e}transaction(t,e,n){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,n){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function pbe(i,t,e){var n;if(i=(0,R.m9)(i),Ga("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(n=e?.applyLocally)||void 0===n||n,o=new R.BH,a=iO(i,()=>{});return function bve(i,t,e,n,r,o){e_(i,"transaction on "+t);const s={path:t,update:e,onComplete:n,status:null,order:C6(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=KP(i,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{o0("transaction failed: Data returned ",c,s.path),s.status=0;const l=Jk(i.transactionQueueTree_,t),d=Qm(l)||[];let h;d.push(s),UP(l,d),"object"==typeof c&&null!==c&&(0,R.r3)(c,".priority")?(h=(0,R.DV)(c,".priority"),(0,R.hu)(r0(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Qk(i.serverSyncTree_,t)||Yt.EMPTY_NODE).getPriority().val();const p=c0(i),g=tr(c,h),b=zP(g,a,p);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=b,s.currentWriteId=nT(i);const w=PP(i.serverSyncTree_,t,b,s.currentWriteId,s.applyLocally);da(i.eventQueue_,t,w),rT(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(c,l,d)=>{let h=null;c?o.reject(c):(h=new Xm(d,new qa(i._repo,i._path),En),o.resolve(new mbe(l,h)))},a,r),o.promise}(this._delegate,t,{applyLocally:n}).then(o=>new wbe(o.committed,new Xu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const n=function Ive(i,t){i=(0,R.m9)(i),Ga("setPriority",i._path),GP("setPriority",t,!1);const e=new R.BH;return YP(i._repo,$n(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&n.then(()=>e(null),r=>e(r)),n}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const n=function Tve(i,t){i=(0,R.m9)(i),Ga("push",i._path),_l("push",t,i._path,!0);const e=tW(i._repo),n=kve(e),r=Jm(i,n),o=Jm(i,n);let s;return s=null!=t?tO(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=n.then(s=>new ua(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ua(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ga("Reference.onDisconnect",this._delegate._path),new ybe(new hW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class u0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rbe,forceLongPolling:obe}}useEmulator(t,e,n={}){!function EW(i,t,e,n={}){(i=(0,R.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&pl("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let o;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&pl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hy(Hy.OWNER);else if(n.mockUserToken){const s="string"==typeof n.mockUserToken?n.mockUserToken:(0,R.Sg)(n.mockUserToken,i.app.options.projectId);o=new Hy(s)}!function Jve(i,t,e,n){i.repoInfo_=new tP(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),n&&(i.authTokenProvider_=n)}(r,t,e,o)}(this._delegate,t,e,n)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof ua){const e=pW(this._delegate,t.toString());return new ua(this,e)}{const e=mW(this._delegate,t);return new ua(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const n=pW(this._delegate,t);return new ua(this,n)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function sbe(i){(i=(0,R.m9)(i))._checkNotDeleted("goOffline"),oW(i._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function abe(i){(i=(0,R.m9)(i))._checkNotDeleted("goOnline"),function vve(i){i.persistentConnection_&&i.persistentConnection_.resume(eW)}(i._repo)}(this._delegate)}}u0.ServerValue={TIMESTAMP:function ube(){return dbe}(),increment:i=>function hbe(i){return{".sv":{increment:i}}}(i)};var Cbe=Object.freeze({__proto__:null,initStandalone:function xbe({app:i,url:t,version:e,customAuthImpl:n,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){KR(e);const a=new vd.H0("database-standalone"),c=new vd.zt("auth-internal",a);let l;return c.setComponent(new vd.wA("auth-internal",()=>n,"PRIVATE")),r&&(l=new vd.zt("app-check-internal",a),l.setComponent(new vd.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new u0(rO(i,c,l,t,s),i),namespace:o}}});const Ebe=u0.ServerValue;function h0(i,t,e="on",n=Hm){return new Vt(r=>{let o=null;return o=i[e](t,(s,a)=>{n.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&n.schedule(()=>r.complete())},s=>{n.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&i.off(t,o)}}:{unsubscribe(){}}}).pipe(Fe(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),ft())}function TW(i){return null==i}function DW(i){return"function"==typeof i.set}function IW(i,t){return DW(t)?t:i.ref(t)}function SW(i,t){if(function Tbe(i){return"string"==typeof i}(i))return t.stringCase();if(DW(i))return t.firebaseCase();if(function Dbe(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function MW(i){return(TW(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function AW(i,t,e){return te(...(t=MW(t)).map(r=>h0(i,r,"on",e)))}function RW(i,t){return function(n,r){return SW(n,{stringCase:()=>i.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function Abe(i){return function(e){return e?SW(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function PW(i,t){const e=i.length;for(let n=0;n<e;n++)if(i[n].payload.key===t)return n;return-1}function Obe(i,t){const{payload:e,prevKey:n,key:r}=t,o=PW(i,r),s=function Pbe(i,t){if(TW(t))return 0;{const e=PW(i,t);return-1===e?i.length:e+1}}(i,n);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,i=[...i,l],!1})}return i;case"child_added":if(o>-1)(i[o-1]?.key||null)!==n&&(i=i.filter(c=>c.payload.key!==e.key)).splice(s,0,t);else{if(null==n)return[t,...i];(i=i.slice()).splice(s,0,t)}return i;case"child_removed":return i.filter(a=>a.payload.key!==e.key);case"child_changed":return i.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=i.splice(o,1)[0];return(i=i.slice()).splice(s,0,a),i}return i;default:return i}}function OW(i,t,e){return function Rbe(i,t,e){return h0(i,"value","once",e).pipe(vt(n=>{const r=[oe(n)];return t.forEach(o=>r.push(h0(i,o,"on",e))),te(...r).pipe(Ag(Obe,[]))}),Yi())}(i,t=MW(t),e)}function FW(i,t){return function(){return h0(i,"value","on",t)}}!function kbe(i){i.INTERNAL.registerComponent(new vd.wA("database-compat",(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new u0(r,n)},"PUBLIC").setServiceProps({Reference:ua,Query:Mo,Database:u0,DataSnapshot:Xu,enableLogging:cbe,INTERNAL:Cbe,ServerValue:Ebe}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","1.0.2")}(_d.Z);const Lbe=new q("angularfire2.realtimeDatabaseURL"),Vbe=new q("angularfire2.database.use-emulator");let i_=(()=>{class i{schedulers;database;constructor(e,n,r,o,s,a,c,l,d,h,p,g,b,w,x){this.schedulers=a;const I=c,T=Tk(e,s,n);l&&YR(T,s,d,p,g,b,h,w),this.database=HR(`${T.name}.database.${r}`,"AngularFireDatabase",T.name,()=>{const M=s.runOutsideAngular(()=>T.database(r||void 0));return I&&M.useEmulator(...I),M},[I])}list(e,n){const r=this.schedulers.ngZone.runOutsideAngular(()=>IW(this.database,e));let o=r;return n&&(o=n(r)),function Fbe(i,t){const e=t.schedulers.outsideAngular,n=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:RW(n,"update"),set:RW(n,"set"),push:r=>n.push(r),remove:Abe(n),snapshotChanges:r=>OW(i,r,e).pipe(Jr),stateChanges:r=>AW(i,r,e).pipe(Jr),auditTrail:r=>function Ibe(i,t,e){return function Mbe(i,t,e){return function Sbe(i,t){return h0(i,"value","on",t).pipe(Fe(e=>{let n;return e.payload.forEach(r=>(n=r.key,!1)),{data:e,lastKeyToLoad:n}}))}(i,e).pipe(function Mfe(...i){const t=ns(i);return ee((e,n)=>{const r=i.length,o=new Array(r);let s=i.map(()=>!1),a=!1;for(let c=0;c<r;c++)rn(i[c]).subscribe(Pe(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(zn))&&(s=null))},Ge));e.subscribe(Pe(n,c=>{if(a){const l=[c,...o];n.next(t?t(...l):l)}}))})}(t),Fe(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Afe(i){return ee((t,e)=>{let n=!1,r=0;t.subscribe(Pe(e,o=>(n||(n=!i(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Fe(r=>r.actions))}(i,AW(i,t).pipe(Ag((r,o)=>[...r,o],[])),e)}(i,r,e).pipe(Jr),valueChanges:(r,o)=>OW(i,r,e).pipe(Fe(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),Jr)}}(o,this)}object(e){return function Nbe(i,t){return{query:i,snapshotChanges:()=>FW(i,t.schedulers.outsideAngular)().pipe(Jr),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>FW(i,t.schedulers.outsideAngular)().pipe(Jr,Fe(n=>n.payload.exists()?n.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>IW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(n){return new(n||i)(U(Fy),U(Ny,8),U(Lbe,8),U(Fa),U(st),U(zR),U(Vbe,8),U(Dk,8),U(jR,8),U(UR,8),U($R,8),U(WR,8),U(GR,8),U(qR,8),U(BR,8))};static \u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();function mt(i){return null!=i&&"false"!=`${i}`}function Ao(i,t=0){return function Bbe(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function lT(i){return Array.isArray(i)?i:[i]}function zr(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ep(i){return i instanceof lt?i.nativeElement:i}const zbe=["addListener","removeListener"],Hbe=["addEventListener","removeEventListener"],jbe=["on","off"];function n_(i,t,e,n){if(P(e)&&(n=e,e=void 0),n)return n_(i,t,e).pipe(mR(n));const[r,o]=function Wbe(i){return P(i.addEventListener)&&P(i.removeEventListener)}(i)?Hbe.map(s=>a=>i[s](t,a,e)):function Ube(i){return P(i.addListener)&&P(i.removeListener)}(i)?zbe.map(NW(i,t)):function $be(i){return P(i.on)&&P(i.off)}(i)?jbe.map(NW(i,t)):[];if(!r&&ni(i))return Ti(s=>n_(s,t,e))(rn(i));if(!r)throw new TypeError("Invalid event target");return new Vt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function NW(i,t){return e=>n=>i[e](t,n)}const m0={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=m0;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new At(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=m0;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=m0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class qbe extends kk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Gbe extends Ek{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=m0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(m0.cancelAnimationFrame(e),t._scheduled=void 0)}});let oO,Zbe=1;const dT={};function LW(i){return i in dT&&(delete dT[i],!0)}const Kbe={setImmediate(i){const t=Zbe++;return dT[t]=!0,oO||(oO=Promise.resolve()),oO.then(()=>LW(t)&&i()),t},clearImmediate(i){LW(i)}},{setImmediate:Qbe,clearImmediate:Xbe}=Kbe,uT={setImmediate(...i){const{delegate:t}=uT;return(t?.setImmediate||Qbe)(...i)},clearImmediate(i){const{delegate:t}=uT;return(t?.clearImmediate||Xbe)(i)},delegate:void 0};new class eye extends kk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Jbe extends Ek{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=uT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(uT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function BW(i,t=Hm){return function iye(i){return ee((t,e)=>{let n=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Pe(e,l=>{n=!0,r=l,o||rn(i(l)).subscribe(o=Pe(e,a,c))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>function VW(i=0,t,e=ufe){let n=-1;return null!=t&&(Sr(t)?e=t:n=t),new Vt(r=>{let o=function nye(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,t))}let sO;try{sO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sO=!1}let p0,tp,aO,eo=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Aue(i){return i===Fj}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(U(Fa))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vc(i){return function rye(){if(null==p0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p0=!0}))}finally{p0=p0||!1}return p0}()?i:!!i.capture}function oye(){if(null==tp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tp=!1,tp;if("scrollBehavior"in document.documentElement.style)tp=!0;else{const i=Element.prototype.scrollTo;tp=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return tp}function mT(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function wd(i){return i.composedPath?i.composedPath()[0]:i.target}function cO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const cye=new q("cdk-dir-doc",{providedIn:"root",factory:function lye(){return De(Ft)}}),dye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ju=(()=>{class i{constructor(e){this.value="ltr",this.change=new xt,e&&(this.value=function uye(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?dye.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(U(cye,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),o_=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),mye=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new Z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Vt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(BW(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):oe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(er(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=ep(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>n_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(U(st),U(eo),U(Ft,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),pT=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new Z,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(BW(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(U(eo),U(st),U(Ft,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),lO=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[o_,xd,o_,xd]})}return i})();class dO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class uO extends dO{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class hO extends dO{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class fye extends dO{constructor(t){super(),this.element=t instanceof lt?t.nativeElement:t}}class mO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof uO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof fye?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class gye extends mO{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Fr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let pO=(()=>{class i extends mO{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new xt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(S(og),S(Nr),S(Ft))};static#t=this.\u0275dir=ae({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Me]})}return i})(),vl=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})();const HW=oye();class _ye{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zr(-this._previousScrollPosition.left),t.style.top=zr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),HW&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HW&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class vye{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(er(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jW{enable(){}disable(){}attach(){}}function fO(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function UW(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class bye{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();fO(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yye=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new jW,this.close=s=>new vye(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new _ye(this._viewportRuler,this._document),this.reposition=s=>new bye(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(n){return new(n||i)(U(mye),U(pT),U(st),U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class gO{constructor(t){if(this.scrollStrategy=new jW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class wye{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $W=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xye=(()=>{class i extends $W{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(st,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cye=(()=>{class i extends $W{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wd(o)},this._clickListener=o=>{const s=wd(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(eo),U(st,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fT=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||cO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),cO()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(eo))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class f0{constructor(t,e,n,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Z,this._attachments=new Z,this._detachments=new Z,this._locationChanges=At.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Z,this._outsidePointerEvents=new Z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(lr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=zr(this._config.width),t.height=zr(this._config.height),t.minWidth=zr(this._config.minWidth),t.minHeight=zr(this._config.minHeight),t.maxWidth=zr(this._config.maxWidth),t.maxHeight=zr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=lT(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(An(te(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WW="cdk-overlay-connected-position-bounding-box",Eye=/([A-Za-z%]+)$/;class kye{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Z,this._resizeSubscription=At.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(WW),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,n,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,n)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ip(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?s:a}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=qW(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,g=a+o.height-n.height,b=this._subtractOverflows(o.width,0-s,s+o.width-n.width),w=this._subtractOverflows(o.height,p,g),x=b*w;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=GW(this._overlayRef.getConfig().minHeight),a=GW(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=qW(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,h=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new wye(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,s,a,d,h,p;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,o=n.height-a+this._viewportMargin;else{const g=Math.min(n.bottom-t.y+n.top,t.y),b=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=n.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,d=n.right-t.x;else{const g=Math.min(n.right-t.x+n.left,t.x),b=this._lastBoundingBoxSize.width;d=2*g,h=t.x-g,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-b/2)}return{top:s,left:h,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=zr(n.height),r.top=zr(n.top),r.bottom=zr(n.bottom),r.width=zr(n.width),r.left=zr(n.left),r.right=zr(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=zr(o)),s&&(r.maxWidth=zr(s))}this._lastBoundingBoxSize=n,ip(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ip(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ip(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();ip(n,this._getExactOverlayY(e,t,d)),ip(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=zr(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=zr(s.maxWidth):o&&(n.maxWidth="")),ip(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=zr(o.y),r}_getExactOverlayX(t,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=zr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UW(t,n),isOriginOutsideView:fO(t,n),isOverlayClipped:UW(e,n),isOverlayOutsideView:fO(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&lT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof lt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ip(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function GW(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(Eye);return e&&"px"!==e?null:parseFloat(t)}return i||null}function qW(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const YW="cdk-global-overlay-wrapper";class Tye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YW),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let g="",b="",w="";c?w="flex-start":"center"===d?(w="center",p?b=h:g=h):p?"left"===d||"end"===d?(w="flex-end",g=h):("right"===d||"start"===d)&&(w="flex-start",b=h):"left"===d||"start"===d?(w="flex-start",g=h):("right"===d||"end"===d)&&(w="flex-end",b=h),t.position=this._cssPosition,t.marginLeft=c?"0":g,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":b,e.justifyContent=w,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(YW),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Dye=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new Tye}flexibleConnectedTo(e){return new kye(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(U(pT),U(Ft),U(eo),U(fT))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Iye=0,Ya=(()=>{class i{constructor(e,n,r,o,s,a,c,l,d,h,p,g){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=g}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new gO(e);return s.direction=s.direction||this._directionality.value,new f0(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Iye++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Fu)),new gye(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(U(yye),U(fT),U(og),U(Dye),U(xye),U(Fr),U(st),U(Ft),U(Ju),U(uy),U(Cye),U(ps,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Aye={provide:new q("cdk-connected-overlay-scroll-strategy"),deps:[Ya],useFactory:function Mye(i){return()=>i.scrollStrategies.reposition()}};let eh=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[Ya,Aye],imports:[o_,vl,lO,lO]})}return i})();function bc(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function KW(i){return er((t,e)=>i<=e)}let QW=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),vT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[QW]})}return i})();const XW=new Set;let np,Zye=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qye}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Kye(i,t){if(!XW.has(i))try{np||(np=document.createElement("style"),t&&(np.nonce=t),np.setAttribute("type","text/css"),document.head.appendChild(np)),np.sheet&&(np.sheet.insertRule(`@media ${i} {body{ }}`,0),XW.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(eo),U(p1,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Qye(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Xye=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return JW(lT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=nk(JW(lT(e)).map(s=>this._registerQuery(s).observable));return o=gy(o.pipe(lr(1)),o.pipe(KW(1),function wO(i,t=Hm){return ee((e,n)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,n.next(l)}};function c(){const l=s+i,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void n.add(r);a()}e.subscribe(Pe(n,l=>{o=l,s=t.now(),r||(r=t.schedule(c,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Fe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new Vt(s=>{const a=c=>this._zone.run(()=>s.next(c));return n.addListener(a),()=>{n.removeListener(a)}}).pipe($a(n),Fe(({matches:s})=>({query:e,matches:s})),An(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||i)(U(Zye),U(st))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function JW(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let bT=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function n0e(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function i0e(i){try{return i.frameElement}catch{return null}}(function u0e(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===s8(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=s8(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function l0e(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function d0e(i){return!function o0e(i){return function a0e(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function r0e(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function s0e(i){return function c0e(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||o8(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(U(eo))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function o8(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function s8(i){if(!o8(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class h0e{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(lr(1)).subscribe(t)}}let CO=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new h0e(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(U(bT),U(st),U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function a8(i){return 0===i.buttons||0===i.detail}function c8(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const m0e=new q("cdk-input-modality-detector-options"),p0e={ignoreKeys:[18,17,224,91,16]},a_=vc({passive:!0,capture:!0});let f0e=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new G(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wd(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(a8(s)?"keyboard":"mouse"),this._mostRecentTarget=wd(s))},this._onTouchstart=s=>{c8(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wd(s))},this._options={...p0e,...o},this.modalityDetected=this._modality.pipe(KW(1)),this.modalityChanged=this.modalityDetected.pipe(Yi()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,a_),r.addEventListener("mousedown",this._onMousedown,a_),r.addEventListener("touchstart",this._onTouchstart,a_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,a_),document.removeEventListener("mousedown",this._onMousedown,a_),document.removeEventListener("touchstart",this._onTouchstart,a_))}static#e=this.\u0275fac=function(n){return new(n||i)(U(eo),U(st),U(Ft),U(m0e,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const _0e=new q("cdk-focus-monitor-default-options"),yT=vc({passive:!0,capture:!0});let Cd=(()=>{class i{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Z,this._rootNodeFocusAndBlurListener=a=>{for(let l=wd(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const r=ep(e);if(!this._platform.isBrowser||1!==r.nodeType)return oe();const o=function aye(i){if(function sye(){if(null==aO){const i=typeof document<"u"?document.head:null;aO=!(!i||!i.createShadowRoot&&!i.attachShadow)}return aO}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;const a={checkChildren:n,subject:new Z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const n=ep(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=ep(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,n,c)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=wd(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,yT),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,yT)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(An(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yT),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yT),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(U(st),U(eo),U(f0e),U(Ft,8),U(_0e,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const d8="cdk-high-contrast-black-on-white",u8="cdk-high-contrast-white-on-black",EO="cdk-high-contrast-active";let h8=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=De(Xye).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(EO,d8,u8),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(EO,d8):2===n&&e.add(EO,u8)}}static#e=this.\u0275fac=function(n){return new(n||i)(U(eo),U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),g0=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(U(h8))};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[vT]})}return i})();function v0e(i,t){}class wT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let m8=(()=>{class i extends mO{constructor(e,n,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=mT(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=mT();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mT())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(CO),S(Ft,8),S(wT),S(bT),S(st),S(f0),S(Cd))};static#t=this.\u0275cmp=gt({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&function Lr(i,t,e){const n=pi();n.firstCreatePass&&(m5(n,new d5(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),h5(n,we(),t)}(pO,7),2&n){let o;Tt(o=Dt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&qt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&Di(0,v0e,0,0,"ng-template",0)},dependencies:[pO],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class kO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Z,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!bc(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const p8=new q("DialogScrollStrategy"),b0e=new q("DialogData"),y0e=new q("DefaultDialogConfig"),x0e={provide:p8,deps:[Ya],useFactory:function w0e(i){return()=>i.scrollStrategies.block()}};let C0e=0,f8=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,s,a){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this._ariaHiddenElements=new Map,this.afterAllClosed=_y(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe($a(void 0))),this._scrollStrategy=a}open(e,n){(n={...this._defaultOptions||new wT,...n}).id=n.id||"cdk-dialog-"+C0e++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),s=this._overlay.create(o),a=new kO(s,n),c=this._attachContainer(s,a,n);return a.containerInstance=c,this._attachDialogContent(e,a,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){TO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){TO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),TO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new gO({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:wT,useValue:r},{provide:kO,useValue:n},{provide:f0,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=m8;const c=new uO(a,r.viewContainerRef,Fr.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,n,r,o){if(e instanceof Qr){const s=this._createInjector(o,n,r,void 0);let a={$implicit:o.data,dialogRef:n};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new hO(e,null,a,s))}else{const s=this._createInjector(o,n,r,this._injector),a=r.attachComponentPortal(new uO(e,o.viewContainerRef,s,o.componentFactoryResolver));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(e,n,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:b0e,useValue:e.data},{provide:kO,useValue:n}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(n,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Ju,null,{optional:!0}))&&a.push({provide:Ju,useValue:{value:e.direction,change:oe()}}),Fr.create({parent:s||o,providers:a})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ya),U(Fr),U(y0e,8),U(i,12),U(fT),U(p8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function TO(i,t){let e=i.length;for(;e--;)t(i[e])}let g8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[f8,x0e],imports:[eh,vl,g0,vl]})}return i})();const k0e=new q("mat-sanity-checks",{providedIn:"root",factory:function E0e(){return!0}});let nt=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!cO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(U(h8),U(k0e,8),U(Ft))};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[o_,o_]})}return i})();function _0(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=mt(t)}constructor(...t){super(...t),this._disabled=!1}}}function c_(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function l_(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}const D0e=new q("MAT_DATE_LOCALE",{providedIn:"root",factory:function I0e(){return De(dl)}});class bl{constructor(){this._localeChanges=new Z,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const SO=new q("mat-date-formats"),S0e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function MO(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let M0e=(()=>{class i extends bl{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return MO(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return MO(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return MO(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth(),o}today(){return new Date}parse(e,n){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(S0e.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,r){const o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(n){return new(n||i)(U(D0e,8),U(eo))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const A0e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let R0e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[{provide:bl,useClass:M0e}]})}return i})(),P0e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[{provide:SO,useValue:A0e}],imports:[R0e]})}return i})(),AO=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),b8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,nt]})}return i})();class O0e{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const y8=vc({passive:!0,capture:!0});class F0e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=wd(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,y8)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,y8)))}}const w8={enterDuration:225,exitDuration:150},x8=vc({passive:!0,capture:!0}),C8=["mousedown","touchstart"],E8=["mouseup","mouseleave","touchend","touchcancel"];class b0{static#e=this._eventManager=new F0e;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ep(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...w8,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function L0e(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),g=h.transitionDuration,b="none"===h.transitionProperty||"0s"===g||"0s, 0s"===g||0===r.width&&0===r.height,w=new O0e(this,d,n,b);d.style.transform="scale3d(1, 1, 1)",w.state=0,n.persistent||(this._mostRecentTransientRipple=w);let x=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const I=()=>this._finishRippleTransition(w),T=()=>this._destroyRipple(w);d.addEventListener("transitionend",I),d.addEventListener("transitioncancel",T),x={onTransitionEnd:I,onTransitionCancel:T}}),this._activeRipples.set(w,x),(b||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...w8,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ep(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,C8.forEach(n=>{b0._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{E8.forEach(e=>{this._triggerElement.addEventListener(e,this,x8)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=a8(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!c8(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(C8.forEach(e=>b0._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&E8.forEach(e=>t.removeEventListener(e,this,x8)))}}const d_=new q("mat-ripple-global-options");let u_=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new b0(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(st),S(eo),S(d_,8),S(ps,8))};static#t=this.\u0275dir=ae({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Je("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),ha=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,nt]})}return i})(),k8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt]})}return i})(),xT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[ha,Wi,nt,k8]})}return i})();const T8={capture:!0},D8=["focus","click","mouseenter","touchstart"],RO="mat-ripple-loader-uninitialized",PO="mat-ripple-loader-class-name",I8="mat-ripple-loader-centered",CT="mat-ripple-loader-disabled";let S8=(()=>{class i{constructor(){this._document=De(Ft,{optional:!0}),this._animationMode=De(ps,{optional:!0}),this._globalRippleOptions=De(d_,{optional:!0}),this._platform=De(eo),this._ngZone=De(st),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${RO}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of D8)this._document?.addEventListener(e,this._onInteraction,T8)})}ngOnDestroy(){const e=this._hosts.keys();for(const n of e)this.destroyRipple(n);for(const n of D8)this._document?.removeEventListener(n,this._onInteraction,T8)}configureRipple(e,n){e.setAttribute(RO,""),(n.className||!e.hasAttribute(PO))&&e.setAttribute(PO,n.className||""),n.centered&&e.setAttribute(I8,""),n.disabled&&e.setAttribute(CT,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,n){const r=this._hosts.get(e);r?r.disabled=n:n?e.setAttribute(CT,""):e.removeAttribute(CT)}_createRipple(e){if(!this._document)return;const n=this._hosts.get(e);if(n)return n;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(PO)),e.append(r);const o=new u_(new lt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(I8),o.disabled=e.hasAttribute(CT),this.attachRipple(e,o),o}attachRipple(e,n){e.removeAttribute(RO),this._hosts.set(e,n)}destroyRipple(e){const n=this._hosts.get(e);n&&(n.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class M8{}class H0e{}const Ed="*";function ai(i,t=null){return{type:4,styles:t,timings:i}}function A8(i,t=null){return{type:2,steps:i,options:t}}function Ue(i){return{type:6,styles:i,offset:null}}function Ut(i,t,e){return{type:0,name:i,styles:t,options:e}}function ei(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}class y0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class R8{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function j0e(i,t){}class ET{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FO="mdc-dialog--open",P8="mdc-dialog--opening",O8="mdc-dialog--closing";let W0e=(()=>{class i extends m8{constructor(e,n,r,o,s,a,c,l){super(e,n,r,o,s,a,c,l),this._animationStateChanged=new xt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(CO),S(Ft,8),S(ET),S(bT),S(st),S(f0),S(Cd))};static#t=this.\u0275cmp=gt({type:i,selectors:[["ng-component"]],features:[Me],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const F8="--mat-dialog-transition-duration";function N8(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?Ao(i.substring(0,i.length-2)):i.endsWith("s")?1e3*Ao(i.substring(0,i.length-1)):"0"===i?0:null}let G0e=(()=>{class i extends W0e{constructor(e,n,r,o,s,a,c,l,d){super(e,n,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?N8(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?N8(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(F8,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(P8,FO)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(FO),this._animationsEnabled?(this._hostElement.style.setProperty(F8,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(O8)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(P8,O8)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(CO),S(Ft,8),S(ET),S(bT),S(st),S(f0),S(ps,8),S(Cd))};static#t=this.\u0275cmp=gt({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&(za("id",r._config.id),qt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Je("_mat-animation-noopable",!r._animationsEnabled))},features:[Me],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1),Di(2,j0e,0,0,"ng-template",2),$()())},dependencies:[pO],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class q0e{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new Z,this._beforeClosed=new Z,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(er(r=>"opened"===r.state),lr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(er(r=>"closed"===r.state),lr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),te(this.backdropClick(),this.keydownEvents().pipe(er(r=>27===r.keyCode&&!this.disableClose&&!bc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Y0e(i,t,e){i._closeInteractionType=t,i.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(er(e=>"closing"===e.state),lr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Z0e=new q("MatMdcDialogData"),K0e=new q("mat-mdc-dialog-default-options"),L8=new q("mat-mdc-dialog-scroll-strategy"),X0e={provide:L8,deps:[Ya],useFactory:function Q0e(i){return()=>i.scrollStrategies.block()}};let J0e=0,ewe=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,s,a,c,l,d,h){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this._idPrefix="mat-dialog-",this.dialogConfigClass=ET,this.afterAllClosed=_y(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe($a(void 0))),this._scrollStrategy=a,this._dialog=n.get(f8)}open(e,n){let r;(n={...this._defaultOptions||new ET,...n}).id=n.id||`${this._idPrefix}${J0e++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:wT,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static#e=this.\u0275fac=function(n){Ru()};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})(),V8=(()=>{class i extends ewe{constructor(e,n,r,o,s,a,c,l){super(e,n,o,a,c,s,q0e,G0e,Z0e,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ya),U(Fr),U(uy,8),U(K0e,8),U(L8),U(i,12),U(fT),U(ps,8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})(),twe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[V8,X0e],imports:[g8,eh,vl,nt,nt]})}return i})();class kT{}class TT{}class yl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class iwe{encodeKey(t){return z8(t)}encodeValue(t){return z8(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rwe=/%(\d[a-f0-9])/gi,owe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function z8(i){return encodeURIComponent(i).replace(rwe,(t,e)=>owe[e]??t)}function DT(i){return`${i}`}class nh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iwe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nwe(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(DT):[DT(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(DT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(DT(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class swe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function H8(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function j8(i){return typeof Blob<"u"&&i instanceof Blob}function U8(i){return typeof FormData<"u"&&i instanceof FormData}class w0{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function awe(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new yl),this.context||(this.context=new swe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new nh,this.urlWithParams=e}serializeBody(){return null===this.body?null:H8(this.body)||j8(this.body)||U8(this.body)||function cwe(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U8(this.body)?null:j8(this.body)?this.body.type||null:H8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),l)),new w0(e,n,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var m_=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(m_||{});class NO{constructor(t,e=200,n="OK"){this.headers=t.headers||new yl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class LO extends NO{constructor(t={}){super(t),this.type=m_.ResponseHeader}clone(t={}){return new LO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class p_ extends NO{constructor(t={}){super(t),this.type=m_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new p_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $8 extends NO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function VO(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let IT=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof w0)o=e;else{let c,l;c=r.headers instanceof yl?r.headers:new yl(r.headers),r.params&&(l=r.params instanceof nh?r.params:new nh({fromObject:r.params})),o=new w0(e,n,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=oe(o).pipe(Mg(c=>this.handler.handle(c)));if(e instanceof w0||"events"===r.observe)return s;const a=s.pipe(er(c=>c instanceof p_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Fe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Fe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Fe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Fe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new nh).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,VO(r,n))}post(e,n,r={}){return this.request("POST",e,VO(r,n))}put(e,n,r={}){return this.request("PUT",e,VO(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(U(kT))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function q8(i,t){return t(i)}function dwe(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const hwe=new q(""),x0=new q(""),Y8=new q("");function mwe(){let i=null;return(t,e)=>{null===i&&(i=(De(hwe,{optional:!0})??[]).reduceRight(dwe,q8));const n=De(PE),r=n.add();return i(t,e).pipe(Rg(()=>n.remove(r)))}}let Z8=(()=>{class i extends kT{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=De(PE)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(x0),...this.injector.get(Y8,[])]));this.chain=r.reduceRight((o,s)=>function uwe(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(o,s,this.injector),q8)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Rg(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||i)(U(TT),U(sa))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const _we=/^\)\]\}',?\n/;let Q8=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new X(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?j(n.\u0275loadImpl()):oe(null)).pipe(vt(()=>new Vt(o=>{const s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,x)=>s.setRequestHeader(w,x.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const w=s.statusText||"OK",x=new yl(s.getAllResponseHeaders()),I=function vwe(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new LO({headers:x,status:s.status,statusText:w,url:I}),c},d=()=>{let{headers:w,status:x,statusText:I,url:T}=l(),M=null;204!==x&&(M=typeof s.response>"u"?s.responseText:s.response),0===x&&(x=M?200:0);let F=x>=200&&x<300;if("json"===e.responseType&&"string"==typeof M){const V=M;M=M.replace(_we,"");try{M=""!==M?JSON.parse(M):null}catch(Y){M=V,F&&(F=!1,M={error:Y,text:M})}}F?(o.next(new p_({body:M,headers:w,status:x,statusText:I,url:T||void 0})),o.complete()):o.error(new $8({error:M,headers:w,status:x,statusText:I,url:T||void 0}))},h=w=>{const{url:x}=l(),I=new $8({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(I)};let p=!1;const g=w=>{p||(o.next(l()),p=!0);let x={type:m_.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),"text"===e.responseType&&s.responseText&&(x.partialText=s.responseText),o.next(x)},b=w=>{let x={type:m_.UploadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),o.next(x)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:m_.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||i)(U(Nj))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const BO=new q("XSRF_ENABLED"),X8=new q("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),J8=new q("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class eG{}let wwe=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(Fa),U(X8))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();function xwe(i,t){const e=i.url.toLowerCase();if(!De(BO)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=De(eG).getToken(),r=De(J8);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var rh=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(rh||{});function Cwe(...i){const t=[IT,Q8,Z8,{provide:kT,useExisting:Z8},{provide:TT,useExisting:Q8},{provide:x0,useValue:xwe,multi:!0},{provide:BO,useValue:!0},{provide:eG,useClass:wwe}];for(const e of i)t.push(...e.\u0275providers);return function a1(i){return{\u0275providers:i}}(t)}const tG=new q("LEGACY_INTERCEPTOR_FN");function Ewe(){return function sp(i,t){return{\u0275kind:i,\u0275providers:t}}(rh.LegacyInterceptors,[{provide:tG,useFactory:mwe},{provide:x0,useExisting:tG,multi:!0}])}let kwe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[Cwe(Ewe())]})}return i})(),yc=(()=>{class i{constructor(e,n,r,o,s){this.fireauth=e,this.router=n,this.db=r,this.dialog=o,this.http=s,this.loggedIn=!1,this.sidebarVisibilitySubject=new G(!1),this.sidebarVisibility$=this.sidebarVisibilitySubject.asObservable()}login(e,n){this.fireauth.signInWithEmailAndPassword(e,n).then(r=>{const o=r.user;this.router.navigate(["/home"]),console.log(o),this.loggedIn=!0,localStorage.setItem("loggedIn","true"),localStorage.setItem("user",JSON.stringify(o))}).catch(r=>{this.loggedIn=!1;const s=r.message;console.error(s),"Firebase: Error (auth/missing-email)."==s||"Firebase: The email address is badly formatted. (auth/invalid-email)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: The supplied auth credential is incorrect, malformed or has expired. (auth/invalid-credential)."==s?this.Swal("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==s?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==s&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/login"])})}register(e,n){this.fireauth.createUserWithEmailAndPassword(e,n).then(()=>{this.Swal("\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"),this.router.navigate(["/login"])},r=>{let o=r.message;console.log(o),"Firebase: Error (auth/missing-email)."==o||"Firebase: The email address is badly formatted. (auth/invalid-email)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","error"):"Firebase: Password should be at least 6 characters (auth/weak-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 6 \u0e15\u0e31\u0e27","error"):"Firebase: A non-empty password must be provided (auth/missing-password)."==o?this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19","error"):"Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."==o&&this.Swal("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","error"),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{this.loggedIn=!1,localStorage.removeItem("loggedIn"),localStorage.removeItem("user"),this.router.navigate(["/login"])},e=>{alert(e.message)})}isLoggedIn(){return"true"===localStorage.getItem("loggedIn")}humidityValue(){return this.db.object("Humidity").valueChanges()}temperatureValue(){return this.db.object("Temperature").valueChanges()}pHValue(){return this.db.object("pHValue").valueChanges()}waterStateLow(){return this.db.object("waterstatelow").valueChanges()}waterStateHigh(){return this.db.object("waterstatehigh").valueChanges()}timeSFT(){return this.db.object("timeSFT").valueChanges()}timeSWT(){return this.db.object("timeSWT").valueChanges()}timeFT(){return this.db.object("timeFT").valueChanges()}timeMB(){return this.db.object("timeMB").valueChanges()}timePHU(){return this.db.object("timePHU").valueChanges()}timePHD(){return this.db.object("timePHD").valueChanges()}Swal(e,n,r="",o="",s=""){return(0,re.Z)(function*(){yield rfe().fire({title:`<b style="color:${s};" class="fs-3">${e}</b>`,text:r,reverseButtons:!0,showCloseButton:!0,confirmButtonColor:"#00C514",icon:n,confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",customClass:{confirmButton:"alert-btn-confirm"}}).then(function(){var a=(0,re.Z)(function*(c){o&&(window.location.href=`./${o}`)});return function(c){return a.apply(this,arguments)}}())})()}Post(e,n,r=null){var o=this;return(0,re.Z)(function*(){const s=n;try{return yield o.http.post(`${e}`,s).subscribe()}catch(a){return console.error("An error occurred:",a),!1}})()}Get(e){var n=this;return(0,re.Z)(function*(){return new Promise((r,o)=>{n.http.get(`${e}`).subscribe(s=>{r(s)},s=>{r(!1)})})})()}toggleSidebar(){this.sidebarVisibilitySubject.next(!this.sidebarVisibilitySubject.value)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Dk),U(vs),U(i_),U(V8),U(IT))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function iG(...i){const t=ns(i),{args:e,keys:n}=oU(i),r=new Vt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;rn(e[d]).subscribe(Pe(o,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(n?sU(n,a):a),o.complete())}))}});return t?r.pipe(mR(t)):r}let nG=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(S(cd),S(lt))};static#t=this.\u0275dir=ae({type:i})}return i})(),ap=(()=>{class i extends nG{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Et(i)))(r||i)}}();static#t=this.\u0275dir=ae({type:i,features:[Me]})}return i})();const Hr=new q("NgValueAccessor"),Rwe={provide:Hr,useExisting:Q(()=>cp),multi:!0},Owe=new q("CompositionEventMode");let cp=(()=>{class i extends nG{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pwe(){const i=Nu()?Nu().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(S(cd),S(lt),S(Owe,8))};static#t=this.\u0275dir=ae({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ie("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[et([Rwe]),Me]})}return i})();const to=new q("NgValidators"),sh=new q("NgAsyncValidators");function fG(i){return null!=i}function gG(i){return Qb(i)?j(i):i}function _G(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function vG(i,t){return t.map(e=>e(i))}function bG(i){return i.map(t=>function Nwe(i){return!i.validate}(t)?t:e=>t.validate(e))}function zO(i){return null!=i?function yG(i){if(!i)return null;const t=i.filter(fG);return 0==t.length?null:function(e){return _G(vG(e,t))}}(bG(i)):null}function HO(i){return null!=i?function wG(i){if(!i)return null;const t=i.filter(fG);return 0==t.length?null:function(e){return iG(vG(e,t).map(gG)).pipe(Fe(_G))}}(bG(i)):null}function xG(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function jO(i){return i?Array.isArray(i)?i:[i]:[]}function AT(i,t){return Array.isArray(i)?i.includes(t):i===t}function kG(i,t){const e=jO(t);return jO(i).forEach(r=>{AT(e,r)||e.push(r)}),e}function TG(i,t){return jO(t).filter(e=>!AT(i,e))}class DG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ys extends DG{get formDirective(){return null}get path(){return null}}class kd extends DG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IG{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let C0=(()=>{class i extends IG{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(S(kd,2))};static#t=this.\u0275dir=ae({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Me]})}return i})(),UO=(()=>{class i extends IG{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(S(ys,10))};static#t=this.\u0275dir=ae({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Me]})}return i})();const E0="VALID",PT="INVALID",f_="PENDING",k0="DISABLED";function GO(i){return(OT(i)?i.validators:i)||null}function qO(i,t){return(OT(t)?t.asyncValidators:i)||null}function OT(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class RG{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===E0}get invalid(){return this.status===PT}get pending(){return this.status==f_}get disabled(){return this.status===k0}get enabled(){return this.status!==k0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TG(t,this._rawAsyncValidators))}hasValidator(t){return AT(this._rawValidators,t)}hasAsyncValidator(t){return AT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=f_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=k0,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=E0,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===E0||this.status===f_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k0:E0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=f_,this._hasOwnPendingAsyncValidator=!0;const e=gG(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?k0:this.errors?PT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(f_)?f_:this._anyControlsHaveStatus(PT)?PT:E0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){OT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function zwe(i){return Array.isArray(i)?zO(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Hwe(i){return Array.isArray(i)?HO(i):i||null}(this._rawAsyncValidators)}}class YO extends RG{constructor(t,e,n){super(GO(e),qO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function AG(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new X(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function MG(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new X(1e3,"");if(!n[e])throw new X(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const lp=new q("CallSetDisabledState",{providedIn:"root",factory:()=>T0}),T0="always";function D0(i,t,e=T0){ZO(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function $we(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&PG(i,t)})}(i,t),function Gwe(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Wwe(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&PG(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function Uwe(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function LT(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ZO(i,t){const e=function CG(i){return i._rawValidators}(i);null!==t.validator?i.setValidators(xG(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=function EG(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators(xG(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();LT(t._rawValidators,r),LT(t._rawAsyncValidators,r)}function PG(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}const Qwe={provide:ys,useExisting:Q(()=>g_)},I0=(()=>Promise.resolve())();let g_=(()=>{class i extends ys{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new xt,this.form=new YO({},zO(e),HO(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){I0.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),D0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){I0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){I0.then(()=>{const n=this._findContainer(e.path),r=new YO({});(function OG(i,t){ZO(i,t)})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){I0.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){I0.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function FG(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(S(to,10),S(sh,10),S(lp,8))};static#t=this.\u0275dir=ae({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Ie("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([Qwe]),Me]})}return i})();function NG(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function LG(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const VG=class extends RG{constructor(t=null,e,n){super(GO(e),qO(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OT(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=LG(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){LG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},exe={provide:kd,useExisting:Q(()=>__)},HG=(()=>Promise.resolve())();let __=(()=>{class i extends kd{constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new VG,this._registered=!1,this.name="",this.update=new xt,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function XO(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===cp?e=o:function Zwe(i){return Object.getPrototypeOf(i.constructor)===ap}(o)?n=o:r=o}),r||n||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function QO(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){HG.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&Tg(n);HG.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function FT(i,t){return[...t.path,i]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||i)(S(ys,9),S(to,10),S(sh,10),S(Hr,10),S(Vr,8),S(lp,8))};static#t=this.\u0275dir=ae({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([exe]),Me,ar]})}return i})(),JO=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ae({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),UG=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})();const e2=new q("NgModelWithFormControlWarning");let s9=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[UG]})}return i})(),a9=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:lp,useValue:e.callSetDisabledState??T0}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[s9]})}return i})(),c9=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:e2,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:lp,useValue:e.callSetDisabledState??T0}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[s9]})}return i})(),kxe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}login(){this.auth.login(this.email,this.password)}GoRegister(){window.location.href="register"}switch(){const e=Array.from(document.querySelectorAll(".switcher"));e.forEach(n=>{n.addEventListener("click",function(){e.forEach(r=>r.parentElement?.classList.remove("is-active")),this.parentElement?.classList.add("is-active")})})}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","register",1,"c-g","fw-500"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),ue(4,"Login"),$(),ol(5),H(6,"form",4)(7,"input",5),Ie("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.login()}),$(),H(8,"label",6),ue(9,"Email"),$()(),H(10,"form",4)(11,"input",7),Ie("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.login()}),$(),H(12,"label",6),ue(13,"Password"),$()(),H(14,"div",8)(15,"div",9)(16,"button",10),Ie("click",function(){return r.login()}),ue(17," Login "),$()()(),H(18,"div",11)(19,"div",12)(20,"span"),ue(21,"Already have an account?"),$(),ue(22," \xa0 "),H(23,"a",13),ue(24,"Register"),$()()(),sl(),$()()()),2&n&&(Se(7),ot("ngModel",r.email),Se(4),ot("ngModel",r.password))},dependencies:[JO,cp,C0,UO,__,g_],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})(),Txe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}register(){this.auth.register(this.email,this.password)}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-register"]],decls:26,vars:2,consts:[[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","container","mb-4"],[1,"card"],[1,"contentBx"],[1,"mb-4"],[1,"form-floating","mb-3"],["type","email","id","","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["for",""],["type","password","id","","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"row","d-flex","justify-content-center","mb-2","m-0","p-0"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","m-0","p-0"],[1,"btn","w-100","btn-login","c-wh","fw-500",3,"click"],[1,"row","text-center"],[1,"col-xl-12","col-lg-10","col-md-12","col-12","mt-4"],["href","login",1,"c-g","fw-500"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),ue(5,"Register"),$(),ol(6),H(7,"form",5)(8,"input",6),Ie("ngModelChange",function(s){return r.email=s})("keydown.enter",function(){return r.register()}),$(),H(9,"label",7),ue(10,"Email"),$()(),H(11,"form",5)(12,"input",8),Ie("ngModelChange",function(s){return r.password=s})("keydown.enter",function(){return r.register()}),$(),H(13,"label",7),ue(14,"Password"),$()(),H(15,"div",9)(16,"div",10)(17,"button",11),Ie("click",function(){return r.register()}),ue(18," Register "),$()()(),H(19,"div",12)(20,"div",13)(21,"span"),ue(22,"Already have an account?"),$(),ue(23," \xa0 "),H(24,"a",14),ue(25,"Login"),$()()(),sl(),$()()()()),2&n&&(Se(8),ot("ngModel",r.email),Se(4),ot("ngModel",r.password))},dependencies:[JO,cp,C0,UO,__,g_],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:570px;height:580px;background:#ffffff;border-radius:20px;overflow:hidden;padding:10px;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:relative;width:100%;max-width:70%;text-align:center;transition:1s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;font-weight:700;letter-spacing:2px;color:#000;margin:0;font-size:28px}"]})}return i})();function v_(i){return i+.5|0}const Td=(i,t,e)=>Math.max(Math.min(i,e),t);function S0(i){return Td(v_(2.55*i),0,255)}function ah(i){return Td(v_(255*i),0,255)}function Dd(i){return Td(v_(i/2.55)/100,0,1)}function l9(i){return Td(v_(100*i),0,100)}const Za={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},a2=[..."0123456789ABCDEF"],Dxe=i=>a2[15&i],Ixe=i=>a2[(240&i)>>4]+a2[15&i],HT=i=>(240&i)>>4==(15&i);const Pxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d9(i,t,e){const n=t*Math.min(e,1-e),r=(o,s=(o+i/30)%12)=>e-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function Oxe(i,t,e){const n=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Fxe(i,t,e){const n=d9(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function c2(i){const e=i.r/255,n=i.g/255,r=i.b/255,o=Math.max(e,n,r),s=Math.min(e,n,r),a=(o+s)/2;let c,l,d;return o!==s&&(d=o-s,l=a>.5?d/(2-o-s):d/(o+s),c=function Nxe(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}(e,n,r,d,o),c=60*c+.5),[0|c,l||0,a]}function l2(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(ah)}function d2(i,t,e){return l2(d9,i,t,e)}function u9(i){return(i%360+360)%360}const h9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},m9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jT;const $xe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,u2=i=>i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055,b_=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function UT(i,t,e){if(i){let n=c2(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,0===t?360:1)),n=d2(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function p9(i,t){return i&&Object.assign(t||{},i)}function f9(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=ah(i[3]))):(t=p9(i,{r:0,g:0,b:0,a:1})).a=ah(t.a),t}function Yxe(i){return"r"===i.charAt(0)?function Wxe(i){const t=$xe.exec(i);let n,r,o,e=255;if(t){if(t[7]!==n){const s=+t[7];e=t[8]?S0(s):Td(255*s,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?S0(n):Td(n,0,255)),r=255&(t[4]?S0(r):Td(r,0,255)),o=255&(t[6]?S0(o):Td(o,0,255)),{r:n,g:r,b:o,a:e}}}(i):function Bxe(i){const t=Pxe.exec(i);let n,e=255;if(!t)return;t[5]!==n&&(e=t[6]?S0(+t[5]):ah(+t[5]));const r=u9(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function Lxe(i,t,e){return l2(Fxe,i,t,e)}(r,o,s):"hsv"===t[1]?function Vxe(i,t,e){return l2(Oxe,i,t,e)}(r,o,s):d2(r,o,s),{r:n[0],g:n[1],b:n[2],a:e}}(i)}class y_{constructor(t){if(t instanceof y_)return t;const e=typeof t;let n;"object"===e?n=f9(t):"string"===e&&(n=function Mxe(i){var e,t=i.length;return"#"===i[0]&&(4===t||5===t?e={r:255&17*Za[i[1]],g:255&17*Za[i[2]],b:255&17*Za[i[3]],a:5===t?17*Za[i[4]]:255}:(7===t||9===t)&&(e={r:Za[i[1]]<<4|Za[i[2]],g:Za[i[3]]<<4|Za[i[4]],b:Za[i[5]]<<4|Za[i[6]],a:9===t?Za[i[7]]<<4|Za[i[8]]:255})),e}(t)||function Uxe(i){jT||(jT=function jxe(){const i={},t=Object.keys(m9),e=Object.keys(h9);let n,r,o,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],r=0;r<e.length;r++)o=e[r],a=a.replace(o,h9[o]);o=parseInt(m9[s],16),i[a]=[o>>16&255,o>>8&255,255&o]}return i}(),jT.transparent=[0,0,0,0]);const t=jT[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Yxe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=p9(this._rgb);return t&&(t.a=Dd(t.a)),t}set rgb(t){this._rgb=f9(t)}rgbString(){return this._valid?function Gxe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Dd(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Rxe(i){var t=(i=>HT(i.r)&&HT(i.g)&&HT(i.b)&&HT(i.a))(i)?Dxe:Ixe;return i?"#"+t(i.r)+t(i.g)+t(i.b)+((i,t)=>i<255?t(i):"")(i.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Hxe(i){if(!i)return;const t=c2(i),e=t[0],n=l9(t[1]),r=l9(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${Dd(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=n.a-r.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,n.r=255&l*n.r+o*r.r+.5,n.g=255&l*n.g+o*r.g+.5,n.b=255&l*n.b+o*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function qxe(i,t,e){const n=b_(Dd(i.r)),r=b_(Dd(i.g)),o=b_(Dd(i.b));return{r:ah(u2(n+e*(b_(Dd(t.r))-n))),g:ah(u2(r+e*(b_(Dd(t.g))-r))),b:ah(u2(o+e*(b_(Dd(t.b))-o))),a:i.a+e*(t.a-i.a)}}(this._rgb,t._rgb,e)),this}clone(){return new y_(this.rgb)}alpha(t){return this._rgb.a=ah(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=v_(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return UT(this._rgb,2,t),this}darken(t){return UT(this._rgb,2,-t),this}saturate(t){return UT(this._rgb,1,t),this}desaturate(t){return UT(this._rgb,1,-t),this}rotate(t){return function zxe(i,t){var e=c2(i);e[0]=u9(e[0]+t),e=d2(e),i.r=e[0],i.g=e[1],i.b=e[2]}(this._rgb,t),this}}function Id(){}const Zxe=(()=>{let i=0;return()=>i++})();function Ai(i){return null===i||typeof i>"u"}function Pn(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function bi(i){return null!==i&&"[object Object]"===Object.prototype.toString.call(i)}function ur(i){return("number"==typeof i||i instanceof Number)&&isFinite(+i)}function ma(i,t){return ur(i)?i:t}function ti(i,t){return typeof i>"u"?t:i}const g9=(i,t)=>"string"==typeof i&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Tn(i,t,e){if(i&&"function"==typeof i.call)return i.apply(e,t)}function Qi(i,t,e,n){let r,o,s;if(Pn(i))if(o=i.length,n)for(r=o-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<o;r++)t.call(e,i[r],r);else if(bi(i))for(s=Object.keys(i),o=s.length,r=0;r<o;r++)t.call(e,i[s[r]],s[r])}function $T(i,t){let e,n,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function WT(i){if(Pn(i))return i.map(WT);if(bi(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let r=0;for(;r<n;++r)t[e[r]]=WT(i[e[r]]);return t}return i}function _9(i){return-1===["__proto__","prototype","constructor"].indexOf(i)}function Qxe(i,t,e,n){if(!_9(i))return;const r=t[i],o=e[i];bi(r)&&bi(o)?M0(r,o,n):t[i]=WT(o)}function M0(i,t,e){const n=Pn(t)?t:[t],r=n.length;if(!bi(i))return i;const o=(e=e||{}).merger||Qxe;let s;for(let a=0;a<r;++a){if(s=n[a],!bi(s))continue;const c=Object.keys(s);for(let l=0,d=c.length;l<d;++l)o(c[l],i,s,e)}return i}function A0(i,t){return M0(i,t,{merger:Xxe})}function Xxe(i,t,e){if(!_9(i))return;const n=t[i],r=e[i];bi(n)&&bi(r)?A0(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=WT(r))}const v9={"":i=>i,x:i=>i.x,y:i=>i.y};function ch(i,t){return(v9[t]||(v9[t]=function eCe(i){const t=function Jxe(i){const t=i.split("."),e=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}(i);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t)))(i)}function h2(i){return i.charAt(0).toUpperCase()+i.slice(1)}const R0=i=>typeof i<"u",lh=i=>"function"==typeof i,b9=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0},On=Math.PI,Fn=2*On,iCe=Fn+On,GT=Number.POSITIVE_INFINITY,nCe=On/180,Er=On/2,up=On/4,y9=2*On/3,dh=Math.log10,wl=Math.sign;function P0(i,t,e){return Math.abs(i-t)<e}function w9(i){const t=Math.round(i);i=P0(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(dh(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function w_(i){return!isNaN(parseFloat(i))&&isFinite(i)}function x9(i,t,e){let n,r,o;for(n=0,r=i.length;n<r;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function wc(i){return i*(On/180)}function m2(i){return i*(180/On)}function C9(i){if(!ur(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function E9(i,t){const e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n);let o=Math.atan2(n,e);return o<-.5*On&&(o+=Fn),{angle:o,distance:r}}function p2(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function sCe(i,t){return(i-t+iCe)%Fn-On}function pa(i){return(i%Fn+Fn)%Fn}function O0(i,t,e,n){const r=pa(i),o=pa(t),s=pa(e),a=pa(o-r),c=pa(s-r),l=pa(r-o),d=pa(r-s);return r===o||r===s||n&&o===s||a>c&&l<d}function mo(i,t,e){return Math.max(t,Math.min(e,i))}function Sd(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function f2(i,t,e){e=e||(s=>i[s]<t);let o,n=i.length-1,r=0;for(;n-r>1;)o=r+n>>1,e(o)?r=o:n=o;return{lo:r,hi:n}}const Md=(i,t,e,n)=>f2(i,e,n?r=>{const o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),cCe=(i,t,e)=>f2(i,e,n=>i[n][t]>=e),k9=["push","pop","shift","splice","unshift"];function T9(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),!(n.length>0)&&(k9.forEach(o=>{delete i[o]}),delete i._chartjs)}function D9(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const I9=typeof window>"u"?function(i){return i()}:window.requestAnimationFrame;function S9(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,I9.call(window,()=>{n=!1,i.apply(t,e)}))}}const g2=i=>"start"===i?"left":"end"===i?"right":"center",Wo=(i,t,e)=>"start"===i?t:"end"===i?e:(t+e)/2;function M9(i,t,e){const n=t.length;let r=0,o=n;if(i._sorted){const{iScale:s,_parsed:a}=i,c=s.axis,{min:l,max:d,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(r=mo(Math.min(Md(a,c,l).lo,e?n:Md(t,c,s.getPixelForValue(l)).lo),0,n-1)),o=p?mo(Math.max(Md(a,s.axis,d,!0).hi+1,e?0:Md(t,c,s.getPixelForValue(d),!0).hi+1),r,n)-r:n-r}return{start:r,count:o}}function A9(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),o}const qT=i=>0===i||1===i,R9=(i,t,e)=>-Math.pow(2,10*(i-=1))*Math.sin((i-t)*Fn/e),P9=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Fn/e)+1,F0={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>1-Math.cos(i*Er),easeOutSine:i=>Math.sin(i*Er),easeInOutSine:i=>-.5*(Math.cos(On*i)-1),easeInExpo:i=>0===i?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>1===i?1:1-Math.pow(2,-10*i),easeInOutExpo:i=>qT(i)?i:i<.5?.5*Math.pow(2,10*(2*i-1)):.5*(2-Math.pow(2,-10*(2*i-1))),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>qT(i)?i:R9(i,.075,.3),easeOutElastic:i=>qT(i)?i:P9(i,.075,.3),easeInOutElastic:i=>qT(i)?i:i<.5?.5*R9(2*i,.1125,.45):.5+.5*P9(2*i-1,.1125,.45),easeInBack:i=>i*i*(2.70158*i-1.70158),easeOutBack:i=>(i-=1)*i*(2.70158*i+1.70158)+1,easeInOutBack(i){let t=1.70158;return(i/=.5)<1?i*i*((1+(t*=1.525))*i-t)*.5:.5*((i-=2)*i*((1+(t*=1.525))*i+t)+2)},easeInBounce:i=>1-F0.easeOutBounce(1-i),easeOutBounce:i=>i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375,easeInOutBounce:i=>i<.5?.5*F0.easeInBounce(2*i):.5*F0.easeOutBounce(2*i-1)+.5};function _2(i){if(i&&"object"==typeof i){const t=i.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function O9(i){return _2(i)?i:new y_(i)}function v2(i){return _2(i)?i:new y_(i).saturate(.5).darken(.1).hexString()}const mCe=["x","y","borderWidth","radius","tension"],pCe=["color","borderColor","backgroundColor"],F9=new Map;function N0(i,t,e){return function _Ce(i,t){t=t||{};const e=i+JSON.stringify(t);let n=F9.get(e);return n||(n=new Intl.NumberFormat(i,t),F9.set(e,n)),n}(t,e).format(i)}const N9={values:i=>Pn(i)?i:""+i,numeric(i,t,e){if(0===i)return"0";const n=this.chart.options.locale;let r,o=i;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),o=function vCe(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}(i,e)}const s=dh(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),N0(i,n,c)},logarithmic(i,t,e){if(0===i)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(dh(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?N9.numeric.call(this,i,t,e):""}};var YT={formatters:N9};const hp=Object.create(null),b2=Object.create(null);function L0(i,t){if(!t)return i;const e=t.split(".");for(let n=0,r=e.length;n<r;++n){const o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function y2(i,t,e){return"string"==typeof t?M0(L0(i,t),e):M0(L0(i,""),t)}class yCe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>v2(r.backgroundColor),this.hoverBorderColor=(n,r)=>v2(r.borderColor),this.hoverColor=(n,r)=>v2(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return y2(this,t,e)}get(t){return L0(this,t)}describe(t,e){return y2(b2,t,e)}override(t,e){return y2(hp,t,e)}route(t,e,n,r){const o=L0(this,t),s=L0(this,n),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=s[r];return bi(c)?Object.assign({},l,c):ti(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var hr=new yCe({_scriptable:i=>!i.startsWith("on"),_indexable:i=>"events"!==i,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function fCe(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),i.set("animations",{colors:{type:"color",properties:pCe},numbers:{type:"number",properties:mCe}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function gCe(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function bCe(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:YT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ZT(i,t,e,n,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>n&&(n=o),n}function xCe(i,t,e,n){let r=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let s=0;const a=e.length;let c,l,d,h,p;for(c=0;c<a;c++)if(h=e[c],null==h||Pn(h)){if(Pn(h))for(l=0,d=h.length;l<d;l++)p=h[l],null!=p&&!Pn(p)&&(s=ZT(i,r,o,s,p))}else s=ZT(i,r,o,s,h);i.restore();const g=o.length/2;if(g>e.length){for(c=0;c<g;c++)delete r[o[c]];o.splice(0,g)}return s}function mp(i,t,e){const n=i.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function L9(i,t){!t&&!i||((t=t||i.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function w2(i,t,e,n){V9(i,t,e,n,null)}function V9(i,t,e,n,r){let o,s,a,c,l,d,h,p;const g=t.pointStyle,b=t.rotation,w=t.radius;let x=(b||0)*nCe;if(g&&"object"==typeof g&&(o=g.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return i.save(),i.translate(e,n),i.rotate(x),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void i.restore();if(!(isNaN(w)||w<=0)){switch(i.beginPath(),g){default:r?i.ellipse(e,n,r/2,w,0,0,Fn):i.arc(e,n,w,0,Fn),i.closePath();break;case"triangle":d=r?r/2:w,i.moveTo(e+Math.sin(x)*d,n-Math.cos(x)*w),x+=y9,i.lineTo(e+Math.sin(x)*d,n-Math.cos(x)*w),x+=y9,i.lineTo(e+Math.sin(x)*d,n-Math.cos(x)*w),i.closePath();break;case"rectRounded":l=.516*w,c=w-l,s=Math.cos(x+up)*c,h=Math.cos(x+up)*(r?r/2-l:c),a=Math.sin(x+up)*c,p=Math.sin(x+up)*(r?r/2-l:c),i.arc(e-h,n-a,l,x-On,x-Er),i.arc(e+p,n-s,l,x-Er,x),i.arc(e+h,n+a,l,x,x+Er),i.arc(e-p,n+s,l,x+Er,x+On),i.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*w,d=r?r/2:c,i.rect(e-d,n-c,2*d,2*c);break}x+=up;case"rectRot":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+p,n-s),i.lineTo(e+h,n+a),i.lineTo(e-p,n+s),i.closePath();break;case"crossRot":x+=up;case"cross":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s);break;case"star":h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s),x+=up,h=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),i.moveTo(e-h,n-a),i.lineTo(e+h,n+a),i.moveTo(e+p,n-s),i.lineTo(e-p,n+s);break;case"line":s=r?r/2:Math.cos(x)*w,a=Math.sin(x)*w,i.moveTo(e-s,n-a),i.lineTo(e+s,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(x)*(r?r/2:w),n+Math.sin(x)*w);break;case!1:i.closePath()}i.fill(),t.borderWidth>0&&i.stroke()}}function Ad(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function KT(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function QT(i){i.restore()}function CCe(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else"after"===r!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function ECe(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function TCe(i,t,e,n,r){if(r.strikethrough||r.underline){const o=i.measureText(n),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+l)/2:l;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,d),i.lineTo(a,d),i.stroke()}}function DCe(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function pp(i,t,e,n,r,o={}){const s=Pn(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(i.save(),i.font=r.string,function kCe(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Ai(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}(i,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&DCe(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Ai(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(l,e,n,o.maxWidth)),i.fillText(l,e,n,o.maxWidth),TCe(i,e,n,l,o),n+=Number(r.lineHeight);i.restore()}function V0(i,t){const{x:e,y:n,w:r,h:o,radius:s}=t;i.arc(e+s.topLeft,n+s.topLeft,s.topLeft,1.5*On,On,!0),i.lineTo(e,n+o-s.bottomLeft),i.arc(e+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,On,Er,!0),i.lineTo(e+r-s.bottomRight,n+o),i.arc(e+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,Er,0,!0),i.lineTo(e+r,n+s.topRight),i.arc(e+r-s.topRight,n+s.topRight,s.topRight,0,-Er,!0),i.lineTo(e+s.topLeft,n)}const ICe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SCe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function MCe(i,t){const e=(""+i).match(ICe);if(!e||"normal"===e[1])return 1.2*t;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100}return t*i}const ACe=i=>+i||0;function x2(i,t){const e={},n=bi(t),r=n?Object.keys(t):t,o=bi(i)?n?s=>ti(i[s],i[t[s]]):s=>i[s]:()=>i;for(const s of r)e[s]=ACe(o(s));return e}function B9(i){return x2(i,{top:"y",right:"x",bottom:"y",left:"x"})}function fp(i){return x2(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Go(i){const t=B9(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function io(i,t){let e=ti((i=i||{}).size,(t=t||hr.font).size);"string"==typeof e&&(e=parseInt(e,10));let n=ti(i.style,t.style);n&&!(""+n).match(SCe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:ti(i.family,t.family),lineHeight:MCe(ti(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:ti(i.weight,t.weight),string:""};return r.string=function wCe(i){return!i||Ai(i.size)||Ai(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}(r),r}function B0(i,t,e,n){let o,s,a,r=!0;for(o=0,s=i.length;o<s;++o)if(a=i[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&Pn(a)&&(a=a[e%a.length],r=!1),void 0!==a))return n&&!r&&(n.cacheable=!1),a}function uh(i,t){return Object.assign(Object.create(i),t)}function C2(i,t=[""],e,n,r=(()=>i[0])){const o=e||i;typeof n>"u"&&(n=$9("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:r,override:a=>C2([a,...i],t,o,n)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete i[0][c],!0),get:(a,c)=>H9(a,c,()=>function zCe(i,t,e,n){let r;for(const o of t)if(r=$9(PCe(o,i),e),typeof r<"u")return E2(i,r)?k2(e,n,i,r):r}(c,t,i,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(i[0]),has:(a,c)=>W9(a).includes(c),ownKeys:a=>W9(a),set(a,c,l){const d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function x_(i,t,e,n){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:z9(i,n),setContext:o=>x_(i,o,e,n),override:o=>x_(i.override(o),t,e,n)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete i[s],!0),get:(o,s,a)=>H9(o,s,()=>function OCe(i,t,e){const{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=i;let a=n[t];return lh(a)&&s.isScriptable(t)&&(a=function FCe(i,t,e,n){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let c=t(o,s||n);return a.delete(i),E2(i,c)&&(c=k2(r._scopes,r,i,c)),c}(t,a,i,e)),Pn(a)&&a.length&&(a=function NCe(i,t,e,n){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if(bi(t[0])){const c=t,l=r._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=k2(l,r,i,d);t.push(x_(h,o,s&&s[i],a))}}return t}(t,a,i,s.isIndexable)),E2(t,a)&&(a=x_(a,r,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s),getPrototypeOf:()=>Reflect.getPrototypeOf(i),has:(o,s)=>Reflect.has(i,s),ownKeys:()=>Reflect.ownKeys(i),set:(o,s,a)=>(i[s]=a,delete o[s],!0)})}function z9(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:lh(e)?e:()=>e,isIndexable:lh(n)?n:()=>n}}const PCe=(i,t)=>i?i+h2(t):t,E2=(i,t)=>bi(t)&&"adapters"!==i&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function H9(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||"constructor"===t)return i[t];const n=e();return i[t]=n,n}function j9(i,t,e){return lh(i)?i(t,e):i}const LCe=(i,t)=>!0===i?t:"string"==typeof i?ch(t,i):void 0;function VCe(i,t,e,n,r){for(const o of t){const s=LCe(e,o);if(s){i.add(s);const a=j9(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(!1===s&&typeof n<"u"&&e!==n)return null}return!1}function k2(i,t,e,n){const r=t._rootScopes,o=j9(t._fallback,e,n),s=[...i,...r],a=new Set;a.add(n);let c=U9(a,s,e,o||e,n);return!(null===c||typeof o<"u"&&o!==e&&(c=U9(a,s,o,c,n),null===c))&&C2(Array.from(a),[""],r,o,()=>function BCe(i,t,e){const n=i._getTarget();t in n||(n[t]={});const r=n[t];return Pn(r)&&bi(e)?e:r||{}}(t,e,n))}function U9(i,t,e,n,r){for(;e;)e=VCe(i,t,e,n,r);return e}function $9(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function W9(i){let t=i._keys;return t||(t=i._keys=function HCe(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}(i._scopes)),t}function G9(i,t,e,n){const{iScale:r}=i,{key:o="r"}=this._parsing,s=new Array(n);let a,c,l,d;for(a=0,c=n;a<c;++a)l=a+e,d=t[l],s[a]={r:r.parse(ch(d,o),l)};return s}const jCe=Number.EPSILON||1e-14,C_=(i,t)=>t<i.length&&!i[t].skip&&i[t],q9=i=>"x"===i?"y":"x";function UCe(i,t,e,n){const r=i.skip?t:i,o=t,s=e.skip?t:e,a=p2(o,r),c=p2(s,o);let l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const h=n*l,p=n*d;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function XT(i,t,e){return Math.max(Math.min(i,e),t)}function YCe(i,t,e,n,r){let o,s,a,c;if(t.spanGaps&&(i=i.filter(l=>!l.skip)),"monotone"===t.cubicInterpolationMode)!function GCe(i,t="x"){const e=q9(t),n=i.length,r=Array(n).fill(0),o=Array(n);let s,a,c,l=C_(i,0);for(s=0;s<n;++s)if(a=c,c=l,l=C_(i,s+1),c){if(l){const d=l[t]-c[t];r[s]=0!==d?(l[e]-c[e])/d:0}o[s]=a?l?wl(r[s-1])!==wl(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function $Ce(i,t,e){const n=i.length;let r,o,s,a,c,l=C_(i,0);for(let d=0;d<n-1;++d)if(c=l,l=C_(i,d+1),c&&l){if(P0(t[d],0,jCe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}})(i,r,o),function WCe(i,t,e="x"){const n=q9(e),r=i.length;let o,s,a,c=C_(i,0);for(let l=0;l<r;++l){if(s=a,a=c,c=C_(i,l+1),!a)continue;const d=a[e],h=a[n];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${n}`]=h-o*t[l]),c&&(o=(c[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${n}`]=h+o*t[l])}}(i,o,t)}(i,r);else{let l=n?i[i.length-1]:i[0];for(o=0,s=i.length;o<s;++o)a=i[o],c=UCe(l,a,i[Math.min(o+1,s-(n?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&function qCe(i,t){let e,n,r,o,s,a=Ad(i[0],t);for(e=0,n=i.length;e<n;++e)s=o,o=a,a=e<n-1&&Ad(i[e+1],t),o&&(r=i[e],s&&(r.cp1x=XT(r.cp1x,t.left,t.right),r.cp1y=XT(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=XT(r.cp2x,t.left,t.right),r.cp2y=XT(r.cp2y,t.top,t.bottom)))}(i,e)}function T2(){return typeof window<"u"&&typeof document<"u"}function D2(i){let t=i.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function JT(i,t,e){let n;return"string"==typeof i?(n=parseInt(i,10),-1!==i.indexOf("%")&&(n=n/100*t.parentNode[e])):n=i,n}const eD=i=>i.ownerDocument.defaultView.getComputedStyle(i,null),KCe=["top","right","bottom","left"];function gp(i,t,e){const n={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=KCe[r];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const QCe=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function _p(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,r=eD(e),o="border-box"===r.boxSizing,s=gp(r,"padding"),a=gp(r,"border","width"),{x:c,y:l,box:d}=function XCe(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=n;let a,c,s=!1;if(QCe(r,o,i.target))a=r,c=o;else{const l=t.getBoundingClientRect();a=n.clientX-l.left,c=n.clientY-l.top,s=!0}return{x:a,y:c,box:s}}(i,e),h=s.left+(d&&a.left),p=s.top+(d&&a.top);let{width:g,height:b}=t;return o&&(g-=s.width+a.width,b-=s.height+a.height),{x:Math.round((c-h)/g*e.width/n),y:Math.round((l-p)/b*e.height/n)}}const tD=i=>Math.round(10*i)/10;function Y9(i,t,e){const n=t||1,r=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),(i.currentDevicePixelRatio!==n||s.height!==r||s.width!==o)&&(i.currentDevicePixelRatio=n,s.height=r,s.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0)}const tEe=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};T2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Z9(i,t){const e=function ZCe(i,t){return eD(i).getPropertyValue(t)}(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function vp(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function iEe(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:"middle"===n?e<.5?i.y:t.y:"after"===n?e<1?i.y:t.y:e>0?t.y:i.y}}function nEe(i,t,e,n){const r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},s=vp(i,r,e),a=vp(r,o,e),c=vp(o,t,e),l=vp(s,a,e),d=vp(a,c,e);return vp(l,d,e)}function E_(i,t,e){return i?function(i,t){return{x:e=>i+i+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,n)=>e-n,leftForLtr:(e,n)=>e-n}}(t,e):{x:i=>i,setWidth(i){},textAlign:i=>i,xPlus:(i,t)=>i+t,leftForLtr:(i,t)=>i}}function K9(i,t){let e,n;("ltr"===t||"rtl"===t)&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Q9(i,t){void 0!==t&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function X9(i){return"angle"===i?{between:O0,compare:sCe,normalize:pa}:{between:Sd,compare:(t,e)=>t-e,normalize:t=>t}}function J9({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e==0,style:r}}function e7(i,t,e){if(!e)return[i];const{property:n,start:r,end:o}=e,s=t.length,{compare:a,between:c,normalize:l}=X9(n),{start:d,end:h,loop:p,style:g}=function sEe(i,t,e){const{property:n,start:r,end:o}=e,{between:s,normalize:a}=X9(n),c=t.length;let p,g,{start:l,end:d,loop:h}=i;if(h){for(l+=c,d+=c,p=0,g=c;p<g&&s(a(t[l%c][n]),r,o);++p)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:i.style}}(i,t,e),b=[];let I,T,M,w=!1,x=null;for(let ie=d,pe=d;ie<=h;++ie)T=t[ie%s],!T.skip&&(I=l(T[n]),I!==M&&(w=c(I,r,o),null===x&&(w||c(r,M,I)&&0!==a(r,M))&&(x=0===a(I,r)?ie:pe),null!==x&&(!w||0===a(o,I)||c(o,M,I))&&(b.push(J9({start:x,end:ie,loop:p,count:s,style:g})),x=null),pe=ie,M=I));return null!==x&&b.push(J9({start:x,end:h,loop:p,count:s,style:g})),b}function t7(i,t){const e=[],n=i.segments;for(let r=0;r<n.length;r++){const o=e7(n[r],i.points,t);o.length&&e.push(...o)}return e}function r7(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function uEe(i,t){if(!t)return!1;const e=[],n=function(r,o){return _2(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(t,n)}class hEe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=I9.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let c,s=o.length-1,a=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rd=new hEe;const o7="transparent",mEe={boolean:(i,t,e)=>e>.5?t:i,color(i,t,e){const n=O9(i||o7),r=n.valid&&O9(t||o7);return r&&r.valid?r.mix(n,e).hexString():t},number:(i,t,e)=>i+(t-i)*e};class pEe{constructor(t,e,n,r){const o=e[n];r=B0([t.to,r,o,t.from]);const s=B0([t.from,o,r]);this._active=!0,this._fn=t.fn||mEe[t.type||typeof s],this._easing=F0[t.easing]||F0.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=B0([t.to,e,r,t.from]),this._from=B0([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(c=e/n%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class s7{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!bi(t))return;const e=Object.keys(hr.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!bi(o))return;const s={};for(const a of e)s[a]=o[a];(Pn(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,s)})})}_animateOptions(t,e){const n=e.options,r=function gEe(i,t){if(!t)return;let e=i.options;if(e)return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;i.options=t}(t,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&function fEe(i,t){const e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const o=i[n[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){const n=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const l=s[c];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const d=e[l];let h=o[l];const p=n.get(l);if(h){if(p&&h.active()){h.update(p,d,a);continue}h.cancel()}p&&p.duration?(o[l]=h=new pEe(p,t,l,d),r.push(h)):t[l]=d}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Rd.add(this._chart,n),!0):void 0}}function a7(i,t){const e=i&&i.options||{},n=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:n?o:r,end:n?r:o}}function c7(i,t){const e=[],n=i._getSortedDatasetMetas(t);let r,o;for(r=0,o=n.length;r<o;++r)e.push(n[r].index);return e}function l7(i,t,e,n={}){const r=i.keys,o="single"===n.mode;let s,a,c,l;if(null!==t){for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===e){if(n.all)continue;break}l=i.values[c],ur(l)&&(o||0===t||wl(t)===wl(l))&&(t+=l)}return t}}function d7(i,t){const e=i&&i.options.stacked;return e||void 0===e&&void 0!==t.stack}function xEe(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function u7(i,t,e,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function h7(i,t){const{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=n,c=o.axis,l=s.axis,d=function yEe(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}(o,s,n),h=t.length;let p;for(let g=0;g<h;++g){const b=t[g],{[c]:w,[l]:x}=b;p=(b._stacks||(b._stacks={}))[l]=xEe(r,d,w),p[a]=x,p._top=u7(p,s,!0,n.type),p._bottom=u7(p,s,!1,n.type),(p._visualValues||(p._visualValues={}))[a]=x}}function I2(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function z0(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[n]||void 0===o[n][e])return;delete o[n][e],void 0!==o[n]._visualValues&&void 0!==o[n]._visualValues[e]&&delete o[n]._visualValues[e]}}}const S2=i=>"reset"===i||"none"===i,m7=(i,t)=>t?i:Object.assign({},i);let hh=(()=>class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=d7(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&z0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(p,g,b,w)=>"x"===p?g:"r"===p?w:b,s=n.xAxisID=ti(r.xAxisID,I2(e,"x")),a=n.yAxisID=ti(r.yAxisID,I2(e,"y")),c=n.rAxisID=ti(r.rAxisID,I2(e,"r")),l=n.indexAxis,d=n.iAxisID=o(l,s,a,c),h=n.vAxisID=o(l,a,s,c);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&T9(this._data,this),e._stacked&&z0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(bi(n))this._data=function bEe(i,t){const{iScale:e,vScale:n}=t,r="x"===e.axis?"x":"y",o="x"===n.axis?"x":"y",s=Object.keys(i),a=new Array(s.length);let c,l,d;for(c=0,l=s.length;c<l;++c)d=s[c],a[c]={[r]:d,[o]:i[d]};return a}(n,this._cachedMeta);else if(r!==n){if(r){T9(r,this);const o=this._cachedMeta;z0(o),o._parsed=[]}n&&Object.isExtensible(n)&&function dCe(i,t){i._chartjs?i._chartjs.listeners.push(t):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),k9.forEach(e=>{const n="_onData"+h2(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return i._chartjs.listeners.forEach(a=>{"function"==typeof a[n]&&a[n](...o)}),s}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=n._stacked;n._stacked=d7(n.vScale,n),n.stack!==r.stack&&(o=!0,z0(n),n.stack=r.stack),this._resyncElements(e),(o||s!==n._stacked)&&h7(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,c=s.axis;let h,p,g,l=0===e&&n===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,g=o;else{g=Pn(o[e])?this.parseArrayData(r,o,e,n):bi(o[e])?this.parseObjectData(r,o,e,n):this.parsePrimitiveData(r,o,e,n);const b=()=>null===p[c]||d&&p[c]<d[c];for(h=0;h<n;++h)r._parsed[h+e]=p=g[h],l&&(b()&&(l=!1),d=p);r._sorted=l}a&&h7(this,g)}parsePrimitiveData(e,n,r,o){const{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,d=s.getLabels(),h=s===a,p=new Array(o);let g,b,w;for(g=0,b=o;g<b;++g)w=g+r,p[g]={[c]:h||s.parse(d[w],w),[l]:a.parse(n[w],w)};return p}parseArrayData(e,n,r,o){const{xScale:s,yScale:a}=e,c=new Array(o);let l,d,h,p;for(l=0,d=o;l<d;++l)h=l+r,p=n[h],c[l]={x:s.parse(p[0],h),y:a.parse(p[1],h)};return c}parseObjectData(e,n,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(o);let h,p,g,b;for(h=0,p=o;h<p;++h)g=h+r,b=n[g],d[h]={x:s.parse(ch(b,c),g),y:a.parse(ch(b,l),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this._cachedMeta,a=n[e.axis];return l7({keys:c7(this.chart,!0),values:n._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,o){const s=r[n.axis];let a=null===s?NaN:s;const c=o&&r._stacks[n.axis];o&&c&&(o.values=c,a=l7(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,c=this._getOtherScale(e),l=((i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:c7(this.chart,!0),values:null})(n,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=function wEe(i){const{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(c);let g,b;function w(){b=o[g];const x=b[c.axis];return!ur(b[e.axis])||h>x||p<x}for(g=0;g<a&&(w()||(this.updateRangeFromParsed(d,e,b,l),!s));++g);if(s)for(g=a-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(d,e,b,l);break}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=n.length;o<s;++o)a=n[o][e.axis],ur(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,o=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=function vEe(i){let t,e,n,r;return bi(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:!1===i}}(ti(this.options.clip,function _Ee(i,t,e){if(!1===e)return!1;const n=a7(i,e),r=a7(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,c,l),h=c;h<c+l;++h){const p=o[h];p.hidden||(p.active&&d?a.push(p):p.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function EEe(i,t,e){return uh(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function CEe(i,t){return uh(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const o="active"===n,s=this._cachedDataOpts,a=e+"-"+n,c=s[a],l=this.enableOptionSharing&&R0(r);if(c)return m7(c,l);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),h),b=Object.keys(hr.elements[e]),x=d.resolveNamedOptions(g,b,()=>this.getContext(r,o,n),p);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(m7(x,l))),x}_resolveAnimations(e,n,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,c=s[a];if(c)return c;let l;if(!1!==o.options.animation){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,n),g=h.getOptionScopes(this.getDataset(),p);l=h.createResolver(g,this.getContext(e,r,n))}const d=new s7(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||S2(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,o){S2(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!S2(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;const s=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const o=r.length,s=n.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,n,r=!0){const o=this._cachedMeta,s=o.data,a=e+n;let c;const l=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,n);r._stacked&&z0(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function DEe(i){const t=i.iScale,e=function TEe(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let r=0,o=e.length;r<o;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=D9(n.sort((r,o)=>r-o))}return i._cache.$bar}(t,i.type);let r,o,s,a,n=t._length;const c=()=>{32767===s||-32768===s||(R0(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),c();return n}function p7(i,t,e,n){return Pn(i)?function MEe(i,t,e,n){const r=e.parse(i[0],n),o=e.parse(i[1],n),s=Math.min(r,o),a=Math.max(r,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}(i,t,e,n):t[e.axis]=e.parse(i,n),t}function f7(i,t,e,n){const r=i.iScale,o=i.vScale,s=r.getLabels(),a=r===o,c=[];let l,d,h,p;for(l=e,d=e+n;l<d;++l)p=t[l],h={},h[r.axis]=a||r.parse(s[l],l),c.push(p7(p,h,o,l));return c}function M2(i){return i&&void 0!==i.barStart&&void 0!==i.barEnd}function PEe(i,t,e,n){let r=t.borderSkipped;const o={};if(!r)return void(i.borderSkipped=o);if(!0===r)return void(i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:d}=function REe(i){let t,e,n,r,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:n,reverse:t,top:r,bottom:o}}(i);"middle"===r&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=l:(e._bottom||0)===n?r=d:(o[g7(d,s,a,c)]=!0,r=l)),o[g7(r,s,a,c)]=!0,i.borderSkipped=o}function g7(i,t,e,n){return n?(i=function OEe(i,t,e){return i===t?e:i===e?t:i}(i,t,e),i=_7(i,e,t)):i=_7(i,t,e),i}function _7(i,t,e){return"start"===i?t:"end"===i?e:i}function FEe(i,{inflateAmount:t},e){i.inflateAmount="auto"===t?1===e?.33:0:t}let NEe=(()=>class i extends hh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,o){return f7(e,n,r,o)}parseArrayData(e,n,r,o){return f7(e,n,r,o)}parseObjectData(e,n,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===s.axis?c:l,h="x"===a.axis?c:l,p=[];let g,b,w,x;for(g=r,b=r+o;g<b;++g)x=n[g],w={},w[s.axis]=s.parse(ch(x,d),g),p.push(p7(ch(x,h),w,a,g));return p}updateRangeFromParsed(e,n,r,o){super.updateRangeFromParsed(e,n,r,o);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:o}=n,s=this.getParsed(e),a=s._custom,c=M2(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,o);for(let b=n;b<n+r;b++){const w=this.getParsed(b),x=s||Ai(w[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(b),I=this._calculateBarIndexPixels(b,h),T=(w._stacks||{})[c.axis],M={horizontal:d,base:x.base,enableBorderRadius:!T||M2(w._custom)||a===T._top||a===T._bottom,x:d?x.head:I.center,y:d?I.center:x.head,height:d?I.size:Math.abs(x.size),width:d?Math.abs(x.size):I.size};g&&(M.options=p||this.resolveDataElementOptions(b,e[b].active?"active":o));const F=M.options||e[b].options;PEe(M,F,T,a),FEe(M,F,h.ratio),this.updateElement(e[b],b,M,o)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,a=[],c=l=>{const d=l.controller.getParsed(n),h=d&&d[l.vScale.axis];if(Ai(h)||isNaN(h))return!0};for(const l of o)if((void 0===n||!c(l))&&((!1===s||-1===a.indexOf(l.stack)||void 0===s&&void 0===l.stack)&&a.push(l.stack),l.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const o=this._getStacks(e,r),s=void 0!==n?o.indexOf(n):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,o=[];let s,a;for(s=0,a=n.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||DEe(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),d=l._custom,h=M2(d);let w,x,p=l[n.axis],g=0,b=r?this.applyStack(n,l,r):p;b!==p&&(g=b-p,b=p),h&&(p=d.barStart,b=d.barEnd-d.barStart,0!==p&&wl(p)!==wl(d.barEnd)&&(g=0),g+=p);const I=Ai(s)||h?g:s;let T=n.getPixelForValue(I);if(w=this.chart.getDataVisibility(e)?n.getPixelForValue(g+b):T,x=w-T,Math.abs(x)<a){x=function AEe(i,t,e){return 0!==i?wl(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(x,n,c)*a,p===c&&(T-=x/2);const M=n.getPixelForDecimal(0),F=n.getPixelForDecimal(1),V=Math.min(M,F),Y=Math.max(M,F);T=Math.max(Math.min(T,Y),V),w=T+x,r&&!h&&(l._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(T))}if(T===n.getPixelForValue(c)){const M=wl(x)*n.getLineWidthForValue(c)/2;T+=M,x-=M}return{size:x,base:T,head:w,center:w+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,o=this.options,s=o.skipNull,a=ti(o.maxBarThickness,1/0);let c,l;if(n.grouped){const d=s?this._getStackCount(e):n.stackCount,h="flex"===o.barThickness?function SEe(i,t,e,n){const r=t.pixels,o=r[i];let s=i>0?r[i-1]:null,a=i<r.length-1?r[i+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/n,ratio:e.barPercentage,start:l}}(e,n,o,d):function IEe(i,t,e,n){const r=e.barThickness;let o,s;return Ai(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:t.pixels[i]-o/2}}(e,n,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=h.start+h.chunk*p+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[n.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),LEe=(()=>class i extends hh{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,o){const s=super.parsePrimitiveData(e,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,n,r,o){const s=super.parseArrayData(e,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=ti(n[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,n,r,o){const s=super.parseObjectData(e,n,r,o);for(let a=0;a<s.length;a++){const c=n[r+a];s[a]._custom=ti(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(n,o),h=a.axis,p=c.axis;for(let g=n;g<n+r;g++){const b=e[g],w=!s&&this.getParsed(g),x={},I=x[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(w[h]),T=x[p]=s?c.getBasePixel():c.getPixelForValue(w[p]);x.skip=isNaN(I)||isNaN(T),d&&(x.options=l||this.resolveDataElementOptions(g,b.active?"active":o),s&&(x.options.radius=0)),this.updateElement(b,g,x,o)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==n&&(o.radius=0),o.radius+=ti(r&&r._custom,s),o}})(),A2=(()=>class i extends hh{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,c,s=l=>+r[l];if(bi(r[e])){const{key:l="value"}=this._parsing;s=d=>+ch(r[d],l)}for(a=e,c=e+n;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return wc(this.options.rotation-90)}_getCircumference(){return wc(this.options.circumference)}_getRotationExtents(){let e=Fn,n=-Fn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(((i,t)=>"string"==typeof i&&i.endsWith("%")?parseFloat(i)/100:+i/t)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:b,offsetX:w,offsetY:x}=function VEe(i,t,e){let n=1,r=1,o=0,s=0;if(t<Fn){const a=i,c=a+t,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),p=Math.sin(c),g=(M,F,V)=>O0(M,a,c,!0)?1:Math.max(F,F*e,V,V*e),b=(M,F,V)=>O0(M,a,c,!0)?-1:Math.min(F,F*e,V,V*e),w=g(0,l,h),x=g(Er,d,p),I=b(On,l,h),T=b(On+Er,d,p);n=(w-I)/2,r=(x-T)/2,o=-(w+I)/2,s=-(x+T)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}(p,h,l),M=Math.max(Math.min((r.width-a)/g,(r.height-a)/b)/2,0),F=g9(this.options.radius,M),Y=(F-Math.max(F*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=w*F,this.offsetY=x*F,o.total=this.calculateTotal(),this.outerRadius=F-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Fn)}updateElements(e,n,r,o){const s="reset"===o,a=this.chart,c=a.chartArea,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,g=s&&a.options.animation.animateScale,b=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:x,includeOptions:I}=this._getSharedOptions(n,o);let M,T=this._getRotation();for(M=0;M<n;++M)T+=this._circumference(M,s);for(M=n;M<n+r;++M){const F=this._circumference(M,s),V=e[M],Y={x:h+this.offsetX,y:p+this.offsetY,startAngle:T,endAngle:T+F,circumference:F,outerRadius:w,innerRadius:b};I&&(Y.options=x||this.resolveDataElementOptions(M,V.active?"active":o)),T+=F,this.updateElement(V,M,Y,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let o,r=0;for(o=0;o<n.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Fn*(Math.abs(e)/n):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=N0(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let o,s,a,c,l;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,c=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ti(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),BEe=(()=>class i extends hh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:c,count:l}=M9(n,o,a);this._drawStart=c,this._drawCount=l,A9(n)&&(c=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,c,l,e)}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,o),g=a.axis,b=c.axis,{spanGaps:w,segment:x}=this.options,I=w_(w)?w:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||s||"none"===o,M=n+r,F=e.length;let V=n>0&&this.getParsed(n-1);for(let Y=0;Y<F;++Y){const le=e[Y],ie=T?le:{};if(Y<n||Y>=M){ie.skip=!0;continue}const pe=this.getParsed(Y),Te=Ai(pe[b]),_e=ie[g]=a.getPixelForValue(pe[g],Y),be=ie[b]=s||Te?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,pe,l):pe[b],Y);ie.skip=isNaN(_e)||isNaN(be)||Te,ie.stop=Y>0&&Math.abs(pe[g]-V[g])>I,x&&(ie.parsed=pe,ie.raw=d.data[Y]),p&&(ie.options=h||this.resolveDataElementOptions(Y,le.active?"active":o)),T||this.updateElement(le,Y,ie,o),V=pe}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),v7=(()=>class i extends hh{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=N0(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,n,r,o){return G9.bind(this)(e,n,r,o)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,o=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(o/2,0),c=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,r,o){const s="reset"===o,a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,p=d.yCenter,g=d.getIndexAngle(0)-.5*On;let w,b=g;const x=360/this.countVisibleElements();for(w=0;w<n;++w)b+=this._computeAngle(w,o,x);for(w=n;w<n+r;w++){const I=e[w];let T=b,M=b+this._computeAngle(w,o,x),F=a.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;b=M,s&&(l.animateScale&&(F=0),l.animateRotate&&(T=M=g));const V={x:h,y:p,innerRadius:0,outerRadius:F,startAngle:T,endAngle:M,options:this.resolveDataElementOptions(w,I.active?"active":o)};this.updateElement(I,w,V,o)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?wc(this.resolveDataElementOptions(e,n).angle||r):0}})();var zEe=Object.freeze({__proto__:null,BarController:NEe,BubbleController:LEe,DoughnutController:A2,LineController:BEe,PieController:(()=>class i extends A2{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:v7,RadarController:(()=>class i extends hh{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,o){return G9.bind(this)(e,n,r,o)}update(e){const n=this._cachedMeta,r=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let c=n;c<n+r;c++){const l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":o),h=s.getPointPositionForValue(c,this.getParsed(c).r),p=a?s.xCenter:h.x,g=a?s.yCenter:h.y,b={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:d};this.updateElement(l,c,b,o)}}})(),ScatterController:(()=>class i extends hh{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled;let{start:s,count:a}=M9(n,r,o);if(this._drawStart=s,this._drawCount=a,A9(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(n,o),p=this.getSharedOptions(h),g=this.includeOptions(o,p),b=a.axis,w=c.axis,{spanGaps:x,segment:I}=this.options,T=w_(x)?x:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||"none"===o;let F=n>0&&this.getParsed(n-1);for(let V=n;V<n+r;++V){const Y=e[V],le=this.getParsed(V),ie=M?Y:{},pe=Ai(le[w]),Te=ie[b]=a.getPixelForValue(le[b],V),_e=ie[w]=s||pe?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,le,l):le[w],V);ie.skip=isNaN(Te)||isNaN(_e)||pe,ie.stop=V>0&&Math.abs(le[b]-F[b])>T,I&&(ie.parsed=le,ie.raw=d.data[V]),g&&(ie.options=p||this.resolveDataElementOptions(V,Y.active?"active":o)),M||this.updateElement(Y,V,ie,o),F=le}this.updateSharedOptions(p,o,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let l=n.length-1;l>=0;--l)c=Math.max(c,n[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,s,a)/2}})()});function bp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class R2{static override(t){Object.assign(R2.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return bp()}parse(){return bp()}format(){return bp()}add(){return bp()}diff(){return bp()}startOf(){return bp()}endOf(){return bp()}}var HEe__date=R2;function jEe(i,t,e,n){const{controller:r,data:o,_sorted:s}=i,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const c=a._reversePixels?cCe:Md;if(!n)return c(o,t,e);if(r._sharedOptions){const l=o[0],d="function"==typeof l.getRange&&l.getRange(t);if(d){const h=c(o,t,e-d),p=c(o,t,e+d);return{lo:h.lo,hi:p.hi}}}}return{lo:0,hi:o.length-1}}function H0(i,t,e,n,r){const o=i.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:d}=o[a],{lo:h,hi:p}=jEe(o[a],t,s,r);for(let g=h;g<=p;++g){const b=d[g];b.skip||n(b,l,g)}}}function P2(i,t,e,n,r){const o=[];return!r&&!i.isPointInArea(t)||H0(i,e,t,function(a,c,l){!r&&!Ad(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function O2(i,t,e,n,r,o){return o||i.isPointInArea(t)?"r"!==e||n?function WEe(i,t,e,n,r,o){let s=[];const a=function UEe(i){const t=-1!==i.indexOf("x"),e=-1!==i.indexOf("y");return function(n,r){const o=t?Math.abs(n.x-r.x):0,s=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return H0(i,e,t,function l(d,h,p){const g=d.inRange(t.x,t.y,r);if(n&&!g)return;const b=d.getCenterPoint(r);if(!o&&!i.isPointInArea(b)&&!g)return;const x=a(t,b);x<c?(s=[{element:d,datasetIndex:h,index:p}],c=x):x===c&&s.push({element:d,datasetIndex:h,index:p})}),s}(i,t,e,n,r,o):function $Ee(i,t,e,n){let r=[];return H0(i,e,t,function o(s,a,c){const{startAngle:l,endAngle:d}=s.getProps(["startAngle","endAngle"],n),{angle:h}=E9(s,{x:t.x,y:t.y});O0(h,l,d)&&r.push({element:s,datasetIndex:a,index:c})}),r}(i,t,e,r):[]}function b7(i,t,e,n,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return H0(i,e,t,(c,l,d)=>{c[s](t[e],r)&&(o.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),n&&!a?[]:o}var GEe={evaluateInteractionItems:H0,modes:{index(i,t,e,n){const r=_p(t,i),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?P2(i,r,o,n,s):O2(i,r,o,!1,n,s),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{const d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(i,t,e,n){const r=_p(t,i),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?P2(i,r,o,n,s):O2(i,r,o,!1,n,s);if(a.length>0){const c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point:(i,t,e,n)=>P2(i,_p(t,i),e.axis||"xy",n,e.includeInvisible||!1),nearest:(i,t,e,n)=>O2(i,_p(t,i),e.axis||"xy",e.intersect,n,e.includeInvisible||!1),x:(i,t,e,n)=>b7(i,_p(t,i),"x",e.intersect,n),y:(i,t,e,n)=>b7(i,_p(t,i),"y",e.intersect,n)}};const y7=["left","top","right","bottom"];function j0(i,t){return i.filter(e=>e.pos===t)}function w7(i,t){return i.filter(e=>-1===y7.indexOf(e.pos)&&e.box.axis===t)}function U0(i,t){return i.sort((e,n)=>{const r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function x7(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function C7(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function QEe(i,t,e,n){const{pos:r,box:o}=e,s=i.maxPadding;if(!bi(r)){e.size&&(i[r]-=e.size);const h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?o.height:o.width),e.size=h.size/h.count,i[r]+=e.size}o.getPadding&&C7(s,o.getPadding());const a=Math.max(0,t.outerWidth-x7(s,i,"left","right")),c=Math.max(0,t.outerHeight-x7(s,i,"top","bottom")),l=a!==i.w,d=c!==i.h;return i.w=a,i.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function JEe(i,t){const e=t.maxPadding;return function n(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(i?["left","right"]:["top","bottom"])}function $0(i,t,e,n){const r=[];let o,s,a,c,l,d;for(o=0,s=i.length,l=0;o<s;++o){a=i[o],c=a.box,c.update(a.width||t.w,a.height||t.h,JEe(a.horizontal,t));const{same:h,other:p}=QEe(t,e,a,n);l|=h&&r.length,d=d||p,c.fullSize||r.push(a)}return l&&$0(r,t,e,n)||d}function iD(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function E7(i,t,e,n){const r=e.padding;let{x:o,y:s}=t;for(const a of i){const c=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){const h=t.w*d,p=l.size||c.height;R0(l.start)&&(s=l.start),c.fullSize?iD(c,r.left,s,e.outerWidth-r.right-r.left,p):iD(c,t.left+l.placed,s,h,p),l.start=s,l.placed+=h,s=c.bottom}else{const h=t.h*d,p=l.size||c.width;R0(l.start)&&(o=l.start),c.fullSize?iD(c,o,r.top,p,e.outerHeight-r.bottom-r.top):iD(c,o,t.top+l.placed,p,h),l.start=o,l.placed+=h,o=c.right}}t.x=o,t.y=s}var qo={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;-1!==e&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const r=Go(i.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=function KEe(i){const t=function qEe(i){const t=[];let e,n,r,o,s,a;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(i),e=U0(t.filter(l=>l.box.fullSize),!0),n=U0(j0(t,"left"),!0),r=U0(j0(t,"right")),o=U0(j0(t,"top"),!0),s=U0(j0(t,"bottom")),a=w7(t,"x"),c=w7(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:j0(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}(i.boxes),c=a.vertical,l=a.horizontal;Qi(i.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const d=c.reduce((w,x)=>x.box.options&&!1===x.box.options.display?w:w+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);C7(p,Go(n));const g=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),b=function ZEe(i,t){const e=function YEe(i){const t={};for(const e of i){const{stack:n,pos:r,stackWeight:o}=e;if(!n||!y7.includes(r))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=i.length;o<s;++o){a=i[o];const{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*n:c&&t.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:c&&t.availableHeight)}return e}(c.concat(l),h);$0(a.fullSize,g,h,b),$0(c,g,h,b),$0(l,g,h,b)&&$0(c,g,h,b),function XEe(i){const t=i.maxPadding;function e(n){const r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}(g),E7(a.leftAndTop,g,h,b),g.x+=g.w,g.y+=g.h,E7(a.rightAndBottom,g,h,b),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Qi(a.chartArea,w=>{const x=w.box;Object.assign(x,i.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class k7{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class eke extends k7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nD="$chartjs",tke={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},T7=i=>null===i||""===i,D7=!!tEe&&{passive:!0};function rke(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,D7)}function rD(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function ske(i,t,e){const n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||rD(a.addedNodes,n),s=s&&!rD(a.removedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function ake(i,t,e){const n=i.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||rD(a.removedNodes,n),s=s&&!rD(a.addedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const W0=new Map;let I7=0;function S7(){const i=window.devicePixelRatio;i!==I7&&(I7=i,W0.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function dke(i,t,e){const n=i.canvas,r=n&&D2(n);if(!r)return;const o=S9((a,c)=>{const l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,d=c.contentRect.height;0===l&&0===d||o(l,d)});return s.observe(r),function cke(i,t){W0.size||window.addEventListener("resize",S7),W0.set(i,t)}(i,o),s}function F2(i,t,e){e&&e.disconnect(),"resize"===t&&function lke(i){W0.delete(i),W0.size||window.removeEventListener("resize",S7)}(i)}function uke(i,t,e){const n=i.canvas,r=S9(o=>{null!==i.ctx&&e(function oke(i,t){const e=tke[i.type]||i.type,{x:n,y:r}=_p(i,t);return{type:e,chart:t,native:i,x:void 0!==n?n:null,y:void 0!==r?r:null}}(o,i))},i);return function nke(i,t,e){i&&i.addEventListener(t,e,D7)}(n,t,r),r}class hke extends k7{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function ike(i,t){const e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[nD]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",T7(r)){const o=Z9(i,"width");void 0!==o&&(i.width=o)}if(T7(n))if(""===i.style.height)i.height=i.width/(t||2);else{const o=Z9(i,"height");void 0!==o&&(i.height=o)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[nD])return!1;const n=e[nD].initial;["height","width"].forEach(o=>{const s=n[o];Ai(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=n.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[nD],!0}addEventListener(t,e,n){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:ske,detach:ake,resize:dke}[e]||uke)(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:F2,detach:F2,resize:F2}[e]||rke)(t,e,r),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return function eEe(i,t,e,n){const r=eD(i),o=gp(r,"margin"),s=JT(r.maxWidth,i,"clientWidth")||GT,a=JT(r.maxHeight,i,"clientHeight")||GT,c=function JCe(i,t,e){let n,r;if(void 0===t||void 0===e){const o=i&&D2(i);if(o){const s=o.getBoundingClientRect(),a=eD(o),c=gp(a,"border","width"),l=gp(a,"padding");t=s.width-l.width-c.width,e=s.height-l.height-c.height,n=JT(a.maxWidth,o,"clientWidth"),r=JT(a.maxHeight,o,"clientHeight")}else t=i.clientWidth,e=i.clientHeight}return{width:t,height:e,maxWidth:n||GT,maxHeight:r||GT}}(i,t,e);let{width:l,height:d}=c;if("content-box"===r.boxSizing){const p=gp(r,"border","width"),g=gp(r,"padding");l-=g.width+p.width,d-=g.height+p.height}return l=Math.max(0,l-o.width),d=Math.max(0,n?l/n:d-o.height),l=tD(Math.min(l,s,c.maxWidth)),d=tD(Math.min(d,a,c.maxHeight)),l&&!d&&(d=tD(l/2)),(void 0!==t||void 0!==e)&&n&&c.height&&d>c.height&&(d=c.height,l=tD(Math.floor(d*n))),{width:l,height:d}}(t,e,n,r)}isAttached(t){const e=t&&D2(t);return!(!e||!e.isConnected)}}class Pd{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return w_(this.x)&&w_(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}}function oD(i,t,e,n,r){const o=ti(n,0),s=Math.min(ti(r,i.length),i.length);let c,l,d,a=0;for(e=Math.ceil(e),r&&(c=r-n,e=c/Math.floor(c/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===d&&(t.push(i[l]),a++,d=Math.round(o+a*e))}const M7=(i,t,e)=>"top"===t||"left"===t?i[t]+e:i[t]-e,A7=(i,t)=>Math.min(t||i,i);function R7(i,t){const e=[],n=i.length/t,r=i.length;let o=0;for(;o<r;o+=n)e.push(i[Math.floor(o)]);return e}function wke(i,t,e){const n=i.ticks.length,r=Math.min(t,n-1),o=i._startPixel,s=i._endPixel,a=1e-6;let l,c=i.getPixelForTick(r);if(!(e&&(l=1===n?Math.max(c-o,s-c):0===t?(i.getPixelForTick(1)-c)/2:(c-i.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function G0(i){return i.drawTicks?i.tickLength:0}function P7(i,t){if(!i.display)return 0;const e=io(i.font,t),n=Go(i.padding);return(Pn(i.text)?i.text.length:1)*e.lineHeight+n.height}function kke(i,t,e){let n=g2(i);return(e&&"right"!==t||!e&&"right"===t)&&(n=(i=>"left"===i?"right":"right"===i?"left":i)(n)),n}class yp extends Pd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=ma(t,Number.POSITIVE_INFINITY),e=ma(e,Number.NEGATIVE_INFINITY),n=ma(n,Number.POSITIVE_INFINITY),r=ma(r,Number.NEGATIVE_INFINITY),{min:ma(t,n),max:ma(e,r),minDefined:ur(t),maxDefined:ur(e)}}getMinMax(t){let s,{min:e,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:n};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(n=Math.max(n,s.max));return e=o&&e>n?n:e,n=r&&e>n?e:n,{min:ma(e,ma(n,e)),max:ma(n,ma(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tn(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function RCe(i,t,e){const{min:n,max:r}=i,o=g9(t,(r-n)/2),s=(a,c)=>e&&0===a?0:a+c;return{min:s(n,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?R7(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function pke(i,t){const e=i.options.ticks,n=function fke(i){const t=i.options.offset,e=i._tickSize();return Math.floor(Math.min(i._length/e+(t?0:1),i._maxLength/e))}(i),r=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?function _ke(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return function vke(i,t,e,n){let s,r=0,o=e[0];for(n=Math.ceil(n),s=0;s<i.length;s++)s===o&&(t.push(i[s]),r++,o=e[r*n])}(t,l,o,s/r),l;const d=function gke(i,t,e){const n=function bke(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}(i),r=t.length/e;if(!n)return Math.max(r,1);const o=function rCe(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n==0&&(t.push(n),t.push(i/n));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(n);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>r)return c}return Math.max(r,1)}(o,t,r);if(s>0){let h,p;const g=s>1?Math.round((c-a)/(s-1)):null;for(oD(t,l,d,Ai(g)?0:a-g,a),h=0,p=s-1;h<p;h++)oD(t,l,d,o[h],o[h+1]);return oD(t,l,d,c,Ai(g)?t.length:c+g),l}return oD(t,l,d),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,n,t=this.options.reverse;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tn(this.options.afterUpdate,[this])}beforeSetDimensions(){Tn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Tn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=Tn(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Tn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=A7(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,c,l,s=r;if(!this._isVisible()||!e.display||r>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,g=mo(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:g/(n-1),h+6>a&&(a=g/(n-(t.offset?.5:1)),c=this.maxHeight-G0(t.grid)-e.padding-P7(t.title,this.chart.options.font),l=Math.sqrt(h*h+p*p),s=m2(Math.min(Math.asin(mo((d.highest.height+6)/a,-1,1)),Math.asin(mo(c/l,-1,1))-Math.asin(mo(p/l,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Tn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=P7(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=G0(o)+c):(t.height=this.maxHeight,t.width=G0(o)+c),n.display&&this.ticks.length){const{first:l,last:d,widest:h,highest:p}=this._getLabelSizes(),g=2*n.padding,b=wc(this.labelRotation),w=Math.cos(b),x=Math.sin(b);a?t.height=Math.min(this.maxHeight,t.height+(n.mirror?0:x*h.width+w*p.height)+g):t.width=Math.min(this.maxWidth,t.width+(n.mirror?0:w*h.width+x*p.height)+g),this._calculatePadding(l,d,x,w)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:o,padding:s},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?l?(p=r*t.width,g=n*e.height):(p=n*t.height,g=r*e.width):"start"===o?g=e.width:"end"===o?p=t.width:"inner"!==o&&(p=t.width/2,g=e.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+s)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;"start"===o?(d=0,h=t.height):"end"===o&&(d=e.height,h=0),this.paddingTop=d+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Ai(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=R7(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/A7(e,n));let h,p,g,b,w,x,I,T,M,F,V,l=0,d=0;for(h=0;h<e;h+=c){if(b=t[h].label,w=this._resolveTickFontOptions(h),r.font=x=w.string,I=o[x]=o[x]||{data:{},gc:[]},T=w.lineHeight,M=F=0,Ai(b)||Pn(b)){if(Pn(b))for(p=0,g=b.length;p<g;++p)V=b[p],!Ai(V)&&!Pn(V)&&(M=ZT(r,I.data,I.gc,M,V),F+=T)}else M=ZT(r,I.data,I.gc,M,b),F=T;s.push(M),a.push(F),l=Math.max(M,l),d=Math.max(F,d)}!function xke(i,t){Qi(i,e=>{const n=e.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}})}(o,e);const Y=s.indexOf(l),le=a.indexOf(d),ie=pe=>({width:s[pe]||0,height:a[pe]||0});return{first:ie(0),last:ie(e-1),widest:ie(Y),highest:ie(le),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function aCe(i){return mo(i,-32768,32767)}(this._alignToPixels?mp(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function Eke(i,t,e){return uh(i,{tick:e,index:t,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function Cke(i,t){return uh(i,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=wc(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*n>a*r?a/n:c/r:c*r<a*n?c/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:o,position:s,border:a}=r,c=o.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=G0(o),g=[],b=a.setContext(this.getContext()),w=b.display?b.width:0,x=w/2,I=function(Re){return mp(n,Re,w)};let T,M,F,V,Y,le,ie,pe,Te,_e,be,kt;if("top"===s)T=I(this.bottom),le=this.bottom-p,pe=T-x,_e=I(t.top)+x,kt=t.bottom;else if("bottom"===s)T=I(this.top),_e=t.top,kt=I(t.bottom)-x,le=T+x,pe=this.top+p;else if("left"===s)T=I(this.right),Y=this.right-p,ie=T-x,Te=I(t.left)+x,be=t.right;else if("right"===s)T=I(this.left),Te=t.left,be=I(t.right)-x,Y=T+x,ie=this.left+p;else if("x"===e){if("center"===s)T=I((t.top+t.bottom)/2+.5);else if(bi(s)){const Re=Object.keys(s)[0];T=I(this.chart.scales[Re].getPixelForValue(s[Re]))}_e=t.top,kt=t.bottom,le=T+x,pe=le+p}else if("y"===e){if("center"===s)T=I((t.left+t.right)/2);else if(bi(s)){const Re=Object.keys(s)[0];T=I(this.chart.scales[Re].getPixelForValue(s[Re]))}Y=T-x,ie=Y-p,Te=t.left,be=t.right}const Zt=ti(r.ticks.maxTicksLimit,h),Ei=Math.max(1,Math.ceil(h/Zt));for(M=0;M<h;M+=Ei){const Re=this.getContext(M),Ve=o.setContext(Re),rt=a.setContext(Re),tt=Ve.lineWidth,Oi=Ve.color,_n=rt.dash||[],qn=rt.dashOffset,es=Ve.tickWidth,ki=Ve.tickColor,Mc=Ve.tickBorderDash||[],Ac=Ve.tickBorderDashOffset;F=wke(this,M,c),void 0!==F&&(V=mp(n,F,tt),l?Y=ie=Te=be=V:le=pe=_e=kt=V,g.push({tx1:Y,ty1:le,tx2:ie,ty2:pe,x1:Te,y1:_e,x2:be,y2:kt,width:tt,color:Oi,borderDash:_n,borderDashOffset:qn,tickWidth:es,tickColor:ki,tickBorderDash:Mc,tickBorderDashOffset:Ac}))}return this._ticksLength=h,this._borderValue=T,g}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=o,p=G0(n.grid),g=p+d,b=h?-d:g,w=-wc(this.labelRotation),x=[];let I,T,M,F,V,Y,le,ie,pe,Te,_e,be,kt="middle";if("top"===r)Y=this.bottom-b,le=this._getXAxisLabelAlignment();else if("bottom"===r)Y=this.top+b,le=this._getXAxisLabelAlignment();else if("left"===r){const Ei=this._getYAxisLabelAlignment(p);le=Ei.textAlign,V=Ei.x}else if("right"===r){const Ei=this._getYAxisLabelAlignment(p);le=Ei.textAlign,V=Ei.x}else if("x"===e){if("center"===r)Y=(t.top+t.bottom)/2+g;else if(bi(r)){const Ei=Object.keys(r)[0];Y=this.chart.scales[Ei].getPixelForValue(r[Ei])+g}le=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)V=(t.left+t.right)/2-g;else if(bi(r)){const Ei=Object.keys(r)[0];V=this.chart.scales[Ei].getPixelForValue(r[Ei])}le=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===c?kt="top":"end"===c&&(kt="bottom"));const Zt=this._getLabelSizes();for(I=0,T=a.length;I<T;++I){M=a[I],F=M.label;const Ei=o.setContext(this.getContext(I));ie=this.getPixelForTick(I)+o.labelOffset,pe=this._resolveTickFontOptions(I),Te=pe.lineHeight,_e=Pn(F)?F.length:1;const Re=_e/2,Ve=Ei.color,rt=Ei.textStrokeColor,tt=Ei.textStrokeWidth;let _n,Oi=le;if(s?(V=ie,"inner"===le&&(Oi=I===T-1?this.options.reverse?"left":"right":0===I?this.options.reverse?"right":"left":"center"),be="top"===r?"near"===l||0!==w?-_e*Te+Te/2:"center"===l?-Zt.highest.height/2-Re*Te+Te:Te/2-Zt.highest.height:"near"===l||0!==w?Te/2:"center"===l?Zt.highest.height/2-Re*Te:Zt.highest.height-_e*Te,h&&(be*=-1),0!==w&&!Ei.showLabelBackdrop&&(V+=Te/2*Math.sin(w))):(Y=ie,be=(1-_e)*Te/2),Ei.showLabelBackdrop){const qn=Go(Ei.backdropPadding),es=Zt.heights[I],ki=Zt.widths[I];let Mc=be-qn.top,Ac=0-qn.left;switch(kt){case"middle":Mc-=es/2;break;case"bottom":Mc-=es}switch(le){case"center":Ac-=ki/2;break;case"right":Ac-=ki;break;case"inner":I===T-1?Ac-=ki:I>0&&(Ac-=ki/2)}_n={left:Ac,top:Mc,width:ki+qn.width,height:es+qn.height,color:Ei.backdropColor}}x.push({label:F,font:pe,textOffset:be,options:{rotation:w,color:Ve,strokeColor:rt,strokeWidth:tt,textAlign:Oi,textBaseline:kt,translation:[V,Y],backdrop:_n}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-wc(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,a=t+o,c=this._getLabelSizes().widest.width;let l,d;return"left"===e?r?(d=this.right+o,"near"===n?l="left":"center"===n?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,"near"===n?l="right":"center"===n?(l="center",d-=c/2):(l="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===n?l="right":"center"===n?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,"near"===n?l="left":"center"===n?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(c,l,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const c=r[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,d,h,p;this.isHorizontal()?(l=mp(t,this.left,s)-s/2,d=mp(t,this.right,a)+a/2,h=p=c):(h=mp(t,this.top,s)-s/2,p=mp(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,h),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&KT(n,r);const o=this.getLabelItems(t);for(const s of o)pp(n,s.label,0,s.textOffset,s.font,s.options);r&&QT(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const o=io(n.font),s=Go(n.padding),a=n.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||bi(e)?(c+=s.bottom,Pn(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=s.top;const{titleX:l,titleY:d,maxWidth:h,rotation:p}=function Tke(i,t,e,n){const{top:r,left:o,bottom:s,right:a,chart:c}=i,{chartArea:l,scales:d}=c;let p,g,b,h=0;const w=s-r,x=a-o;if(i.isHorizontal()){if(g=Wo(n,o,a),bi(e)){const I=Object.keys(e)[0];b=d[I].getPixelForValue(e[I])+w-t}else b="center"===e?(l.bottom+l.top)/2+w-t:M7(i,e,t);p=a-o}else{if(bi(e)){const I=Object.keys(e)[0];g=d[I].getPixelForValue(e[I])-x+t}else g="center"===e?(l.left+l.right)/2-x+t:M7(i,e,t);b=Wo(n,s,r),h="left"===e?-Er:Er}return{titleX:g,titleY:b,maxWidth:p,rotation:h}}(this,c,e,a);pp(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:p,textAlign:kke(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=ti(t.grid&&t.grid.z,-1),r=ti(t.border&&t.border.z,0);return this._isVisible()&&this.draw===yp.prototype.draw?[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[n]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return io(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sD{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function Ske(i){return"id"in i&&"defaults"in i})(e)&&(n=this.register(e));const r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function Dke(i,t,e){const n=M0(Object.create(null),[e?hr.get(e):{},hr.get(t),i.defaults]);hr.set(t,n),i.defaultRoutes&&function Ike(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),r=n.pop(),o=[i].concat(n).join("."),s=t[e].split("."),a=s.pop(),c=s.join(".");hr.route(o,r,c,a)})}(t,i.defaultRoutes),i.descriptors&&hr.describe(t,i.descriptors)}(t,s,n),this.override&&hr.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in hr[r]&&(delete hr[r][n],this.override&&delete hp[n])}}class Mke{constructor(){this.controllers=new sD(hh,"datasets",!0),this.elements=new sD(Pd,"elements"),this.plugins=new sD(Object,"plugins"),this.scales=new sD(yp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{const o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Qi(r,s=>{const a=n||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,n){const r=h2(t);Tn(n["before"+r],[],n),e[t](n),Tn(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var xl=new Mke;class Ake{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,n);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const o of t){const s=o.plugin;if(!1===Tn(s[n],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){Ai(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=ti(n.options&&n.options.plugins,{}),o=function Rke(i){const t={},e=[],n=Object.keys(xl.plugins.items);for(let o=0;o<n.length;o++)e.push(xl.getPlugin(n[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(n);return!1!==r||e?function Oke(i,{plugins:t,localIds:e},n,r){const o=[],s=i.getContext();for(const a of t){const c=a.id,l=Pke(n[c],r);null!==l&&o.push({plugin:a,options:Fke(i.config,{plugin:a,local:e[c]},l,s)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Pke(i,t){return t||!1!==i?!0===i?{}:i:null}function Fke(i,{plugin:t,local:e},n,r){const o=i.pluginScopeKeys(t),s=i.getOptionScopes(n,o);return e&&t.defaults&&s.push(t.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function N2(i,t){return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||(hr.datasets[i]||{}).indexAxis||"x"}function O7(i){if("x"===i||"y"===i||"r"===i)return i}function Vke(i){return"top"===i||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0}function L2(i,...t){if(O7(i))return i;for(const e of t){const n=e.axis||Vke(e.position)||i.length>1&&O7(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function F7(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function N7(i){const t=i.options||(i.options={});t.plugins=ti(t.plugins,{}),t.scales=function zke(i,t){const e=hp[i.type]||{scales:{}},n=t.scales||{},r=N2(i.type,t),o=Object.create(null);return Object.keys(n).forEach(s=>{const a=n[s];if(!bi(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=L2(s,a,function Bke(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return F7(i,"x",e[0])||F7(i,"y",e[0])}return{}}(s,i),hr.scales[a.type]),l=function Lke(i,t){return i===t?"_index_":"_value_"}(c,r),d=e.scales||{};o[s]=A0(Object.create(null),[{axis:c},a,d[c],d[l]])}),i.data.datasets.forEach(s=>{const a=s.type||i.type,c=s.indexAxis||N2(a,t),d=(hp[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=function Nke(i,t){let e=i;return"_index_"===i?e=t:"_value_"===i&&(e="x"===t?"y":"x"),e}(h,c),g=s[p+"AxisID"]||p;o[g]=o[g]||Object.create(null),A0(o[g],[{axis:p},n[g],d[h]])})}),Object.keys(o).forEach(s=>{const a=o[s];A0(a,[hr.scales[a.type],hr.scale])}),o}(i,t)}function L7(i){return(i=i||{}).datasets=i.datasets||[],i.labels=i.labels||[],i}const V7=new Map,B7=new Set;function aD(i,t){let e=V7.get(i);return e||(e=t(),V7.set(i,e),B7.add(e)),e}const q0=(i,t,e)=>{const n=ch(t,e);void 0!==n&&i.add(n)};class jke{constructor(t){this._config=function Hke(i){return(i=i||{}).data=L7(i.data),N7(i),i}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=L7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),N7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return aD(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return aD(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return aD(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return aD(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:o}=this,s=this._cachedScopes(t,n),a=s.get(e);if(a)return a;const c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(h=>q0(c,t,h))),d.forEach(h=>q0(c,r,h)),d.forEach(h=>q0(c,hp[o]||{},h)),d.forEach(h=>q0(c,hr,h)),d.forEach(h=>q0(c,b2,h))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),B7.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,hp[e]||{},hr.datasets[e]||{},{type:e},hr,b2]}resolveNamedOptions(t,e,n,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=z7(this._resolverCache,t,r);let c=s;(function $ke(i,t){const{isScriptable:e,isIndexable:n}=z9(i);for(const r of t){const o=e(r),s=n(r),a=(s||o)&&i[r];if(o&&(lh(a)||Uke(a))||s&&Pn(a))return!0}return!1})(s,e)&&(o.$shared=!1,c=x_(s,n=lh(n)?n():n,this.createResolver(t,n,a)));for(const l of e)o[l]=c[l];return o}createResolver(t,e,n=[""],r){const{resolver:o}=z7(this._resolverCache,t,n);return bi(e)?x_(o,e,void 0,r):o}}function z7(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const r=e.join();let o=n.get(r);return o||(o={resolver:C2(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,o)),o}const Uke=i=>bi(i)&&Object.getOwnPropertyNames(i).some(t=>lh(i[t])),Gke=["top","bottom","left","right","chartArea"];function H7(i,t){return"top"===i||"bottom"===i||-1===Gke.indexOf(i)&&"x"===t}function j7(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function U7(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Tn(e&&e.onComplete,[i],t)}function qke(i){const t=i.chart,e=t.options.animation;Tn(e&&e.onProgress,[i],t)}function $7(i){return T2()&&"string"==typeof i?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const cD={},W7=i=>{const t=$7(i);return Object.values(cD).filter(e=>e.canvas===t).pop()};function Yke(i,t,e){const n=Object.keys(i);for(const r of n){const o=+r;if(o>=t){const s=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=s)}}}function lD(i,t,e){return i.options.clip?i[e]:t[e]}let V2=(()=>class i{static defaults=hr;static instances=cD;static overrides=hp;static registry=xl;static version="4.4.3";static getChart=W7;static register(...e){xl.add(...e),G7()}static unregister(...e){xl.remove(...e),G7()}constructor(e,n){const r=this.config=new jke(n),o=$7(e),s=W7(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function mke(i){return!T2()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?eke:hke}(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;this.id=Zxe(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ake,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function uCe(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],cD[this.id]=this,c&&l?(Rd.listen(this,"complete",U7),Rd.listen(this,"progress",qke),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:s}=this;return Ai(e)?n&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Y9(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L9(this.canvas,this.ctx),this}stop(){return Rd.stop(this),this}resize(e,n){Rd.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,n,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Y9(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Tn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Qi(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const c=n[a],l=L2(a,c),d="r"===l,h="x"===l;return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Qi(s,a=>{const c=a.options,l=c.id,d=L2(l,c),h=ti(c.type,a.dtype);(void 0===c.position||H7(c.position,d)!==H7(a.dposition))&&(c.position=a.dposition),o[l]=!0;let p=null;l in r&&r[l].type===h?p=r[l]:(p=new(xl.getScale(h))({id:l,type:h,ctx:this.ctx,chart:this}),r[p.id]=p),p.init(c,e)}),Qi(o,(a,c)=>{a||delete r[c]}),Qi(r,a=>{qo.configure(this,a,a.options),qo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(j7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{0===n.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const s=n[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||N2(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=xl.getController(c),{datasetElementType:d,dataElementType:h}=hr.datasets[c];Object.assign(l,{dataElementType:xl.getElement(h),datasetElementType:d&&xl.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Qi(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),g=!o&&-1===s.indexOf(p);p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Qi(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(j7("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Qi(this.scales,e=>{qo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!b9(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of n)Yke(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<n;s++)if(!b9(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qo.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Qi(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,lh(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Rd.has(this)?this.attached&&!Rd.running(this)&&Rd.start(this):(this.draw(),U7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let o,s;for(o=0,s=n.length;o<s;++o){const a=n[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,o=!r.disabled,s=function Kke(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:lD(e,t,"left"),right:lD(e,t,"right"),top:lD(n,t,"top"),bottom:lD(n,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&KT(n,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&QT(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Ad(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){const s=GEe.modes[n];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=uh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(e,n){this.getDatasetMeta(e).hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);R0(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rd.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L9(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cD[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Qi(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,d)=>{n.addEventListener(this,l,d),e[l]=d},o=(l,d)=>{e[l]&&(n.removeEventListener(this,l,d),delete e[l])},s=(l,d)=>{this.canvas&&this.resize(l,d)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){Qi(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Qi(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const o=r?"set":"remove";let s,a,c,l;for("dataset"===n&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!$T(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(n=>n.plugin.id===e).length}_updateHoverStyles(e,n,r){const o=this.options.hover,s=(l,d)=>l.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),a=s(n,e),c=r?e:s(e,n);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,r,n),l=function tCe(i){return"mouseup"===i.type||"click"===i.type||"contextmenu"===i.type}(e),d=function Zke(i,t,e,n){return e&&"mouseout"!==i.type?n?t:i:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Tn(s.onHover,[e,c,this],this),l&&Tn(s.onClick,[e,c,this],this));const h=!$T(c,o);return(h||n)&&(this._active=c,this._updateHoverStyles(c,o,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,o){if("mouseout"===e.type)return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function G7(){return Qi(V2.instances,i=>i._plugins.invalidate())}function k_(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function dD(i,t,e,n,r,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,h=Math.max(t.outerRadius+n+e-l,0),p=d>0?d+n+e+l:0;let g=0;const b=r-c;if(n){const Ve=((d>0?d-n:0)+(h>0?h-n:0))/2;g=(b-(0!==Ve?b*Ve/(Ve+n):b))/2}const x=(b-Math.max(.001,b*h-e/On)/h)/2,I=c+x+g,T=r-x-g,{outerStart:M,outerEnd:F,innerStart:V,innerEnd:Y}=function Jke(i,t,e,n){const r=function Xke(i){return x2(i,["outerStart","outerEnd","innerStart","innerEnd"])}(i.options.borderRadius),o=(e-t)/2,s=Math.min(o,n*t/2),a=c=>{const l=(e-Math.min(o,c))*n/2;return mo(c,0,Math.min(o,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:mo(r.innerStart,0,s),innerEnd:mo(r.innerEnd,0,s)}}(t,p,h,T-I),le=h-M,ie=h-F,pe=I+M/le,Te=T-F/ie,_e=p+V,be=p+Y,kt=I+V/_e,Zt=T-Y/be;if(i.beginPath(),o){const Ei=(pe+Te)/2;if(i.arc(s,a,h,pe,Ei),i.arc(s,a,h,Ei,Te),F>0){const tt=k_(ie,Te,s,a);i.arc(tt.x,tt.y,F,Te,T+Er)}const Re=k_(be,T,s,a);if(i.lineTo(Re.x,Re.y),Y>0){const tt=k_(be,Zt,s,a);i.arc(tt.x,tt.y,Y,T+Er,Zt+Math.PI)}const Ve=(T-Y/p+(I+V/p))/2;if(i.arc(s,a,p,T-Y/p,Ve,!0),i.arc(s,a,p,Ve,I+V/p,!0),V>0){const tt=k_(_e,kt,s,a);i.arc(tt.x,tt.y,V,kt+Math.PI,I-Er)}const rt=k_(le,I,s,a);if(i.lineTo(rt.x,rt.y),M>0){const tt=k_(le,pe,s,a);i.arc(tt.x,tt.y,M,I-Er,pe)}}else{i.moveTo(s,a);const Ei=Math.cos(pe)*h+s,Re=Math.sin(pe)*h+a;i.lineTo(Ei,Re);const Ve=Math.cos(Te)*h+s,rt=Math.sin(Te)*h+a;i.lineTo(Ve,rt)}i.closePath()}function q7(i,t,e=t){i.lineCap=ti(e.borderCapStyle,t.borderCapStyle),i.setLineDash(ti(e.borderDash,t.borderDash)),i.lineDashOffset=ti(e.borderDashOffset,t.borderDashOffset),i.lineJoin=ti(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=ti(e.borderWidth,t.borderWidth),i.strokeStyle=ti(e.borderColor,t.borderColor)}function nTe(i,t,e){i.lineTo(e.x,e.y)}function Y7(i,t,e={}){const n=i.length,{start:r=0,end:o=n-1}=e,{start:s,end:a}=t,c=Math.max(r,s),l=Math.min(o,a);return{count:n,start:c,loop:t.loop,ilen:l<c&&!(r<s&&o<s||r>a&&o>a)?n+l-c:l-c}}function oTe(i,t,e,n){const{points:r,options:o}=t,{count:s,start:a,loop:c,ilen:l}=Y7(r,e,n),d=function rTe(i){return i.stepped?CCe:i.tension||"monotone"===i.cubicInterpolationMode?ECe:nTe}(o);let g,b,w,{move:h=!0,reverse:p}=n||{};for(g=0;g<=l;++g)b=r[(a+(p?l-g:g))%s],!b.skip&&(h?(i.moveTo(b.x,b.y),h=!1):d(i,w,b,p,o.stepped),w=b);return c&&(b=r[(a+(p?l:0))%s],d(i,w,b,p,o.stepped)),!!c}function sTe(i,t,e,n){const r=t.points,{count:o,start:s,ilen:a}=Y7(r,e,n),{move:c=!0,reverse:l}=n||{};let p,g,b,w,x,I,d=0,h=0;const T=F=>(s+(l?a-F:F))%o,M=()=>{w!==x&&(i.lineTo(d,x),i.lineTo(d,w),i.lineTo(d,I))};for(c&&(g=r[T(0)],i.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=r[T(p)],g.skip)continue;const F=g.x,V=g.y,Y=0|F;Y===b?(V<w?w=V:V>x&&(x=V),d=(h*d+F)/++h):(M(),i.lineTo(F,V),b=Y,h=0,w=x=V),I=V}M()}function B2(i){const t=i.options;return i._decimated||i._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?oTe:sTe}const dTe="function"==typeof Path2D;let uD=(()=>class i extends Pd{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(YCe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function lEe(i,t){const e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];const o=!!i._loop,{start:s,end:a}=function aEe(i,t,e,n){let r=0,o=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,n);return function n7(i,t,e,n){return n&&n.setContext&&e?function dEe(i,t,e,n){const r=i._chart.getContext(),o=r7(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,c=e.length,l=[];let d=o,h=t[0].start,p=h;function g(b,w,x,I){const T=a?-1:1;if(b!==w){for(b+=c;e[b%c].skip;)b-=T;for(;e[w%c].skip;)w+=T;b%c!=w%c&&(l.push({start:b%c,end:w%c,loop:x,style:I}),d=I,h=w%c)}}for(const b of t){h=a?h:b.start;let x,w=e[h%c];for(p=h+1;p<=b.end;p++){const I=e[p%c];x=r7(n.setContext(uh(r,{type:"segment",p0:w,p1:I,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),uEe(x,d)&&g(h,p-1,b.loop,d),w=I,d=x}h<p-1&&g(h,p-1,b.loop,d)}return l}(i,t,e,n):t}(i,!0===n?[{start:s,end:a,loop:o}]:function cEe(i,t,e,n){const r=i.length,o=[];let c,s=t,a=i[t];for(c=t+1;c<=e;++c){const l=i[c%r];l.skip||l.stop?a.skip||(o.push({start:t%r,end:(c-1)%r,loop:n=!1}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return null!==s&&o.push({start:t%r,end:s%r,loop:n}),o}(e,s,a<s?a+r:a,!!i._fullLoop&&0===s&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,n){const r=this.options,o=e[n],s=this.points,a=t7(this,{property:n,start:o,end:o});if(!a.length)return;const c=[],l=function aTe(i){return i.stepped?iEe:i.tension||"monotone"===i.cubicInterpolationMode?nEe:vp}(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:p,end:g}=a[d],b=s[p],w=s[g];if(b===w){c.push(b);continue}const I=l(b,w,Math.abs((o-b[n])/(w[n]-b[n])),r.stepped);I[n]=e[n],c.push(I)}return 1===c.length?c[0]:c}pathSegment(e,n,r){return B2(this)(e,this,n,r)}path(e,n,r){const o=this.segments,s=B2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const c of o)a&=s(e,this,c,{start:n,end:n+r-1});return!!a}draw(e,n,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function uTe(i,t,e,n){dTe&&!t.options.segment?function cTe(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),q7(i,t.options),i.stroke(r)}(i,t,e,n):function lTe(i,t,e,n){const{segments:r,options:o}=t,s=B2(t);for(const a of r)q7(i,o,a.style),i.beginPath(),s(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}(i,t,e,n)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Z7(i,t,e,n){const r=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<r.radius+r.hitRadius}let hTe=(()=>class i extends Pd{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return Z7(this,e,"x",n)}inYRange(e,n){return Z7(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){let n=(e=e||this.options||{}).radius||0;return n=Math.max(n,n&&e.hoverRadius||0),2*(n+(n&&e.borderWidth||0))}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Ad(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,w2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function K7(i,t){const{x:e,y:n,base:r,width:o,height:s}=i.getProps(["x","y","base","width","height"],t);let a,c,l,d,h;return i.horizontal?(h=s/2,a=Math.min(e,r),c=Math.max(e,r),l=n-h,d=n+h):(h=o/2,a=e-h,c=e+h,l=Math.min(n,r),d=Math.max(n,r)),{left:a,top:l,right:c,bottom:d}}function mh(i,t,e,n){return i?0:mo(t,e,n)}function z2(i,t,e,n){const r=null===t,o=null===e,a=i&&!(r&&o)&&K7(i,n);return a&&(r||Sd(t,a.left,a.right))&&(o||Sd(e,a.top,a.bottom))}function _Te(i,t){i.rect(t.x,t.y,t.w,t.h)}function H2(i,t,e={}){const n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0;return{x:i.x+n,y:i.y+r,w:i.w+((i.x+i.w!==e.x+e.w?t:0)-n),h:i.h+((i.y+i.h!==e.y+e.h?t:0)-r),radius:i.radius}}var bTe=Object.freeze({__proto__:null,ArcElement:class iTe extends Pd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:o,distance:s}=E9(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=(this.options.spacing+this.options.borderWidth)/2,b=ti(h,c-a)>=Fn||O0(o,a,c),w=Sd(s,l+p,d+p);return b&&w}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+o)/2,h=(s+a+l+c)/2;return{x:e+Math.cos(d)*h,y:n+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Fn?Math.floor(n/Fn):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const l=r*(1-Math.sin(Math.min(On,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function eTe(i,t,e,n,r){const{fullCircles:o,startAngle:s,circumference:a}=t;let c=t.endAngle;if(o){dD(i,t,e,n,c,r);for(let l=0;l<o;++l)i.fill();isNaN(a)||(c=s+(a%Fn||Fn))}dD(i,t,e,n,c,r),i.fill()}(t,this,l,o,s),function tTe(i,t,e,n,r){const{fullCircles:o,startAngle:s,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:p}=c,g="inner"===c.borderAlign;if(!l)return;i.setLineDash(h||[]),i.lineDashOffset=p,g?(i.lineWidth=2*l,i.lineJoin=d||"round"):(i.lineWidth=l,i.lineJoin=d||"bevel");let b=t.endAngle;if(o){dD(i,t,e,n,b,r);for(let w=0;w<o;++w)i.stroke();isNaN(a)||(b=s+(a%Fn||Fn))}g&&function Qke(i,t,e){const{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=t;let l=r/a;i.beginPath(),i.arc(o,s,a,n-l,e+l),c>r?(l=r/c,i.arc(o,s,c,e+l,n-l,!0)):i.arc(o,s,r,e+Er,n-Er),i.closePath(),i.clip()}(i,t,b),o||(dD(i,t,e,n,b,r),i.stroke())}(t,this,l,o,s),t.restore()}},BarElement:class vTe extends Pd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:s}=function fTe(i){const t=K7(i),e=t.right-t.left,n=t.bottom-t.top,r=function mTe(i,t,e){const r=i.borderSkipped,o=B9(i.options.borderWidth);return{t:mh(r.top,o.top,0,e),r:mh(r.right,o.right,0,t),b:mh(r.bottom,o.bottom,0,e),l:mh(r.left,o.left,0,t)}}(i,e/2,n/2),o=function pTe(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=fp(r),s=Math.min(t,e),a=i.borderSkipped,c=n||bi(r);return{topLeft:mh(!c||a.top||a.left,o.topLeft,0,s),topRight:mh(!c||a.top||a.right,o.topRight,0,s),bottomLeft:mh(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:mh(!c||a.bottom||a.right,o.bottomRight,0,s)}}(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function gTe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}(s.radius)?V0:_Te;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,H2(s,e,o)),t.clip(),a(t,H2(o,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,H2(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return z2(this,t,e,n)}inXRange(t,e){return z2(this,t,null,e)}inYRange(t,e){return z2(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:uD,PointElement:hTe});const j2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Q7=j2.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function X7(i){return j2[i%j2.length]}function J7(i){return Q7[i%Q7.length]}function eq(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}var kTe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:n},options:r}=i.config,{elements:o}=r;if(!e.forceOverride&&(eq(n)||function ETe(i){return i&&(i.borderColor||i.backgroundColor)}(r)||o&&eq(o)))return;const s=function CTe(i){let t=0;return(e,n)=>{const r=i.getDatasetMeta(n).controller;r instanceof A2?t=function wTe(i,t){return i.backgroundColor=i.data.map(()=>X7(t++)),t}(e,t):r instanceof v7?t=function xTe(i,t){return i.backgroundColor=i.data.map(()=>J7(t++)),t}(e,t):r&&(t=function yTe(i,t){return i.borderColor=X7(t),i.backgroundColor=J7(t),++t}(e,t))}}(i);n.forEach(s)}};function tq(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function iq(i){i.data.datasets.forEach(t=>{tq(t)})}var STe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled)return void iq(i);const n=i.width;i.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,c=i.getDatasetMeta(o),l=s||r.data;if("y"===B0([a,i.options.indexAxis])||!c.controller.supportsDecimation)return;const d=i.scales[c.xAxisID];if("linear"!==d.type&&"time"!==d.type||i.options.parsing)return;let b,{start:h,count:p}=function ITe(i,t){const e=t.length;let r,n=0;const{iScale:o}=i,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(n=mo(Md(t,o.axis,s).lo,0,e-1)),r=l?mo(Md(t,o.axis,a).hi+1,n,e)-n:e-n,{start:n,count:r}}(c,l);if(p<=(e.threshold||4*n))tq(r);else{switch(Ai(s)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":b=function TTe(i,t,e,n,r){const o=r.samples||n;if(o>=e)return i.slice(t,t+e);const s=[],a=(e-2)/(o-2);let c=0;const l=t+e-1;let h,p,g,b,w,d=t;for(s[c++]=i[d],h=0;h<o-2;h++){let T,x=0,I=0;const M=Math.floor((h+1)*a)+1+t,F=Math.min(Math.floor((h+2)*a)+1,e)+t,V=F-M;for(T=M;T<F;T++)x+=i[T].x,I+=i[T].y;x/=V,I/=V;const Y=Math.floor(h*a)+1+t,le=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:ie,y:pe}=i[d];for(g=b=-1,T=Y;T<le;T++)b=.5*Math.abs((ie-x)*(i[T].y-pe)-(ie-i[T].x)*(I-pe)),b>g&&(g=b,p=i[T],w=T);s[c++]=p,d=w}return s[c++]=i[l],s}(l,h,p,n,e);break;case"min-max":b=function DTe(i,t,e,n){let s,a,c,l,d,h,p,g,b,w,r=0,o=0;const x=[],T=i[t].x,F=i[t+e-1].x-T;for(s=t;s<t+e;++s){a=i[s],c=(a.x-T)/F*n,l=a.y;const V=0|c;if(V===d)l<b?(b=l,h=s):l>w&&(w=l,p=s),r=(o*r+a.x)/++o;else{const Y=s-1;if(!Ai(h)&&!Ai(p)){const le=Math.min(h,p),ie=Math.max(h,p);le!==g&&le!==Y&&x.push({...i[le],x:r}),ie!==g&&ie!==Y&&x.push({...i[ie],x:r})}s>0&&Y!==g&&x.push(i[Y]),x.push(a),d=V,o=0,b=w=l,h=p=g=s}}return x}(l,h,p,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=b}})},destroy(i){iq(i)}};function U2(i,t,e,n){if(n)return;let r=t[i],o=e[i];return"angle"===i&&(r=pa(r),o=pa(o)),{property:i,start:r,end:o}}function $2(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function nq(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function rq(i,t){let e=[],n=!1;return Pn(i)?(n=!0,e=i):e=function ATe(i,t){const{x:e=null,y:n=null}=i||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=$2(s,a,r);const c=r[s],l=r[a];null!==n?(o.push({x:c.x,y:n}),o.push({x:l.x,y:n})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}(i,t),e.length?new uD({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function oq(i){return i&&!1!==i.fill}function RTe(i,t,e){let r=i[t].fill;const o=[t];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!ur(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function PTe(i,t,e){const n=function LTe(i){const t=i.options,e=t.fill;let n=ti(e&&e.target,e);return void 0===n&&(n=!!t.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(i);if(bi(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return ur(r)&&Math.floor(r)===r?function OTe(i,t,e,n){return("-"===i||"+"===i)&&(e=t+e),!(e===t||e<0||e>=n)&&e}(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function zTe(i,t,e){const n=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:c}=HTe(o,t,"x");if(!(!c||s&&a))if(s)n.unshift(c);else if(i.push(c),!a)break}i.push(...n)}function HTe(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const r=n[e],o=i.segments,s=i.points;let a=!1,c=!1;for(let l=0;l<o.length;l++){const d=o[l],h=s[d.start][e],p=s[d.end][e];if(Sd(r,h,p)){a=r===h,c=r===p;break}}return{first:a,last:c,point:n}}class sq{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:o,radius:s}=this;return t.arc(r,o,s,(e=e||{start:0,end:Fn}).end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}}function W2(i,t,e){const n=function jTe(i){const{chart:t,fill:e,line:n}=i;if(ur(e))return function UTe(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function VTe(i){const{scale:t,index:e,line:n}=i,r=[],o=n.segments,s=n.points,a=function BTe(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const o=n[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(rq({x:null,y:t.bottom},n));for(let c=0;c<o.length;c++){const l=o[c];for(let d=l.start;d<=l.end;d++)zTe(r,s[d],a)}return new uD({points:r,options:{}})}(i);if("shape"===e)return!0;const r=function $Te(i){return(i.scale||{}).getPointPositionForValue?function GTe(i){const{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,o=n.reverse?t.max:t.min,s=function NTe(i,t,e){let n;return n="start"===i?e:"end"===i?t.options.reverse?t.min:t.max:bi(i)?i.value:t.getBaseValue(),n}(e,t,o),a=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,o);return new sq({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,s));return a}(i):function WTe(i){const{scale:t={},fill:e}=i,n=function FTe(i,t){let e=null;return"start"===i?e=t.bottom:"end"===i?e=t.top:bi(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(ur(n)){const r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(i)}(i);return r instanceof sq?r:rq(r,n)}(t),{line:r,scale:o,axis:s}=t,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:h=l}=c||{};n&&r.points.length&&(KT(i,e),function qTe(i,t){const{line:e,target:n,above:r,below:o,area:s,scale:a}=t,c=e._loop?"angle":t.axis;i.save(),"x"===c&&o!==r&&(aq(i,n,s.top),cq(i,{line:e,target:n,color:r,scale:a,property:c}),i.restore(),i.save(),aq(i,n,s.bottom)),cq(i,{line:e,target:n,color:o,scale:a,property:c}),i.restore()}(i,{line:r,target:n,above:d,below:h,area:e,scale:o,axis:s}),QT(i))}function aq(i,t,e){const{segments:n,points:r}=t;let o=!0,s=!1;i.beginPath();for(const a of n){const{start:c,end:l}=a,d=r[c],h=r[$2(c,l,r)];o?(i.moveTo(d.x,d.y),o=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),s=!!t.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(h.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function cq(i,t){const{line:e,target:n,property:r,color:o,scale:s}=t,a=function MTe(i,t,e){const n=i.segments,r=i.points,o=t.points,s=[];for(const a of n){let{start:c,end:l}=a;l=$2(c,l,r);const d=U2(e,r[c],r[l],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[c],end:r[l]});continue}const h=t7(t,d);for(const p of h){const g=U2(e,o[p.start],o[p.end],p.loop),b=e7(a,r,g);for(const w of b)s.push({source:w,target:p,start:{[e]:nq(d,g,"start",Math.max)},end:{[e]:nq(d,g,"end",Math.min)}})}}return s}(e,n,r);for(const{source:c,target:l,start:d,end:h}of a){const{style:{backgroundColor:p=o}={}}=c,g=!0!==n;i.save(),i.fillStyle=p,YTe(i,s,g&&U2(r,d,h)),i.beginPath();const b=!!e.pathSegment(i,c);let w;if(g){b?i.closePath():lq(i,n,h,r);const x=!!n.pathSegment(i,l,{move:b,reverse:!0});w=b&&x,w||lq(i,n,d,r)}i.closePath(),i.fill(w?"evenodd":"nonzero"),i.restore()}}function YTe(i,t,e){const{top:n,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};"x"===o&&(i.beginPath(),i.rect(s,n,a-s,r-n),i.clip())}function lq(i,t,e,n){const r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var ZTe={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,r=[];let o,s,a,c;for(s=0;s<n;++s)o=i.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof uD&&(c={visible:i.isDatasetVisible(s),index:s,fill:PTe(a,s,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<n;++s)c=r[s],c&&!1!==c.fill&&(c.fill=RTe(r,s,e.propagate))},beforeDraw(i,t,e){const n="beforeDraw"===e.drawTime,r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&W2(i.ctx,a,o))}},beforeDatasetsDraw(i,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const o=n[r].$filler;oq(o)&&W2(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!oq(n)||"beforeDatasetDraw"!==e.drawTime||W2(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const dq=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}};class uq extends Pd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Tn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=io(n.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=dq(n,o);let l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(s,o,a,c)+10):(d=this.maxHeight,l=this._fitCols(s,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a;let h=t;o.textAlign="left",o.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((b,w)=>{const x=n+e/2+o.measureText(b.text).width;(0===w||l[l.length-1]+x+2*a>s)&&(h+=d,l[l.length-(w>0?0:1)]=0,g+=d,p++),c[w]={left:0,top:g,row:p,width:x,height:r},l[l.length-1]+=x+a}),h}_fitCols(t,e,n,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=s-t;let h=a,p=0,g=0,b=0,w=0;return this.legendItems.forEach((x,I)=>{const{itemWidth:T,itemHeight:M}=function QTe(i,t,e,n,r){const o=function XTe(i,t,e,n){let r=i.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+n.measureText(r).width}(n,i,t,e),s=function JTe(i,t,e){let n=i;return"string"!=typeof t.text&&(n=hq(t,e)),n}(r,n,t.lineHeight);return{itemWidth:o,itemHeight:s}}(n,e,o,x,r);I>0&&g+M+2*a>d&&(h+=p+a,l.push({width:p,height:g}),b+=p+a,w++,p=g=0),c[I]={left:b,top:g,col:w,width:T,height:M},p=Math.max(p,T),g+=M+a}),h+=p,l.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:o}}=this,s=E_(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Wo(n,this.left+r,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=Wo(n,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+r}else{let a=0,c=Wo(n,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=Wo(n,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;KT(t,this),this._draw(),QT(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:o,labels:s}=t,a=hr.color,c=E_(t.rtl,this.left,this.width),l=io(s.font),{padding:d}=s,h=l.size,p=h/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:b,boxHeight:w,itemHeight:x}=dq(s,h),M=this.isHorizontal(),F=this._computeTitleHeight();g=M?{x:Wo(o,this.left+d,this.right-n[0]),y:this.top+d+F,line:0}:{x:this.left+d,y:Wo(o,this.top+F+d,this.bottom-e[0].height),line:0},K9(this.ctx,t.textDirection);const V=x+d;this.legendItems.forEach((Y,le)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const ie=r.measureText(Y.text).width,pe=c.textAlign(Y.textAlign||(Y.textAlign=s.textAlign)),Te=b+p+ie;let _e=g.x,be=g.y;c.setWidth(this.width),M?le>0&&_e+Te+d>this.right&&(be=g.y+=V,g.line++,_e=g.x=Wo(o,this.left+d,this.right-n[g.line])):le>0&&be+V>this.bottom&&(_e=g.x=_e+e[g.line].width+d,g.line++,be=g.y=Wo(o,this.top+F+d,this.bottom-e[g.line].height)),function(Y,le,ie){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;r.save();const pe=ti(ie.lineWidth,1);if(r.fillStyle=ti(ie.fillStyle,a),r.lineCap=ti(ie.lineCap,"butt"),r.lineDashOffset=ti(ie.lineDashOffset,0),r.lineJoin=ti(ie.lineJoin,"miter"),r.lineWidth=pe,r.strokeStyle=ti(ie.strokeStyle,a),r.setLineDash(ti(ie.lineDash,[])),s.usePointStyle){const Te={radius:w*Math.SQRT2/2,pointStyle:ie.pointStyle,rotation:ie.rotation,borderWidth:pe},_e=c.xPlus(Y,b/2);V9(r,Te,_e,le+p,s.pointStyleWidth&&b)}else{const Te=le+Math.max((h-w)/2,0),_e=c.leftForLtr(Y,b),be=fp(ie.borderRadius);r.beginPath(),Object.values(be).some(kt=>0!==kt)?V0(r,{x:_e,y:Te,w:b,h:w,radius:be}):r.rect(_e,Te,b,w),r.fill(),0!==pe&&r.stroke()}r.restore()}(c.x(_e),be,Y),_e=((i,t,e,n)=>i===(n?"left":"right")?e:"center"===i?(t+e)/2:t)(pe,_e+b+p,M?_e+Te:this.right,t.rtl),function(Y,le,ie){pp(r,ie.text,Y,le+x/2,l,{strikethrough:ie.hidden,textAlign:c.textAlign(ie.textAlign)})}(c.x(_e),be,Y),M?g.x+=Te+d:g.y+="string"!=typeof Y.text?hq(Y,l.lineHeight)+d:V}),Q9(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=io(e.font),r=Go(e.padding);if(!e.display)return;const o=E_(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.top+n.size/2;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+l,h=Wo(t.align,h,this.right-p);else{const b=this.columnSizes.reduce((w,x)=>Math.max(w,x.height),0);d=l+Wo(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const g=Wo(a,h,h+p);s.textAlign=o.textAlign(g2(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,pp(s,e.text,g,d,n)}_computeTitleHeight(){const t=this.options.title,e=io(t.font),n=Go(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,o;if(Sd(t,this.left,this.right)&&Sd(e,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Sd(t,r.left,r.left+r.width)&&Sd(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function eDe(i,t){return!(("mousemove"!==i&&"mouseout"!==i||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==i&&"mouseup"!==i))}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((i,t)=>null!==i&&null!==t&&i.datasetIndex===t.datasetIndex&&i.index===t.index)(r,n);r&&!o&&Tn(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&Tn(e.onHover,[t,n,this],this)}else n&&Tn(e.onClick,[t,n,this],this)}}function hq(i,t){return t*(i.text?i.text.length:0)}var tDe={id:"legend",_element:uq,start(i,t,e){const n=i.legend=new uq({ctx:i.ctx,options:e,chart:i});qo.configure(i,n,e),qo.addBox(i,n)},stop(i){qo.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;qo.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),d=Go(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class G2 extends Pd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Pn(n.text)?n.text.length:1;this._padding=Go(n.padding);const o=r*io(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:o,options:s}=this,a=s.align;let l,d,h,c=0;return this.isHorizontal()?(d=Wo(a,n,o),h=e+t,l=o-n):("left"===s.position?(d=n+t,h=Wo(a,r,e),c=-.5*On):(d=o-t,h=Wo(a,e,r),c=.5*On),l=r-e),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=io(e.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);pp(t,e.text,0,0,n,{color:e.color,maxWidth:c,rotation:l,textAlign:g2(e.align),textBaseline:"middle",translation:[s,a]})}}var nDe={id:"title",_element:G2,start(i,t,e){!function iDe(i,t){const e=new G2({ctx:i.ctx,options:t,chart:i});qo.configure(i,e,t),qo.addBox(i,e),i.titleBlock=e}(i,e)},stop(i){qo.removeBox(i,i.titleBlock),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;qo.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hD=new WeakMap;var rDe={id:"subtitle",start(i,t,e){const n=new G2({ctx:i.ctx,options:e,chart:i});qo.configure(i,n,e),qo.addBox(i,n),hD.set(i,n)},stop(i){qo.removeBox(i,hD.get(i)),hD.delete(i)},beforeUpdate(i,t,e){const n=hD.get(i);qo.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Y0={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){const a=i[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();n.add(c.x),r+=c.y,++o}}return{x:[...n].reduce((a,c)=>a+c)/n.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let o,s,a,e=t.x,n=t.y,r=Number.POSITIVE_INFINITY;for(o=0,s=i.length;o<s;++o){const c=i[o].element;if(c&&c.hasValue()){const d=p2(t,c.getCenterPoint());d<r&&(r=d,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,n=c.y}return{x:e,y:n}}};function Cl(i,t){return t&&(Pn(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Od(i){return("string"==typeof i||i instanceof String)&&i.indexOf("\n")>-1?i.split("\n"):i}function oDe(i,t){const{element:e,datasetIndex:n,index:r}=t,o=i.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:i,label:s,parsed:o.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function mq(i,t){const e=i.chart.ctx,{body:n,footer:r,title:o}=i,{boxWidth:s,boxHeight:a}=t,c=io(t.bodyFont),l=io(t.titleFont),d=io(t.footerFont),h=o.length,p=r.length,g=n.length,b=Go(t.padding);let w=b.height,x=0,I=n.reduce((F,V)=>F+V.before.length+V.lines.length+V.after.length,0);I+=i.beforeBody.length+i.afterBody.length,h&&(w+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),I&&(w+=g*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(I-g)*c.lineHeight+(I-1)*t.bodySpacing),p&&(w+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let T=0;const M=function(F){x=Math.max(x,e.measureText(F).width+T)};return e.save(),e.font=l.string,Qi(i.title,M),e.font=c.string,Qi(i.beforeBody.concat(i.afterBody),M),T=t.displayColors?s+2+t.boxPadding:0,Qi(n,F=>{Qi(F.before,M),Qi(F.lines,M),Qi(F.after,M)}),T=0,e.font=d.string,Qi(i.footer,M),e.restore(),x+=b.width,{width:x,height:w}}function cDe(i,t,e,n){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:c}}=i;let l="center";return"center"===n?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),function aDe(i,t,e,n){const{x:r,width:o}=n,s=e.caretSize+e.caretPadding;if("left"===i&&r+o+s>t.width||"right"===i&&r-o-s<0)return!0}(l,i,t,e)&&(l="center"),l}function pq(i,t,e){const n=e.yAlign||t.yAlign||function sDe(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}(i,e);return{xAlign:e.xAlign||t.xAlign||cDe(i,t,e,n),yAlign:n}}function fq(i,t,e,n){const{caretSize:r,caretPadding:o,cornerRadius:s}=i,{xAlign:a,yAlign:c}=e,l=r+o,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=fp(s);let b=function lDe(i,t){let{x:e,width:n}=i;return"right"===t?e-=n:"center"===t&&(e-=n/2),e}(t,a);const w=function dDe(i,t,e){let{y:n,height:r}=i;return"top"===t?n+=e:n-="bottom"===t?r+e:r/2,n}(t,c,l);return"center"===c?"left"===a?b+=l:"right"===a&&(b-=l):"left"===a?b-=Math.max(d,p)+r:"right"===a&&(b+=Math.max(h,g)+r),{x:mo(b,0,n.width-t.width),y:mo(w,0,n.height-t.height)}}function mD(i,t,e){const n=Go(e.padding);return"center"===t?i.x+i.width/2:"right"===t?i.x+i.width-n.right:i.x+n.left}function gq(i){return Cl([],Od(i))}function _q(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const vq={beforeTitle:Id,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:Id,beforeBody:Id,beforeLabel:Id,label(i){if(this&&this.options&&"dataset"===this.options.mode)return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return Ai(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Id,afterBody:Id,beforeFooter:Id,footer:Id,afterFooter:Id};function Us(i,t,e,n){const r=i[t].call(e,n);return typeof r>"u"?vq[t].call(e,n):r}let bq=(()=>class i extends Pd{static positioners=Y0;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,s=new s7(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function uDe(i,t,e){return uh(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,o=Us(r,"beforeTitle",this,e),s=Us(r,"title",this,e),a=Us(r,"afterTitle",this,e);let c=[];return c=Cl(c,Od(o)),c=Cl(c,Od(s)),c=Cl(c,Od(a)),c}getBeforeBody(e,n){return gq(Us(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,o=[];return Qi(e,s=>{const a={before:[],lines:[],after:[]},c=_q(r,s);Cl(a.before,Od(Us(c,"beforeLabel",this,s))),Cl(a.lines,Us(c,"label",this,s)),Cl(a.after,Od(Us(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,n){return gq(Us(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,o=Us(r,"beforeFooter",this,e),s=Us(r,"footer",this,e),a=Us(r,"afterFooter",this,e);let c=[];return c=Cl(c,Od(o)),c=Cl(c,Od(s)),c=Cl(c,Od(a)),c}_createItems(e){const n=this._active,r=this.chart.data,o=[],s=[],a=[];let l,d,c=[];for(l=0,d=n.length;l<d;++l)c.push(oDe(this.chart,n[l]));return e.filter&&(c=c.filter((h,p,g)=>e.filter(h,p,g,r))),e.itemSort&&(c=c.sort((h,p)=>e.itemSort(h,p,r))),Qi(c,h=>{const p=_q(e.callbacks,h);o.push(Us(p,"labelColor",this,h)),s.push(Us(p,"labelPointStyle",this,h)),a.push(Us(p,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const c=Y0[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=mq(this,r),d=Object.assign({},c,l),h=pq(this.chart,r,d),p=fq(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){const s=this.getCaretPosition(e,r,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:p}=fp(c),{x:g,y:b}=e,{width:w,height:x}=n;let I,T,M,F,V,Y;return"center"===s?(V=b+x/2,"left"===o?(I=g,T=I-a,F=V+a,Y=V-a):(I=g+w,T=I+a,F=V-a,Y=V+a),M=I):(T="left"===o?g+Math.max(l,h)+a:"right"===o?g+w-Math.max(d,p)-a:this.caretX,"top"===s?(F=b,V=F-a,I=T-a,M=T+a):(F=b+x,V=F+a,I=T+a,M=T-a),Y=F),{x1:I,x2:T,x3:M,y1:F,y2:V,y3:Y}}drawTitle(e,n,r){const o=this.title,s=o.length;let a,c,l;if(s){const d=E_(r.rtl,this.x,this.width);for(e.x=mD(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=io(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(o[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,o,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=s,h=io(s.bodyFont),p=mD(this,"left",s),g=o.x(p),w=n.y+(l<h.lineHeight?(h.lineHeight-l)/2:0);if(s.usePointStyle){const x={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=o.leftForLtr(g,d)+d/2,T=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,w2(e,x,I,T),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,w2(e,x,I,T)}else{e.lineWidth=bi(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=o.leftForLtr(g,d),I=o.leftForLtr(o.xPlus(g,1),d-2),T=fp(a.borderRadius);Object.values(T).some(M=>0!==M)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,V0(e,{x,y:w,w:d,h:l,radius:T}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),V0(e,{x:I,y:w+1,w:d-2,h:l-2,radius:T}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,w,d,l),e.strokeRect(x,w,d,l),e.fillStyle=a.backgroundColor,e.fillRect(I,w+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=r,p=io(r.bodyFont);let g=p.lineHeight,b=0;const w=E_(r.rtl,this.x,this.width),x=function(pe){n.fillText(pe,w.x(e.x+b),e.y+g/2),e.y+=g+s},I=w.textAlign(a);let T,M,F,V,Y,le,ie;for(n.textAlign=a,n.textBaseline="middle",n.font=p.string,e.x=mD(this,I,r),n.fillStyle=r.bodyColor,Qi(this.beforeBody,x),b=c&&"right"!==I?"center"===a?d/2+h:d+2+h:0,V=0,le=o.length;V<le;++V){for(T=o[V],M=this.labelTextColors[V],n.fillStyle=M,Qi(T.before,x),F=T.lines,c&&F.length&&(this._drawColorBox(n,e,V,w,r),g=Math.max(p.lineHeight,l)),Y=0,ie=F.length;Y<ie;++Y)x(F[Y]),g=p.lineHeight;Qi(T.after,x)}b=0,g=p.lineHeight,Qi(this.afterBody,x),e.y-=s}drawFooter(e,n,r){const o=this.footer,s=o.length;let a,c;if(s){const l=E_(r.rtl,this.x,this.width);for(e.x=mD(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=io(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,c=0;c<s;++c)n.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){const{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:h}=r,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:w}=fp(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(c+p,l),"top"===a&&this.drawCaret(e,n,r,o),n.lineTo(c+d-g,l),n.quadraticCurveTo(c+d,l,c+d,l+g),"center"===a&&"right"===s&&this.drawCaret(e,n,r,o),n.lineTo(c+d,l+h-w),n.quadraticCurveTo(c+d,l+h,c+d-w,l+h),"bottom"===a&&this.drawCaret(e,n,r,o),n.lineTo(c+b,l+h),n.quadraticCurveTo(c,l+h,c,l+h-b),"center"===a&&"left"===s&&this.drawCaret(e,n,r,o),n.lineTo(c,l+p),n.quadraticCurveTo(c,l,c+p,l),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=Y0[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=mq(this,e),l=Object.assign({},a,this._size),d=pq(n,e,l),h=fq(e,l,d,n);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Go(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,n),K9(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Q9(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,o=e.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),s=!$T(r,o),a=this._positionChanged(o,n);(s||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),c=this._positionChanged(a,e),l=n||!$T(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:o,options:s}=this,a=Y0[s.position].call(this,e,n);return!1!==a&&(r!==a.x||o!==a.y)}})();var hDe={id:"tooltip",_element:bq,positioners:Y0,afterInit(i,t,e){e&&(i.tooltip=new bq({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){i.tooltip&&i.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>"filter"!==i&&"itemSort"!==i&&"external"!==i,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mDe=Object.freeze({__proto__:null,Colors:kTe,Decimation:STe,Filler:ZTe,Legend:tDe,SubTitle:rDe,Title:nDe,Tooltip:hDe});function yq(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}let _De=(()=>class i extends yp{static id="category";static defaults={ticks:{callback:yq}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:s}of n)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ai(e))return null;const r=this.getLabels();return((i,t)=>null===i?null:mo(Math.round(i),0,t))(n=isFinite(n)&&r[n]===e?n:function fDe(i,t,e,n){const r=i.indexOf(t);return-1===r?((i,t,e,n)=>("string"==typeof t?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(i,t,e,n):r!==i.lastIndexOf(t)?e:r}(r,e,ti(n,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)o.push({value:a});return o}getLabelForValue(e){return yq.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function wq(i,t,{horizontal:e,minRotation:n}){const r=wc(n),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+i).length)}class pD extends yp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ai(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const s=c=>r=e?r:c,a=c=>o=n?o:c;if(t){const c=wl(r),l=wl(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(r===o){let c=0===o?1:Math.abs(.05*o);a(o+c),t||s(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:n}=t;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s=function vDe(i,t){const e=[],{bounds:r,step:o,min:s,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:p}=i,g=o||1,b=d-1,{min:w,max:x}=t,I=!Ai(s),T=!Ai(a),M=!Ai(l),F=(x-w)/(h+1);let Y,le,ie,pe,V=w9((x-w)/b/g)*g;if(V<1e-14&&!I&&!T)return[{value:w},{value:x}];pe=Math.ceil(x/V)-Math.floor(w/V),pe>b&&(V=w9(pe*V/b/g)*g),Ai(c)||(Y=Math.pow(10,c),V=Math.ceil(V*Y)/Y),"ticks"===r?(le=Math.floor(w/V)*V,ie=Math.ceil(x/V)*V):(le=w,ie=x),I&&T&&o&&function oCe(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}((a-s)/o,V/1e3)?(pe=Math.round(Math.min((a-s)/V,d)),V=(a-s)/pe,le=s,ie=a):M?(le=I?s:le,ie=T?a:ie,pe=l-1,V=(ie-le)/pe):(pe=(ie-le)/V,pe=P0(pe,Math.round(pe),V/1e3)?Math.round(pe):Math.ceil(pe));const Te=Math.max(C9(V),C9(le));Y=Math.pow(10,Ai(c)?Te:c),le=Math.round(le*Y)/Y,ie=Math.round(ie*Y)/Y;let _e=0;for(I&&(p&&le!==s?(e.push({value:s}),le<s&&_e++,P0(Math.round((le+_e*V)*Y)/Y,s,wq(s,F,i))&&_e++):le<s&&_e++);_e<pe;++_e){const be=Math.round((le+_e*V)*Y)/Y;if(T&&be>a)break;e.push({value:be})}return T&&p&&ie!==a?e.length&&P0(e[e.length-1].value,a,wq(a,F,i))?e[e.length-1].value=a:e.push({value:a}):(!T||ie===a)&&e.push({value:ie}),e}({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&x9(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return N0(t,this.chart.options.locale,this.options.ticks.format)}}const Z0=i=>Math.floor(dh(i)),wp=(i,t)=>Math.pow(10,Z0(i)+t);function xq(i){return i/Math.pow(10,Z0(i))==1}function Cq(i,t,e){const n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function q2(i){const t=i.ticks;if(t.display&&i.display){const e=Go(t.backdropPadding);return ti(t.font&&t.font.size,hr.font.size)+e.height}return 0}function CDe(i,t,e){return e=Pn(e)?e:[e],{w:xCe(i,t.string,e),h:e.length*t.lineHeight}}function Eq(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function kDe(i,t,e,n,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,c=0;n.start<t.l?(a=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/s,i.t=Math.min(i.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/s,i.b=Math.max(i.b,t.b+c))}function TDe(i,t,e){const n=i.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,c=i.getPointPosition(t,n+r+s,o),l=Math.round(m2(pa(c.angle+Er))),d=function ADe(i,t,e){return 90===e||270===e?i-=t/2:(e>270||e<90)&&(i-=t),i}(c.y,a.h,l),h=function SDe(i){return 0===i||180===i?"center":i<180?"left":"right"}(l),p=function MDe(i,t,e){return"right"===e?i-=t:"center"===e&&(i-=t/2),i}(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:p,top:d,right:p+a.w,bottom:d+a.h}}function DDe(i,t){if(!t)return!0;const{left:e,top:n,right:r,bottom:o}=i;return!(Ad({x:e,y:n},t)||Ad({x:e,y:o},t)||Ad({x:r,y:n},t)||Ad({x:r,y:o},t))}function RDe(i,t,e){const{left:n,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!Ai(a)){const c=fp(t.borderRadius),l=Go(t.backdropPadding);i.fillStyle=a;const d=n-l.left,h=r-l.top,p=o-n+l.width,g=s-r+l.height;Object.values(c).some(b=>0!==b)?(i.beginPath(),V0(i,{x:d,y:h,w:p,h:g,radius:c}),i.fill()):i.fillRect(d,h,p,g)}}function kq(i,t,e,n){const{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,Fn);else{let o=i.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=i.getPointPosition(s,t),r.lineTo(o.x,o.y)}}const fD={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$s=Object.keys(fD);function Tq(i,t){return i-t}function Dq(i,t){if(Ai(t))return null;const e=i._adapter,{parser:n,round:r,isoWeekday:o}=i._parseOpts;let s=t;return"function"==typeof n&&(s=n(s)),ur(s)||(s="string"==typeof n?e.parse(s,n):e.parse(s)),null===s?null:(r&&(s="week"!==r||!w_(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function Iq(i,t,e,n){const r=$s.length;for(let o=$s.indexOf(i);o<r-1;++o){const s=fD[$s[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=n)return $s[o]}return $s[r-1]}function Sq(i,t,e){if(e){if(e.length){const{lo:n,hi:r}=f2(e,t);i[e[n]>=t?e[n]:e[r]]=!0}}else i[t]=!0}function Mq(i,t,e){const n=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,n.push({value:a,major:!1});return 0!==o&&e?function BDe(i,t,e,n){const r=i._adapter,o=+r.startOf(t[0].value,n),s=t[t.length-1].value;let a,c;for(a=o;a<=s;a=+r.add(a,1,n))c=e[a],c>=0&&(t[c].major=!0);return t}(i,n,r,e):n}let Y2=(()=>class i extends yp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),o=this._adapter=new HEe__date(e.adapters.date);o.init(n),A0(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return void 0===e?null:Dq(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&l(this.getMinMax(!1))),o=ur(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),s=ur(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function lCe(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}(o,s,this.max);return this._unit=n.unit||(r.autoSkip?Iq(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):function LDe(i,t,e,n,r){for(let o=$s.length-1;o>=$s.indexOf(e);o--){const s=$s[o];if(fD[s].common&&i._adapter.diff(r,n,s)>=t-1)return s}return $s[e?$s.indexOf(e):0]}(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function VDe(i){for(let t=$s.indexOf(i)+1,e=$s.length;t<e;++t)if(fD[$s[t]].common)return $s[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),Mq(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,n=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),n=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=mo(n,0,a),r=mo(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||Iq(s.minUnit,n,r,this._getLabelCapacity(n)),c=ti(o.ticks.stepSize,1),l="week"===a&&s.isoWeekday,d=w_(l)||!0===l,h={};let g,b,p=n;if(d&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,d?"day":a),e.diff(r,n,a)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+a);const w="data"===o.ticks.source&&this.getDataTimestamps();for(g=p,b=0;g<r;g=+e.add(g,c,a),b++)Sq(h,g,w);return(g===r||"ticks"===o.bounds||1===b)&&Sq(h,g,w),Object.keys(h).sort(Tq).map(x=>+x)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,n){return this._adapter.format(e,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,n,r,o){const s=this.options,a=s.ticks.callback;if(a)return Tn(a,[e,n,r],this);const c=s.time.displayFormats,l=this._unit,d=this._majorUnit,p=d&&c[d],g=r[n];return this._adapter.format(e,o||(d&&p&&g&&g.major?p:l&&c[l]))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,o=wc(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Mq(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(Dq(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return D9(e.sort(Tq))}})();function gD(i,t,e){let o,s,a,c,n=0,r=i.length-1;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=Md(i,"pos",t)),({pos:o,time:a}=i[n]),({pos:s,time:c}=i[r])):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=Md(i,"time",t)),({time:o,pos:a}=i[n]),({time:s,pos:c}=i[r]));const l=s-o;return l?a+(c-a)*(t-o)/l:a}var HDe=Object.freeze({__proto__:null,CategoryScale:_De,LinearScale:class bDe extends pD{static id="linear";static defaults={ticks:{callback:YT.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ur(t)?t:0,this.max=ur(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=wc(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class xDe extends yp{static id="logarithmic";static defaults={ticks:{callback:YT.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=pD.prototype.parse.apply(this,[t,e]);if(0!==n)return ur(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ur(t)?Math.max(0,t):null,this.max=ur(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ur(this._userMin)&&(this.min=t===wp(this.min,0)?wp(this.min,-1):wp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const o=a=>n=t?n:a,s=a=>r=e?r:a;n===r&&(n<=0?(o(1),s(10)):(o(wp(n,-1)),s(wp(r,1)))),n<=0&&o(wp(r,-1)),r<=0&&s(wp(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,n=function wDe(i,{min:t,max:e}){t=ma(i.min,t);const n=[],r=Z0(t);let o=function yDe(i,t){let n=Z0(t-i);for(;Cq(i,t,n)>10;)n++;for(;Cq(i,t,n)<10;)n--;return Math.min(n,Z0(i))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((t-c)*s)/s,d=Math.floor((t-c)/a/10)*a*10;let h=Math.floor((l-d)/Math.pow(10,o)),p=ma(i.min,Math.round((c+d+h*Math.pow(10,o))*s)/s);for(;p<e;)n.push({value:p,major:xq(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+d+h*Math.pow(10,o))*s)/s;const g=ma(i.max,p);return n.push({value:g,major:xq(g),significand:h}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&x9(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":N0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=dh(t),this._valueRange=dh(this.max)-dh(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(dh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class NDe extends pD{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:YT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Go(q2(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ur(t)&&!isNaN(t)?t:0,this.max=ur(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/q2(this.options))}generateTickLabels(t){pD.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const r=Tn(this.options.pointLabels.callback,[e,n],this);return r||0===r?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?function EDe(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],o=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?On/o:0;for(let c=0;c<o;c++){const l=s.setContext(i.getPointLabelContext(c));r[c]=l.padding;const d=i.getPointPosition(c,i.drawingArea+r[c],a),h=io(l.font),p=CDe(i.ctx,h,i._pointLabels[c]);n[c]=p;const g=pa(i.getIndexAngle(c)+a),b=Math.round(m2(g));kDe(e,t,g,Eq(b,d.x,p.w,0,180),Eq(b,d.y,p.h,90,270))}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=function IDe(i,t,e){const n=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:q2(o)/2,additionalAngle:s?On/r:0};let l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];const h=TDe(i,d,c);n.push(h),"auto"===a&&(h.visible=DDe(h,l),h.visible&&(l=h))}return n}(i,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return pa(t*(Fn/(this._pointLabels.length||1))+wc(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Ai(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ai(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function FDe(i,t,e){return uh(i,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-Er+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),kq(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:o}=e,s=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&function PDe(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){const o=i._pointLabelItems[r];if(!o.visible)continue;const s=n.setContext(i.getPointLabelContext(r));RDe(e,s,o);const a=io(s.font),{x:c,y:l,textAlign:d}=o;pp(e,i._pointLabels[r],c,l+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,h)=>{if(0!==h||0===h&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(h),g=r.setContext(p),b=o.setContext(p);!function ODe(i,t,e,n,r){const o=i.ctx,s=t.circular,{color:a,lineWidth:c}=t;!s&&!n||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),kq(i,e,s,n),o.closePath(),o.stroke(),o.restore())}(this,g,c,s,b)}}),n.display){for(t.save(),a=s-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:p}=d;!p||!h||(t.lineWidth=p,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!e.reverse)return;const l=n.setContext(this.getContext(c)),d=io(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const h=Go(l.backdropPadding);t.fillRect(-s/2-h.left,-o-d.size/2-h.top,s+h.width,d.size+h.height)}pp(t,a.label,0,-o,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:Y2,TimeSeriesScale:class zDe extends Y2{static id="timeseries";static defaults=Y2.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gD(e,this.min),this._tableRange=gD(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],o=[];let s,a,c,l,d;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],c=r[s-1],l=r[s],Math.round((d+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||1===n.length)&&n.push(e),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(gD(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return gD(this._table,n*this._tableRange+this._minPos,!0)}}});const jDe=[zEe,bTe,mDe,HDe];let UDe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,V2.register(...jDe)}ngOnInit(){var e=this;return(0,re.Z)(function*(){yield e.getdata();const n=document.getElementById("myChart");new V2(n,{type:"line",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"Temperature in \xb0C",data:[12,19,3,5,2,3],borderWidth:2,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!1},{label:"Humidity in %",data:[30,50,20,40,60,70],borderWidth:2,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",fill:!1},{label:"Humidity in %",data:[2,8,6,5,8,7],borderWidth:2,borderColor:"rgba(13, 102, 255, 1)",backgroundColor:"rgba(13, 102, 255, 0.2)",fill:!1}]},options:{scales:{y:{beginAtZero:!0}}}})})()}logout(){this.auth.logout()}getdata(){var e=this;return(0,re.Z)(function*(){yield e.auth.humidityValue().subscribe(n=>{e.humidityValue=parseFloat(n.toFixed(2))}),yield e.auth.temperatureValue().subscribe(n=>{e.temperatureValue=parseFloat(n.toFixed(2))}),yield e.auth.pHValue().subscribe(n=>{e.pHValue=n}),yield e.auth.waterStateHigh().subscribe(n=>{e.waterStateHigh=n}),yield e.auth.waterStateLow().subscribe(n=>{e.waterStateLow=n})})()}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}openRelay(){window.location.href="/relay"}openQuantity(){window.location.href="/quantity"}openSprinker(){window.location.href="/sprinker"}openSetTime(){window.location.href="/set-time"}addgroup(){window.location.href="/set-time"}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc),S(i_))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-home"]],decls:82,vars:10,consts:[[1,"row","justify-content-center","mt-4"],[1,"cardContainer","mb-4"],[1,"card"],[1,"city"],["version","1.1","id","Layer_1","x","0px","y","0px","width","50px","height","50px","viewBox","0 0 100 100",0,"xml","space","preserve",1,"weather"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\hot_1684426.png"],[1,"temp"],[1,"minmaxContainer"],[1,"min"],[1,"minHeading"],[1,"minTemp"],[1,"max"],[1,"maxHeading"],[1,"maxTemp"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\humidity_4181405.png"],["id","image0","width","100","height","100","x","0","y","0","href","assets\\icon\\drop_3335624.png"],[1,"row","mb-4","justify-content-center"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-12","d-flex","justify-content-center"],[1,"space-card"],[1,"card3"],[1,"slide","slide1"],[1,"content"],[1,"icon"],["src","assets\\icon\\3.png",2,"width","100%"],[1,"slide","slide2"],[1,"row","mb-2"],[1,"col-12","justify-content-center","d-flex"],[1,"title-web","l-h3"],[1,"row","mb-4"],["src","assets\\image\\join_line.jpg",2,"width","250px","height","250px"],[1,"row",2,"background-color","white"],[1,"col"],["id","myChart"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"span",1)(2,"div",2)(3,"p",3),ue(4,"Temperature"),$(),Qc(),H(5,"svg",4),Xe(6,"image",5),$(),wu(),H(7,"p",6),ue(8),$(),H(9,"div",7)(10,"div",8)(11,"p",9),ue(12,"Min"),$(),H(13,"p",10),ue(14,"15\xb0"),$()(),H(15,"div",11)(16,"p",12),ue(17,"Max"),$(),H(18,"p",13),ue(19,"35\xb0"),$()()()()(),H(20,"span",1)(21,"div",2)(22,"p",3),ue(23,"Humidity"),$(),Qc(),H(24,"svg",4),Xe(25,"image",14),$(),wu(),H(26,"p",6),ue(27),$(),H(28,"div",7)(29,"div",8)(30,"p",9),ue(31,"Min"),$(),H(32,"p",10),ue(33,"40%"),$()(),H(34,"div",11)(35,"p",12),ue(36,"Max"),$(),H(37,"p",13),ue(38,"80%"),$()()()()(),H(39,"span",1)(40,"div",2)(41,"p",3),ue(42,"pH"),$(),Qc(),H(43,"svg",4),Xe(44,"image",15),$(),wu(),H(45,"p",6),ue(46),$(),H(47,"div",7)(48,"div",8)(49,"p",9),ue(50,"Min"),$(),H(51,"p",10),ue(52,"3"),$()(),H(53,"div",11)(54,"p",12),ue(55,"Max"),$(),H(56,"p",13),ue(57,"8"),$()()()()()(),H(58,"div",16)(59,"div",17)(60,"div",18)(61,"div",19)(62,"div",20)(63,"div",21)(64,"div",22),Xe(65,"img",23),$()()(),H(66,"div",24)(67,"div",21)(68,"h3"),ue(69,"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07"),$(),H(70,"h1"),ue(71),$()()()()()()(),H(72,"div",25)(73,"div",26)(74,"p",27),ue(75," Scan Qr Code \u0e40\u0e02\u0e49\u0e32\u0e01\u0e25\u0e38\u0e48\u0e21 Line \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 "),$()()(),H(76,"div",28)(77,"div",26),Xe(78,"img",29),$()(),H(79,"div",30)(80,"div",31),Xe(81,"canvas",32),$()()),2&n&&(Se(8),ll("",r.temperatureValue,"\xb0"),Se(19),ll("",r.humidityValue,"%"),Se(19),Jb(r.pHValue),Se(24),Je("c-red",0==r.waterStateHigh&&0==r.waterStateLow)("c-orange",0==r.waterStateHigh&&1==r.waterStateLow)("c-green",1==r.waterStateHigh&&1==r.waterStateLow),Se(1),ll(" ",1==r.waterStateHigh&&1==r.waterStateLow?"\u0e21\u0e32\u0e01\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&1==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 80 %":0==r.waterStateHigh&&0==r.waterStateLow?"\u0e15\u0e48\u0e33\u0e01\u0e27\u0e48\u0e32 10%":" "," "))},styles:['.l-h3[_ngcontent-%COMP%]{line-height:1.5}.button[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#141e47;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.button2[_ngcontent-%COMP%]{font-weight:600;border:solid 2px black;outline:0;padding:1rem 4rem;font-size:1.5rem;letter-spacing:.08rem;background-color:#fff;border-radius:.35rem;position:relative;cursor:pointer}.button2[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#02bb33;z-index:-1;border-radius:.35rem;border:solid 2px black;transition:all .3s ease-in-out}.button2.style-2[_ngcontent-%COMP%]:after{top:.5rem;left:.5rem}.button2.style-2[_ngcontent-%COMP%]:hover:after{width:calc(100% + .5rem);height:calc(100% + .5rem)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:500px;height:250px;transition:.5s}@media screen and (max-width: 450px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}@media screen and (max-width: 400px){.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:300px;height:200px}}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide1[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;z-index:1;transition:.7s;transform:translateY(100px)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide1[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:20px;box-sizing:border-box;transition:.8s;transform:translateY(-100px);background-color:#fff;box-shadow:0 20px 40px #0006}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]:hover   .slide.slide2[_ngcontent-%COMP%]{transform:translateY(0)}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:4px;bottom:15px;left:50%;transform:translate(-50%);background:#2c73df}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0;text-align:center;font-size:42px;font-weight:700}.space-card[_ngcontent-%COMP%]   .card3[_ngcontent-%COMP%]   .slide.slide2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;padding:0;font-size:24px;text-align:center;color:#414141}.title-web[_ngcontent-%COMP%]{color:#000;font-size:30px;font-weight:900}@media screen and (max-width: 440px){.title-web[_ngcontent-%COMP%]{font-size:15px}}.box-title[_ngcontent-%COMP%]{color:#fff;background-color:#fff;box-shadow:0 4px 20px #00000040;height:700px}.farm[_ngcontent-%COMP%]{width:100%}.sub-web[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:500}.cardContainer[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;position:relative;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{position:relative;width:370px;height:350px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:40px 10px;border-radius:10px;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);background-color:#ffffffa3;border:1px solid rgba(255,255,255,.089);cursor:pointer}.city[_ngcontent-%COMP%]{font-weight:700;font-size:35px;letter-spacing:1.2px;color:#000}.weather[_ngcontent-%COMP%]{font-weight:500;font-size:.7em;letter-spacing:1.2px;color:#000}.temp[_ngcontent-%COMP%]{font-size:1.8em;color:#000}.minmaxContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.min[_ngcontent-%COMP%], .max[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;padding:0 20px;gap:4px}.max[_ngcontent-%COMP%]{align-items:flex-start;border-left:2px solid rgb(0,0,0)}.maxHeading[_ngcontent-%COMP%], .minHeading[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#000}.maxTemp[_ngcontent-%COMP%], .minTemp[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#000}.cardContainer[_ngcontent-%COMP%]:before{width:100px;height:100px;content:"";position:absolute;background-color:#90a1ff;z-index:-1;border-radius:50%;left:100px;top:50px;transition:all 1s}.cardContainer[_ngcontent-%COMP%]:hover:before{transform:translate(-50px,50px)}']})}return i})(),Aq=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-login-outlet"]],decls:2,vars:0,consts:[[1,"content"]],template:function(n,r){1&n&&(H(0,"div",0),Xe(1,"router-outlet"),$())},dependencies:[Dy],styles:[".bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}"]})}return i})();const ph=function(i){return{"btn-dis":i}};let $De=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}ngOnInit(){this.getdata()}getdata(){this.db.object("quantityFT").valueChanges().subscribe(s=>{this.Fer=s}),this.db.object("quantityMB").valueChanges().subscribe(s=>{this.Mb=s}),this.db.object("quantityphup").valueChanges().subscribe(s=>{this.phUp=s}),this.db.object("quantityphdown").valueChanges().subscribe(s=>{this.phD=s})}reset(){this.Fer=0,this.Mb=0,this.phUp=0,this.phD=0}submit(){var e=this;return(0,re.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e16\u0e31\u0e07\u0e19\u0e49\u0e33","success"),e.db.object("quantityFT").set(e.Fer).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityMB").set(e.Mb).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphup").set(e.phUp).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantityphdown").set(e.phD).then(()=>console.log("Finish updating value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}FT(e){this.Fer=250===e?13:500===e?26:0,console.log(this.Fer)}MB(e){this.Mb=250===e?13:500===e?26:0,console.log(this.Mb)}PhUp(e){this.phUp=250===e?13:500===e?26:0,console.log(this.phUp)}PhD(e){this.phD=250===e?13:500===e?26:0,console.log(this.phD)}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc),S(i_))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-quantity"]],decls:67,vars:48,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fertilizer_2674327.png",1,"img1"],[1,"contentBx"],[1,"col"],[1,"btn",3,"disabled","ngClass","click"],["src","assets\\icon\\fertilizer_1670066.png",1,"img2"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img4"],[1,"col","justify-content-end","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"col","justify-content-start","d-flex"],[1,"btn-confirm","submit",3,"click"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"p",2),ue(3,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),$()(),H(4,"div",3)(5,"p",4),ue(6,"*\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e15\u0e34\u0e21\u0e44\u0e14\u0e49\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14 3 \u0e0a\u0e19\u0e34\u0e14"),$()()(),H(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Xe(11,"img",9),$(),H(12,"div",10)(13,"h2"),ue(14,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e1b\u0e38\u0e4b\u0e22"),$(),H(15,"div",11)(16,"button",12),Ie("click",function(){return r.FT(250)}),ue(17," 250 ml "),$()(),H(18,"div",11)(19,"button",12),Ie("click",function(){return r.FT(500)}),ue(20," 500 ml "),$()()()()(),H(21,"div",6)(22,"div",7)(23,"div",8),Xe(24,"img",13),$(),H(25,"div",10)(26,"h2"),ue(27,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),$(),H(28,"div",11)(29,"button",12),Ie("click",function(){return r.MB(250)}),ue(30," 250 ml "),$()(),H(31,"div",11)(32,"button",12),Ie("click",function(){return r.MB(500)}),ue(33," 500 ml "),$()()()()(),H(34,"div",6)(35,"div",7)(36,"div",8),Xe(37,"img",14),$(),H(38,"div",10)(39,"h2"),ue(40,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH"),$(),H(41,"div",11)(42,"button",12),Ie("click",function(){return r.PhUp(250)}),ue(43," 250 ml "),$()(),H(44,"div",11)(45,"button",12),Ie("click",function(){return r.PhUp(500)}),ue(46," 500 ml "),$()()()()(),H(47,"div",6)(48,"div",7)(49,"div",8),Xe(50,"img",15),$(),H(51,"div",10)(52,"h2"),ue(53,"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e02\u0e2d\u0e07\u0e2a\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH"),$(),H(54,"div",11)(55,"button",12),Ie("click",function(){return r.PhD(250)}),ue(56," 250 ml "),$()(),H(57,"div",11)(58,"button",12),Ie("click",function(){return r.PhD(500)}),ue(59," 500 ml "),$()()()()()(),H(60,"div",5)(61,"div",16)(62,"button",17),Ie("click",function(){return r.reset()}),ue(63,"reset"),$()(),H(64,"div",18)(65,"button",19),Ie("click",function(){return r.submit()}),ue(66,"submit"),$()()()),2&n&&(Se(16),Je("active",13==r.Fer),ot("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",ud(32,ph,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),Se(3),Je("active",26==r.Fer),ot("disabled",0!=r.Mb&&0!=r.phUp&&0!=r.phD)("ngClass",ud(34,ph,0!=r.Mb&&0!=r.phUp&&0!=r.phD)),Se(10),Je("active",13==r.Mb),ot("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",ud(36,ph,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),Se(3),Je("active",26==r.Mb),ot("disabled",0!=r.Fer&&0!=r.phUp&&0!=r.phD)("ngClass",ud(38,ph,0!=r.Fer&&0!=r.phUp&&0!=r.phD)),Se(10),Je("active",13==r.phUp),ot("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",ud(40,ph,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),Se(3),Je("active",26==r.phUp),ot("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phD)("ngClass",ud(42,ph,0!=r.Fer&&0!=r.Mb&&0!=r.phD)),Se(10),Je("active",13==r.phD),ot("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",ud(44,ph,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)),Se(3),Je("active",26==r.phD),ot("disabled",0!=r.Fer&&0!=r.Mb&&0!=r.phUp)("ngClass",ud(46,ph,0!=r.Fer&&0!=r.Mb&&0!=r.phUp)))},dependencies:[KE],styles:['@media (max-width: 400px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active{background-color:#eecf06}.btn-dis[_ngcontent-%COMP%]{background-color:#c3c3c3;color:#000}.active[_ngcontent-%COMP%]{background-color:#eecf06}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#ffb414;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}']})}return i})(),WDe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.data={sft:"",swt:"",ft:"",mb:"",phU:"",phD:""},this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){var e=this;return(0,re.Z)(function*(){e.getData(),e.getDataFromRD()})()}getData(){this.db.object("relaystate/pumpStirring").valueChanges().subscribe(r=>{this.updateSwitchState("pumpStirring",r)}),this.db.object("relaystate/pumpUP").valueChanges().subscribe(r=>{this.updateSwitchState("pumpUP",r)})}getDataFromRD(){this.db.object("relaystate/fan").valueChanges().subscribe(d=>{this.Fan=d}),this.db.object("relaystate/led").valueChanges().subscribe(d=>{this.Led=d}),this.db.object("relaystate/pumpwater").valueChanges().subscribe(d=>{this.Pwater=d}),this.db.object("relaystate/pumpphDown").valueChanges().subscribe(d=>{this.PhD=d}),this.db.object("relaystate/pumpphUP").valueChanges().subscribe(d=>{this.PhU=d}),this.db.object("relaystate/fertilizers").valueChanges().subscribe(d=>{this.FT=d}),this.db.object("relaystate/microbial").valueChanges().subscribe(d=>{this.MB=d}),this.db.object("relaystate/valve").valueChanges().subscribe(d=>{this.Valve=d})}updateSwitchState(e,n){const r=document.getElementById(e);r&&(r.checked=n)}sendTime(){var e=this;return(0,re.Z)(function*(){e.data.ft=e.time_FT,e.data.mb=e.time_MB,e.data.phU=e.time_PHU,e.data.phD=e.time_PHD,200==(yield e.auth.Post("updateByTime",e.data)).status?e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","success"):e.auth.Swal("\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08","error"),console.log(e.data)})()}openPwater(e){this.Pwater=e,this.db.object("relaystate/pumpwater").set(this.Pwater)}openFan(e){this.Fan=e,this.db.object("relaystate/fan").set(this.Fan)}openLed(e){this.Led=e,this.db.object("relaystate/led").set(this.Led)}openFT(e){this.FT=e,this.db.object("relaystate/fertilizers").set(this.FT)}openMB(e){this.MB=e,this.db.object("relaystate/microbial").set(this.MB)}openPhU(e){this.PhU=e,this.db.object("relaystate/pumpphUP").set(this.PhU)}openPhD(e){this.PhD=e,this.db.object("relaystate/pumpphDown").set(this.PhD)}openValve(e){this.Valve=e,this.db.object("relaystate/valve").set(this.Valve)}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc),S(i_))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-relay"]],decls:106,vars:32,consts:[[1,"row"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\fan_2976070.png",1,"img3"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn",3,"click"],["src","assets\\icon\\led-light_6357876.png",1,"img3"],["src","assets/icon/pump_2299254.png",1,"img3"],["src","assets\\icon\\aquarius_7244962.png",1,"img4"],["src","assets\\icon\\fertilizer_2674327.png",1,"img3"],["src","assets\\icon\\fertilizer_1670066.png",1,"img3"],["src","assets\\icon\\ph_9285528.png",1,"img3"],["src","assets\\icon\\ph-meter_6355268.png",1,"img3"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Xe(4,"img",4),$(),H(5,"div",5)(6,"h2",6),ue(7,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1e\u0e31\u0e14\u0e25\u0e21\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(8,"div",7)(9,"button",8),Ie("click",function(){return r.openFan(!0)}),ue(10," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(11,"div",7)(12,"button",8),Ie("click",function(){return r.openFan(!1)}),ue(13," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(14,"div",1)(15,"div",2)(16,"div",3),Xe(17,"img",9),$(),H(18,"div",5)(19,"h2",6),ue(20,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e44\u0e1f\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(21,"div",7)(22,"button",8),Ie("click",function(){return r.openLed(!0)}),ue(23," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(24,"div",7)(25,"button",8),Ie("click",function(){return r.openLed(!1)}),ue(26," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(27,"div",1)(28,"div",2)(29,"div",3),Xe(30,"img",10),$(),H(31,"div",5)(32,"h2",6),ue(33,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e34\u0e14\u0e1b\u0e31\u0e4a\u0e21\u0e19\u0e49\u0e33\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(34,"div",7)(35,"button",8),Ie("click",function(){return r.openPwater(!0)}),ue(36," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(37,"div",7)(38,"button",8),Ie("click",function(){return r.openPwater(!1)}),ue(39," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(40,"div",1)(41,"div",2)(42,"div",3),Xe(43,"img",11),$(),H(44,"div",5)(45,"h2",6),ue(46,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e17\u0e34\u0e49\u0e07\u0e19\u0e49\u0e33\u0e43\u0e19\u0e16\u0e31\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(47,"div",7)(48,"button",8),Ie("click",function(){return r.openValve(!0)}),ue(49," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(50,"div",7)(51,"button",8),Ie("click",function(){return r.openValve(!1)}),ue(52," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()()(),H(53,"div",0)(54,"div",1)(55,"div",2)(56,"div",3),Xe(57,"img",12),$(),H(58,"div",5)(59,"h2",6),ue(60,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(61,"div",7)(62,"button",8),Ie("click",function(){return r.openFT(!0)}),ue(63," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(64,"div",7)(65,"button",8),Ie("click",function(){return r.openFT(!1)}),ue(66," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(67,"div",1)(68,"div",2)(69,"div",3),Xe(70,"img",13),$(),H(71,"div",5)(72,"h2",6),ue(73,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(74,"div",7)(75,"button",8),Ie("click",function(){return r.openMB(!0)}),ue(76," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(77,"div",7)(78,"button",8),Ie("click",function(){return r.openMB(!1)}),ue(79," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(80,"div",1)(81,"div",2)(82,"div",3),Xe(83,"img",14),$(),H(84,"div",5)(85,"h2",6),ue(86,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(87,"div",7)(88,"button",8),Ie("click",function(){return r.openPhU(!0)}),ue(89," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(90,"div",7)(91,"button",8),Ie("click",function(){return r.openPhU(!1)}),ue(92," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(93,"div",1)(94,"div",2)(95,"div",3),Xe(96,"img",15),$(),H(97,"div",5)(98,"h2",6),ue(99,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e14\u0e04\u0e48\u0e32 pH \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"),$(),H(100,"div",7)(101,"button",8),Ie("click",function(){return r.openPhD(!0)}),ue(102," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(103,"div",7)(104,"button",8),Ie("click",function(){return r.openPhD(!1)}),ue(105," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()()()),2&n&&(Se(9),Je("active",1==r.Fan),Se(3),Je("active",0==r.Fan),Se(10),Je("active",1==r.Led),Se(3),Je("active",0==r.Led),Se(10),Je("active",1==r.Pwater),Se(3),Je("active",0==r.Pwater),Se(10),Je("active",1==r.Valve),Se(3),Je("active",0==r.Valve),Se(11),Je("active",1==r.FT),Se(3),Je("active",0==r.FT),Se(10),Je("active",1==r.MB),Se(3),Je("active",0==r.MB),Se(10),Je("active",1==r.PhU),Se(3),Je("active",0==r.PhU),Se(10),Je("active",1==r.PhD),Se(3),Je("active",0==r.PhD))},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#aadfff;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#141e47;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:10000;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-65px;width:100%;height:240px;text-align:center;transition:1s;z-index:10}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-20deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-0deg);width:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:240px}.btn[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}']})}return i})(),GDe=(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.sf=0,this.sw=0,this.time_FT="",this.time_WT=""}ngOnInit(){var e=this;return(0,re.Z)(function*(){yield e.getdata(),yield e.getTime(),console.log(e.sw),console.log(e.sf)})()}reset(){this.sf=0,this.sw=0}resetWT(){var e=this;return(0,re.Z)(function*(){e.time_WT="",e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSWT")})()}resetFT(){var e=this;return(0,re.Z)(function*(){e.time_FT="",e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetSFT")})()}sendTimeSFT(){var e=this;return(0,re.Z)(function*(){let n={sft:""};n.sft=e.time_FT,e.db.object("timeSFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSFT",n)})()}sendTimeSWT(){var e=this;return(0,re.Z)(function*(){let n={swt:""};n.swt=e.time_WT,e.db.object("timeSWT").set(e.time_WT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateCronSWT",n)})()}getdata(){this.db.object("relaystate/sprinklerfertilizers").valueChanges().subscribe(s=>{this.openFT=s}),this.db.object("relaystate/sprinklerwater").valueChanges().subscribe(s=>{this.openWT=s}),this.db.object("quantitysprinklerwater").valueChanges().subscribe(s=>{this.sw=s}),this.db.object("quantitysprinklerfertilizers").valueChanges().subscribe(s=>{this.sf=s})}getTime(){this.auth.timeSFT().subscribe(e=>{this.time_FT=e}),this.auth.timeSWT().subscribe(e=>{this.time_WT=e})}submit(){var e=this;return(0,re.Z)(function*(){e.auth.Swal("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19","success"),e.db.object("quantitysprinklerfertilizers").set(e.sf).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n)),e.db.object("quantitysprinklerwater").set(e.sw).then(()=>console.log("finish update value")).catch(n=>console.error("Error updating value in Firebase:",n))})()}SF(e){this.sf=250===e?13:500===e?26:0}SW(e){this.sw=250===e?13:500===e?26:0}openWater(e){this.openWT=e,this.db.object("relaystate/sprinklerwater").set(this.openWT)}openFer(e){this.openFT=e,this.db.object("relaystate/sprinklerfertilizers").set(this.openFT)}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc),S(i_))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-sprinker"]],decls:104,vars:18,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"f-28","fw-500","c-red","text-center"],[1,"row","mt-5"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\water-hose_5601403.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col"],[1,"btn-time",3,"click"],["src","assets\\icon\\spray_13327187.png",1,"img2"],["src","assets\\icon\\sprinkler_4175992.png",1,"img3"],[1,"btn",3,"click"],["src","assets\\icon\\fertilizer_3319199.png",1,"img4"],[1,"row","mt-3","mb-4"],[1,"col-6"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","justify-content-center","d-flex"],[1,"btn-confirm","reset",3,"click"],[1,"btn-confirm","submit",3,"click"],[1,"row","mt-4","mb-3"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12"],["src","assets\\icon\\hourglass_6290515.png",1,"img5"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\clock_2997985.png",1,"img6"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"p",2),ue(3,"Sprinker"),$()(),H(4,"div",3)(5,"p",4),ue(6," *\u0e2b\u0e32\u0e01\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1e\u0e48\u0e19\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13\u0e43\u0e2b\u0e49\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 Submit \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22 "),$()()(),H(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Xe(11,"img",9),$(),H(12,"div",10)(13,"h2",11),ue(14,"Sprinker Water"),$(),H(15,"div",12)(16,"button",13),Ie("click",function(){return r.openWater(!0)}),ue(17," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(18,"div",12)(19,"button",13),Ie("click",function(){return r.openWater(!1)}),ue(20," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(21,"div",6)(22,"div",7)(23,"div",8),Xe(24,"img",14),$(),H(25,"div",10)(26,"h2",11),ue(27,"Sprinker fertilizer"),$(),H(28,"div",12)(29,"button",13),Ie("click",function(){return r.openFer(!0)}),ue(30," \u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()(),H(31,"div",12)(32,"button",13),Ie("click",function(){return r.openFer(!1)}),ue(33," \u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 "),$()()()()(),H(34,"div",6)(35,"div",7)(36,"div",8),Xe(37,"img",15),$(),H(38,"div",10)(39,"h2",11),ue(40,"Sprinker Water"),$(),H(41,"div",12)(42,"button",16),Ie("click",function(){return r.SW(250)}),ue(43," 250 ml "),$()(),H(44,"div",12)(45,"button",16),Ie("click",function(){return r.SW(500)}),ue(46," 500 ml "),$()()()()(),H(47,"div",6)(48,"div",7)(49,"div",8),Xe(50,"img",17),$(),H(51,"div",10)(52,"h2",11),ue(53,"Sprinker fertilizer"),$(),H(54,"div",12)(55,"button",16),Ie("click",function(){return r.SF(250)}),ue(56," 250 ml "),$()(),H(57,"div",12)(58,"button",16),Ie("click",function(){return r.SF(500)}),ue(59," 500 ml "),$()()()()()(),H(60,"div",18),Xe(61,"div",19),H(62,"div",20)(63,"button",21),Ie("click",function(){return r.reset()}),ue(64,"reset"),$(),H(65,"button",22),Ie("click",function(){return r.submit()}),ue(66,"submit"),$()()(),H(67,"div",23)(68,"div",1)(69,"p",2),ue(70,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14 Sprinker"),$()()(),H(71,"div",24),Xe(72,"div",25),H(73,"div",6)(74,"div",7)(75,"div",8),Xe(76,"img",26),$(),H(77,"div",10)(78,"h2",11),ue(79,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e19\u0e49\u0e33"),$(),H(80,"div",27)(81,"input",28),Ie("ngModelChange",function(s){return r.time_WT=s}),$()(),H(82,"div",27)(83,"button",29),Ie("click",function(){return r.sendTimeSWT()}),ue(84," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(85,"div",12)(86,"button",30),Ie("click",function(){return r.resetWT()}),ue(87,"reset"),$()()()()(),H(88,"div",6)(89,"div",7)(90,"div",8),Xe(91,"img",31),$(),H(92,"div",10)(93,"h2",11),ue(94,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e1b\u0e34\u0e14\u0e17\u0e35\u0e48\u0e1e\u0e48\u0e19\u0e1b\u0e38\u0e4b\u0e22"),$(),H(95,"div",27)(96,"input",28),Ie("ngModelChange",function(s){return r.time_FT=s}),$()(),H(97,"div",27)(98,"button",29),Ie("click",function(){return r.sendTimeSFT()}),ue(99," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(100,"div",12)(101,"button",30),Ie("click",function(){return r.resetFT()}),ue(102,"reset"),$()()()()(),Xe(103,"div",32),$()),2&n&&(Se(16),Je("active-y",1==r.openWT),Se(3),Je("active-y",0==r.openWT),Se(10),Je("active-y",1==r.openFT),Se(3),Je("active-y",0==r.openFT),Se(10),Je("active",13==r.sw),Se(3),Je("active",26==r.sw),Se(10),Je("active",13==r.sf),Se(3),Je("active",26==r.sf),Se(23),ot("ngModel",r.time_WT),Se(15),ot("ngModel",r.time_FT))},dependencies:[cp,C0,__],styles:['@media (max-width: 420px){.f-40[_ngcontent-%COMP%]{font-size:30px!important}.f-28[_ngcontent-%COMP%]{font-size:18px!important}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#dcdcdc;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#908cd3;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:1000}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:9%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:7%;left:50%;transform:translate(-50%,-50%) rotate(20deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(15deg);width:205px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img5[_ngcontent-%COMP%]{position:absolute;top:9%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:190px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img6[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:205px}.btn[_ngcontent-%COMP%], .btn-time[_ngcontent-%COMP%]{width:130px;height:40px;border-radius:30px;border:3px;border:3px solid #000000;margin:4px;background-color:#fff;font-size:20px;font-weight:600}.btn-time[_ngcontent-%COMP%]:hover{background-color:#ee2761;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#eecf06;color:#fff}.active-y[_ngcontent-%COMP%]{background-color:#ee2761;color:#fff}.active[_ngcontent-%COMP%]{background-color:#eecf06;color:#fff}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})();const qDe=["*",[["mat-toolbar-row"]]],YDe=["*","mat-toolbar-row"],ZDe=c_(class{constructor(i){this._elementRef=i}});let KDe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ae({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),QDe=(()=>{class i extends ZDe{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(eo),S(Ft))};static#t=this.\u0275cmp=gt({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,o){if(1&n&&$i(o,KDe,5),2&n){let s;Tt(s=Dt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,r){2&n&&Je("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Me],ngContentSelectors:YDe,decls:2,vars:0,template:function(n,r){1&n&&(xr(qDe),di(0),di(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return i})(),XDe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,nt]})}return i})();const eIe=["mat-icon-button",""],tIe=["*"],iIe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],nIe=c_(_0(l_(class{constructor(i){this._elementRef=i}})));let rIe=(()=>{class i extends nIe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mt(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=mt(e),this._updateRippleDisabled()}constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=De(Cd),this._rippleLoader=De(S8),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of iIe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){Ru()};static#t=this.\u0275dir=ae({type:i,features:[Me]})}return i})(),aIe=(()=>{class i extends rIe{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(eo),S(st),S(ps,8))};static#t=this.\u0275cmp=gt({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(qt("disabled",r.disabled||null),Je("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Me],attrs:eIe,ngContentSelectors:tIe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(xr(),Xe(0,"span",0),di(1),Xe(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),_D=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,ha,nt]})}return i})();const cIe=["*"];let vD;function K0(i){return function lIe(){if(void 0===vD&&(vD=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(vD=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vD}()?.createHTML(i)||i}function Rq(i){return Error(`Unable to find icon with the name "${i}"`)}function Pq(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function Oq(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class xp{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let bD=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new xp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const s=this._sanitizer.sanitize(So.HTML,r);if(!s)throw Oq(r);const a=K0(s);return this._addSvgIconConfig(e,n,new xp("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new xp(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(So.HTML,n);if(!o)throw Oq(n);const s=K0(o);return this._addSvgIconSetConfig(e,new xp("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(So.RESOURCE_URL,e);if(!n)throw Pq(e);const r=this._cachedIconsByUrl.get(n);return r?oe(yD(r)):this._loadSvgIconFromConfig(new xp(e,null)).pipe(dr(o=>this._cachedIconsByUrl.set(n,o)),Fe(o=>yD(o)))}getNamedSvgIcon(e,n=""){const r=Fq(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):Sg(Rq(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?oe(yD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Fe(n=>yD(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?oe(r):iG(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Bu(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(So.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),oe(null)})))).pipe(Fe(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw Rq(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(dr(n=>e.svgText=n),Fe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?oe(null):this._fetchIcon(e).pipe(dr(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(K0("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(K0("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function dIe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(So.RESOURCE_URL,n);if(!s)throw Pq(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Fe(l=>K0(l)),Rg(()=>this._inProgressUrlFetches.delete(s)),ft());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(Fq(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return hIe(o)?new xp(o.url,null,o.options):new xp(o,null)}}static#e=this.\u0275fac=function(n){return new(n||i)(U(IT,8),U(hR),U(Ft,8),U(Na))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yD(i){return i.cloneNode(!0)}function Fq(i,t){return i+":"+t}function hIe(i){return!(!i.url||!i.options)}const mIe=c_(class{constructor(i){this._elementRef=i}}),pIe=new q("MAT_ICON_DEFAULT_OPTIONS"),fIe=new q("mat-icon-location",{providedIn:"root",factory:function gIe(){const i=De(Ft),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Nq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_Ie=Nq.map(i=>`[${i}]`).join(", "),vIe=/^url\(['"]?#(.*?)['"]?\)$/;let bIe=(()=>{class i extends mIe{get inline(){return this._inline}set inline(e){this._inline=mt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,a){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=At.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(_Ie),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)Nq.forEach(s=>{const a=n[o],c=a.getAttribute(s),l=c?c.match(vIe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(lr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||i)(S(lt),S(bD),zo("aria-hidden"),S(fIe),S(Na),S(pIe,8))};static#t=this.\u0275cmp=gt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,r){2&n&&(qt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Je("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Me],ngContentSelectors:cIe,decls:1,vars:0,template:function(n,r){1&n&&(xr(),di(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return i})(),Lq=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,nt]})}return i})(),yIe=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}logout(){this.auth.logout()}toggleSidebar(){this.auth.toggleSidebar()}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-outlet"]],decls:12,vars:0,consts:[[1,"custom-toolbar"],["mat-icon-button","","aria-label","Toggle Sidebar",1,"example-icon",3,"click"],["href","/home"],[1,"space"],["mat-icon-button","","aria-label","logout icon button",1,"logout-icon",3,"click"]],template:function(n,r){1&n&&(H(0,"mat-toolbar",0)(1,"button",1),Ie("click",function(){return r.toggleSidebar()}),H(2,"mat-icon"),ue(3,"menu"),$()(),ue(4," \xa0 "),H(5,"a",2),ue(6,"Hydroponic Farm"),$(),Xe(7,"span",3),H(8,"button",4),Ie("click",function(){return r.logout()}),H(9,"mat-icon"),ue(10,"logout"),$()(),ue(11," \xa0 "),$())},dependencies:[QDe,aIe,bIe],styles:[".space[_ngcontent-%COMP%]{flex:1 1 auto}.mat-icon-button[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px}.custom-toolbar[_ngcontent-%COMP%]{background-color:#141e47}.mat-toolbar[_ngcontent-%COMP%]{color:#f0f0f0!important}.mat-icon-button[_ngcontent-%COMP%]{color:#f0f0f0!important;background-color:#f0f0f0;border-radius:50%;width:40px;height:40px;transition:box-shadow .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]{color:#fff;border-radius:10px;transition:transform .3s ease-in-out}.neumorphic-button[_ngcontent-%COMP%]   .neumorphic-button[_ngcontent-%COMP%]{color:#fff!important}.custom-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.logout-icon[_ngcontent-%COMP%]{color:#f0f0f0!important;transition:transform .2s ease}.logout-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%], .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]{color:#fff;transition:transform .2s ease}a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]})}return i})();const wIe=function(i,t){return{showSidebar:i,hideSidebar:t}};let xIe=(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0,this.isSubmenuOpen=!1,this.isDashboardSelected=!1}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,this.auth.toggleSidebar()}toggleSubmenu(){this.isSubmenuOpen=!this.isSubmenuOpen}selectDashboard(){this.isDashboardSelected=!0}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-side-nav"]],decls:32,vars:4,consts:[[1,"sidebar",3,"ngClass"],["routerLink","/home","routerLinkActive","active"],[1,"menu-icon","material-icons"],[1,"menu-text"],["routerLink","/relay","routerLinkActive","active"],["routerLink","/sprinker","routerLinkActive","active"],["routerLink","/quantity","routerLinkActive","active"],["routerLink","/set-time","routerLinkActive","active"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"ul")(2,"li")(3,"a",1)(4,"span",2),ue(5,"home"),$(),H(6,"span",3),ue(7,"Home"),$()()(),H(8,"li")(9,"a",4)(10,"span",2),ue(11,"toggle_on"),$(),H(12,"span",3),ue(13,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),$()()(),H(14,"li")(15,"a",5)(16,"span",2),ue(17,"shower"),$(),H(18,"span",3),ue(19,"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2a\u0e1b\u0e23\u0e34\u0e07\u0e40\u0e01\u0e2d\u0e23\u0e4c"),$()()(),H(20,"li")(21,"a",6)(22,"span",2),ue(23,"science"),$(),H(24,"span",3),ue(25,"\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e15\u0e32\u0e21\u0e1b\u0e23\u0e34\u0e21\u0e32\u0e13"),$()()(),H(26,"li")(27,"a",7)(28,"span",2),ue(29,"timer"),$(),H(30,"span",3),ue(31,"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e27\u0e25\u0e32\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),$()()()()()),2&n&&ot("ngClass",YH(1,wIe,r.isSidebarVisible,!r.isSidebarVisible))},dependencies:[KE,xk,r6],styles:[".menu-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px;border-radius:10px;transition:all .3s}.menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]{box-shadow:0 0 10px #0003;background-color:#141e47;width:200px;padding:10px;position:fixed;height:100%;top:0;left:0;overflow-x:hidden;margin-top:48px;z-index:999}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:20px 0 0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;align-items:center;padding:10px 0 10px 15px;border-radius:20px;transition:all .3s}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#6c6c6c}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#000;background-color:#f1f1f1}.sub-menu[_ngcontent-%COMP%]{padding-left:20px}.hideSidebar[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0;transition:transform .3s,opacity .3s}.showSidebar[_ngcontent-%COMP%]{transform:translate(0);opacity:1;transition:transform .3s,opacity .3s}"]})}return i})();const CIe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Aq,children:[{path:"",component:kxe}]},{path:"register",component:Aq,children:[{path:"",component:Txe}]},{path:"",component:(()=>{class i{constructor(e){this.auth=e,this.isSidebarVisible=!0}ngOnInit(){this.auth.sidebarVisibility$.subscribe(e=>{console.log(e),this.isSidebarVisible=e})}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-main"]],decls:6,vars:1,consts:[[1,"app-header"],[1,"container"],[1,"content",3,"ngClass"]],template:function(n,r){1&n&&(H(0,"div",0),Xe(1,"app-outlet"),$(),H(2,"div",1),Xe(3,"app-side-nav"),$(),H(4,"div",2),Xe(5,"router-outlet"),$()),2&n&&(Se(4),ot("ngClass",r.isSidebarVisible?"with-sidebar":"without-sidebar"))},dependencies:[KE,Dy,yIe,xIe],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100vh}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;margin:0;position:absolute;z-index:0}.app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.app-sidenav[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#333;color:#fff;padding:20px}.content[_ngcontent-%COMP%]{position:fixed;inset:80px 0 0;overflow-y:auto;z-index:998}.content[_ngcontent-%COMP%]{flex:1}.content.content-with-sidebar[_ngcontent-%COMP%]{margin-left:0}.with-sidebar[_ngcontent-%COMP%], .without-sidebar[_ngcontent-%COMP%]{padding:3px;transition:left .3s ease,padding-left .3s ease}"]})}return i})(),canActivate:[(()=>{class i{constructor(e,n){this.auth=e,this.router=n}canActivate(){return"true"===localStorage.getItem("loggedIn")||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(n){return new(n||i)(U(yc),U(vs))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()],children:[{path:"home",component:UDe},{path:"quantity",component:$De},{path:"relay",component:WDe},{path:"sprinker",component:GDe},{path:"set-time",component:(()=>{class i{constructor(e,n){this.auth=e,this.db=n,this.time_FT="",this.time_MB="",this.time_PHD="",this.time_PHU=""}ngOnInit(){this.getTime()}resetFT(){var e=this;return(0,re.Z)(function*(){e.time_FT="",e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetFT")})()}resetMB(){var e=this;return(0,re.Z)(function*(){e.time_MB="",e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetMB")})()}resetPHU(){var e=this;return(0,re.Z)(function*(){e.time_PHU="",e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHU")})()}resetPHD(){var e=this;return(0,re.Z)(function*(){e.time_PHD="",e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(r=>console.error("Error updating value in Firebase:",r)),yield e.auth.Get("resetPHD")})()}sendTimeFT(){var e=this;return(0,re.Z)(function*(){let n={ft:""};n.ft=e.time_FT,e.db.object("timeFT").set(e.time_FT).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateFT",n)})()}sendTimeMB(){var e=this;return(0,re.Z)(function*(){let n={mb:""};n.mb=e.time_MB,e.db.object("timeMB").set(e.time_MB).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updateMB",n)})()}sendTimePHU(){var e=this;return(0,re.Z)(function*(){let n={phU:""};n.phU=e.time_PHU,e.db.object("timePHU").set(e.time_PHU).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhU",n)})()}sendTimePHD(){var e=this;return(0,re.Z)(function*(){let n={phD:""};n.phD=e.time_PHD,e.db.object("timePHD").set(e.time_PHD).then(()=>console.log("set time success")).catch(o=>console.error("Error updating value in Firebase:",o)),yield e.auth.Post("updatePhD",n)})()}getTime(){this.auth.timeFT().subscribe(e=>{this.time_FT=e}),this.auth.timeMB().subscribe(e=>{this.time_MB=e}),this.auth.timePHU().subscribe(e=>{this.time_PHU=e}),this.auth.timePHD().subscribe(e=>{this.time_PHD=e})}static#e=this.\u0275fac=function(n){return new(n||i)(S(yc),S(i_))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-setting-time"]],decls:65,vars:4,consts:[[1,"row","mt-4","mb-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],[1,"f-40","fw-700","text-center"],[1,"row","mt-3"],[1,"col-xl-3","col-lg-3","col-md-6","col-sm-6","container","mb-4"],[1,"card"],[1,"imgBx"],["src","assets\\icon\\seed-bag_11504622.png",1,"img1"],[1,"contentBx"],[1,"mb-2"],[1,"col","mb-2"],["type","time",3,"ngModel","ngModelChange"],[1,"btn-submit","submit",3,"click"],[1,"col"],[1,"btn-submit","reset",3,"click"],["src","assets\\icon\\drug_8461645.png",1,"img2"],["src","assets\\icon\\flask_882980.png",1,"img3"],["src","assets\\icon\\cl_8357130.png",1,"img4"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1)(2,"p",2),ue(3,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"),$()()(),H(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Xe(8,"img",7),$(),H(9,"div",8)(10,"h2",9),ue(11,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e1b\u0e38\u0e4b\u0e22"),$(),H(12,"div",10)(13,"input",11),Ie("ngModelChange",function(s){return r.time_FT=s}),$()(),H(14,"div",10)(15,"button",12),Ie("click",function(){return r.sendTimeFT()}),ue(16," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(17,"div",13)(18,"button",14),Ie("click",function(){return r.resetFT()}),ue(19,"reset"),$()()()()(),H(20,"div",4)(21,"div",5)(22,"div",6),Xe(23,"img",15),$(),H(24,"div",8)(25,"h2",9),ue(26,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23"),$(),H(27,"div",10)(28,"input",11),Ie("ngModelChange",function(s){return r.time_MB=s}),$()(),H(29,"div",10)(30,"button",12),Ie("click",function(){return r.sendTimeMB()}),ue(31," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(32,"div",13)(33,"button",14),Ie("click",function(){return r.resetMB()}),ue(34,"reset"),$()()()()(),H(35,"div",4)(36,"div",5)(37,"div",6),Xe(38,"img",16),$(),H(39,"div",8)(40,"h2",9),ue(41,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e34\u0e48\u0e21 Ph"),$(),H(42,"div",10)(43,"input",11),Ie("ngModelChange",function(s){return r.time_PHU=s}),$()(),H(44,"div",10)(45,"button",12),Ie("click",function(){return r.sendTimePHU()}),ue(46," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(47,"div",13)(48,"button",14),Ie("click",function(){return r.resetPHU()}),ue(49,"reset"),$()()()()(),H(50,"div",4)(51,"div",5)(52,"div",6),Xe(53,"img",17),$(),H(54,"div",8)(55,"h2",9),ue(56,"\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32\u0e40\u0e15\u0e34\u0e21\u0e04\u0e48\u0e32\u0e25\u0e14 Ph"),$(),H(57,"div",10)(58,"input",11),Ie("ngModelChange",function(s){return r.time_PHD=s}),$()(),H(59,"div",10)(60,"button",12),Ie("click",function(){return r.sendTimePHD()}),ue(61," \u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e25\u0e32 "),$()(),H(62,"div",13)(63,"button",14),Ie("click",function(){return r.resetPHD()}),ue(64,"reset"),$()()()()()()),2&n&&(Se(13),ot("ngModel",r.time_FT),Se(15),ot("ngModel",r.time_MB),Se(15),ot("ngModel",r.time_PHU),Se(15),ot("ngModel",r.time_PHD))},dependencies:[cp,C0,__],styles:['@media (max-width: 550px){.f-40[_ngcontent-%COMP%]{font-size:30px}.f-28[_ngcontent-%COMP%]{font-size:18px}}.container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;width:320px;height:450px;background:#fef795;border-radius:20px;overflow:hidden}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#f6a1af;clip-path:circle(150px at 80% 20%);transition:.5s ease-in-out}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover:before{clip-path:circle(300px at 80% -20%)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:97;width:100%;height:220px;transition:.5s}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]{position:absolute;bottom:-45px;width:100%;height:240px;text-align:center;transition:1s;z-index:102}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .contentBx[_ngcontent-%COMP%]{height:240px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .contentBx[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;font-weight:600;letter-spacing:1px;color:#000;margin:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .imgBx[_ngcontent-%COMP%]{top:24%;transform:translateY(0)}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%) rotate(-25deg);width:250px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img1[_ngcontent-%COMP%]{position:absolute;top:10%;left:47%;transform:translate(-50%,-50%) rotate(-20deg);width:230px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img2[_ngcontent-%COMP%]{position:absolute;top:15%;left:57%;transform:translate(-50%,-50%) rotate(19deg);width:215px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img3[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(-13deg);width:210px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   .img4[_ngcontent-%COMP%]{position:absolute;top:8%;left:50%;transform:translate(-50%,-50%) rotate(10deg);width:221px}.btn-submit[_ngcontent-%COMP%]{width:130px;height:40px;font-weight:600;font-size:20px;border-radius:30px;border:3px;border:3px solid #000000}input[_ngcontent-%COMP%]{border-radius:32px;cursor:pointer;padding:10px;text-align:center;width:220px}']})}return i})()}]}];let EIe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[h6.forRoot(CIe),h6]})}return i})(),kIe=(()=>{class i{constructor(e){this.router=e,this.title="hydroponic_application"}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)(S(vs))};static#t=this.\u0275cmp=gt({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Xe(0,"router-outlet")},dependencies:[Dy]})}return i})();function Vq(i){return new X(3e3,!1)}function fh(i){switch(i.length){case 0:return new y0;case 1:return i[0];default:return new R8(i)}}function Bq(i,t,e=new Map,n=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((p,g)=>{let b=g,w=p;if("offset"!==g)switch(b=i.normalizePropertyName(b,r),w){case"!":w=e.get(g);break;case Ed:w=n.get(g);break;default:w=i.normalizeStyleValue(g,b,w,r)}h.set(b,w)}),d||o.push(h),a=h,s=l}),r.length)throw function YIe(i){return new X(3502,!1)}();return o}function Z2(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&K2(e,"start",i)));break;case"done":i.onDone(()=>n(e&&K2(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&K2(e,"destroy",i)))}}function K2(i,t,e){const o=Q2(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),s=i._data;return null!=s&&(o._data=s),o}function Q2(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function fa(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function zq(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const sSe=(()=>typeof document>"u"?null:document.documentElement)();function X2(i){const t=i.parentNode||i.host||null;return t===sSe?null:t}let Cp=null,Hq=!1;function jq(i,t){for(;t;){if(t===i)return!0;t=X2(t)}return!1}function Uq(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let $q=(()=>{class i{validateStyleProperty(e){return function cSe(i){Cp||(Cp=function lSe(){return typeof document<"u"?document.body:null}()||{},Hq=!!Cp.style&&"WebkitAppearance"in Cp.style);let t=!0;return Cp.style&&!function aSe(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Cp.style,!t&&Hq&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Cp.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return jq(e,n)}getParentElement(e){return X2(e)}query(e,n,r){return Uq(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],c){return new y0(r,o)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})(),J2=(()=>{class i{static#e=this.NOOP=new $q}return i})();const dSe=1e3,eF="ng-enter",wD="ng-leave",xD="ng-trigger",CD=".ng-trigger",Gq="ng-animating",tF=".ng-animating";function Fd(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iF(parseFloat(t[1]),t[2])}function iF(i,t){return"s"===t?i*dSe:i}function ED(i,t,e){return i.hasOwnProperty("duration")?i:function hSe(i,t,e){let r,o=0,s="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Vq()),{duration:0,delay:0,easing:""};r=iF(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=iF(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=i;if(!e){let a=!1,c=t.length;r<0&&(t.push(function TIe(){return new X(3100,!1)}()),a=!0),o<0&&(t.push(function DIe(){return new X(3101,!1)}()),a=!0),a&&t.splice(c,0,Vq())}return{duration:r,delay:o,easing:s}}(i,t,e)}function Q0(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function qq(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function gh(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function El(i,t,e){t.forEach((n,r)=>{const o=rF(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Ep(i,t){t.forEach((e,n)=>{const r=rF(n);i.style[r]=""})}function X0(i){return Array.isArray(i)?1==i.length?i[0]:A8(i):i}const nF=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zq(i){let t=[];if("string"==typeof i){let e;for(;e=nF.exec(i);)t.push(e[1]);nF.lastIndex=0}return t}function J0(i,t,e){const n=i.toString(),r=n.replace(nF,(o,s)=>{let a=t[s];return null==a&&(e.push(function SIe(i){return new X(3003,!1)}()),a=""),a.toString()});return r==n?i:r}function kD(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const fSe=/-+([a-z0-9])/g;function rF(i){return i.replace(fSe,(...t)=>t[1].toUpperCase())}function ga(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function MIe(i){return new X(3004,!1)}()}}function Kq(i,t){return window.getComputedStyle(i)[t]}const TD="*";function vSe(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function bSe(i,t,e){if(":"==i[0]){const c=function ySe(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function $Ie(i){return new X(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof c)return void t.push(c);i=c}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function UIe(i){return new X(3015,!1)}()),t;const r=n[1],o=n[2],s=n[3];t.push(Qq(r,s));"<"==o[0]&&!(r==TD&&s==TD)&&t.push(Qq(s,r))}(n,e,t)):e.push(i),e}const DD=new Set(["true","1"]),ID=new Set(["false","0"]);function Qq(i,t){const e=DD.has(i)||ID.has(i),n=DD.has(t)||ID.has(t);return(r,o)=>{let s=i==TD||i==r,a=t==TD||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?DD.has(i):ID.has(i)),!a&&n&&"boolean"==typeof o&&(a=o?DD.has(t):ID.has(t)),s&&a}}const wSe=new RegExp("s*:selfs*,?","g");function oF(i,t,e,n){return new xSe(i).build(t,e,n)}class xSe{constructor(t){this._driver=t}build(t,e,n){const r=new kSe(e);return this._resetContextStyleTimingState(r),ga(this,X0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function RIe(){return new X(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function PIe(){return new X(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Zq(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(kD(o.values()),e.errors.push(function OIe(i,t){return new X(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ga(this,X0(t.animation),e);return{type:1,matchers:vSe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:kp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>ga(this,n,e)),options:kp(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=n;const a=ga(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:kp(t.options)}}visitAnimate(t,e){const n=function DSe(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return sF(ED(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=sF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=ED(e,t);return sF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Ue({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};n.easing&&(l.easing=n.easing),s=Ue(l)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Ed?n.push(a):e.errors.push(new X(3002,!1)):n.push(qq(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function NIe(i,t,e,n,r){return new X(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),e.options&&function pSe(i,t,e){const n=t.params||{},r=Zq(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function IIe(i){return new X(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function LIe(){return new X(3011,!1)}()),n;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(I=>{const T=this._makeStyleAst(I,e);let M=null!=T.offset?T.offset:function TSe(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(T.styles),F=0;return null!=M&&(o++,F=T.offset=M),c=c||F<0||F>1,a=a||F<l,l=F,s.push(F),T});c&&e.errors.push(function VIe(){return new X(3012,!1)}()),a&&e.errors.push(function BIe(){return new X(3200,!1)}());const h=t.steps.length;let p=0;o>0&&o<h?e.errors.push(function zIe(){return new X(3202,!1)}()):0==o&&(p=1/(h-1));const g=h-1,b=e.currentTime,w=e.currentAnimateTimings,x=w.duration;return d.forEach((I,T)=>{const M=p>0?T==g?1:p*T:s[T],F=M*x;e.currentTime=b+w.delay+F,w.duration=F,this._validateStyleAst(I,e),I.offset=M,n.styles.push(I)}),n}visitReference(t,e){return{type:8,animation:ga(this,X0(t.animation),e),options:kp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function CSe(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(wSe,"")),i=i.replace(/@\*/g,CD).replace(/@\w+/g,e=>CD+"-"+e.slice(1)).replace(/:animating/g,tF),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,fa(e.collectedStyles,e.currentQuerySelector,new Map);const a=ga(this,X0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:kp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function HIe(){return new X(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ED(t.timings,e.errors,!0);return{type:12,animation:ga(this,X0(t.animation),e),timings:n,options:null}}}class kSe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kp(i){return i?(i=Q0(i)).params&&(i.params=function ESe(i){return i?Q0(i):null}(i.params)):i={},i}function sF(i,t,e){return{duration:i,delay:t,easing:e}}function aF(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class SD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const MSe=new RegExp(":enter","g"),RSe=new RegExp(":leave","g");function cF(i,t,e,n,r,o=new Map,s=new Map,a,c,l=[]){return(new PSe).buildKeyframes(i,t,e,n,r,o,s,a,c,l)}class PSe{buildKeyframes(t,e,n,r,o,s,a,c,l,d=[]){l=l||new SD;const h=new lF(t,e,l,r,o,d,[]);h.options=c;const p=c.delay?Fd(c.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,c),ga(this,n,h);const g=h.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let w=g.length-1;w>=0;w--){const x=g[w];if(x.element===e){b=x;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,h.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[aF(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Fd(J0(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?Fd(n.duration):null,a=null!=n.delay?Fd(n.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ga(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=MD);const s=Fd(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ga(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Fd(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ga(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ED(e.params?J0(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Fd(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=MD);let s=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const h=e.createSubContext(t.options,l);o&&h.delayNextStep(o),l===e.element&&(c=h.currentTimeline),ga(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=n.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;ga(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}}const MD={};class lF{constructor(t,e,n,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new AD(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Fd(n.duration)),null!=n.delay&&(r.delay=Fd(n.delay));const o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=J0(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new lF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=MD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new OSe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(MSe,"."+this._enterClassName)).replace(RSe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=n);0!==n&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),a.push(...l)}return!o&&0==a.length&&s.push(function jIe(i){return new X(3014,!1)}()),a}}class AD{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new AD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Ed),this._currentKeyframe.set(e,Ed);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function FSe(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,Ed)}else gh(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=J0(c,o,n);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ed),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=gh(a,new Map,this._backFill);l.forEach((d,h)=>{"!"===d?t.add(h):d===Ed&&e.add(h)}),n||l.set("offset",c/this.duration),r.push(l)});const o=t.size?kD(t.values()):[],s=e.size?kD(e.values()):[];if(n){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return aF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class OSe extends AD{constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,a=e/s,c=gh(t[0]);c.set("offset",0),o.push(c);const l=gh(t[0]);l.set("offset",eY(a)),o.push(l);const d=t.length-1;for(let h=1;h<=d;h++){let p=gh(t[h]);const g=p.get("offset");p.set("offset",eY((e+g*n)/s)),o.push(p)}n=s,e=0,r="",t=o}return aF(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function eY(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class dF{}const NSe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LSe extends dF{normalizePropertyName(t,e){return rF(t)}normalizeStyleValue(t,e,n,r){let o="";const s=n.toString().trim();if(NSe.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function AIe(i,t){return new X(3005,!1)}())}return s+o}}function tY(i,t,e,n,r,o,s,a,c,l,d,h,p){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:p}}const uF={};class iY{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function VSe(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,c,l,d){const h=[],p=this.ast.options&&this.ast.options.params||uF,b=this.buildStyles(n,a&&a.params||uF,h),w=c&&c.params||uF,x=this.buildStyles(r,w,h),I=new Set,T=new Map,M=new Map,F="void"===r,V={params:BSe(w,p),delay:this.ast.options?.delay},Y=d?[]:cF(t,e,this.ast.animation,o,s,b,x,V,l,h);let le=0;if(Y.forEach(pe=>{le=Math.max(pe.duration+pe.delay,le)}),h.length)return tY(e,this._triggerName,n,r,F,b,x,[],[],T,M,le,h);Y.forEach(pe=>{const Te=pe.element,_e=fa(T,Te,new Set);pe.preStyleProps.forEach(kt=>_e.add(kt));const be=fa(M,Te,new Set);pe.postStyleProps.forEach(kt=>be.add(kt)),Te!==e&&I.add(Te)});const ie=kD(I.values());return tY(e,this._triggerName,n,r,F,b,x,Y,ie,T,M,le)}}function BSe(i,t){const e=Q0(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class zSe{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=Q0(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=J0(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),n.set(a,s)})}),n}}class jSe{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new zSe(r.style,r.options&&r.options.params||{},n))}),nY(this.states,"true","1"),nY(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new iY(t,r,this.states))}),this.fallbackTransition=function USe(i,t,e){return new iY(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function nY(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const $Se=new SD;class WSe{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=oF(this._driver,e,n,[]);if(n.length)throw function ZIe(i){return new X(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=Bq(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=cF(this._driver,e,o,eF,wD,new Map,new Map,n,$Se,r),s.forEach(d=>{const h=fa(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function KIe(){return new X(3300,!1)}()),s=[]),r.length)throw function QIe(i){return new X(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,g)=>{d.set(g,this._driver.computeStyle(h,g,Ed))})});const l=fh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function XIe(i){return new X(3301,!1)}();return e}listen(t,e,n,r){const o=Q2(e,"","","");return Z2(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const rY="ng-animate-queued",hF="ng-animate-disabled",KSe=[],oY={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xc="__ng_removed";class mF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function tMe(i){return i??null}(n?t.value:t),n){const o=Q0(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const ew="void",pF=new mF(ew);class XSe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ka(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function JIe(i,t){return new X(3302,!1)}();if(null==n||0==n.length)throw function eSe(i){return new X(3303,!1)}();if(!function iMe(i){return"start"==i||"done"==i}(n))throw function tSe(i,t){return new X(3400,!1)}();const o=fa(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=fa(this._engine.statesByElement,t,new Map);return a.has(e)||(Ka(t,xD),Ka(t,xD+"-"+e),a.set(e,pF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function iSe(i){return new X(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),s=new fF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ka(t,xD),Ka(t,xD+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new mF(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=pF),l.value!==ew&&c.value===l.value){if(!function oMe(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(c.params,l.params)){const w=[],x=o.matchStyles(c.value,c.params,w),I=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Ep(t,x),El(t,I)})}return}const p=fa(this._engine.playersByElement,t,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,t,l.params),b=!1;if(!g){if(!r)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(Ka(t,rY),s.onStart(()=>{T_(t,rY)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const x=this._engine.playersByElement.get(t);if(x){let I=x.indexOf(s);I>=0&&x.splice(I,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,CD,!0);n.forEach(r=>{if(r[xc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,ew,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&fh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=n.get(s)||pF,d=new mF(ew),h=new fF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[xc];(!o||o===oY)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ka(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const c=Q2(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,Z2(n.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class JSe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new XSe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=n.indexOf(c);n.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(RD(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!RD(e))return;const o=e[xc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ka(t,hF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),T_(t,hF))}removeNode(t,e,n){if(RD(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[xc]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return RD(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,CD,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,tF,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[xc];if(e&&e.setForRemoval){if(t[xc]=oY,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(hF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ka(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?fh(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function nSe(i){return new X(3402,!1)}()}_flushAnimations(t,e){const n=new SD,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Re=>{d.add(Re);const Ve=this.driver.query(Re,".ng-animate-queued",!0);for(let rt=0;rt<Ve.length;rt++)d.add(Ve[rt])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=cY(p,this.collectedEnterElements),b=new Map;let w=0;g.forEach((Re,Ve)=>{const rt=eF+w++;b.set(Ve,rt),Re.forEach(tt=>Ka(tt,rt))});const x=[],I=new Set,T=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Ve=this.collectedLeaveElements[Re],rt=Ve[xc];rt&&rt.setForRemoval&&(x.push(Ve),I.add(Ve),rt.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(tt=>I.add(tt)):T.add(Ve))}const M=new Map,F=cY(p,Array.from(I));F.forEach((Re,Ve)=>{const rt=wD+w++;M.set(Ve,rt),Re.forEach(tt=>Ka(tt,rt))}),t.push(()=>{g.forEach((Re,Ve)=>{const rt=b.get(Ve);Re.forEach(tt=>T_(tt,rt))}),F.forEach((Re,Ve)=>{const rt=M.get(Ve);Re.forEach(tt=>T_(tt,rt))}),x.forEach(Re=>{this.processLeaveNode(Re)})});const V=[],Y=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(e).forEach(rt=>{const tt=rt.player,Oi=rt.element;if(V.push(tt),this.collectedEnterElements.length){const ts=Oi[xc];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(rt.triggerName)){const af=ts.previousTriggersValues.get(rt.triggerName),rc=this.statesByElement.get(rt.element);if(rc&&rc.has(rt.triggerName)){const GS=rc.get(rt.triggerName);GS.value=af,rc.set(rt.triggerName,GS)}}return void tt.destroy()}}const _n=!h||!this.driver.containsElement(h,Oi),qn=M.get(Oi),es=b.get(Oi),ki=this._buildInstruction(rt,n,es,qn,_n);if(ki.errors&&ki.errors.length)return void Y.push(ki);if(_n)return tt.onStart(()=>Ep(Oi,ki.fromStyles)),tt.onDestroy(()=>El(Oi,ki.toStyles)),void r.push(tt);if(rt.isFallbackTransition)return tt.onStart(()=>Ep(Oi,ki.fromStyles)),tt.onDestroy(()=>El(Oi,ki.toStyles)),void r.push(tt);const Mc=[];ki.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||Mc.push(ts)}),ki.timelines=Mc,n.append(Oi,ki.timelines),s.push({instruction:ki,player:tt,element:Oi}),ki.queriedElements.forEach(ts=>fa(a,ts,[]).push(tt)),ki.preStyleProps.forEach((ts,af)=>{if(ts.size){let rc=c.get(af);rc||c.set(af,rc=new Set),ts.forEach((GS,zB)=>rc.add(zB))}}),ki.postStyleProps.forEach((ts,af)=>{let rc=l.get(af);rc||l.set(af,rc=new Set),ts.forEach((GS,zB)=>rc.add(zB))})});if(Y.length){const Re=[];Y.forEach(Ve=>{Re.push(function rSe(i,t){return new X(3505,!1)}())}),V.forEach(Ve=>Ve.destroy()),this.reportError(Re)}const le=new Map,ie=new Map;s.forEach(Re=>{const Ve=Re.element;n.has(Ve)&&(ie.set(Ve,Ve),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,le))}),r.forEach(Re=>{const Ve=Re.element;this._getPreviousPlayers(Ve,!1,Re.namespaceId,Re.triggerName,null).forEach(tt=>{fa(le,Ve,[]).push(tt),tt.destroy()})});const pe=x.filter(Re=>dY(Re,c,l)),Te=new Map;aY(Te,this.driver,T,l,Ed).forEach(Re=>{dY(Re,c,l)&&pe.push(Re)});const be=new Map;g.forEach((Re,Ve)=>{aY(be,this.driver,new Set(Re),c,"!")}),pe.forEach(Re=>{const Ve=Te.get(Re),rt=be.get(Re);Te.set(Re,new Map([...Ve?.entries()??[],...rt?.entries()??[]]))});const kt=[],Zt=[],Ei={};s.forEach(Re=>{const{element:Ve,player:rt,instruction:tt}=Re;if(n.has(Ve)){if(d.has(Ve))return rt.onDestroy(()=>El(Ve,tt.toStyles)),rt.disabled=!0,rt.overrideTotalTime(tt.totalTime),void r.push(rt);let Oi=Ei;if(ie.size>1){let qn=Ve;const es=[];for(;qn=qn.parentNode;){const ki=ie.get(qn);if(ki){Oi=ki;break}es.push(qn)}es.forEach(ki=>ie.set(ki,Oi))}const _n=this._buildAnimation(rt.namespaceId,tt,le,o,be,Te);if(rt.setRealPlayer(_n),Oi===Ei)kt.push(rt);else{const qn=this.playersByElement.get(Oi);qn&&qn.length&&(rt.parentPlayer=fh(qn)),r.push(rt)}}else Ep(Ve,tt.fromStyles),rt.onDestroy(()=>El(Ve,tt.toStyles)),Zt.push(rt),d.has(Ve)&&r.push(rt)}),Zt.forEach(Re=>{const Ve=o.get(Re.element);if(Ve&&Ve.length){const rt=fh(Ve);Re.setRealPlayer(rt)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<x.length;Re++){const Ve=x[Re],rt=Ve[xc];if(T_(Ve,wD),rt&&rt.hasAnimation)continue;let tt=[];if(a.size){let _n=a.get(Ve);_n&&_n.length&&tt.push(..._n);let qn=this.driver.query(Ve,tF,!0);for(let es=0;es<qn.length;es++){let ki=a.get(qn[es]);ki&&ki.length&&tt.push(...ki)}}const Oi=tt.filter(_n=>!_n.destroyed);Oi.length?nMe(this,Ve,Oi):this.processLeaveNode(Ve)}return x.length=0,kt.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Ve=this.players.indexOf(Re);this.players.splice(Ve,1)}),Re.play()}),kt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==ew;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,h=fa(n,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(g=>{const b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),h.push(g)})}Ep(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,h=new Set,p=e.timelines.map(b=>{const w=b.element;d.add(w);const x=w[xc];if(x&&x.removedBeforeQueried)return new y0(b.duration,b.delay);const I=w!==c,T=function rMe(i){const t=[];return lY(i,t),t}((n.get(w)||KSe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===w),M=o.get(w),F=s.get(w),V=Bq(this._normalizer,b.keyframes,M,F),Y=this._buildPlayer(b,V,T);if(b.subTimeline&&r&&h.add(w),I){const le=new fF(t,a,w);le.setRealPlayer(Y),l.push(le)}return Y});l.forEach(b=>{fa(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function eMe(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>Ka(b,Gq));const g=fh(p);return g.onDestroy(()=>{d.forEach(b=>T_(b,Gq)),El(c,e.toStyles)}),h.forEach(b=>{fa(r,b,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new y0(t.duration,t.delay)}}class fF{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new y0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Z2(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function RD(i){return i&&1===i.nodeType}function sY(i,t){const e=i.style.display;return i.style.display=t??"none",e}function aY(i,t,e,n,r){const o=[];e.forEach(c=>o.push(sY(c)));const s=[];n.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const p=t.computeStyle(l,h,r);d.set(h,p),(!p||0==p.length)&&(l[xc]=QSe,s.push(l))}),i.set(l,d)});let a=0;return e.forEach(c=>sY(c,o[a++])),s}function cY(i,t){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Ka(i,t){i.classList?.add(t)}function T_(i,t){i.classList?.remove(t)}function nMe(i,t,e){fh(e).onDone(()=>i.processLeaveNode(t))}function lY(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof R8?lY(n.players,t):t.push(n)}}function dY(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class PD{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new JSe(t,e,n),this._timelineEngine=new WSe(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=oF(this._driver,o,c,[]);if(c.length)throw function qIe(i,t){return new X(3404,!1)}();a=function HSe(i,t,e){return new jSe(i,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,s]=zq(n);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[s,a]=zq(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let aMe=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&El(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(El(this._element,this._initialStyles),this._endStyles&&(El(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ep(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ep(this._element,this._endStyles),this._endStyles=null),El(this._element,this._initialStyles),this._state=3)}}return i})();function gF(i){let t=null;return i.forEach((e,n)=>{(function cMe(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class uY{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:Kq(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class lMe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return jq(t,e)}getParentElement(t){return X2(t)}query(t,e,n){return Uq(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,s=[]){const c={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(g=>g instanceof uY);(function gSe(i,t){return 0===i||0===t})(n,r)&&d.forEach(g=>{g.currentSnapshot.forEach((b,w)=>l.set(w,b))});let h=function mSe(i){return i.length?i[0]instanceof Map?i:i.map(t=>qq(t)):[]}(e).map(g=>gh(g));h=function _Se(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Kq(i,a)))}}return t}(t,h,l);const p=function sMe(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=gF(t[0]),t.length>1&&(n=gF(t[t.length-1]))):t instanceof Map&&(e=gF(t)),e||n?new aMe(i,e,n):null}(t,h);return new uY(t,h,c,p)}}let dMe=(()=>{class i extends M8{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Co.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?A8(e):e;return hY(this._renderer,null,n,"register",[r]),new uMe(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Hb),U(Ft))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();class uMe extends H0e{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hMe(this._id,t,e||{},this._renderer)}}class hMe{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return hY(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hY(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const mY="@.disabled";let mMe=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let d=this._rendererCache.get(o);return d||(d=new pY("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return n.data.animation.forEach(c),new pMe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Hb),U(PD),U(st))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();class pY{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==mY?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class pMe extends pY{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mY?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function fMe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function gMe(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}let _Me=(()=>{class i extends PD{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ft),U(J2),U(dF),U(Fu))};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac})}return i})();const fY=[{provide:M8,useClass:dMe},{provide:dF,useFactory:function vMe(){return new LSe}},{provide:PD,useClass:_Me},{provide:Hb,useFactory:function bMe(i,t,e){return new mMe(i,t,e)},deps:[cR,PD,st]}],_F=[{provide:J2,useFactory:()=>new lMe},{provide:ps,useValue:"BrowserAnimations"},...fY],gY=[{provide:J2,useClass:$q},{provide:ps,useValue:"NoopAnimations"},...fY];let yMe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?gY:_F}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:_F,imports:[Jj]})}return i})();const EMe=new q("NGX_SPINNER_CONFIG");let kMe=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:EMe,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[Wi]})}return i})();class FMe{constructor(){this.change=new xt,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}let NMe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({providers:[FMe],imports:[[Wi]]}),i})();var LMe=function(){function i(){}return i.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},i.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},i.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},i.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},i.prototype.position=function(t,e){void 0===e&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n={top:(n=t.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},i.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r_top,bottom:n.bottom+r_top,left:n.left+r_left,right:n.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},i.prototype.positionElements=function(t,e,n,r){var o=n.split("-"),s=o[0],a=void 0===s?"top":s,c=o[1],l=void 0===c?"center":c,d=r?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(e),p=parseFloat(h.marginTop),g=parseFloat(h.marginBottom),b=parseFloat(h.marginLeft),w=parseFloat(h.marginRight),x=0,I=0;switch(a){case"top":x=d.top-(e.offsetHeight+p+g);break;case"bottom":x=d.top+d.height;break;case"left":I=d.left-(e.offsetWidth+b+w);break;case"right":I=d.left+d.width}switch(l){case"top":x=d.top;break;case"bottom":x=d.top+d.height-e.offsetHeight;break;case"left":I=d.left;break;case"right":I=d.left+d.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?I=d.left+d.width/2-e.offsetWidth/2:x=d.top+d.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(I)+"px, "+Math.round(x)+"px)";var T=e.getBoundingClientRect(),M=document.documentElement,F=window.innerHeight||M.clientHeight,V=window.innerWidth||M.clientWidth;return T.left>=0&&T.top>=0&&T.right<=V&&T.bottom<=F},i}();new LMe;var Cc=function(){return Cc=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Cc.apply(this,arguments)},vF=function(i,t,e){if(e||2===arguments.length)for(var o,n=0,r=t.length;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},bF=function(i){return i[i.SUNDAY=0]="SUNDAY",i[i.MONDAY=1]="MONDAY",i[i.TUESDAY=2]="TUESDAY",i[i.WEDNESDAY=3]="WEDNESDAY",i[i.THURSDAY=4]="THURSDAY",i[i.FRIDAY=5]="FRIDAY",i[i.SATURDAY=6]="SATURDAY",i}(bF||{}),BMe=[bF.SUNDAY,bF.SATURDAY],yF=7,_h=86400;function bY(i,t){var e=t.startDate,r=t.excluded,o=t.precision;if(r.length<1)return 0;for(var a=i.getDay,c=i.addDays,l=(0,i.addSeconds)(e,t.seconds-1),d=a(e),h=a(l),p=0,g=e,b=function(){var w=a(g);r.some(function(x){return x===w})&&(p+=function zMe(i,t){var n=t.day,o=t.dayEnd,s=t.startDate,a=t.endDate,c=i.differenceInSeconds,d=i.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return c((0,i.endOfDay)(s),s)+1;if(n===o)return c(a,d(a))+1}return _h}(i,{dayStart:d,dayEnd:h,day:w,precision:o,startDate:e,endDate:l})),g=c(g,1)};g<l;)b();return p}function tw(i,t){var n=t.periodStart,r=t.periodEnd;return t.events.filter(function(o){return function UMe(i,t){var e=t.event,n=t.periodStart,r=t.periodEnd,o=i.isSameSecond,s=e.start,a=e.end||e.start;return!!(s>n&&s<r||a>n&&a<r||s<n&&a>r||o(s,n)||o(s,r)||o(a,n)||o(a,r))}(i,{event:o,periodStart:n,periodEnd:r})})}function yY(i,t){var e=t.date,n=t.weekendDays,r=void 0===n?BMe:n,s=i.isSameDay,a=i.getDay,c=(0,i.startOfDay)(new Date),l=a(e);return{date:e,day:l,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:r.indexOf(l)>-1}}function xF(i,t){for(var r=t.excluded,o=void 0===r?[]:r,s=t.weekendDays,a=t.viewStart,c=void 0===a?i.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):a,l=t.viewEnd,d=void 0===l?i.addDays(c,yF):l,h=i.addDays,p=i.getDay,g=[],b=c;b<d;)o.some(function(w){return p(b)===w})||g.push(yY(i,{date:b,weekendDays:s})),b=h(b,1);return g}function WMe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.excluded,o=void 0===r?[]:r,s=t.precision,a=void 0===s?"days":s,c=t.absolutePositionedEvents,l=void 0!==c&&c,d=t.viewStart,h=t.viewEnd;d=i.startOfDay(d),h=i.endOfDay(h);var p=i.differenceInSeconds,g=i.differenceInDays,b=function $Me(i,t){for(var n=t.date2,r=t.excluded,o=t.date1,s=0;o<n;)-1===r.indexOf(i.getDay(o))&&s++,o=i.addDays(o,1);return s}(i,{date1:d,date2:h,excluded:o}),w=g(h,d)+1,x=n.filter(function(M){return M.allDay}).map(function(M){var F=function jMe(i,t){var e=t.event,n=t.startOfWeek,r=t.excluded,o=t.precision,s=i.differenceInDays,a=i.startOfDay,c=i.differenceInSeconds;if(e.start<n)return 0;var l=0;switch(o){case"days":l=s(a(e.start),n)*_h;break;case"minutes":l=c(e.start,n)}return l-=bY(i,{startDate:n,seconds:l,excluded:r,precision:o}),Math.abs(l/_h)}(i,{event:M,startOfWeek:d,excluded:o,precision:a}),V=function HMe(i,t){var e=t.event,n=t.offset,o=t.excluded,s=t.precision,a=t.totalDaysInView,l=i.differenceInSeconds,d=i.addDays,h=i.endOfDay,p=i.differenceInDays,g=_h,b=(0,i.max)([e.start,t.startOfWeekDate]);e.end&&(g="minutes"===s?l(e.end,b):p(d(h(e.end),1),b)*_h);var w=n*_h,I=a*_h;return w+g>I&&(g=I-w),(g-=bY(i,{startDate:b,seconds:g,excluded:o,precision:s}))/_h}(i,{event:M,offset:F,startOfWeekDate:d,excluded:o,precision:a,totalDaysInView:w});return{event:M,offset:F,span:V}}).filter(function(M){return M.offset<b}).filter(function(M){return M.span>0}).map(function(M){return{event:M.event,offset:M.offset,span:M.span,startsBeforeWeek:M.event.start<d,endsAfterWeek:(M.event.end||M.event.start)>h}}).sort(function(M,F){var V=p(M.event.start,F.event.start);return 0===V?p(F.event.end||F.event.start,M.event.end||M.event.start):V}),I=[],T=[];return x.forEach(function(M,F){if(-1===T.indexOf(M)){T.push(M);var V=M.span+M.offset,Y=x.slice(F+1).filter(function(pe){if(pe.offset>=V&&V+pe.span<=w&&-1===T.indexOf(pe)){var Te=pe.offset-V;return l||(pe.offset=Te),V+=pe.span+Te,T.push(pe),!0}}),le=vF([M],Y,!0),ie=le.filter(function(pe){return pe.event.id}).map(function(pe){return pe.event.id}).join("-");I.push(Cc({row:le},ie?{id:ie}:{}))}}),I}function GMe(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.hourDuration,s=t.dayStart,a=t.dayEnd,c=t.weekStartsOn,l=t.excluded,d=t.weekendDays,h=t.segmentHeight,p=t.viewStart,g=t.viewEnd,b=t.minimumEventHeight,w=function KMe(i,t){var e=t.viewDate,n=t.hourSegments,r=t.hourDuration,o=t.dayStart,s=t.dayEnd,a=i.setMinutes,c=i.setHours,l=i.startOfDay,d=i.startOfMinute,h=i.endOfDay,p=i.addMinutes,g=i.addDays,b=[],w=a(c(l(e),LD(o.hour)),VD(o.minute)),x=a(c(d(h(e)),LD(s.hour)),VD(s.minute)),I=(r||60)/n,T=l(e),M=h(e),F=function(Te){return Te};i.getTimezoneOffset(T)!==i.getTimezoneOffset(M)&&(T=g(T,1),w=g(w,1),x=g(x,1),F=function(Te){return g(Te,-1)});for(var V=r?1440/r:60,Y=0;Y<V;Y++){for(var le=[],ie=0;ie<n;ie++){var pe=p(p(w,Y*(r||60)),ie*I);pe>=w&&pe<x&&le.push({date:F(pe),displayDate:pe,isStart:0===ie})}le.length>0&&b.push({segments:le})}return b}(i,{viewDate:n,hourSegments:r,hourDuration:o,dayStart:s,dayEnd:a}),x=xF(i,{viewDate:n,weekStartsOn:c,excluded:l,weekendDays:d,viewStart:p,viewEnd:g}),I=i.setHours,T=i.setMinutes,M=i.getHours,F=i.getMinutes;return x.map(function(V){var Y=function ZMe(i,t){var e=t.events,n=t.viewDate,r=t.hourSegments,o=t.dayStart,s=t.dayEnd,a=t.eventWidth,c=t.segmentHeight,l=t.hourDuration,d=t.minimumEventHeight,h=i.setMinutes,p=i.setHours,g=i.startOfDay,b=i.startOfMinute,w=i.endOfDay,x=i.differenceInMinutes,I=h(p(g(n),LD(o.hour)),VD(o.minute)),T=h(p(b(w(n)),LD(s.hour)),VD(s.minute));T.setSeconds(59,999);var M=[],F=tw(i,{events:e.filter(function(ie){return!ie.allDay}),periodStart:I,periodEnd:T}),V=F.sort(function(ie,pe){return ie.start.valueOf()-pe.start.valueOf()}).map(function(ie){var pe=ie.start,Te=ie.end||pe,_e=pe<I,be=Te>T,kt=r*c/(l||60),Zt=0;if(pe>I){var Ei=i.getTimezoneOffset(pe),Ve=i.getTimezoneOffset(I)-Ei;Zt+=x(pe,I)+Ve}Zt*=kt,Zt=Math.floor(Zt);var rt=_e?I:pe,tt=be?T:Te,Oi=i.getTimezoneOffset(rt)-i.getTimezoneOffset(tt),_n=x(tt,rt)+Oi;ie.end?_n*=kt:_n=c,d&&_n<d&&(_n=d),_n=Math.floor(_n);for(var es=ND(M,Zt,Zt+_n),ki=0;es.some(function(Ac){return Ac.left===ki});)ki+=a;var Mc={event:ie,height:_n,width:a,top:Zt,left:ki,startsBeforeDay:_e,endsAfterDay:be};return M.push(Mc),Mc}),Y=Math.max.apply(Math,V.map(function(ie){return ie.left+ie.width})),le=tw(i,{events:e.filter(function(ie){return ie.allDay}),periodStart:g(I),periodEnd:w(T)});return{events:V,width:Y,allDayEvents:le,period:{events:F,start:I,end:T}}}(i,{events:e,viewDate:V.date,hourSegments:r,dayStart:s,dayEnd:a,segmentHeight:h,eventWidth:1,hourDuration:o,minimumEventHeight:b}),le=w.map(function(Te){var _e=Te.segments.map(function(be){var kt=T(I(V.date,M(be.date)),F(be.date));return Cc(Cc({},be),{date:kt})});return Cc(Cc({},Te),{segments:_e})});function ie(Te,_e){var be=Math.max.apply(Math,_e.map(function(Zt){return Zt.left+1})),kt=Te.filter(function(Zt){return Zt.left>=be}).filter(function(Zt){return ND(_e,Zt.top,Zt.top+Zt.height).length>0});return kt.length>0?ie(Te,kt):be}var pe=Y.events.map(function(Te){var be=100/ie(Y.events,ND(Y.events,Te.top,Te.top+Te.height));return Cc(Cc({},Te),{left:Te.left*be,width:be})});return{hours:le,date:V.date,events:pe.map(function(Te){var _e=ND(pe.filter(function(be){return be.left>Te.left}),Te.top,Te.top+Te.height);return _e.length>0?Cc(Cc({},Te),{width:Math.min.apply(Math,_e.map(function(be){return be.left}))-Te.left}):Te})}})}function ND(i,t,e){return i.filter(function(n){var r=n.top,o=n.top+n.height;return t<o&&o<e||t<r&&r<e||r<=t&&e<=o})}function LD(i){return Math.max(Math.min(23,i),0)}function VD(i){return Math.max(Math.min(59,i),0)}"function"==typeof Symbol&&Symbol;var iw=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var i=0,t=iw.length;i<t&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[iw[i]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=(new Date).getTime(),o=Math.max(0,16-r-e),s=window.setTimeout(function(){return n(r+o)},o);return e=r+o,s}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var i=0,t=iw.length;i<t&&!window.cancelAnimationFrame;++i)window.cancelAnimationFrame=window[iw[i]+"CancelAnimationFrame"]||window[iw[i]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let BD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({}),i})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let SY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({}),i})(),PY=(()=>{class i{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`\n        ${Xr(e.date,"EEEE MMMM d",n)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${Xr(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`\n      Beginning of expanded view for ${Xr(e,"EEEE MMMM dd",n)}\n    `}openDayEventsAlert({date:e,locale:n}){return`${Xr(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:n});const r=`\n      ${Xr(e.start,"EEEE MMMM dd",n)},\n      ${e.title}, from ${Xr(e.start,"hh:mm a",n)}\n    `;return e.end?r+` to ${Xr(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${Xr(e.start,"MMMM dd hh:mm a",n)}\n    `;return e.end?r+`, stop time ${Xr(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return i.\u0275fac=function(e){return new(e||i)(U(XA))},i.\u0275prov=ye({token:i,factory:i.\u0275fac}),i})();class OY{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class NY{}let tAe=(()=>{class i{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return Xr(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return Xr(e,"d",n)}monthViewTitle({date:e,locale:n}){return Xr(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return Xr(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return Xr(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:o,daysInWeek:s}){const{viewStart:a,viewEnd:c}=function J1e(i,t,e,n=[],r){let o=r?i.startOfDay(t):i.startOfWeek(t,{weekStartsOn:e});const s=i.endOfWeek(t,{weekStartsOn:e});for(;n.indexOf(i.getDay(o))>-1&&o<s;)o=i.addDays(o,1);if(r){const a=i.endOfDay(function X1e(i,t,e,n){let r=0,o=0;const s=e<0?i.subDays:i.addDays;let a=t;for(;o<=Math.abs(e);){a=s(t,r);const c=i.getDay(a);-1===n.indexOf(c)&&o++,r++}return a}(i,o,r-1,n));return{viewStart:o,viewEnd:a}}{let a=s;for(;n.indexOf(i.getDay(a))>-1&&a>o;)a=i.subDays(a,1);return{viewStart:o,viewEnd:a}}}(this.dateAdapter,e,r,o,s),l=(d,h)=>Xr(d,"MMM d"+(h?", yyyy":""),n);return`${l(a,a.getUTCFullYear()!==c.getUTCFullYear())} - ${l(c,!0)}`}weekViewHour({date:e,locale:n}){return Xr(e,"h a",n)}dayViewHour({date:e,locale:n}){return Xr(e,"h a",n)}dayViewTitle({date:e,locale:n}){return Xr(e,"EEEE, MMMM d, y",n)}}return i.\u0275fac=function(e){return new(e||i)(U(NY))},i.\u0275prov=ye({token:i,factory:i.\u0275fac}),i})(),LY=(()=>{class i extends tAe{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Et(i)))(n||i)}}(),i.\u0275prov=ye({token:i,factory:i.\u0275fac}),i})(),VY=(()=>{class i{constructor(e){this.dateAdapter=e}getMonthView(e){return function YMe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.viewStart,l=void 0===c?i.startOfMonth(r):c,d=t.viewEnd,h=void 0===d?i.endOfMonth(r):d,p=t.weekendDays;n||(n=[]);for(var pe,b=i.endOfWeek,w=i.differenceInDays,x=i.startOfDay,I=i.addHours,T=i.endOfDay,M=i.isSameMonth,F=i.getDay,V=(0,i.startOfWeek)(l,{weekStartsOn:o}),Y=b(h,{weekStartsOn:o}),le=tw(i,{events:n,periodStart:V,periodEnd:Y}),ie=[],Te=function(rt){var tt;if(pe?(tt=x(I(pe,24)),pe.getTime()===tt.getTime()&&(tt=x(I(pe,25))),pe=tt):tt=pe=V,!a.some(function(qn){return F(tt)===qn})){var Oi=yY(i,{date:tt,weekendDays:p}),_n=tw(i,{events:le,periodStart:x(tt),periodEnd:T(tt)});Oi.inMonth=M(tt,r),Oi.events=_n,Oi.badgeTotal=_n.length,ie.push(Oi)}},_e=0;_e<w(Y,V)+1;_e++)Te();var be=[],kt=yF-a.length;if(kt<yF)for(_e=0;_e<ie.length;_e+=kt){var Zt=ie.slice(_e,_e+kt);Zt.some(function(tt){return l<=tt.date&&tt.date<h})&&(be=vF(vF([],be,!0),Zt,!0))}else be=ie;var Re=Math.floor(be.length/kt),Ve=[];for(_e=0;_e<Re;_e++)Ve.push(_e*kt);return{rowOffsets:Ve,totalDaysVisibleInWeek:kt,days:be,period:{start:be[0].date,end:T(be[be.length-1].date),events:le}}}(this.dateAdapter,e)}getWeekViewHeader(e){return xF(this.dateAdapter,e)}getWeekView(e){return function qMe(i,t){var e=t.events,n=void 0===e?[]:e,r=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.precision,l=void 0===c?"days":c,d=t.absolutePositionedEvents,h=void 0!==d&&d,p=t.hourSegments,g=t.hourDuration,b=t.dayStart,w=t.dayEnd,x=t.weekendDays,I=t.segmentHeight,T=t.minimumEventHeight,M=t.viewStart,F=void 0===M?i.startOfWeek(r,{weekStartsOn:o}):M,V=t.viewEnd,Y=void 0===V?i.endOfWeek(r,{weekStartsOn:o}):V;n||(n=[]);var ie=i.endOfDay,pe=tw(i,{events:n,periodStart:F=(0,i.startOfDay)(F),periodEnd:Y=ie(Y)}),Te=xF(i,{viewDate:r,weekStartsOn:o,excluded:a,weekendDays:x,viewStart:F,viewEnd:Y});return{allDayEventRows:WMe(i,{events:pe,excluded:a,precision:l,absolutePositionedEvents:h,viewStart:F,viewEnd:Y}),period:{events:pe,start:Te[0].date,end:ie(Te[Te.length-1].date)},hourColumns:GMe(i,{events:n,viewDate:r,hourSegments:p,hourDuration:g,dayStart:b,dayEnd:w,weekStartsOn:o,excluded:a,weekendDays:x,segmentHeight:I,viewStart:F,viewEnd:Y,minimumEventHeight:T})}}(this.dateAdapter,e)}}return i.\u0275fac=function(e){return new(e||i)(U(NY))},i.\u0275prov=ye({token:i,factory:i.\u0275fac}),i})();new q("Moment");let sw=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||OY,n.dateFormatter||LY,n.utils||VY,n.a11y||PY]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({providers:[XA],imports:[Wi]}),i})();!function Rn(i,t){return{type:7,name:i,definitions:t,options:{}}}("collapse",[Ut("void",Ue({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Ut("*",Ue({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),ei("* => void",ai("150ms ease-out")),ei("void => *",ai("150ms ease-in"))]);let BY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({imports:[Wi,BD,sw,BD]}),i})(),MF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({imports:[Wi,SY,BD,sw,SY,BD]}),i})(),zY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({imports:[Wi,sw,MF]}),i})(),nAe=(()=>{class i{static forRoot(e,n={}){return{ngModule:i,providers:[e,n.eventTitleFormatter||OY,n.dateFormatter||LY,n.utils||VY,n.a11y||PY]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({imports:[sw,BY,MF,zY,sw,BY,MF,zY]}),i})();const Qa=void 0,oAe=["th",[["a","p"],["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],Qa],[["\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07","\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"],Qa,Qa],[["\u0e2d\u0e32","\u0e08","\u0e2d","\u0e1e","\u0e1e\u0e24","\u0e28","\u0e2a"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],["\u0e27\u0e31\u0e19\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e27\u0e31\u0e19\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e27\u0e31\u0e19\u0e1e\u0e38\u0e18","\u0e27\u0e31\u0e19\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35","\u0e27\u0e31\u0e19\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"],["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]],Qa,[["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],Qa,["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"]],Qa,[["\u0e01\u0e48\u0e2d\u0e19 \u0e04.\u0e28.","\u0e04.\u0e28."],Qa,["\u0e1b\u0e35\u0e01\u0e48\u0e2d\u0e19\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e01\u0e32\u0e25","\u0e04\u0e23\u0e34\u0e2a\u0e15\u0e4c\u0e28\u0e31\u0e01\u0e23\u0e32\u0e0a"]],0,[6,0],["d/M/yy","d MMM y","d MMMM G y","EEEE\u0e17\u0e35\u0e48 d MMMM G y"],["HH:mm","HH:mm:ss","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 z","H \u0e19\u0e32\u0e2c\u0e34\u0e01\u0e32 mm \u0e19\u0e32\u0e17\u0e35 ss \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35 zzzz"],["{1} {0}",Qa,Qa,Qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"THB","\u0e3f","\u0e1a\u0e32\u0e17",{AUD:["AU$","$"],BYN:[Qa,"\u0440."],PHP:[Qa,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function rAe(i){return 5}];let HD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,Wi,vT,nt]})}return i})();const bAe={provide:new q("mat-autocomplete-scroll-strategy"),deps:[Ya],useFactory:function vAe(i){return()=>i.scrollStrategies.reposition()}};let xAe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[bAe],imports:[eh,xT,nt,Wi,xd,xT,nt]})}return i})(),WY=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),FAe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,ha,WY,nt,WY]})}return i})(),NAe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),VAe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,HD,HD,NAe,nt]})}return i})(),HAe=(()=>{class i{constructor(){this.changes=new Z,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const QAe={provide:new q("mat-datepicker-scroll-strategy"),deps:[Ya],useFactory:function KAe(i){return()=>i.scrollStrategies.reposition()}};let rRe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[HAe,QAe],imports:[Wi,_D,eh,g0,vl,nt,xd]})}return i})(),_Re=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,Wi,ha,nt]})}return i})();const xRe={provide:new q("mat-select-scroll-strategy"),deps:[Ya],useFactory:function wRe(i){return()=>i.scrollStrategies.reposition()}};let tZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[xRe],imports:[Wi,eh,xT,nt,xd,HD,xT,nt]})}return i})(),ARe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,Wi,ha]})}return i})(),oZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),URe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[oZ,nt,ha,Wi,oZ,nt]})}return i})();const qRe={provide:new q("mat-menu-scroll-strategy"),deps:[Ya],useFactory:function GRe(i){return()=>i.scrollStrategies.reposition()}};let YRe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[qRe],imports:[Wi,ha,nt,eh,xd,nt]})}return i})(),KRe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[Wi,nt,xd,xd,nt]})}return i})(),nPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,Wi,nt]})}return i})(),aZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,nt]})}return i})(),rPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),oPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[Wi,nt,rPe,vl]})}return i})(),cPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[b8,nt,b8,nt]})}return i})(),VPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[vT,Wi,nt,ha,k8,aZ]})}return i})(),BPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[o_]})}return i})(),NF=(()=>{class i{constructor(){this.changes=new Z,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const KPe={provide:NF,deps:[[new Ho,new na,NF]],useFactory:function ZPe(i){return i||new NF}};let QPe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[KPe,AO],imports:[nt,Wi,vl,BPe,Lq,ha,nt]})}return i})(),iOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[Wi,nt,vl,ha,vT,g0,nt]})}return i})(),aOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({})}return i})(),mOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[aOe,nt,nt]})}return i})(),yOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,ha,nt]})}return i})(),wOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[g0,nt,nt]})}return i})();const qD=new q("mat-chips-default-options");let QOe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[AO,{provide:qD,useValue:{separatorKeyCodes:[13]}}],imports:[nt,Wi,ha,nt]})}return i})(),e2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[Wi,nt]})}return i})(),i2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt]})}return i})(),n2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[g8,nt,vl,nt]})}return i})(),s2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[eh,vl,Wi,_D,nt,nt]})}return i})();const u2e={provide:new q("mat-tooltip-scroll-strategy"),deps:[Ya],useFactory:function d2e(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let SZ=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[u2e],imports:[g0,Wi,eh,nt,nt,xd]})}return i})(),qF=(()=>{class i{constructor(){this.changes=new Z,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const _2e={provide:qF,deps:[[new Ho,new na,qF]],useFactory:function g2e(i){return i||new qF}};let v2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[_2e],imports:[Wi,_D,tZ,SZ]})}return i})(),YF=(()=>{class i{constructor(){this.changes=new Z}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const y2e={provide:YF,deps:[[new Ho,new na,YF]],useFactory:function b2e(i){return i||new YF}};let w2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({providers:[y2e],imports:[Wi,nt]})}return i})(),F2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[lO]})}return i})(),$2e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i});static#i=this.\u0275inj=Oe({imports:[nt,F2e,nt]})}return i})();function oN(){return ee((i,t)=>{let e,n=!1;i.subscribe(Pe(t,r=>{const o=e;e=r,n&&t.next([o,r]),n=!0}))})}var He,G2e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ec={},sN=sN||{},zt=G2e||self;function oI(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function hw(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var aN="closure_uid_"+(1e9*Math.random()>>>0),Y2e=0;function Z2e(i,t,e){return i.call.apply(i.bind,arguments)}function K2e(i,t,e){if(!i)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),i.apply(t,r)}}return function(){return i.apply(t,arguments)}}function Yo(i,t,e){return(Yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z2e:K2e).apply(null,arguments)}function sI(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),i.apply(this,n)}}function po(i,t){function e(){}e.prototype=t.prototype,i.$=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.ac=function(n,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(n,s)}}function bh(){this.s=this.s,this.o=this.o}bh.prototype.s=!1,bh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function q2e(i){Object.prototype.hasOwnProperty.call(i,aN)&&i[aN]||(i[aN]=++Y2e)}(this)},bh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zZ=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1};function cN(i){const t=i.length;if(0<t){const e=Array(t);for(let n=0;n<t;n++)e[n]=i[n];return e}return[]}function HZ(i,t){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(oI(n)){const r=i.length||0,o=n.length||0;i.length=r+o;for(let s=0;s<o;s++)i[r+s]=n[s]}else i.push(n)}}function Zo(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}Zo.prototype.h=function(){this.defaultPrevented=!0};var X2e=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const e=()=>{};zt.addEventListener("test",e,t),zt.removeEventListener("test",e,t)}catch{}return i}();function mw(i){return/^[\s\xa0]*$/.test(i)}function aI(){var i=zt.navigator;return i&&(i=i.userAgent)?i:""}function Tl(i){return-1!=aI().indexOf(i)}function lN(i){return lN[" "](i),i}lN[" "]=function(){};var uN,i,eFe=Tl("Opera"),L_=Tl("Trident")||Tl("MSIE"),jZ=Tl("Edge"),dN=jZ||L_,UZ=Tl("Gecko")&&!(-1!=aI().toLowerCase().indexOf("webkit")&&!Tl("Edge"))&&!(Tl("Trident")||Tl("MSIE"))&&!Tl("Edge"),tFe=-1!=aI().toLowerCase().indexOf("webkit")&&!Tl("Edge");function $Z(){var i=zt.document;return i?i.documentMode:void 0}e:{var hN="",mN=(i=aI(),UZ?/rv:([^\);]+)(\)|;)/.exec(i):jZ?/Edge\/([\d\.]+)/.exec(i):L_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):tFe?/WebKit\/(\S+)/.exec(i):eFe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(mN&&(hN=mN?mN[1]:""),L_){var pN=$Z();if(null!=pN&&pN>parseFloat(hN)){uN=String(pN);break e}}uN=hN}var iFe=zt.document&&L_&&($Z()||parseInt(uN,10))||void 0;function pw(i,t){if(Zo.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,n=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(UZ){e:{try{lN(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:nFe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&pw.$.h.call(this)}}po(pw,Zo);var nFe={2:"touch",3:"pen",4:"mouse"};pw.prototype.h=function(){pw.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fw="closure_listenable_"+(1e6*Math.random()|0),rFe=0;function oFe(i,t,e,n,r){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!n,this.la=r,this.key=++rFe,this.fa=this.ia=!1}function cI(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function gN(i,t,e){for(const n in i)t.call(e,i[n],n,i)}function GZ(i){const t={};for(const e in i)t[e]=i[e];return t}const qZ="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YZ(i,t){let e,n;for(let r=1;r<arguments.length;r++){for(e in n=arguments[r],n)i[e]=n[e];for(let o=0;o<qZ.length;o++)e=qZ[o],Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}}function lI(i){this.src=i,this.g={},this.h=0}function _N(i,t){var e=t.type;if(e in i.g){var o,n=i.g[e],r=zZ(n,t);(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(cI(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function vN(i,t,e,n){for(var r=0;r<i.length;++r){var o=i[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==n)return r}return-1}lI.prototype.add=function(i,t,e,n,r){var o=i.toString();(i=this.g[o])||(i=this.g[o]=[],this.h++);var s=vN(i,t,n,r);return-1<s?(t=i[s],e||(t.ia=!1)):((t=new oFe(t,this.src,o,!!n,r)).ia=e,i.push(t)),t};var bN="closure_lm_"+(1e6*Math.random()|0),yN={};function ZZ(i,t,e,n,r){if(n&&n.once)return QZ(i,t,e,n,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ZZ(i,t[o],e,n,r);return null}return e=EN(e),i&&i[fw]?i.O(t,e,hw(n)?!!n.capture:!!n,r):KZ(i,t,e,!1,n,r)}function KZ(i,t,e,n,r,o){if(!t)throw Error("Invalid event type");var s=hw(r)?!!r.capture:!!r,a=xN(i);if(a||(i[bN]=a=new lI(i)),(e=a.add(t,e,n,s,o)).proxy)return e;if(n=function aFe(){const t=cFe;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=n,n.src=i,n.listener=e,i.addEventListener)X2e||(r=s),void 0===r&&(r=!1),i.addEventListener(t.toString(),n,r);else if(i.attachEvent)i.attachEvent(JZ(t.toString()),n);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(n)}return e}function QZ(i,t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)QZ(i,t[o],e,n,r);return null}return e=EN(e),i&&i[fw]?i.P(t,e,hw(n)?!!n.capture:!!n,r):KZ(i,t,e,!0,n,r)}function XZ(i,t,e,n,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)XZ(i,t[o],e,n,r);else n=hw(n)?!!n.capture:!!n,e=EN(e),i&&i[fw]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=vN(o=i.g[t],e,n,r))&&(cI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.g[t],i.h--))):i&&(i=xN(i))&&(t=i.g[t.toString()],i=-1,t&&(i=vN(t,e,n,r)),(e=-1<i?t[i]:null)&&wN(e))}function wN(i){if("number"!=typeof i&&i&&!i.fa){var t=i.src;if(t&&t[fw])_N(t.i,i);else{var e=i.type,n=i.proxy;t.removeEventListener?t.removeEventListener(e,n,i.capture):t.detachEvent?t.detachEvent(JZ(e),n):t.addListener&&t.removeListener&&t.removeListener(n),(e=xN(t))?(_N(e,i),0==e.h&&(e.src=null,t[bN]=null)):cI(i)}}}function JZ(i){return i in yN?yN[i]:yN[i]="on"+i}function cFe(i,t){if(i.fa)i=!0;else{t=new pw(t,this);var e=i.listener,n=i.la||i.src;i.ia&&wN(i),i=e.call(n,t)}return i}function xN(i){return(i=i[bN])instanceof lI?i:null}var CN="__closure_events_fn_"+(1e9*Math.random()>>>0);function EN(i){return"function"==typeof i?i:(i[CN]||(i[CN]=function(t){return i.handleEvent(t)}),i[CN])}function fo(){bh.call(this),this.i=new lI(this),this.S=this,this.J=null}function Ro(i,t){var e,n=i.J;if(n)for(e=[];n;n=n.J)e.push(n);if(i=i.S,n=t.type||t,"string"==typeof t)t=new Zo(t,i);else if(t instanceof Zo)t.target=t.target||i;else{var r=t;YZ(t=new Zo(n,i),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=dI(s,n,!0,t)&&r}if(r=dI(s=t.g=i,n,!0,t)&&r,r=dI(s,n,!1,t)&&r,e)for(o=0;o<e.length;o++)r=dI(s=t.g=e[o],n,!1,t)&&r}function dI(i,t,e,n){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,c=s.la||s.src;s.ia&&_N(i.i,s),r=!1!==a.call(c,n)&&r}}return r&&!n.defaultPrevented}po(fo,bh),fo.prototype[fw]=!0,fo.prototype.removeEventListener=function(i,t,e,n){XZ(this,i,t,e,n)},fo.prototype.N=function(){if(fo.$.N.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],n=0;n<e.length;n++)cI(e[n]);delete i.g[t],i.h--}}this.J=null},fo.prototype.O=function(i,t,e,n){return this.i.add(String(i),t,!1,e,n)},fo.prototype.P=function(i,t,e,n){return this.i.add(String(i),t,!0,e,n)};var kN=zt.JSON.stringify;function dFe(){var i=TN;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var eK=new class lFe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new hFe,i=>i.reset());class hFe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function mFe(i){var t=1;i=i.split(":");const e=[];for(;0<t&&i.length;)e.push(i.shift()),t--;return i.length&&e.push(i.join(":")),e}function pFe(i){zt.setTimeout(()=>{throw i},0)}let gw,_w=!1,TN=new class uFe{constructor(){this.h=this.g=null}add(t,e){const n=eK.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},tK=()=>{const i=zt.Promise.resolve(void 0);gw=()=>{i.then(fFe)}};var fFe=()=>{for(var i;i=dFe();){try{i.h.call(i.g)}catch(e){pFe(e)}var t=eK;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}_w=!1};function uI(i,t){fo.call(this),this.h=i||1,this.g=t||zt,this.j=Yo(this.qb,this),this.l=Date.now()}function DN(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function IN(i,t,e){if("function"==typeof i)e&&(i=Yo(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Yo(i.handleEvent,i)}return 2147483647<Number(t)?-1:zt.setTimeout(i,t||0)}function iK(i){i.g=IN(()=>{i.g=null,i.i&&(i.i=!1,iK(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}po(uI,fo),(He=uI.prototype).ga=!1,He.T=null,He.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ro(this,"tick"),this.ga&&(DN(this),this.start()))}},He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.N=function(){uI.$.N.call(this),DN(this),delete this.g};class gFe extends bh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:iK(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vw(i){bh.call(this),this.h=i,this.g={}}po(vw,bh);var nK=[];function rK(i,t,e,n){Array.isArray(e)||(e&&(nK[0]=e.toString()),e=nK);for(var r=0;r<e.length;r++){var o=ZZ(t,e[r],n||i.handleEvent,!1,i.h||i);if(!o)break;i.g[o.key]=o}}function oK(i){gN(i.g,function(t,e){this.g.hasOwnProperty(e)&&wN(t)},i),i.g={}}function hI(){this.g=!0}function V_(i,t,e,n){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function yFe(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var n=e[i];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return kN(e)}catch{return t}}(i,e)+(n?" "+n:"")})}vw.prototype.N=function(){vw.$.N.call(this),oK(this)},vw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hI.prototype.Ea=function(){this.g=!1},hI.prototype.info=function(){};var Ip={},sK=null;function mI(){return sK=sK||new fo}function aK(i){Zo.call(this,Ip.Ta,i)}function bw(i){const t=mI();Ro(t,new aK(t))}function cK(i,t){Zo.call(this,Ip.STAT_EVENT,i),this.stat=t}function ws(i){const t=mI();Ro(t,new cK(t,i))}function lK(i,t){Zo.call(this,Ip.Ua,i),this.size=t}function yw(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){i()},t)}Ip.Ta="serverreachability",po(aK,Zo),Ip.STAT_EVENT="statevent",po(cK,Zo),Ip.Ua="timingevent",po(lK,Zo);var pI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dK={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SN(){}function hK(){}SN.prototype.h=null;var RN,ww={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function MN(){Zo.call(this,"d")}function AN(){Zo.call(this,"c")}function fI(){}function xw(i,t,e,n){this.l=i,this.j=t,this.m=e,this.W=n||1,this.U=new vw(this),this.P=wFe,this.V=new uI(i=dN?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mK}function mK(){this.i=null,this.g="",this.h=!1}po(MN,Zo),po(AN,Zo),po(fI,SN),fI.prototype.g=function(){return new XMLHttpRequest},fI.prototype.i=function(){return{}},RN=new fI;var wFe=45e3,pK={},PN={};function ON(i,t,e){i.L=1,i.A=bI(Bd(t)),i.u=e,i.S=!0,fK(i,null)}function fK(i,t){i.G=Date.now(),Cw(i),i.B=Bd(i.A);var e=i.B,n=i.W;Array.isArray(n)||(n=[String(n)]),kK(e.i,"t",n),i.o=0,e=i.l.J,i.h=new mK,i.g=ZK(i.l,e?t:null,!i.u),0<i.O&&(i.M=new gFe(Yo(i.Pa,i,i.g),i.O)),rK(i.U,i.g,"readystatechange",i.nb),t=i.I?GZ(i.I):{},i.u?(i.v||(i.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,t)):(i.v="GET",i.g.ha(i.B,i.v,null,t)),bw(),function _Fe(i,t,e,n,r,o){i.info(function(){if(i.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var h=d.split("_");s=2<=h.length&&"type"==h[1]?s+(d+"=")+l+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(i.j,i.v,i.B,i.m,i.W,i.u)}function gK(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function _K(i,t,e){let r,n=!0;for(;!i.J&&i.o<e.length;){if(r=xFe(i,e),r==PN){4==t&&(i.s=4,ws(14),n=!1),V_(i.j,i.m,null,"[Incomplete Response]");break}if(r==pK){i.s=4,ws(15),V_(i.j,i.m,e,"[Invalid Chunk]"),n=!1;break}V_(i.j,i.m,r,null),FN(i,r)}gK(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=t||0!=e.length||i.h.h||(i.s=1,ws(16),n=!1),i.i=i.i&&n,n?0<e.length&&!i.ba&&(i.ba=!0,(t=i.l).g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),jN(t),t.M=!0,ws(11))):(V_(i.j,i.m,e,"[Invalid Chunked Response]"),Sp(i),Ew(i))}function xFe(i,t){var e=i.o,n=t.indexOf("\n",e);return-1==n?PN:(e=Number(t.substring(e,n)),isNaN(e)?pK:(n+=1)+e>t.length?PN:(t=t.slice(n,n+e),i.o=n+e,t))}function Cw(i){i.Y=Date.now()+i.P,vK(i,i.P)}function vK(i,t){if(null!=i.C)throw Error("WatchDog timer not null");i.C=yw(Yo(i.lb,i),t)}function gI(i){i.C&&(zt.clearTimeout(i.C),i.C=null)}function Ew(i){0==i.l.H||i.J||WK(i.l,i)}function Sp(i){gI(i);var t=i.M;t&&"function"==typeof t.sa&&t.sa(),i.M=null,DN(i.V),oK(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function FN(i,t){try{var e=i.l;if(0!=e.H&&(e.g==i||NN(e.i,i)))if(!i.K&&NN(e.i,i)&&3==e.H){try{var n=e.Ja.g.parse(t)}catch{n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<i.G))break e;kI(e),CI(e)}HN(e),ws(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=yw(Yo(e.ib,e),6e3));if(1>=IK(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Ap(e,11)}else if((i.K||e.g==i)&&kI(e),!mw(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(e.V=l[0],l=l[1],2==e.H)if("c"==l[0]){e.K=l[1],e.pa=l[2];const d=l[3];null!=d&&(e.ra=d,e.l.info("VER="+e.ra));const h=l[4];null!=h&&(e.Ga=h,e.l.info("SVER="+e.Ga));const p=l[5];null!=p&&"number"==typeof p&&0<p&&(e.L=n=1.5*p,e.l.info("backChannelRequestTimeoutMs_="+n)),n=e;const g=i.g;if(g){const b=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=n.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(LN(o,o.h),o.h=null))}if(n.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(n.Da=w,Nn(n.I,n.F,w))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-i.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=i;if((n=e).wa=YK(n,n.J?n.pa:null,n.Y),s.K){SK(n.i,s);var a=s,c=n.L;c&&a.setTimeout(c),a.C&&(gI(a),Cw(a)),n.g=s}else UK(n);0<e.j.length&&EI(e)}else"stop"!=l[0]&&"close"!=l[0]||Ap(e,7);else 3==e.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ap(e,7):zN(e):"noop"!=l[0]&&e.h&&e.h.Aa(l),e.A=0)}bw()}catch{}}function bK(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(oI(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var e=function EFe(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(oI(i)||"string"==typeof i){var t=[];i=i.length;for(var e=0;e<i;e++)t.push(e);return t}t=[],e=0;for(const n in i)t[e++]=n;return t}}}(i),n=function CFe(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(oI(i)){for(var t=[],e=i.length,n=0;n<e;n++)t.push(i[n]);return t}for(n in t=[],e=0,i)t[e++]=i[n];return t}(i),r=n.length,o=0;o<r;o++)t.call(void 0,n[o],e&&e[o],i)}(He=xw.prototype).setTimeout=function(i){this.P=i},He.nb=function(i){i=i.target;const t=this.M;t&&3==Dl(i)?t.l():this.Pa(i)},He.Pa=function(i){try{if(i==this.g)e:{const d=Dl(this.g);var t=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||dN||this.g&&(this.h.h||this.g.ja()||LK(this.g)))){this.J||4!=d||7==t||bw(),gI(this);var e=this.g.da();this.ca=e;t:if(gK(this)){var n=LK(this.g);i="";var r=n.length,o=4==Dl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sp(this),Ew(this);var s="";break t}this.h.i=new zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,i+=this.h.i.decode(n[t],{stream:o&&t==r-1});n.length=0,this.h.g+=i,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function vFe(i,t,e,n,r,o,s){i.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,d,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mw(a)){var l=a;break t}}l=null}if(!(e=l)){this.i=!1,this.s=3,ws(12),Sp(this),Ew(this);break e}V_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,FN(this,e)}this.S?(_K(this,d,s),dN&&this.i&&3==d&&(rK(this.U,this.V,"tick",this.mb),this.V.start())):(V_(this.j,this.m,s,null),FN(this,s)),4==d&&Sp(this),this.i&&!this.J&&(4==d?WK(this.l,this):(this.i=!1,Cw(this)))}else(function jFe(i){const t={};i=(i.g&&2<=Dl(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<i.length;n++){if(mw(i[n]))continue;var e=mFe(i[n]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function sFe(i,t){for(const e in i)t.call(void 0,i[e],e,i)}(t,function(n){return n.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),Sp(this),Ew(this)}}}catch{}},He.mb=function(){if(this.g){var i=Dl(this.g),t=this.g.ja();this.o<t.length&&(gI(this),_K(this,i,t),this.i&&4!=i&&Cw(this))}},He.cancel=function(){this.J=!0,Sp(this)},He.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function bFe(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(bw(),ws(17)),Sp(this),this.s=2,Ew(this)):vK(this,this.Y-i)};var yK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mp(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Mp){this.h=i.h,_I(this,i.j),this.s=i.s,this.g=i.g,vI(this,i.m),this.l=i.l;var t=i.i,e=new Dw;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),wK(this,e),this.o=i.o}else i&&(t=String(i).match(yK))?(this.h=!1,_I(this,t[1]||"",!0),this.s=kw(t[2]||""),this.g=kw(t[3]||"",!0),vI(this,t[4]),this.l=kw(t[5]||"",!0),wK(this,t[6]||"",!0),this.o=kw(t[7]||"")):(this.h=!1,this.i=new Dw(null,this.h))}function Bd(i){return new Mp(i)}function _I(i,t,e){i.j=e?kw(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function vI(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function wK(i,t,e){t instanceof Dw?(i.i=t,function AFe(i,t){t&&!i.j&&(yh(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(CK(this,n),kK(this,r,e))},i)),i.j=t}(i.i,i.h)):(e||(t=Tw(t,SFe)),i.i=new Dw(t,i.h))}function Nn(i,t,e){i.i.set(t,e)}function bI(i){return Nn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function kw(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Tw(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,TFe),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function TFe(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Mp.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Tw(t,xK,!0),":");var e=this.g;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Tw(t,xK,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(Tw(e,"/"==e.charAt(0)?IFe:DFe,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Tw(e,MFe)),i.join("")};var xK=/[#\/\?@]/g,DFe=/[#\?:]/g,IFe=/[#\?]/g,SFe=/[#\?@]/g,MFe=/#/g;function Dw(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function yh(i){i.g||(i.g=new Map,i.h=0,i.i&&function kFe(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var n=i[e].indexOf("="),r=null;if(0<=n){var o=i[e].substring(0,n);r=i[e].substring(n+1)}else o=i[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function CK(i,t){yh(i),t=B_(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function EK(i,t){return yh(i),t=B_(i,t),i.g.has(t)}function kK(i,t,e){CK(i,t),0<e.length&&(i.i=null,i.g.set(B_(i,t),cN(e)),i.h+=e.length)}function B_(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function TK(i){this.l=i||PFe,i=zt.PerformanceNavigationTiming?0<(i=zt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=Dw.prototype).add=function(i,t){yh(this),this.i=null,i=B_(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},He.forEach=function(i,t){yh(this),this.g.forEach(function(e,n){e.forEach(function(r){i.call(t,r,n,this)},this)},this)},He.ta=function(){yh(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let n=0;n<t.length;n++){const r=i[n];for(let o=0;o<r.length;o++)e.push(t[n])}return e},He.Z=function(i){yh(this);let t=[];if("string"==typeof i)EK(this,i)&&(t=t.concat(this.g.get(B_(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)t=t.concat(i[e])}return t},He.set=function(i,t){return yh(this),this.i=null,EK(this,i=B_(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},He.get=function(i,t){return i&&0<(i=this.Z(i)).length?String(i[0]):t},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var n=t[e];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var r=o;""!==s[n]&&(r+="="+encodeURIComponent(String(s[n]))),i.push(r)}}return this.i=i.join("&")};var PFe=10;function DK(i){return!!i.h||!!i.g&&i.g.size>=i.j}function IK(i){return i.h?1:i.g?i.g.size:0}function NN(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function LN(i,t){i.g?i.g.add(t):i.h=t}function SK(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function MK(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.F);return t}return cN(i.i)}TK.prototype.cancel=function(){if(this.i=MK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var OFe=class{stringify(i){return zt.JSON.stringify(i,void 0)}parse(i){return zt.JSON.parse(i,void 0)}};function FFe(){this.g=new OFe}function NFe(i,t,e){const n=e||"";try{bK(i,function(r,o){let s=r;hw(r)&&(s=kN(r)),t.push(n+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function yI(i,t,e,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch{}}function Iw(i){this.l=i.ec||null,this.j=i.ob||!1}function wI(i,t){fo.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=VN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}po(Iw,SN),Iw.prototype.g=function(){return new wI(this.l,this.j)},Iw.prototype.i=function(i){return function(){return i}}({}),po(wI,fo);var VN=0;function AK(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Sw(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Mw(i)}function Mw(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(He=wI.prototype).open=function(i,t){if(this.readyState!=VN)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,Mw(this)},He.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||zt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sw(this)),this.readyState=VN},He.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mw(this)),this.g&&(this.readyState=3,Mw(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AK(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},He.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Sw(this):Mw(this),3==this.readyState&&AK(this)}},He.Za=function(i){this.g&&(this.response=this.responseText=i,Sw(this))},He.Ya=function(i){this.g&&(this.response=i,Sw(this))},He.ka=function(){this.g&&Sw(this)},He.setRequestHeader=function(i,t){this.v.append(i,t)},He.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(wI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var VFe=zt.JSON.parse;function mr(i){fo.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RK,this.L=this.M=!1}po(mr,fo);var RK="",BFe=/^https?$/i,zFe=["POST","PUT"];function PK(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,OK(i),xI(i)}function OK(i){i.F||(i.F=!0,Ro(i,"complete"),Ro(i,"error"))}function FK(i){if(i.h&&typeof sN<"u"&&(!i.C[1]||4!=Dl(i)||2!=i.da()))if(i.v&&4==Dl(i))IN(i.La,0,i);else if(Ro(i,"readystatechange"),4==Dl(i)){i.h=!1;try{const s=i.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var n;if(n=0===s){var r=String(i.I).match(yK)[1]||null;!r&&zt.self&&zt.self.location&&(r=zt.self.location.protocol.slice(0,-1)),n=!BFe.test(r?r.toLowerCase():"")}e=n}if(e)Ro(i,"complete"),Ro(i,"success");else{i.m=6;try{var o=2<Dl(i)?i.g.statusText:""}catch{o=""}i.j=o+" ["+i.da()+"]",OK(i)}}finally{xI(i)}}}function xI(i,t){if(i.g){NK(i);const e=i.g,n=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||Ro(i,"ready");try{e.onreadystatechange=n}catch{}}}function NK(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(zt.clearTimeout(i.A),i.A=null)}function Dl(i){return i.g?i.g.readyState:0}function LK(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case RK:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function VK(i){let t="";return gN(i,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function BN(i,t,e){e:{for(n in e){var n=!1;break e}n=!0}n||(e=VK(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Nn(i,t,e))}function Aw(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function BK(i){this.Ga=0,this.j=[],this.l=new hI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Aw("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Aw("baseRetryDelayMs",5e3,i),this.hb=Aw("retryDelaySeedMs",1e4,i),this.eb=Aw("forwardChannelMaxRetries",2,i),this.xa=Aw("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new TK(i&&i.concurrentRequestLimit),this.Ja=new FFe,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zN(i){if(zK(i),3==i.H){var t=i.W++,e=Bd(i.I);if(Nn(e,"SID",i.K),Nn(e,"RID",t),Nn(e,"TYPE","terminate"),Rw(i,e),(t=new xw(i,i.l,t)).L=2,t.A=bI(Bd(e)),e=!1,zt.navigator&&zt.navigator.sendBeacon)try{e=zt.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&zt.Image&&((new Image).src=t.A,e=!0),e||(t.g=ZK(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Cw(t)}qK(i)}function CI(i){i.g&&(jN(i),i.g.cancel(),i.g=null)}function zK(i){CI(i),i.u&&(zt.clearTimeout(i.u),i.u=null),kI(i),i.i.cancel(),i.m&&("number"==typeof i.m&&zt.clearTimeout(i.m),i.m=null)}function EI(i){if(!DK(i.i)&&!i.m){i.m=!0;var t=i.Na;gw||tK(),_w||(gw(),_w=!0),TN.add(t,i),i.C=0}}function HK(i,t){var e;e=t?t.m:i.W++;const n=Bd(i.I);Nn(n,"SID",i.K),Nn(n,"RID",e),Nn(n,"AID",i.V),Rw(i,n),i.o&&i.s&&BN(n,i.o,i.s),e=new xw(i,i.l,e,i.C+1),null===i.o&&(e.I=i.s),t&&(i.j=t.F.concat(i.j)),t=jK(i,e,1e3),e.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),LN(i.i,e),ON(e,n,t)}function Rw(i,t){i.na&&gN(i.na,function(e,n){Nn(t,n,e)}),i.h&&bK({},function(e,n){Nn(t,n,e)})}function jK(i,t,e){e=Math.min(i.j.length,e);var n=i.h?Yo(i.h.Va,i.h,i):null;e:{var r=i.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<e;c++){let l=r[c].g;const d=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{NFe(d,s,"req"+l+"_")}catch{n&&n(d)}}if(a){n=s.join("&");break e}}}return i=i.j.splice(0,e),t.F=i,n}function UK(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;gw||tK(),_w||(gw(),_w=!0),TN.add(t,i),i.A=0}}function HN(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=yw(Yo(i.Ma,i),GK(i,i.A)),i.A++,0))}function jN(i){null!=i.B&&(zt.clearTimeout(i.B),i.B=null)}function $K(i){i.g=new xw(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var t=Bd(i.wa);Nn(t,"RID","rpc"),Nn(t,"SID",i.K),Nn(t,"AID",i.V),Nn(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&Nn(t,"TO",i.qa),Nn(t,"TYPE","xmlhttp"),Rw(i,t),i.o&&i.s&&BN(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var e=i.g;i=i.pa,e.L=1,e.A=bI(Bd(t)),e.u=null,e.S=!0,fK(e,i)}function kI(i){null!=i.v&&(zt.clearTimeout(i.v),i.v=null)}function WK(i,t){var e=null;if(i.g==t){kI(i),jN(i),i.g=null;var n=2}else{if(!NN(i.i,t))return;e=t.F,SK(i.i,t),n=1}if(0!=i.H)if(t.i)if(1==n){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=i.C;Ro(n=mI(),new lK(n,e)),EI(i)}else UK(i);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==n&&function UFe(i,t){return!(IK(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=t.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=yw(Yo(i.Na,i,t),GK(i,i.C)),i.C++,0)))}(i,t)||2==n&&HN(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),r){case 1:Ap(i,5);break;case 4:Ap(i,10);break;case 3:Ap(i,6);break;default:Ap(i,2)}}function GK(i,t){let e=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(e*=2),e*t}function Ap(i,t){if(i.l.info("Error code "+t),2==t){var e=null;i.h&&(e=null);var n=Yo(i.pb,i);e||(e=new Mp("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||_I(e,"https"),bI(e)),function LFe(i,t){const e=new hI;if(zt.Image){const n=new Image;n.onload=sI(yI,e,n,"TestLoadImage: loaded",!0,t),n.onerror=sI(yI,e,n,"TestLoadImage: error",!1,t),n.onabort=sI(yI,e,n,"TestLoadImage: abort",!1,t),n.ontimeout=sI(yI,e,n,"TestLoadImage: timeout",!1,t),zt.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=i}else t(!1)}(e.toString(),n)}else ws(2);i.H=0,i.h&&i.h.za(t),qK(i),zK(i)}function qK(i){if(i.H=0,i.ma=[],i.h){const t=MK(i.i);(0!=t.length||0!=i.j.length)&&(HZ(i.ma,t),HZ(i.ma,i.j),i.i.i.length=0,cN(i.j),i.j.length=0),i.h.ya()}}function YK(i,t,e){var n=e instanceof Mp?Bd(e):new Mp(e);if(""!=n.g)t&&(n.g=t+"."+n.g),vI(n,n.m);else{var r=zt.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Mp(null);n&&_I(o,n),t&&(o.g=t),r&&vI(o,r),e&&(o.l=e),n=o}return t=i.Da,(e=i.F)&&t&&Nn(n,e,t),Nn(n,"VER",i.ra),Rw(i,n),n}function ZK(i,t,e){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new mr(i.Ha&&!i.va?new Iw({ob:e}):i.va)).Oa(i.J),t}function KK(){}function TI(){if(L_&&!(10<=Number(iFe)))throw Error("Environmental error: no available transport.")}function _a(i,t){fo.call(this),this.g=new BK(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!mw(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mw(t)&&(this.g.F=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new z_(this)}function QK(i){MN.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){e:{for(const e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function XK(){AN.call(this),this.status=1}function z_(i){this.g=i}function kc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function UN(i,t,e){e||(e=0);var n=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)n[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)n[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=i.g[3],s=(t=i.g[0])+(o^(e=i.g[1])&((r=i.g[2])^o))+n[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,i.g[2]=i.g[2]+r&4294967295,i.g[3]=i.g[3]+o&4294967295}function Xi(i,t){this.h=t;for(var e=[],n=!0,r=i.length-1;0<=r;r--){var o=0|i[r];n&&o==t||(e[r]=o,n=!1)}this.g=e}(He=mr.prototype).Oa=function(i){this.M=i},He.ha=function(i,t,e,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():RN.g(),this.C=function uK(i){return i.h||(i.h=i.i())}(this.u?this.u:RN),this.g.onreadystatechange=Yo(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(o){return void PK(this,o)}if(i=e||"",e=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)e.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())e.set(o,n.get(o))}n=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=zt.FormData&&i instanceof zt.FormData,!(0<=zZ(zFe,t))||n||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NK(this),0<this.B&&((this.L=function HFe(i){return L_&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yo(this.ua,this)):this.A=IN(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(o){PK(this,o)}},He.ua=function(){typeof sN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ro(this,"timeout"),this.abort(8))},He.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ro(this,"complete"),Ro(this,"abort"),xI(this))},He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xI(this,!0)),mr.$.N.call(this)},He.La=function(){this.s||(this.G||this.v||this.l?FK(this):this.kb())},He.kb=function(){FK(this)},He.isActive=function(){return!!this.g},He.da=function(){try{return 2<Dl(this)?this.g.status:-1}catch{return-1}},He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},He.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),VFe(t)}},He.Ia=function(){return this.m},He.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=BK.prototype).ra=8,He.H=1,He.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const r=new xw(this,this.l,i);let o=this.s;if(this.U&&(o?(o=GZ(o),YZ(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var n=this.j[e];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=jK(this,r,t),Nn(e=Bd(this.I),"RID",i),Nn(e,"CVER",22),this.F&&Nn(e,"X-HTTP-Session-Id",this.F),Rw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(VK(o)))+"&"+t:this.o&&BN(e,this.o,o)),LN(this.i,r),this.bb&&Nn(e,"TYPE","init"),this.P?(Nn(e,"$req",t),Nn(e,"SID","null"),r.aa=!0,ON(r,e,null)):ON(r,e,t),this.H=2}}else 3==this.H&&(i?HK(this,i):0==this.j.length||DK(this.i)||HK(this))},He.Ma=function(){if(this.u=null,$K(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=yw(Yo(this.jb,this),i)}},He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ws(10),CI(this),$K(this))},He.ib=function(){null!=this.v&&(this.v=null,CI(this),HN(this),ws(19))},He.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ws(2)):(this.l.info("Failed to ping google.com"),ws(1))},He.isActive=function(){return!!this.h&&this.h.isActive(this)},(He=KK.prototype).Ba=function(){},He.Aa=function(){},He.za=function(){},He.ya=function(){},He.isActive=function(){return!0},He.Va=function(){},TI.prototype.g=function(i,t){return new _a(i,t)},po(_a,fo),_a.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,e=this.h||void 0;ws(0),i.Y=t,i.na=e||{},i.G=i.aa,i.I=YK(i,null,i.Y),EI(i)},_a.prototype.close=function(){zN(this.g)},_a.prototype.u=function(i){var t=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=kN(i),i=e);t.j.push(new class{constructor(i,t){this.g=i,this.map=t}}(t.fb++,i)),3==t.H&&EI(t)},_a.prototype.N=function(){this.g.h=null,delete this.j,zN(this.g),delete this.g,_a.$.N.call(this)},po(QK,MN),po(XK,AN),po(z_,KK),z_.prototype.Ba=function(){Ro(this.g,"a")},z_.prototype.Aa=function(i){Ro(this.g,new QK(i))},z_.prototype.za=function(i){Ro(this.g,new XK)},z_.prototype.ya=function(){Ro(this.g,"b")},po(kc,function $Fe(){this.blockSize=-1}),kc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},kc.prototype.j=function(i,t){void 0===t&&(t=i.length);for(var e=t-this.blockSize,n=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)UN(this,i,o),o+=this.blockSize;if("string"==typeof i){for(;o<t;)if(n[r++]=i.charCodeAt(o++),r==this.blockSize){UN(this,n),r=0;break}}else for(;o<t;)if(n[r++]=i[o++],r==this.blockSize){UN(this,n),r=0;break}}this.h=r,this.i+=t},kc.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var e=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=255&e,e/=256;for(this.j(i),i=Array(16),t=e=0;4>t;++t)for(var n=0;32>n;n+=8)i[e++]=this.g[t]>>>n&255;return i};var WFe={};function $N(i){return-128<=i&&128>i?function J2e(i,t){var e=WFe;return Object.prototype.hasOwnProperty.call(e,i)?e[i]:e[i]=t(i)}(i,function(t){return new Xi([0|t],0>t?-1:0)}):new Xi([0|i],0>i?-1:0)}function Il(i){if(isNaN(i)||!isFinite(i))return H_;if(0>i)return Po(Il(-i));for(var t=[],e=1,n=0;i>=e;n++)t[n]=i/e|0,e*=WN;return new Xi(t,0)}var WN=4294967296,H_=$N(0),GN=$N(1),eQ=$N(16777216);function zd(i){if(0!=i.h)return!1;for(var t=0;t<i.g.length;t++)if(0!=i.g[t])return!1;return!0}function Xa(i){return-1==i.h}function Po(i){for(var t=i.g.length,e=[],n=0;n<t;n++)e[n]=~i.g[n];return new Xi(e,~i.h).add(GN)}function DI(i,t){return i.add(Po(t))}function II(i,t){for(;(65535&i[t])!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function Pw(i,t){this.g=i,this.h=t}function SI(i,t){if(zd(t))throw Error("division by zero");if(zd(i))return new Pw(H_,H_);if(Xa(i))return t=SI(Po(i),t),new Pw(Po(t.g),Po(t.h));if(Xa(t))return t=SI(i,Po(t)),new Pw(Po(t.g),t.h);if(30<i.g.length){if(Xa(i)||Xa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=GN,n=t;0>=n.X(i);)e=tQ(e),n=tQ(n);var r=j_(e,1),o=j_(n,1);for(n=j_(n,2),e=j_(e,2);!zd(n);){var s=o.add(n);0>=s.X(i)&&(r=r.add(e),o=s),n=j_(n,1),e=j_(e,1)}return t=DI(i,r.R(t)),new Pw(r,t)}for(r=H_;0<=i.X(t);){for(e=Math.max(1,Math.floor(i.ea()/t.ea())),n=48>=(n=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,n-48),s=(o=Il(e)).R(t);Xa(s)||0<s.X(i);)s=(o=Il(e-=n)).R(t);zd(o)&&(o=GN),r=r.add(o),i=DI(i,s)}return new Pw(r,i)}function tQ(i){for(var t=i.g.length+1,e=[],n=0;n<t;n++)e[n]=i.D(n)<<1|i.D(n-1)>>>31;return new Xi(e,i.h)}function j_(i,t){var e=t>>5;t%=32;for(var n=i.g.length-e,r=[],o=0;o<n;o++)r[o]=0<t?i.D(o+e)>>>t|i.D(o+e+1)<<32-t:i.D(o+e);return new Xi(r,i.h)}(He=Xi.prototype).ea=function(){if(Xa(this))return-Po(this).ea();for(var i=0,t=1,e=0;e<this.g.length;e++){var n=this.D(e);i+=(0<=n?n:WN+n)*t,t*=WN}return i},He.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(zd(this))return"0";if(Xa(this))return"-"+Po(this).toString(i);for(var t=Il(Math.pow(i,6)),e=this,n="";;){var r=SI(e,t).g,o=((0<(e=DI(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(i);if(zd(e=r))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},He.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},He.X=function(i){return Xa(i=DI(this,i))?-1:zd(i)?0:1},He.abs=function(){return Xa(this)?Po(this):this},He.add=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0,r=0;r<=t;r++){var o=n+(65535&this.D(r))+(65535&i.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(i.D(r)>>>16);n=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new Xi(e,-2147483648&e[e.length-1]?-1:0)},He.R=function(i){if(zd(this)||zd(i))return H_;if(Xa(this))return Xa(i)?Po(this).R(Po(i)):Po(Po(this).R(i));if(Xa(i))return Po(this.R(Po(i)));if(0>this.X(eQ)&&0>i.X(eQ))return Il(this.ea()*i.ea());for(var t=this.g.length+i.g.length,e=[],n=0;n<2*t;n++)e[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<i.g.length;r++){var o=this.D(n)>>>16,s=65535&this.D(n),a=i.D(r)>>>16,c=65535&i.D(r);e[2*n+2*r]+=s*c,II(e,2*n+2*r),e[2*n+2*r+1]+=o*c,II(e,2*n+2*r+1),e[2*n+2*r+1]+=s*a,II(e,2*n+2*r+1),e[2*n+2*r+2]+=o*a,II(e,2*n+2*r+2)}for(n=0;n<t;n++)e[n]=e[2*n+1]<<16|e[2*n];for(n=t;n<2*t;n++)e[n]=0;return new Xi(e,0)},He.gb=function(i){return SI(this,i).h},He.and=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)&i.D(n);return new Xi(e,this.h&i.h)},He.or=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)|i.D(n);return new Xi(e,this.h|i.h)},He.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)^i.D(n);return new Xi(e,this.h^i.h)},TI.prototype.createWebChannel=TI.prototype.g,_a.prototype.send=_a.prototype.u,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,pI.NO_ERROR=0,pI.TIMEOUT=8,pI.HTTP_ERROR=6,dK.COMPLETE="complete",hK.EventType=ww,ww.OPEN="a",ww.CLOSE="b",ww.ERROR="c",ww.MESSAGE="d",fo.prototype.listen=fo.prototype.O,mr.prototype.listenOnce=mr.prototype.P,mr.prototype.getLastError=mr.prototype.Sa,mr.prototype.getLastErrorCode=mr.prototype.Ia,mr.prototype.getStatus=mr.prototype.da,mr.prototype.getResponseJson=mr.prototype.Wa,mr.prototype.getResponseText=mr.prototype.ja,mr.prototype.send=mr.prototype.ha,mr.prototype.setWithCredentials=mr.prototype.Oa,kc.prototype.digest=kc.prototype.l,kc.prototype.reset=kc.prototype.reset,kc.prototype.update=kc.prototype.j,Xi.prototype.add=Xi.prototype.add,Xi.prototype.multiply=Xi.prototype.R,Xi.prototype.modulo=Xi.prototype.gb,Xi.prototype.compare=Xi.prototype.X,Xi.prototype.toNumber=Xi.prototype.ea,Xi.prototype.toString=Xi.prototype.toString,Xi.prototype.getBits=Xi.prototype.D,Xi.fromNumber=Il,Xi.fromString=function JK(i,t){if(0==i.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==i.charAt(0))return Po(JK(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Il(Math.pow(t,8)),n=H_,r=0;r<i.length;r+=8){var o=Math.min(8,i.length-r),s=parseInt(i.substring(r,r+o),t);8>o?(o=Il(Math.pow(t,o)),n=n.R(o).add(Il(s))):n=(n=n.R(e)).add(Il(s))}return n};var GFe=Ec.createWebChannelTransport=function(){return new TI},qFe=Ec.getStatEventTarget=function(){return mI()},qN=Ec.ErrorCode=pI,YFe=Ec.EventType=dK,ZFe=Ec.Event=Ip,iQ=Ec.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MI=(Ec.FetchXmlHttpFactory=Iw,Ec.WebChannel=hK),KFe=Ec.XhrIo=mr,QFe=Ec.Md5=kc,U_=Ec.Integer=Xi;const nQ="@firebase/firestore";class go{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let $_="10.7.2";const wh=new la.Yd("@firebase/firestore");function W_(){return wh.logLevel}function Ee(i,...t){if(wh.logLevel<=la.in.DEBUG){const e=t.map(YN);wh.debug(`Firestore (${$_}): ${i}`,...e)}}function kr(i,...t){if(wh.logLevel<=la.in.ERROR){const e=t.map(YN);wh.error(`Firestore (${$_}): ${i}`,...e)}}function Ws(i,...t){if(wh.logLevel<=la.in.WARN){const e=t.map(YN);wh.warn(`Firestore (${$_}): ${i}`,...e)}}function YN(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Ke(i="Unexpected state"){const t=`FIRESTORE (${$_}) INTERNAL ASSERTION FAILED: `+i;throw kr(t),new Error(t)}function at(i,t){i||Ke()}function Le(i,t){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends R.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class no{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class rQ{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eNe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(go.UNAUTHENTICATED))}shutdown(){}}class tNe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class iNe{constructor(t){this.t=t,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new no;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new no,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,re.Z)(function*(){yield l.promise,yield o(n.currentUser)}))},c=l=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new no)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(at("string"==typeof n.accessToken),new rQ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return at(null===t||"string"==typeof t),new go(t)}}class nNe{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=go.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rNe{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new nNe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oQ{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oNe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=o=>{null!=o.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};const r=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(at("string"==typeof e.token),this.R=e.token,new oQ(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sNe(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}class sQ{static newId(){const e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=sNe(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return n}}function Lt(i,t){return i<t?-1:i>t?1:0}function G_(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}function aQ(i){return i+"\0"}class Wn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Wn.fromMillis(Date.now())}static fromDate(t){return Wn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Wn(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new dt(t)}static min(){return new dt(new Wn(0,0))}static max(){return new dt(new Wn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ow{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ke(),void 0===n?n=t.length-e:n>t.length-e&&Ke(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ow.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ow?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yi extends Ow{construct(t,e,n){return new yi(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ce(ne.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new yi(e)}static emptyPath(){return new yi([])}}const aNe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Ow{construct(t,e,n){return new Ln(t,e,n)}static isValidIdentifier(t){return aNe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ln(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Ce(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new Ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ln(e)}static emptyPath(){return new Ln([])}}class ze{constructor(t){this.path=t}static fromPath(t){return new ze(yi.fromString(t))}static fromName(t){return new ze(yi.fromString(t).popFirst(5))}static empty(){return new ze(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ze(new yi(t.slice()))}}class q_{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function ZN(i){return i.fields.find(t=>2===t.kind)}function Rp(i){return i.fields.filter(t=>2!==t.kind)}q_.UNKNOWN_ID=-1;class Pp{constructor(t,e){this.fieldPath=t,this.kind=e}}class Y_{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Y_(0,va.min())}}function cQ(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=dt.fromTimestamp(1e9===n?new Wn(e+1,0):new Wn(e,n));return new va(r,ze.empty(),t)}function lQ(i){return new va(i.readTime,i.key,-1)}class va{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new va(dt.min(),ze.empty(),-1)}static max(){return new va(dt.max(),ze.empty(),-1)}}function KN(i,t){let e=i.readTime.compareTo(t.readTime);return 0!==e?e:(e=ze.comparator(i.documentKey,t.documentKey),0!==e?e:Lt(i.largestBatchId,t.largestBatchId))}const dQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function xh(i){return QN.apply(this,arguments)}function QN(){return QN=(0,re.Z)(function*(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==dQ)throw i;Ee("LocalStore","Unexpectedly lost primary lease")}),QN.apply(this,arguments)}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,n)=>{e(t)})}static reject(t){return new J((e,n)=>{n(t)})}static waitFor(t){return new J((e,n)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>n(c))}),s=!0,o===r&&e()})}static or(t){let e=J.resolve(!1);for(const n of t)e=e.next(r=>r?J.resolve(r):n());return e}static forEach(t,e){const n=[];return t.forEach((r,o)=>{n.push(e.call(this,r,o))}),this.waitFor(n)}static mapArray(t,e){return new J((n,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(d=>{s[l]=d,++a,a===o&&n(s)},d=>r(d))}})}static doWhile(t,e){return new J((n,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):n()};o()})}}class AI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new no,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Fw(t,e.error)):this.V.resolve()},this.transaction.onerror=n=>{const r=XN(n.target.error);this.V.reject(new Fw(t,r))}}static open(t,e,n,r){try{return new AI(e,t.transaction(r,n))}catch(o){throw new Fw(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ee("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new uNe(e)}}class Ja{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===Ja.S((0,R.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ee("SimpleDb","Removing database:",t),Op(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,R.hl)())return!1;if(Ja.C())return!0;const t=(0,R.z$)(),e=Ja.S(t),n=0<e&&e<10,r=Ja.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}O(t){var e=this;return(0,re.Z)(function*(){return e.db||(Ee("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{n(s.target.result)},o.onblocked=()=>{r(new Fw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Ce(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ce(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Fw(t,a))},o.onupgradeneeded=s=>{Ee("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=n=>e.B(n)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var o=this;return(0,re.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const c=AI.open(o.db,t,s?"readonly":"readwrite",n),l=r(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),J.reject(d))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,d="FirebaseError"!==l.name&&a<3;if(Ee("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),o.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class dNe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Op(this.k.delete())}}class Fw extends Ce{constructor(t,e){super(ne.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ch(i){return"IndexedDbTransactionError"===i.name}class uNe{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Ee("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Op(n)}add(t){return Ee("SimpleDb","ADD",this.store.name,t,t),Op(this.store.add(t))}get(t){return Op(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ee("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ee("SimpleDb","DELETE",this.store.name,t),Op(this.store.delete(t))}count(){return Ee("SimpleDb","COUNT",this.store.name),Op(this.store.count())}W(t,e){const n=this.options(t,e),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(n.range);return new J((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(n),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new J((r,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{r(s.target.result)}})}H(t,e){Ee("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const r=this.cursor(n);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.G(r,e)}Z(t){const e=this.cursor({});return new J((n,r)=>{e.onerror=o=>{const s=XN(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}G(t,e){const n=[];return new J((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new dNe(a),l=e(a.primaryKey,a.value,c);if(l instanceof J){const d=l.catch(h=>(c.done(),J.reject(h)));n.push(d)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>J.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Op(i){return new J((t,e)=>{i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{const r=XN(n.target.error);e(r)}})}let hQ=!1;function XN(i){const t=Ja.S((0,R.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const n=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hQ||(hQ=!0,setTimeout(()=>{throw n},0)),n}}return i}class hNe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Ee("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,re.Z)(function*(){e.task=null;try{Ee("IndexBackfiller",`Documents written: ${yield e.X.te()}`)}catch(n){Ch(n)?Ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield xh(n)}yield e.ee(6e4)}))}}class mNe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,re.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.ne(n,t))})()}ne(t,e){const n=new Set;let r=e,o=!0;return J.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!n.has(s))return Ee("IndexBackfiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,n.add(s)});o=!1})).next(()=>e-r)}re(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(Ee("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let n=t;return e.changes.forEach((r,o)=>{const s=lQ(o);KN(s,n)>0&&(n=s)}),new va(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ba=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return i._e=-1,i})();function Nw(i){return null==i}function Lw(i){return 0===i&&1/i==-1/0}function mQ(i){return"number"==typeof i&&Number.isInteger(i)&&!Lw(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ko(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=pQ(t)),t=pNe(i.get(e),t);return pQ(t)}function pNe(i,t){let e=t;const n=i.length;for(let r=0;r<n;r++){const o=i.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function pQ(i){return i+"\x01\x01"}function Sl(i){const t=i.length;if(at(t>=2),2===t)return at("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yi.emptyPath();const e=t-2,n=[];let r="";for(let o=0;o<t;){const s=i.indexOf("\x01",o);switch((s<0||s>e)&&Ke(),i.charAt(s+1)){case"\x01":const a=i.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),n.push(c);break;case"\x10":r+=i.substring(o,s),r+="\0";break;case"\x11":r+=i.substring(o,s+1);break;default:Ke()}o=s+2}return new yi(n)}const fQ=["userId","batchId"];function RI(i,t){return[i,Ko(t)]}function gQ(i,t,e){return[i,Ko(t),e]}const fNe={},gNe=["prefixPath","collectionGroup","readTime","documentId"],_Ne=["prefixPath","collectionGroup","documentId"],vNe=["collectionGroup","readTime","prefixPath","documentId"],bNe=["canonicalId","targetId"],yNe=["targetId","path"],wNe=["path","targetId"],xNe=["collectionId","parent"],CNe=["indexId","uid"],ENe=["uid","sequenceNumber"],kNe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TNe=["indexId","uid","orderedDocumentKey"],DNe=["userId","collectionPath","documentId"],INe=["userId","collectionPath","largestBatchId"],SNe=["userId","collectionGroup","largestBatchId"],_Q=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MNe=[..._Q,"documentOverlays"],vQ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bQ=vQ,ANe=[...bQ,"indexConfiguration","indexState","indexEntries"];class JN extends uQ{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function _o(i,t){const e=Le(i);return Ja.M(e.ae,t)}function yQ(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Eh(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function wQ(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Dn{constructor(t,e){this.comparator=t,this.root=e||Oo.EMPTY}insert(t,e){return new Dn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Oo.BLACK,null,null))}remove(t){return new Dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new PI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new PI(this.root,t,this.comparator,!1)}getReverseIterator(){return new PI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new PI(this.root,t,this.comparator,!0)}}class PI{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Oo{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??Oo.RED,this.left=r??Oo.EMPTY,this.right=o??Oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new Oo(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Oo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Oo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const t=this.left.check();if(t!==this.right.check())throw Ke();return t+(this.isRed()?0:1)}}Oo.EMPTY=null,Oo.RED=!0,Oo.BLACK=!1,Oo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(t,e,n,r,o){return this}insert(t,e,n){return new Oo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(t){this.comparator=t,this.data=new Dn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xQ(this.data.getIterator())}getIteratorFrom(t){return new xQ(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class xQ{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Z_(i){return i.hasNext()?i.getNext():void 0}class Gs{constructor(t){this.fields=t,t.sort(Ln.comparator)}static empty(){return new Gs([])}unionWith(t){let e=new cn(Ln.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Gs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return G_(this.fields,t.fields,(e,n)=>e.isEqual(n))}}class CQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ro{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CQ("Invalid base64 string: "+o):o}}(t);return new ro(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new ro(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ro.EMPTY_BYTE_STRING=new ro("");const PNe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kh(i){if(at(!!i),"string"==typeof i){let t=0;const e=PNe.exec(i);if(at(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:pr(i.seconds),nanos:pr(i.nanos)}}function pr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Hd(i){return"string"==typeof i?ro.fromBase64String(i):ro.fromUint8Array(i)}function OI(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function FI(i){const t=i.mapValue.fields.__previous_value__;return OI(t)?FI(t):t}function Vw(i){const t=kh(i.mapValue.fields.__local_write_time__.timestampValue);return new Wn(t.seconds,t.nanos)}class ONe{constructor(t,e,n,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Th{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Th("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Th&&t.projectId===this.projectId&&t.database===this.database}}const Dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},NI={nullValue:"NULL_VALUE"};function Ih(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?OI(i)?4:DQ(i)?9007199254740991:10:Ke()}function Ml(i,t){if(i===t)return!0;const e=Ih(i);if(e!==Ih(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Vw(i).isEqual(Vw(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=kh(r.timestampValue),a=kh(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return o=t,Hd(i.bytesValue).isEqual(Hd(o.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(r,o){return pr(r.geoPointValue.latitude)===pr(o.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(o.geoPointValue.longitude)}(i,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return pr(r.integerValue)===pr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=pr(r.doubleValue),a=pr(o.doubleValue);return s===a?Lw(s)===Lw(a):isNaN(s)&&isNaN(a)}return!1}(i,t);case 9:return G_(i.arrayValue.values||[],t.arrayValue.values||[],Ml);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(yQ(s)!==yQ(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ml(s[c],a[c])))return!1;return!0}(i,t);default:return Ke()}var o}function Bw(i,t){return void 0!==(i.values||[]).find(e=>Ml(e,t))}function Sh(i,t){if(i===t)return 0;const e=Ih(i),n=Ih(t);if(e!==n)return Lt(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return function(o,s){const a=pr(o.integerValue||o.doubleValue),c=pr(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(i,t);case 3:return EQ(i.timestampValue,t.timestampValue);case 4:return EQ(Vw(i),Vw(t));case 5:return Lt(i.stringValue,t.stringValue);case 6:return function(o,s){const a=Hd(o),c=Hd(s);return a.compareTo(c)}(i.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const d=Lt(a[l],c[l]);if(0!==d)return d}return Lt(a.length,c.length)}(i.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Lt(pr(o.latitude),pr(s.latitude));return 0!==a?a:Lt(pr(o.longitude),pr(s.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const d=Sh(a[l],c[l]);if(d)return d}return Lt(a.length,c.length)}(i.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Dh.mapValue&&s===Dh.mapValue)return 0;if(o===Dh.mapValue)return 1;if(s===Dh.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=Lt(c[h],d[h]);if(0!==p)return p;const g=Sh(a[c[h]],l[d[h]]);if(0!==g)return g}return Lt(c.length,d.length)}(i.mapValue,t.mapValue);default:throw Ke()}}function EQ(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Lt(i,t);const e=kh(i),n=kh(t),r=Lt(e.seconds,n.seconds);return 0!==r?r:Lt(e.nanos,n.nanos)}function K_(i){return eL(i)}function eL(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const n=kh(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Hd(i.bytesValue).toBase64():"referenceValue"in i?ze.fromName(i.referenceValue).toString():"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",r=!0;for(const o of e.values||[])r?r=!1:n+=",",n+=eL(o);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of n)o?o=!1:r+=",",r+=`${s}:${eL(e.fields[s])}`;return r+"}"}(i.mapValue):Ke()}function Fp(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function tL(i){return!!i&&"integerValue"in i}function zw(i){return!!i&&"arrayValue"in i}function kQ(i){return!!i&&"nullValue"in i}function TQ(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function VI(i){return!!i&&"mapValue"in i}function Hw(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Eh(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Hw(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Hw(i.arrayValue.values[e]);return t}return Object.assign({},i)}function DQ(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function FNe(i){return"nullValue"in i?NI:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Fp(Th.empty(),ze.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Ke()}function NNe(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Fp(Th.empty(),ze.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Dh:Ke()}function IQ(i,t){const e=Sh(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function SQ(i,t){const e=Sh(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class Fo{constructor(t){this.value=t}static empty(){return new Fo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!VI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hw(e)}setAll(t){let e=Ln.emptyPath(),n={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,n,r),n={},r=[],e=a.popLast()}s?n[a.lastSegment()]=Hw(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,n,r)}delete(t){const e=this.field(t.popLast());VI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ml(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];VI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Eh(e,(r,o)=>t[r]=o);for(const r of n)delete t[r]}clone(){return new Fo(Hw(this.value))}}function MQ(i){const t=[];return Eh(i.fields,(e,n)=>{const r=new Ln([e]);if(VI(n)){const o=MQ(n.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Gs(t)}class Vn{constructor(t,e,n,r,o,s,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Vn(t,0,dt.min(),dt.min(),dt.min(),Fo.empty(),0)}static newFoundDocument(t,e,n,r){return new Vn(t,1,e,dt.min(),n,r,0)}static newNoDocument(t,e){return new Vn(t,2,e,dt.min(),dt.min(),Fo.empty(),0)}static newUnknownDocument(t,e){return new Vn(t,3,e,dt.min(),dt.min(),Fo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(t,e){this.position=t,this.inclusive=e}}function AQ(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){const o=t[r],s=i.position[r];if(n=o.field.isKeyField()?ze.comparator(ze.fromName(s.referenceValue),e.key):Sh(s,e.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function RQ(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ml(i.position[e],t.position[e]))return!1;return!0}class jw{constructor(t,e="asc"){this.field=t,this.dir=e}}function LNe(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class PQ{}class wi extends PQ{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new VNe(t,e,n):"array-contains"===e?new HNe(t,n):"in"===e?new BQ(t,n):"not-in"===e?new jNe(t,n):"array-contains-any"===e?new UNe(t,n):new wi(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new BNe(t,n):new zNe(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Sh(e,this.value)):null!==e&&Ih(this.value)===Ih(e)&&this.matchesComparison(Sh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends PQ{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Ji(t,e)}matches(t){return Q_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Q_(i){return"and"===i.op}function iL(i){return"or"===i.op}function nL(i){return OQ(i)&&Q_(i)}function OQ(i){for(const t of i.filters)if(t instanceof Ji)return!1;return!0}function rL(i){if(i instanceof wi)return i.field.canonicalString()+i.op.toString()+K_(i.value);if(nL(i))return i.filters.map(t=>rL(t)).join(",");{const t=i.filters.map(e=>rL(e)).join(",");return`${i.op}(${t})`}}function FQ(i,t){return i instanceof wi?(n=i,(r=t)instanceof wi&&n.op===r.op&&n.field.isEqual(r.field)&&Ml(n.value,r.value)):i instanceof Ji?function(n,r){return r instanceof Ji&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,s,a)=>o&&FQ(s,r.filters[a]),!0)}(i,t):void Ke();var n,r}function NQ(i,t){const e=i.filters.concat(t);return Ji.create(e,i.op)}function LQ(i){return i instanceof wi?`${(e=i).field.canonicalString()} ${e.op} ${K_(e.value)}`:i instanceof Ji?function(e){return e.op.toString()+" {"+e.getFilters().map(LQ).join(" ,")+"}"}(i):"Filter";var e}class VNe extends wi{constructor(t,e,n){super(t,e,n),this.key=ze.fromName(n.referenceValue)}matches(t){const e=ze.comparator(t.key,this.key);return this.matchesComparison(e)}}class BNe extends wi{constructor(t,e){super(t,"in",e),this.keys=VQ(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zNe extends wi{constructor(t,e){super(t,"not-in",e),this.keys=VQ(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function VQ(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(n=>ze.fromName(n.referenceValue))}class HNe extends wi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zw(e)&&Bw(e.arrayValue,this.value)}}class BQ extends wi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Bw(this.value.arrayValue,e)}}class jNe extends wi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Bw(this.value.arrayValue,e)}}class UNe extends wi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Bw(this.value.arrayValue,n))}}class $Ne{constructor(t,e=null,n=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function oL(i,t=null,e=[],n=[],r=null,o=null,s=null){return new $Ne(i,t,e,n,r,o,s)}function Np(i){const t=Le(i);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>rL(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>{return(o=n).field.canonicalString()+o.dir;var o}).join(","),Nw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>K_(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>K_(n)).join(",")),t.ce=e}return t.ce}function Uw(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!LNe(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!FQ(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!RQ(i.startAt,t.startAt)&&RQ(i.endAt,t.endAt)}function BI(i){return ze.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function zI(i,t){return i.filters.filter(e=>e instanceof wi&&e.field.isEqual(t))}function zQ(i,t,e){let n=NI,r=!0;for(const o of zI(i,t)){let s=NI,a=!0;switch(o.op){case"<":case"<=":s=FNe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=NI}IQ({value:n,inclusive:r},{value:s,inclusive:a})<0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];IQ({value:n,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}function HQ(i,t,e){let n=Dh,r=!0;for(const o of zI(i,t)){let s=Dh,a=!0;switch(o.op){case">=":case">":s=NNe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Dh}SQ({value:n,inclusive:r},{value:s,inclusive:a})>0&&(n=s,r=a)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const s=e.position[o];SQ({value:n,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(n=s,r=e.inclusive);break}return{value:n,inclusive:r}}class jd{constructor(t,e=null,n=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function jQ(i,t,e,n,r,o,s,a){return new jd(i,t,e,n,r,o,s,a)}function X_(i){return new jd(i)}function UQ(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function sL(i){return null!==i.collectionGroup}function J_(i){const t=Le(i);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new cn(Ln.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new jw(o,n))}),e.has(Ln.keyField().canonicalString())||t.le.push(new jw(Ln.keyField(),n))}return t.le}function xs(i){const t=Le(i);return t.he||(t.he=function $Q(i,t){if("F"===i.limitType)return oL(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(r=>new jw(r.field,"desc"===r.dir?"asc":"desc"));const e=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return oL(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}(t,J_(i))),t.he}function aL(i,t){const e=i.filters.concat([t]);return new jd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function HI(i,t,e){return new jd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function $w(i,t){return Uw(xs(i),xs(t))&&i.limitType===t.limitType}function WQ(i){return`${Np(xs(i))}|lt:${i.limitType}`}function ev(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>LQ(r)).join(", ")}]`),Nw(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>K_(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>K_(r)).join(",")),`Target(${n})`}(xs(i))}; limitType=${i.limitType})`}function Ww(i,t){return t.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ze.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(i,t)&&function(n,r){for(const o of J_(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(i,t)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(i,t)&&(r=t,!((n=i).startAt&&!function(s,a,c){const l=AQ(s,a,c);return s.inclusive?l<=0:l<0}(n.startAt,J_(n),r)||n.endAt&&!function(s,a,c){const l=AQ(s,a,c);return s.inclusive?l>=0:l>0}(n.endAt,J_(n),r)));var n,r}function GQ(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qQ(i){return(t,e)=>{let n=!1;for(const r of J_(i)){const o=WNe(r,t,e);if(0!==o)return o;n=n||r.field.isKeyField()}return 0}}function WNe(i,t,e){const n=i.field.isKeyField()?ze.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Sh(c,l):Ke()}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Ke()}}class Ud{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Eh(this.inner,(e,n)=>{for(const[r,o]of n)t(r,o)})}isEmpty(){return wQ(this.inner)}size(){return this.innerSize}}const GNe=new Dn(ze.comparator);function qs(){return GNe}const YQ=new Dn(ze.comparator);function Gw(...i){let t=YQ;for(const e of i)t=t.insert(e.key,e);return t}function ZQ(i){let t=YQ;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Al(){return qw()}function KQ(){return qw()}function qw(){return new Ud(i=>i.toString(),(i,t)=>i.isEqual(t))}const qNe=new Dn(ze.comparator),YNe=new cn(ze.comparator);function ii(...i){let t=YNe;for(const e of i)t=t.add(e);return t}const ZNe=new cn(Lt);function cL(){return ZNe}function QQ(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lw(t)?"-0":t}}function XQ(i){return{integerValue:""+i}}function JQ(i,t){return mQ(t)?XQ(t):QQ(i,t)}class jI{constructor(){this._=void 0}}function KNe(i,t,e){return i instanceof tv?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&OI(o)&&(o=FI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):i instanceof Lp?tX(i,t):i instanceof Vp?iX(i,t):function(r,o){const s=eX(r,o),a=nX(s)+nX(r.Ie);return tL(s)&&tL(r.Ie)?XQ(a):QQ(r.serializer,a)}(i,t)}function QNe(i,t,e){return i instanceof Lp?tX(i,t):i instanceof Vp?iX(i,t):e}function eX(i,t){return i instanceof iv?tL(n=t)||(o=n)&&"doubleValue"in o?t:{integerValue:0}:null;var n,o}class tv extends jI{}class Lp extends jI{constructor(t){super(),this.elements=t}}function tX(i,t){const e=rX(t);for(const n of i.elements)e.some(r=>Ml(r,n))||e.push(n);return{arrayValue:{values:e}}}class Vp extends jI{constructor(t){super(),this.elements=t}}function iX(i,t){let e=rX(t);for(const n of i.elements)e=e.filter(r=>!Ml(r,n));return{arrayValue:{values:e}}}class iv extends jI{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function nX(i){return pr(i.integerValue||i.doubleValue)}function rX(i){return zw(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Yw{constructor(t,e){this.field=t,this.transform=e}}class JNe{constructor(t,e){this.version=t,this.transformResults=e}}class Gn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function UI(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class $I{}function oX(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new rv(i.key,Gn.none()):new nv(i.key,i.data,Gn.none());{const e=i.data,n=Fo.empty();let r=new cn(Ln.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?n.delete(o):n.set(o,s),r=r.add(o)}return new $d(i.key,n,new Gs(r.toArray()),Gn.none())}}function eLe(i,t,e){i instanceof nv?function(r,o,s){const a=r.value.clone(),c=cX(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(i,t,e):i instanceof $d?function(r,o,s){if(!UI(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=cX(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(aX(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Zw(i,t,e,n){return i instanceof nv?function(o,s,a,c){if(!UI(o.precondition,s))return a;const l=o.value.clone(),d=lX(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(i,t,e,n):i instanceof $d?function(o,s,a,c){if(!UI(o.precondition,s))return a;const l=lX(o.fieldTransforms,c,s),d=s.data;return d.setAll(aX(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(i,t,e,n):(a=e,UI(i.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function tLe(i,t){let e=null;for(const n of i.fieldTransforms){const r=t.data.field(n.field),o=eX(n.transform,r||null);null!=o&&(null===e&&(e=Fo.empty()),e.set(n.field,o))}return e||null}function sX(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===r||n&&r&&G_(n,r,(o,s)=>function XNe(i,t){return i.field.isEqual(t.field)&&(r=t.transform,(n=i.transform)instanceof Lp&&r instanceof Lp||n instanceof Vp&&r instanceof Vp?G_(n.elements,r.elements,Ml):n instanceof iv&&r instanceof iv?Ml(n.Ie,r.Ie):n instanceof tv&&r instanceof tv);var n,r}(o,s))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var n,r}class nv extends $I{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $d extends $I{constructor(t,e,n,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aX(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function cX(i,t,e){const n=new Map;at(i.length===e.length);for(let r=0;r<e.length;r++){const o=i[r],s=o.transform,a=t.data.field(o.field);n.set(o.field,QNe(s,a,e[r]))}return n}function lX(i,t,e){const n=new Map;for(const r of i){const o=r.transform,s=e.data.field(r.field);n.set(r.field,KNe(o,s,t))}return n}class rv extends $I{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lL extends $I{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dL{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&eLe(o,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Zw(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Zw(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=KQ();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=oX(s,a);null!==c&&n.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ii())}isEqual(t){return this.batchId===t.batchId&&G_(this.mutations,t.mutations,(e,n)=>sX(e,n))&&G_(this.baseMutations,t.baseMutations,(e,n)=>sX(e,n))}}class uL{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){at(t.mutations.length===n.length);let r=qNe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new uL(t,e,n,r)}}class hL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nLe{constructor(t,e){this.count=t,this.unchangedNames=e}}var jr,Ii;function dX(i){switch(i){default:return Ke();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function uX(i){if(void 0===i)return kr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case jr.OK:return ne.OK;case jr.CANCELLED:return ne.CANCELLED;case jr.UNKNOWN:return ne.UNKNOWN;case jr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jr.INTERNAL:return ne.INTERNAL;case jr.UNAVAILABLE:return ne.UNAVAILABLE;case jr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jr.NOT_FOUND:return ne.NOT_FOUND;case jr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jr.ABORTED:return ne.ABORTED;case jr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jr.DATA_LOSS:return ne.DATA_LOSS;default:return Ke()}}(Ii=jr||(jr={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS";function hX(){return new TextEncoder}const rLe=new U_([4294967295,4294967295],0);function mX(i){const t=hX().encode(i),e=new QFe;return e.update(t),new Uint8Array(e.digest())}function pX(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new U_([e,n],0),new U_([r,o],0)]}class mL{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Kw(`Invalid padding: ${e}`);if(n<0)throw new Kw(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Kw(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Kw(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=U_.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(U_.fromNumber(n)));return 1===r.compare(rLe)&&(r=new U_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=mX(t),[n,r]=pX(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new mL(o,r,e);return n.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=mX(t),[n,r]=pX(e);for(let o=0;o<this.hashCount;o++){const s=this.de(n,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Kw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qw{constructor(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Xw.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Qw(dt.min(),r,new Dn(Lt),qs(),ii())}}class Xw{constructor(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Xw(n,e,ii(),ii(),ii())}}class GI{constructor(t,e,n,r){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=r}}class fX{constructor(t,e){this.targetId=t,this.fe=e}}class gX{constructor(t,e,n=ro.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class _X{constructor(){this.ge=0,this.pe=bX(),this.ye=ro.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ii(),e=ii(),n=ii();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ke()}}),new Xw(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=bX()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,at(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class oLe{constructor(t){this.Le=t,this.ke=new Map,this.qe=qs(),this.Qe=vX(),this.Ke=new Dn(Lt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Be(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:Ke()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((n,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,n=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(BI(o))if(0===n){const s=new ze(o.path);this.We(e,s,Vn.newNoDocument(s,dt.min()))}else at(1===n);else{const s=this.Ze(e);if(s!==n){const a=this.Xe(t),c=a?this.et(a,t,s):1;0!==c&&(this.He(e),this.Ke=this.Ke.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Hd(n).toUint8Array()}catch(c){if(c instanceof CQ)return Ws("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new mL(s,r,o)}catch(c){return Ws(c instanceof Kw?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&BI(a.target)){const c=new ze(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Vn.newNoDocument(c,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let n=ii();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new Qw(t,e,this.Ke,this.qe,n);return this.qe=qs(),this.Qe=vX(),this.Ke=new Dn(Lt),r}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new _X,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new cn(Lt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ee("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new _X),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function vX(){return new Dn(ze.comparator)}function bX(){return new Dn(ze.comparator)}const sLe={asc:"ASCENDING",desc:"DESCENDING"},aLe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cLe={and:"AND",or:"OR"};class lLe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pL(i,t){return i.useProto3Json||Nw(t)?t:{value:t}}function ov(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yX(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function dLe(i,t){return ov(i,t.toTimestamp())}function Tr(i){return at(!!i),dt.fromTimestamp(function(e){const n=kh(e);return new Wn(n.seconds,n.nanos)}(i))}function fL(i,t){return gL(i,t).canonicalString()}function gL(i,t){const e=(r=i,new yi(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function wX(i){const t=yi.fromString(i);return at(AX(t)),t}function Jw(i,t){return fL(i.databaseId,t.path)}function Rl(i,t){const e=wX(t);if(e.get(1)!==i.databaseId.projectId)throw new Ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new ze(EX(e))}function xX(i,t){return fL(i.databaseId,t)}function CX(i){const t=wX(i);return 4===t.length?yi.emptyPath():EX(t)}function _L(i){return new yi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function EX(i){return at(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function kX(i,t,e){return{name:Jw(i,t),fields:e.value.mapValue.fields}}function TX(i,t,e){const n=Rl(i,t.name),r=Tr(t.updateTime),o=t.createTime?Tr(t.createTime):dt.min(),s=new Fo({mapValue:{fields:t.fields}}),a=Vn.newFoundDocument(n,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function ex(i,t){let e;if(t instanceof nv)e={update:kX(i,t.key,t.value)};else if(t instanceof rv)e={delete:Jw(i,t.key)};else if(t instanceof $d)e={update:kX(i,t.key,t.data),updateMask:vLe(t.fieldMask)};else{if(!(t instanceof lL))return Ke();e={verify:Jw(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof tv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iv)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ke()}(0,n))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:dLe(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ke()),e;var o}function vL(i,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Gn.updateTime(Tr(o.updateTime)):void 0!==o.exists?Gn.exists(o.exists):Gn.none():Gn.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(at("REQUEST_TIME"===a.setToServerValue),c=new tv):"appendMissingElements"in a?c=new Lp(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Vp(a.removeAllFromArray.values||[]):"increment"in a?c=new iv(s,a.increment):Ke();const l=Ln.fromServerFormat(a.fieldPath);return new Yw(l,c)}(i,r)):[];var o;if(t.update){const r=Rl(i,t.update.name),o=new Fo({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Gs((t.updateMask.fieldPaths||[]).map(d=>Ln.fromServerFormat(d)));return new $d(r,o,s,e,n)}return new nv(r,o,e,n)}if(t.delete){const r=Rl(i,t.delete);return new rv(r,e)}if(t.verify){const r=Rl(i,t.verify);return new lL(r,e)}return Ke()}function DX(i,t){return{documents:[xX(i,t.path)]}}function bL(i,t){const e={structuredQuery:{}},n=t.path;let r;null!==t.collectionGroup?(r=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=xX(i,r);const o=function(l){if(0!==l.length)return MX(Ji.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(d=>{return{field:Ah((p=d).field),direction:fLe(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=pL(i,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:e,parent:r};var l}function IX(i){let t=CX(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let r=null;if(n>0){at(1===n);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(h){const p=SX(h);return p instanceof Ji&&nL(p)?p.getFilters():[p]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(p=>{return new jw(sv((b=p).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;e.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,Nw(p)?null:p}(e.limit));let c=null;var h;e.startAt&&(c=new Mh((h=e.startAt).values||[],!!h.before));let l=null;return e.endAt&&(l=function(h){return new Mh(h.values||[],!h.before)}(e.endAt)),jQ(t,r,s,o,a,"F",c,l)}function SX(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=sv(e.unaryFilter.field);return wi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=sv(e.unaryFilter.field);return wi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sv(e.unaryFilter.field);return wi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sv(e.unaryFilter.field);return wi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(i):void 0!==i.fieldFilter?wi.create(sv((e=i).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Ji.create(e.compositeFilter.filters.map(n=>SX(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ke()}}(e.compositeFilter.op))}(i):Ke();var e}function fLe(i){return sLe[i]}function gLe(i){return aLe[i]}function _Le(i){return cLe[i]}function Ah(i){return{fieldPath:i.canonicalString()}}function sv(i){return Ln.fromServerFormat(i.fieldPath)}function MX(i){return i instanceof wi?function(e){if("=="===e.op){if(TQ(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NAN"}};if(kQ(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TQ(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NAN"}};if(kQ(e.value))return{unaryFilter:{field:Ah(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(e.field),op:gLe(e.op),value:e.value}}}(i):i instanceof Ji?function(e){const n=e.getFilters().map(r=>MX(r));return 1===n.length?n[0]:{compositeFilter:{op:_Le(e.op),filters:n}}}(i):Ke()}function vLe(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function AX(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Wd{constructor(t,e,n,r,o=dt.min(),s=dt.min(),a=ro.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new Wd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class RX{constructor(t){this.ct=t}}function PX(i,t){const e=t.key,n={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:qI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document={name:Jw(o=i.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:ov(o,s.version.toTimestamp()),createTime:ov(o,s.createTime.toTimestamp())};else if(t.isNoDocument())n.noDocument={path:e.path.toArray(),readTime:Bp(t.version)};else{if(!t.isUnknownDocument())return Ke();n.unknownDocument={path:e.path.toArray(),version:Bp(t.version)}}var o,s;return n}function qI(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function Bp(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zp(i){const t=new Wn(i.seconds,i.nanoseconds);return dt.fromTimestamp(t)}function Hp(i,t){const e=(t.baseMutations||[]).map(o=>vL(i.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const n=t.mutations.map(o=>vL(i.ct,o)),r=Wn.fromMillis(t.localWriteTimeMs);return new dL(t.batchId,r,e,n)}function tx(i){const t=zp(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?zp(i.lastLimboFreeSnapshotVersion):dt.min();let n;return n=void 0!==i.query.documents?(at(1===(o=i.query).documents.length),xs(X_(CX(o.documents[0])))):function(o){return xs(IX(o))}(i.query),new Wd(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,e,ro.fromBase64String(i.resumeToken));var o}function OX(i,t){const e=Bp(t.snapshotVersion),n=Bp(t.lastLimboFreeSnapshotVersion);let r;r=BI(t.target)?DX(i.ct,t.target):bL(i.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Np(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function yL(i){const t=IX({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?HI(t,t.limit,"L"):t}function wL(i,t){return new hL(t.largestBatchId,vL(i.ct,t.overlayMutation))}function FX(i,t){const e=t.path.lastSegment();return[i,Ko(t.path.popLast()),e]}function NX(i,t,e,n){return{indexId:i,uid:t,sequenceNumber:e,readTime:Bp(n.readTime),documentKey:Ko(n.documentKey.path),largestBatchId:n.largestBatchId}}class yLe{getBundleMetadata(t,e){return LX(t).get(e).next(n=>{if(n)return{id:(o=n).bundleId,createTime:zp(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return LX(t).put({bundleId:(r=e).id,createTime:Bp(Tr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return VX(t).get(e).next(n=>{if(n)return{name:(o=n).name,query:yL(o.bundledQuery),readTime:zp(o.readTime)};var o})}saveNamedQuery(t,e){return VX(t).put({name:(r=e).name,readTime:Bp(Tr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LX(i){return _o(i,"bundles")}function VX(i){return _o(i,"namedQueries")}class YI{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new YI(t,e.uid||"")}getOverlay(t,e){return ix(t).get(FX(this.userId,e)).next(n=>n?wL(this.serializer,n):null)}getOverlays(t,e){const n=Al();return J.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){const r=[];return n.forEach((o,s)=>{const a=new hL(e,s);r.push(this.ht(t,a))}),J.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach(s=>r.add(Ko(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);o.push(ix(t).H("collectionPathOverlayIndex",a))}),J.waitFor(o)}getOverlaysForCollection(t,e,n){const r=Al(),o=Ko(e),s=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ix(t).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=wL(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,n,r){const o=Al();let s;const a=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ix(t).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{const h=wL(this.serializer,l);o.size()<r||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return ix(t).put(function(r,o,s){const[a,c,l]=FX(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ex(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function ix(i){return _o(i,"documentOverlays")}class jp{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(pr(t.integerValue));else if("doubleValue"in t){const n=pr(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),Lw(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At(`${n.seconds||""}`),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Hd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?DQ(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):Ke()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),ze.fromName(t).path.forEach(n=>{this.Et(e,60),this.St(n,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}function wLe(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function BX(i){const t=64-function(n){let r=0;for(let o=0;o<8;++o){const s=wLe(255&n[o]);if(r+=s,8!==s)break}return r}(i);return Math.ceil(t/8)}jp.bt=new jp;class xLe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ct(n.value),n=e.next();this.vt()}Ft(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Mt(n.value),n=e.next();this.xt()}Ot(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Ct(n);else if(n<2048)this.Ct(960|n>>>6),this.Ct(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Ct(480|n>>>12),this.Ct(128|63&n>>>6),this.Ct(128|63&n);else{const r=e.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Mt(n);else if(n<2048)this.Mt(960|n>>>6),this.Mt(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Mt(480|n>>>12),this.Mt(128|63&n>>>6),this.Mt(128|63&n);else{const r=e.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Bt(t){const e=this.Lt(t),n=BX(e);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}qt(t){const e=this.Lt(t),n=BX(e);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Lt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}Ct(t){const e=255&t;0===e?(this.Kt(0),this.Kt(255)):255===e?(this.Kt(255),this.Kt(0)):this.Kt(e)}Mt(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class CLe{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Bt(t)}Tt(){this.Gt.Qt()}}class ELe{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class nx{constructor(){this.Gt=new xLe,this.zt=new CLe(this.Gt),this.jt=new ELe(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Up{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}Jt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new Up(this.indexId,this.documentKey,this.arrayValue,n)}}function Rh(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=zX(i.arrayValue,t.arrayValue),0!==e?e:(e=zX(i.directionalValue,t.directionalValue),0!==e?e:ze.comparator(i.documentKey,t.documentKey)))}function zX(i,t){for(let e=0;e<i.length&&e<t.length;++e){const n=i[e]-t[e];if(0!==n)return n}return i.length-t.length}class HX{constructor(t){this.Yt=new cn((e,n)=>Ln.comparator(e.field,n.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const e of t.filters){const n=e;n.isInequality()?this.Yt=this.Yt.add(n):this.Xt.push(n)}}get en(){return this.Yt.size>1}tn(t){if(at(t.collectionGroup===this.collectionId),this.en)return!1;const e=ZN(t);if(void 0!==e&&!this.nn(e))return!1;const n=Rp(t);let r=new Set,o=0,s=0;for(;o<n.length&&this.nn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=n[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<n.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],n[o]))return!1;return!0}on(){if(this.en)return null;let t=new cn(Ln.comparator);const e=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)e.push(new Pp(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),e.push(new Pp(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),e.push(new Pp(n.field,"asc"===n.dir?0:1)));return new q_(q_.UNKNOWN_ID,this.collectionId,e,Y_.empty())}nn(t){for(const e of this.Xt)if(this.rn(e,t))return!0;return!1}rn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function jX(i){var t,e;if(at(i instanceof wi||i instanceof Ji),i instanceof wi){if(i instanceof BQ){const r=(null===(e=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>wi.create(i.field,"==",o)))||[];return Ji.create(r,"or")}return i}const n=i.filters.map(r=>jX(r));return Ji.create(n,i.op)}function kLe(i){if(0===i.getFilters().length)return[];const t=EL(jX(i));return at(UX(t)),xL(t)||CL(t)?[t]:t.getFilters()}function xL(i){return i instanceof wi}function CL(i){return i instanceof Ji&&nL(i)}function UX(i){return xL(i)||CL(i)||function(e){if(e instanceof Ji&&iL(e)){for(const n of e.getFilters())if(!xL(n)&&!CL(n))return!1;return!0}return!1}(i)}function EL(i){if(at(i instanceof wi||i instanceof Ji),i instanceof wi)return i;if(1===i.filters.length)return EL(i.filters[0]);const t=i.filters.map(n=>EL(n));let e=Ji.create(t,i.op);return e=ZI(e),UX(e)?e:(at(e instanceof Ji),at(Q_(e)),at(e.filters.length>1),e.filters.reduce((n,r)=>kL(n,r)))}function kL(i,t){let e;return at(i instanceof wi||i instanceof Ji),at(t instanceof wi||t instanceof Ji),e=i instanceof wi?t instanceof wi?Ji.create([i,t],"and"):$X(i,t):t instanceof wi?$X(t,i):function(r,o){if(at(r.filters.length>0&&o.filters.length>0),Q_(r)&&Q_(o))return NQ(r,o.getFilters());const s=iL(r)?r:o,a=iL(r)?o:r,c=s.filters.map(l=>kL(l,a));return Ji.create(c,"or")}(i,t),ZI(e)}function $X(i,t){if(Q_(t))return NQ(t,i.getFilters());{const e=t.filters.map(n=>kL(i,n));return Ji.create(e,"or")}}function ZI(i){if(at(i instanceof wi||i instanceof Ji),i instanceof wi)return i;const t=i.getFilters();if(1===t.length)return ZI(t[0]);if(OQ(i))return i;const e=t.map(r=>ZI(r)),n=[];return e.forEach(r=>{r instanceof wi?n.push(r):r instanceof Ji&&(r.op===i.op?n.push(...r.filters):n.push(r))}),1===n.length?n[0]:Ji.create(n,i.op)}class TLe{constructor(){this._n=new TL}addToCollectionParentIndex(t,e){return this._n.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(va.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(va.min())}updateCollectionGroup(t,e,n){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class TL{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new cn(yi.comparator),o=!r.has(n);return this.index[e]=r.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new cn(yi.comparator)).toArray()}}const KI=new Uint8Array(0);class DLe{constructor(t,e){this.databaseId=e,this.an=new TL,this.un=new Ud(n=>Np(n),(n,r)=>Uw(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.an.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.an.add(e)});const o={collectionId:n,parent:Ko(r)};return WX(t).put(o)}return J.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[aQ(e),""],!1,!0);return WX(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;n.push(Sl(s.parent))}return n})}addFieldIndex(t,e){const n=rx(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=n.add(r);if(e.indexState){const s=cv(t);return o.next(a=>{s.put(NX(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const n=rx(t),r=cv(t),o=av(t);return n.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=rx(t),n=av(t),r=cv(t);return e.H().next(()=>n.H()).next(()=>r.H())}createTargetIndexes(t,e){return J.forEach(this.cn(e),n=>this.getIndexType(t,n).next(r=>{if(0===r||1===r){const o=new HX(n).on();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const n=av(t);let r=!0;const o=new Map;return J.forEach(this.cn(e),s=>this.ln(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ii();const a=[];return J.forEach(o,(c,l)=>{var M;Ee("IndexedDbIndexManager",`Using index ${M=c,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(F=>`${F.fieldPath}:${F.kind}`).join(",")}`} to execute ${Np(e)}`);const d=function(M,F){const V=ZN(F);if(void 0===V)return null;for(const Y of zI(M,V.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(l,c),h=function(M,F){const V=new Map;for(const Y of Rp(F))for(const le of zI(M,Y.fieldPath))switch(le.op){case"==":case"in":V.set(Y.fieldPath.canonicalString(),le.value);break;case"not-in":case"!=":return V.set(Y.fieldPath.canonicalString(),le.value),Array.from(V.values())}return null}(l,c),p=function(M,F){const V=[];let Y=!0;for(const le of Rp(F)){const ie=0===le.kind?zQ(M,le.fieldPath,M.startAt):HQ(M,le.fieldPath,M.startAt);V.push(ie.value),Y&&(Y=ie.inclusive)}return new Mh(V,Y)}(l,c),g=function(M,F){const V=[];let Y=!0;for(const le of Rp(F)){const ie=0===le.kind?HQ(M,le.fieldPath,M.endAt):zQ(M,le.fieldPath,M.endAt);V.push(ie.value),Y&&(Y=ie.inclusive)}return new Mh(V,Y)}(l,c),b=this.hn(c,l,p),w=this.hn(c,l,g),x=this.Pn(c,l,h),I=this.In(c.indexId,d,b,p.inclusive,w,g.inclusive,x);return J.forEach(I,T=>n.j(T,e.limit).next(M=>{M.forEach(F=>{const V=ze.fromSegments(F.documentKey);s.has(V)||(s=s.add(V),a.push(V))})}))}).next(()=>a)}return J.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:kLe(Ji.create(t.filters,"and")).map(n=>oL(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}In(t,e,n,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(n.length,o.length),l=c/(null!=e?e.length:1),d=[];for(let h=0;h<c;++h){const p=e?this.Tn(e[h/l]):KI,g=this.En(t,p,n[h%l],r),b=this.dn(t,p,o[h%l],s),w=a.map(x=>this.En(t,p,x,!0));d.push(...this.createRange(g,b,w))}return d}En(t,e,n,r){const o=new Up(t,ze.empty(),e,n);return r?o:o.Jt()}dn(t,e,n,r){const o=new Up(t,ze.empty(),e,n);return r?o.Jt():o}ln(t,e){const n=new HX(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)n.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let n=2;const r=this.cn(e);return J.forEach(r,o=>this.ln(t,o).next(s=>{s?0!==n&&s.fields.length<function(c){let l=new cn(Ln.comparator),d=!1;for(const h of c.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field));for(const h of c.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(d?1:0)}(o)&&(n=1):n=0})).next(()=>null!==e.limit&&r.length>1&&2===n?1:n)}An(t,e){const n=new nx;for(const r of Rp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=n.Ht(r.kind);jp.bt.Pt(o,s)}return n.Wt()}Tn(t){const e=new nx;return jp.bt.Pt(t,e.Ht(0)),e.Wt()}Rn(t,e){const n=new nx;return jp.bt.Pt(Fp(this.databaseId,e),n.Ht(function(o){const s=Rp(o);return 0===s.length?0:s[s.length-1].kind}(t))),n.Wt()}Pn(t,e,n){if(null===n)return[];let r=[];r.push(new nx);let o=0;for(const s of Rp(t)){const a=n[o++];for(const c of r)if(this.Vn(e,s.fieldPath)&&zw(a))r=this.mn(r,s,a);else{const l=c.Ht(s.kind);jp.bt.Pt(a,l)}}return this.fn(r)}hn(t,e,n){return this.Pn(t,e,n.position)}fn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Wt();return e}mn(t,e,n){const r=[...t],o=[];for(const s of n.arrayValue.values||[])for(const a of r){const c=new nx;c.seed(a.Wt()),jp.bt.Pt(s,c.Ht(e.kind)),o.push(c)}return o}Vn(t,e){return!!t.filters.find(n=>n instanceof wi&&n.field.isEqual(e)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(t,e){const n=rx(t),r=cv(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next(o=>{const s=[];return J.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,h){const p=h?new Y_(h.sequenceNumber,new va(zp(h.readTime),new ze(Sl(h.documentKey)),h.largestBatchId)):Y_.empty(),g=d.fields.map(([b,w])=>new Pp(Ln.fromServerFormat(b),w));return new q_(d.indexId,d.collectionGroup,g,p)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((n,r)=>{const o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Lt(n.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,n){const r=rx(t),o=cv(t);return this.gn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>J.forEach(a,c=>o.put(NX(c.indexId,this.uid,s,n)))))}updateIndexEntries(t,e){const n=new Map;return J.forEach(e,(r,o)=>{const s=n.get(r.collectionGroup);return(s?J.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),J.forEach(a,c=>this.pn(t,r,c).next(l=>{const d=this.yn(o,c);return l.isEqual(d)?J.resolve():this.wn(t,o,c,l,d)}))))})}Sn(t,e,n,r){return av(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,e.key),documentKey:e.key.path.toArray()})}bn(t,e,n,r){return av(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,e.key),e.key.path.toArray()])}pn(t,e,n){const r=av(t);let o=new cn(Rh);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,e)])},(s,a)=>{o=o.add(new Up(n.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(t,e){let n=new cn(Rh);const r=this.An(e,t);if(null==r)return n;const o=ZN(e);if(null!=o){const s=t.data.field(o.fieldPath);if(zw(s))for(const a of s.arrayValue.values||[])n=n.add(new Up(e.indexId,t.key,this.Tn(a),r))}else n=n.add(new Up(e.indexId,t.key,KI,r));return n}wn(t,e,n,r,o){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,d,h,p){const g=c.getIterator(),b=l.getIterator();let w=Z_(g),x=Z_(b);for(;w||x;){let I=!1,T=!1;if(w&&x){const M=d(w,x);M<0?T=!0:M>0&&(I=!0)}else null!=w?T=!0:I=!0;I?(h(x),x=Z_(b)):T?(p(w),w=Z_(g)):(w=Z_(g),x=Z_(b))}}(r,o,Rh,a=>{s.push(this.Sn(t,e,n,a))},a=>{s.push(this.bn(t,e,n,a))}),J.waitFor(s)}gn(t){let e=1;return cv(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((s,a)=>Rh(s,a)).filter((s,a,c)=>!a||0!==Rh(s,c[a-1]));const r=[];r.push(t);for(const s of n){const a=Rh(s,t),c=Rh(s,e);if(0===a)r[0]=t.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,KI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,KI,[]]))}return o}Dn(t,e){return Rh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(GX)}getMinOffset(t,e){return J.mapArray(this.cn(e),n=>this.ln(t,n).next(r=>r||Ke())).next(GX)}}function WX(i){return _o(i,"collectionParents")}function av(i){return _o(i,"indexEntries")}function rx(i){return _o(i,"indexConfiguration")}function cv(i){return _o(i,"indexState")}function GX(i){at(0!==i.length);let t=i[0].indexState.offset,e=t.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;KN(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new va(t.readTime,t.documentKey,e)}const qX={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qo{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Qo(t,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YX(i,t,e){const n=i.store("mutations"),r=i.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=n.Y({range:s},(d,h,p)=>(a++,p.delete()));o.push(c.next(()=>{at(1===a)}));const l=[];for(const d of e.mutations){const h=gQ(t,d.key.path,e.batchId);o.push(r.delete(h)),l.push(d.key)}return J.waitFor(o).next(()=>l)}function QI(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Ke();t=i.noDocument}return JSON.stringify(t).length}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class XI{constructor(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(t,e,n,r){at(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new XI(o,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ph(t).Y({index:"userMutationsIndex",range:n},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const o=lv(t),s=Ph(t);return s.add({}).next(a=>{at("number"==typeof a);const c=new dL(a,e,n,r),l=function(g,b,w){const x=w.baseMutations.map(T=>ex(g.ct,T)),I=w.mutations.map(T=>ex(g.ct,T));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:x,mutations:I}}(this.serializer,this.userId,c),d=[];let h=new cn((p,g)=>Lt(p.canonicalString(),g.canonicalString()));for(const p of r){const g=gQ(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(s.put(l)),d.push(o.put(g,fNe))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(t,p))}),t.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),J.waitFor(d).next(()=>c)})}lookupMutationBatch(t,e){return Ph(t).get(e).next(n=>n?(at(n.userId===this.userId),Hp(this.serializer,n)):null)}vn(t,e){return this.Cn[e]?J.resolve(this.Cn[e]):this.lookupMutationBatch(t,e).next(n=>{if(n){const r=n.keys();return this.Cn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return Ph(t).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(at(a.batchId>=n),o=Hp(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ph(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{n=o.batchId,s.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ph(t).W("userMutationsIndex",e).next(n=>n.map(r=>Hp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=RI(this.userId,e.path),r=IDBKeyRange.lowerBound(n),o=[];return lv(t).Y({range:r},(s,a,c)=>{const[l,d,h]=s,p=Sl(d);if(l===this.userId&&e.path.isEqual(p))return Ph(t).get(h).next(g=>{if(!g)throw Ke();at(g.userId===this.userId),o.push(Hp(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new cn(Lt);const r=[];return e.forEach(o=>{const s=RI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=lv(t).Y({range:a},(l,d,h)=>{const[p,g,b]=l,w=Sl(g);p===this.userId&&o.path.isEqual(w)?n=n.add(b):h.done()});r.push(c)}),J.waitFor(r).next(()=>this.Fn(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,o=RI(this.userId,n),s=IDBKeyRange.lowerBound(o);let a=new cn(Lt);return lv(t).Y({range:s},(c,l,d)=>{const[h,p,g]=c,b=Sl(p);h===this.userId&&n.isPrefixOf(b)?b.length===r&&(a=a.add(g)):d.done()}).next(()=>this.Fn(t,a))}Fn(t,e){const n=[],r=[];return e.forEach(o=>{r.push(Ph(t).get(o).next(s=>{if(null===s)throw Ke();at(s.userId===this.userId),n.push(Hp(this.serializer,s))}))}),J.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return YX(t.ae,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.Mn(e.batchId)}),J.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return J.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return lv(t).Y({range:n},(o,s,a)=>{if(o[0]===this.userId){const c=Sl(o[1]);r.push(c)}else a.done()}).next(()=>{at(0===r.length)})})}containsKey(t,e){return ZX(t,this.userId,e)}xn(t){return KX(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZX(i,t,e){const n=RI(t,e.path),r=n[1],o=IDBKeyRange.lowerBound(n);let s=!1;return lv(i).Y({range:o,J:!0},(a,c,l)=>{const[d,h,p]=a;d===t&&h===r&&(s=!0),l.done()}).next(()=>s)}function Ph(i){return _o(i,"mutations")}function lv(i){return _o(i,"documentMutations")}function KX(i){return _o(i,"mutationQueues")}class $p{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new $p(0)}static Bn(){return new $p(-1)}}class ILe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Ln(t).next(e=>{const n=new $p(e.highestTargetId);return e.highestTargetId=n.next(),this.kn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Ln(t).next(e=>dt.fromTimestamp(new Wn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Ln(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Ln(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.kn(t,r)))}addTargetData(t,e){return this.qn(t,e).next(()=>this.Ln(t).next(n=>(n.targetCount+=1,this.Qn(e,n),this.kn(t,n))))}updateTargetData(t,e){return this.qn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>dv(t).delete(e.targetId)).next(()=>this.Ln(t)).next(n=>(at(n.targetCount>0),n.targetCount-=1,this.kn(t,n)))}removeTargets(t,e,n){let r=0;const o=[];return dv(t).Y((s,a)=>{const c=tx(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>J.waitFor(o)).next(()=>r)}forEachTarget(t,e){return dv(t).Y((n,r)=>{const o=tx(r);e(o)})}Ln(t){return QX(t).get("targetGlobalKey").next(e=>(at(null!==e),e))}kn(t,e){return QX(t).put("targetGlobalKey",e)}qn(t,e){return dv(t).put(OX(this.serializer,e))}Qn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Ln(t).next(e=>e.targetCount)}getTargetData(t,e){const n=Np(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return dv(t).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=tx(a);Uw(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,n){const r=[],o=Oh(t);return e.forEach(s=>{const a=Ko(s.path);r.push(o.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(t,n,s))}),J.waitFor(r)}removeMatchingKeys(t,e,n){const r=Oh(t);return J.forEach(e,o=>{const s=Ko(o.path);return J.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(t,n,o)])})}removeMatchingKeysForTargetId(t,e){const n=Oh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Oh(t);let o=ii();return r.Y({range:n,J:!0},(s,a,c)=>{const l=Sl(s[1]),d=new ze(l);o=o.add(d)}).next(()=>o)}containsKey(t,e){const n=Ko(e.path),r=IDBKeyRange.bound([n],[aQ(n)],!1,!0);let o=0;return Oh(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(t,e){return dv(t).get(e).next(n=>n?tx(n):null)}}function dv(i){return _o(i,"targets")}function QX(i){return _o(i,"targetGlobal")}function Oh(i){return _o(i,"targetDocuments")}function XX([i,t],[e,n]){const r=Lt(i,e);return 0===r?Lt(t,n):r}class SLe{constructor(t){this.Kn=t,this.buffer=new cn(XX),this.$n=0}Un(){return++this.$n}Wn(t){const e=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();XX(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class JX{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var e=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,re.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(n){Ch(n)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield xh(n)}yield e.zn(3e5)}))}}class MLe{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.Hn(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(0===e)return J.resolve(ba._e);const n=new SLe(e);return this.jn.forEachTarget(t,r=>n.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>n.Wn(r))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.jn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(qX)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qX):this.Yn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,e){let n,r,o,s,a,c,l;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,s=Date.now(),this.nthSequenceNumber(t,r))).next(h=>(n=h,a=Date.now(),this.removeTargets(t,n,e))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(h=>(l=Date.now(),W_()<=la.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${h} documents in `+(l-c)+`ms\nTotal Duration: ${l-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:h})))}}class ALe{constructor(t,e){this.db=t,this.garbageCollector=function eJ(i,t){return new MLe(i,t)}(this,e)}Hn(t){const e=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(n=>e.next(r=>n+r))}Zn(t){let e=0;return this.Jn(t,n=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Jn(t,e){return this.Xn(t,(n,r)=>e(r))}addReference(t,e,n){return JI(t,n)}removeReference(t,e,n){return JI(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return JI(t,e)}er(t,e){return function(r,o){let s=!1;return KX(r).Z(a=>ZX(r,a,o).next(c=>(c&&(s=!0),J.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Xn(t,(s,a)=>{if(a<=e){const c=this.er(t,s).next(l=>{if(!l)return o++,n.getEntry(t,s).next(()=>(n.removeEntry(s,dt.min()),Oh(t).delete([0,Ko(s.path)])))});r.push(c)}}).next(()=>J.waitFor(r)).next(()=>n.apply(t)).next(()=>o)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return JI(t,e)}Xn(t,e){const n=Oh(t);let r,o=ba._e;return n.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ba._e&&e(new ze(Sl(r)),o),o=l,r=c):o=ba._e}).next(()=>{o!==ba._e&&e(new ze(Sl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function JI(i,t){return Oh(i).put((r=i.currentSequenceNumber,{targetId:0,path:Ko(t.path),sequenceNumber:r}));var r}class tJ{constructor(){this.changes=new Ud(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?J.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RLe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Wp(t).put(n)}removeEntry(t,e,n){return Wp(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],qI(s),a[a.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.tr(t,n)))}getEntry(t,e){let n=Vn.newInvalidDocument(e);return Wp(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ox(e))},(r,o)=>{n=this.nr(e,o)}).next(()=>n)}rr(t,e){let n={size:0,document:Vn.newInvalidDocument(e)};return Wp(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ox(e))},(r,o)=>{n={document:this.nr(e,o),size:QI(o)}}).next(()=>n)}getEntries(t,e){let n=qs();return this.ir(t,e,(r,o)=>{const s=this.nr(r,o);n=n.insert(r,s)}).next(()=>n)}sr(t,e){let n=qs(),r=new Dn(ze.comparator);return this.ir(t,e,(o,s)=>{const a=this.nr(o,s);n=n.insert(o,a),r=r.insert(o,QI(s))}).next(()=>({documents:n,_r:r}))}ir(t,e,n){if(e.isEmpty())return J.resolve();let r=new cn(oJ);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(ox(r.first()),ox(r.last())),s=r.getIterator();let a=s.getNext();return Wp(t).Y({index:"documentKeyIndex",range:o},(c,l,d)=>{const h=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&oJ(a,h)<0;)n(a,null),a=s.getNext();a&&a.isEqual(h)&&(n(a,l),a=s.hasNext()?s.getNext():null),a?d.U(ox(a)):d.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,n,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),qI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wp(t).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=qs();for(const h of l){const p=this.nr(ze.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(Ww(e,p)||r.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(t,e,n,r){let o=qs();const s=rJ(e,n),a=rJ(e,va.max());return Wp(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{const h=this.nr(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new PLe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return nJ(t).get("remoteDocumentGlobalKey").next(e=>(at(!!e),e))}tr(t,e){return nJ(t).put("remoteDocumentGlobalKey",e)}nr(t,e){if(e){const n=function bLe(i,t){let e;if(t.document)e=TX(i.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=ze.fromSegments(t.noDocument.path),r=zp(t.noDocument.readTime);e=Vn.newNoDocument(n,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ke();{const n=ze.fromSegments(t.unknownDocument.path),r=zp(t.unknownDocument.version);e=Vn.newUnknownDocument(n,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Wn(r[0],r[1]);return dt.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!n.isNoDocument()||!n.version.isEqual(dt.min()))return n}return Vn.newInvalidDocument(t)}}function iJ(i){return new RLe(i)}class PLe extends tJ{constructor(t,e){super(),this.ar=t,this.trackRemovals=e,this.ur=new Ud(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){const e=[];let n=0,r=new cn((o,s)=>Lt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(e.push(this.ar.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=PX(this.ar.serializer,s);r=r.add(o.path.popLast());const l=QI(c);n+=l-a.size,e.push(this.ar.addEntry(t,o,c))}else if(n-=a.size,this.trackRemovals){const c=PX(this.ar.serializer,s.convertToNoDocument(dt.min()));e.push(this.ar.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.ar.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.ar.updateMetadata(t,n)),J.waitFor(e)}getFromCache(t,e){return this.ar.rr(t,e).next(n=>(this.ur.set(e,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,e){return this.ar.sr(t,e).next(({documents:n,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:n.get(o).readTime})}),n))}}function nJ(i){return _o(i,"remoteDocumentGlobal")}function Wp(i){return _o(i,"remoteDocumentsV14")}function ox(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rJ(i,t){const e=t.documentKey.path.toArray();return[i,qI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function oJ(i,t){const e=i.path.toArray(),n=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<n.length-2;++o)if(r=Lt(e[o],n[o]),r)return r;return r=Lt(e.length,n.length),r||(r=Lt(e[e.length-2],n[n.length-2]),r||Lt(e[e.length-1],n[n.length-1]))}class OLe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class sJ{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==n&&Zw(n.mutation,r,Gs.empty(),Wn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,ii()).next(()=>n))}getLocalViewOfDocuments(t,e,n=ii()){const r=Al();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(o=>{let s=Gw();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const n=Al();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,ii()))}populateOverlays(t,e,n){const r=[];return n.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,n,r){let o=qs();const s=qw(),a=qw();return e.forEach((c,l)=>{const d=n.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof $d)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),Zw(d.mutation,l,d.mutation.getFieldMask(),Wn.now())):s.set(l.key,Gs.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),e.forEach((l,d)=>{var h;return a.set(l,new OLe(d,null!==(h=s.get(l))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(t,e){const n=qw();let r=new Dn((s,a)=>s-a),o=ii();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let d=n.get(c)||Gs.empty();d=a.applyToLocalView(l,d),n.set(c,d);const h=(r.get(a.batchId)||ii()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,h=KQ();d.forEach(p=>{if(!o.has(p)){const g=oX(e.get(p),n.get(p));null!==g&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,h))}return J.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,r){return ze.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):sL(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r);var s}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-o.size):J.resolve(Al());let a=-1,c=o;return s.next(l=>J.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?J.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,ii())).next(d=>({batchId:a,changes:ZQ(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ze(e)).next(n=>{let r=Gw();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const o=e.collectionGroup;let s=Gw();return this.indexManager.getCollectionParents(t,o).next(a=>J.forEach(a,c=>{const l=(h=e,p=c.child(o),new jd(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(t,l,n,r).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,r))).next(s=>{o.forEach((c,l)=>{const d=l.getKey();null===s.get(d)&&(s=s.insert(d,Vn.newInvalidDocument(d)))});let a=Gw();return s.forEach((c,l)=>{const d=o.get(c);void 0!==d&&Zw(d.mutation,l,Gs.empty(),Wn.now()),Ww(e,l)&&(a=a.insert(c,l))}),a})}}class FLe{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return J.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:Tr(r.createTime)}),J.resolve();var r}getNamedQuery(t,e){return J.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:yL(r.bundledQuery),readTime:Tr(r.readTime)}),J.resolve();var r}}class NLe{constructor(){this.overlays=new Dn(ze.comparator),this.hr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Al();return J.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,o)=>{this.ht(t,e,o)}),J.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),J.resolve()}getOverlaysForCollection(t,e,n){const r=Al(),o=e.length+1,s=new ze(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>n&&r.set(c.getKey(),c)}return J.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let o=new Dn((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let d=o.get(l.largestBatchId);null===d&&(d=Al(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Al(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return J.resolve(a)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new hL(e,n));let o=this.hr.get(e);void 0===o&&(o=ii(),this.hr.set(e,o)),this.hr.set(e,o.add(n.key))}}class DL{constructor(){this.Pr=new cn(vo.Ir),this.Tr=new cn(vo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new vo(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Ar(new vo(t,e))}Rr(t,e){t.forEach(n=>this.removeReference(n,e))}Vr(t){const e=new ze(new yi([])),n=new vo(e,t),r=new vo(e,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new ze(new yi([])),n=new vo(e,t),r=new vo(e,t+1);let o=ii();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new vo(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class vo{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return ze.comparator(t.key,e.key)||Lt(t.pr,e.pr)}static Er(t,e){return Lt(t.pr,e.pr)||ze.comparator(t.key,e.key)}}class LLe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new cn(vo.Ir)}checkEmpty(t){return J.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const o=this.yr;this.yr++;const s=new dL(o,e,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new vo(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(t,e){return J.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new vo(e,0),r=new vo(e,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{const a=this.Sr(s.pr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new cn(Lt);return e.forEach(r=>{const o=new vo(r,0),s=new vo(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),J.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let o=n;ze.isDocumentKey(o)||(o=o.child(""));const s=new vo(new ze(o),0);let a=new cn(Lt);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),J.resolve(this.Dr(a))}Dr(t){const e=[];return t.forEach(n=>{const r=this.Sr(n);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){at(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return J.forEach(e.mutations,r=>{const o=new vo(r.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,e){const n=new vo(e,0),r=this.wr.firstAfterOrEqual(n);return J.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return J.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class VLe{constructor(t){this.vr=t,this.docs=new Dn(ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return J.resolve(n?n.document.mutableCopy():Vn.newInvalidDocument(e))}getEntries(t,e){let n=qs();return e.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():Vn.newInvalidDocument(r))}),J.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let o=qs();const s=e.path,a=new ze(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KN(lQ(d),n)<=0||(r.has(d.key)||Ww(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(t,e,n,r){Ke()}Fr(t,e){return J.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new BLe(this)}getSize(t){return J.resolve(this.size)}}class BLe extends tJ{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),J.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class zLe{constructor(t){this.persistence=t,this.Mr=new Ud(e=>Np(e),Uw),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new DL,this.targetCount=0,this.Br=$p.Nn()}forEachTarget(t,e){return this.Mr.forEach((n,r)=>e(r)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),J.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Br=new $p(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.qn(e),J.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,n){let r=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return J.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),J.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return J.resolve(n)}containsKey(t,e){return J.resolve(this.Nr.containsKey(e))}}class IL{constructor(t,e){this.Lr={},this.overlays={},this.kr=new ba(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new zLe(this),this.indexManager=new TLe,this.remoteDocumentCache=new VLe(n=>this.referenceDelegate.Kr(n)),this.serializer=new RX(e),this.$r=new FLe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NLe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Lr[t.toKey()];return n||(n=new LLe(e,this.referenceDelegate),this.Lr[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){Ee("MemoryPersistence","Starting transaction:",t);const r=new HLe(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,e){return J.or(Object.values(this.Lr).map(n=>()=>n.containsKey(t,e)))}}class HLe extends uQ{constructor(t){super(),this.currentSequenceNumber=t}}class eS{constructor(t){this.persistence=t,this.zr=new DL,this.jr=null}static Hr(t){return new eS(t)}get Jr(){if(this.jr)return this.jr;throw Ke()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),J.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),J.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,n=>{const r=ze.fromPath(n);return this.Yr(t,r).next(o=>{o||e.removeEntry(r,dt.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(n=>{n?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return J.or([()=>J.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class jLe{constructor(t){this.serializer=t}N(t,e,n,r){const o=new AI("createOrUpgrade",e);var c;n<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fQ,{unique:!0}),c.createObjectStore("documentMutations"),aJ(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=J.resolve();return n<3&&r>=3&&(0!==n&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),aJ(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fQ,{unique:!0});const h=l.store("mutations"),p=d.map(g=>h.put(g));return J.waitFor(p)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&r>=5&&(s=s.next(()=>this.Xr(o))),n<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ei(o)))),n<7&&r>=7&&(s=s.next(()=>this.ti(o))),n<8&&r>=8&&(s=s.next(()=>this.ni(t,o))),n<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&r>=10&&(s=s.next(()=>this.ri(o))),n<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:DNe});l.createIndex("collectionPathOverlayIndex",INe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",SNe,{unique:!1})}(t)})),n<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:gNe});l.createIndex("documentKeyIndex",_Ne),l.createIndex("collectionGroupIndex",vNe)}(t)).next(()=>this.ii(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.si(t,o))),n<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:CNe}).createIndex("sequenceNumberIndex",ENe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:kNe}).createIndex("documentKeyIndex",TNe,{unique:!1})}(t))),s}ei(t){let e=0;return t.store("remoteDocuments").Y((n,r)=>{e+=QI(r)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Xr(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next(r=>J.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",s).next(a=>J.forEach(a,c=>{at(c.userId===o.userId);const l=Hp(this.serializer,c);return YX(t,o.userId,l).next(()=>{})}))}))}ti(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return n.Y((s,a)=>{const c=new yi(s),l=[0,Ko(c)];o.push(e.get(l).next(d=>d?J.resolve():e.put({targetId:0,path:Ko(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>J.waitFor(o))})}ni(t,e){t.createObjectStore("collectionParents",{keyPath:xNe});const n=e.store("collectionParents"),r=new TL,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return n.put({collectionId:a,parent:Ko(c)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new yi(s);return o(c.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const d=Sl(a);return o(d.popLast())}))}ri(t){const e=t.store("targets");return e.Y((n,r)=>{const o=tx(r),s=OX(this.serializer,o);return e.put(s)})}ii(t,e){const n=e.store("remoteDocuments"),r=[];return n.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(h=s,h.document?new ze(yi.fromString(h.document.name).popFirst(5)):h.noDocument?ze.fromSegments(h.noDocument.path):h.unknownDocument?ze.fromSegments(h.unknownDocument.path):Ke()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var h;r.push(a.put(l))}).next(()=>J.waitFor(r))}si(t,e){const n=e.store("mutations"),r=iJ(this.serializer),o=new IL(eS.Hr,this.serializer.ct);return n.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let d=null!==(l=a.get(c.userId))&&void 0!==l?l:ii();Hp(this.serializer,c).keys().forEach(h=>d=d.add(h)),a.set(c.userId,d)}),J.forEach(a,(c,l)=>{const d=new go(l),h=YI.lt(this.serializer,d),p=o.getIndexManager(d),g=XI.lt(d,this.serializer,p,o.referenceDelegate);return new sJ(r,g,h,p).recalculateAndSaveOverlaysForDocumentKeys(new JN(e,ba._e),c).next()})})}}function aJ(i){i.createObjectStore("targetDocuments",{keyPath:yNe}).createIndex("documentTargetsIndex",wNe,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bNe,{unique:!0}),i.createObjectStore("targetGlobal")}const SL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ML{constructor(t,e,n,r,o,s,a,c,l,d,h=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!ML.D())throw new Ce(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ALe(this,r),this.Ti=e+"main",this.serializer=new RX(c),this.Ei=new Ja(this.Ti,this.ui,new jLe(this.serializer)),this.Qr=new ILe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iJ(this.serializer),this.$r=new yLe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(ne.FAILED_PRECONDITION,SL);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new ba(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var e=this;return this.Ii=function(){var n=(0,re.Z)(function*(r){if(e.started)return t(r)});return function(r){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var e=(0,re.Z)(function*(n){null===n.newVersion&&(yield t())});return function(n){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,re.Z)(function*(){e.started&&(yield e.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>iS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(e=>this.isPrimary&&!e?this.yi(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Ch(t))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return sx(t).get("owner").next(e=>J.resolve(this.Si(e)))}bi(t){return iS(t).delete(this.clientId)}Di(){var t=this;return(0,re.Z)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=_o(n,"clientMetadata");return r.W().next(o=>{const s=t.vi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return J.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.di)for(const n of e)t.di.removeItem(t.Fi(n.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?J.resolve(!0):sx(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)){if(this.Si(e)&&this.networkEnabled)return!0;if(!this.Si(e)){if(!e.allowTabSynchronization)throw new Ce(ne.FAILED_PRECONDITION,SL);return!1}}return!(!this.networkEnabled||!this.inForeground)||iS(t).W().next(n=>void 0===this.vi(n,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ee("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,re.Z)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new JN(e,ba._e);return t.yi(n).next(()=>t.bi(n))}),t.Ei.close(),t.Bi()})()}vi(t,e){return t.filter(n=>this.Ci(n.updateTimeMs,e)&&!this.Mi(n.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",t=>iS(t).W().next(e=>this.vi(e,18e5).map(n=>n.clientId)))}get started(){return this.qr}getMutationQueue(t,e){return XI.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new DLe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return YI.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,e,n){Ee("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?ANe:14===c?bQ:13===c?vQ:12===c?MNe:11===c?_Q:void Ke();var c;let s;return this.Ei.runTransaction(t,r,o,a=>(s=new JN(a,this.kr?this.kr.next():ba._e),"readwrite-primary"===e?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw kr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ce(ne.FAILED_PRECONDITION,dQ);return n(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>n(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(t){return sx(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ce(ne.FAILED_PRECONDITION,SL)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sx(t).put("owner",e)}static D(){return Ja.D()}yi(t){const e=sx(t);return e.get("owner").next(n=>this.Si(n)?(Ee("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):J.resolve())}Ci(t,e){const n=Date.now();return!(t<n-e||t>n&&(kr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,R.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var e;try{const n=null!==(null===(e=this.di)||void 0===e?void 0:e.getItem(this.Fi(t)));return Ee("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return kr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){kr("Failed to set zombie client id.",t)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function sx(i){return _o(i,"owner")}function iS(i){return _o(i,"clientMetadata")}function AL(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class RL{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=ii(),r=ii();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new RL(t,e.fromCache,n,r)}}class ULe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cJ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,R.G6)()?8:Ja.v((0,R.z$)())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const o={result:null};return this.ji(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,e,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new ULe;return this.Ji(t,e,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,e,s,a.size)})}).next(()=>o.result)}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(W_()<=la.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",ev(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(W_()<=la.in.DEBUG&&Ee("QueryEngine","Query:",ev(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(W_()<=la.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",ev(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xs(e))):J.resolve())}ji(t,e){if(UQ(e))return J.resolve(null);let n=xs(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=HI(e,null,"F"),n=xs(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{const s=ii(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,n).next(c=>{const l=this.Zi(e,a);return this.Xi(e,l,s,c.readTime)?this.ji(t,HI(e,null,"F")):this.es(t,l,e,c)}))})))}Hi(t,e,n,r){return UQ(e)||r.isEqual(dt.min())?J.resolve(null):this.zi.getDocuments(t,n).next(o=>{const s=this.Zi(e,o);return this.Xi(e,s,n,r)?J.resolve(null):(W_()<=la.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ev(e)),this.es(t,s,e,cQ(r,-1)).next(a=>a))})}Zi(t,e){let n=new cn(qQ(t));return e.forEach((r,o)=>{Ww(t,o)&&(n=n.add(o))}),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,e,n){return W_()<=la.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",ev(e)),this.zi.getDocumentsMatchingQuery(t,e,va.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class $Le{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new Dn(Lt),this.rs=new Ud(o=>Np(o),Uw),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sJ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function lJ(i,t,e,n){return new $Le(i,t,e,n)}function dJ(i,t){return PL.apply(this,arguments)}function PL(){return PL=(0,re.Z)(function*(i,t){const e=Le(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,e._s(t),e.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let c=ii();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(n,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})}),PL.apply(this,arguments)}function uJ(i){const t=Le(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function hJ(i,t,e){let n=ii(),r=ii();return e.forEach(o=>n=n.add(o)),t.getEntries(i,n).next(o=>{let s=qs();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(dt.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):Ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function qLe(i,t){const e=Le(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function uv(i,t){const e=Le(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Qr.getTargetData(n,t).next(o=>o?(r=o,J.resolve(r)):e.Qr.allocateTargetId(n).next(s=>(r=new Wd(t,s,"TargetPurposeListen",n.currentSequenceNumber),e.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=e.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(n.targetId,n),e.rs.set(t,n.targetId)),n})}function hv(i,t,e){return OL.apply(this,arguments)}function OL(){return OL=(0,re.Z)(function*(i,t,e){const n=Le(i),r=n.ns.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ch(s))throw s;Ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)}),OL.apply(this,arguments)}function nS(i,t,e){const n=Le(i);let r=dt.min(),o=ii();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){const h=Le(c),p=h.rs.get(d);return void 0!==p?J.resolve(h.ns.get(p)):h.Qr.getTargetData(l,d)}(n,s,xs(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,e?r:dt.min(),e?o:ii())).next(a=>(fJ(n,GQ(t),a),{documents:a,hs:o})))}function mJ(i,t){const e=Le(i),n=Le(e.Qr),r=e.ns.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>n._t(o,t).next(s=>s?s.target:null))}function pJ(i,t){const e=Le(i),n=e.ss.get(t)||dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.os.getAllFromCollectionGroup(r,t,cQ(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(fJ(e,t,r),r))}function fJ(i,t,e){let n=i.ss.get(t)||dt.min();e.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.ss.set(t,n)}function FL(){return FL=(0,re.Z)(function*(i,t,e,n){const r=Le(i);let o=ii(),s=qs();for(const l of e){const d=t.Ps(l.metadata.name);l.document&&(o=o.add(d));const h=t.Is(l);h.setReadTime(t.Ts(l.metadata.readTime)),s=s.insert(d,h)}const a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield uv(r,(d=n,xs(X_(yi.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>hJ(l,a,s).next(d=>(a.apply(l),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d.cs,d.ls)).next(()=>d.cs)))}),FL.apply(this,arguments)}function ZLe(i,t){return NL.apply(this,arguments)}function NL(){return NL=(0,re.Z)(function*(i,t,e=ii()){const n=yield uv(i,xs(yL(t.bundledQuery))),r=Le(i);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Tr(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(o,t);const a=n.withResumeToken(ro.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(a.targetId,a),r.Qr.updateTargetData(o,a).next(()=>r.Qr.removeMatchingKeysForTargetId(o,n.targetId)).next(()=>r.Qr.addMatchingKeys(o,e,n.targetId)).next(()=>r.$r.saveNamedQuery(o,t))})}),NL.apply(this,arguments)}function gJ(i,t){return`firestore_clients_${i}_${t}`}function _J(i,t,e){let n=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function LL(i,t){return`firestore_targets_${i}_${t}`}class rS{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static Es(t,e,n){const r=JSON.parse(n);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Ce(r.error.code,r.error.message))),s?new rS(t,e,r.state,o):(kr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ax{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Es(t,e){const n=JSON.parse(e);let r,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(r=new Ce(n.error.code,n.error.message))),o?new ax(t,n.state,r):(kr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class oS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Es(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,o=cL();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=mQ(n.activeTargetIds[s]),o=o.add(n.activeTargetIds[s]);return r?new oS(t,o):(kr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class VL{constructor(t,e){this.clientId=t,this.onlineState=e}static Es(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new VL(e.clientId,e.onlineState):(kr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class BL{constructor(){this.activeTargetIds=cL()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zL{constructor(t,e,n,r,o){this.window=t,this.oi=e,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Dn(Lt),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=gJ(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new BL),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,re.Z)(function*(){const e=yield t.syncEngine.Li();for(const r of e){if(r===t.Vs)continue;const o=t.getItem(gJ(t.persistenceKey,r));if(o){const s=oS.Es(r,o);s&&(t.ps=t.ps.insert(s.clientId,s))}}t.Ms();const n=t.storage.getItem(t.vs);if(n){const r=t.xs(n);r&&t.Os(r)}for(const r of t.ys)t.gs(r);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let e=!1;return this.ps.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Bs(t,"pending")}updateMutationState(t,e,n){this.Bs(t,e,n),this.Ls(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(LL(this.persistenceKey,t));if(n){const r=ax.Es(t,n);r&&(e=r.state)}}return this.ks.As(t),this.Ms(),e}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(LL(this.persistenceKey,t))}updateQueryState(t,e,n){this.qs(t,e,n)}handleUserChange(t,e,n){e.forEach(r=>{this.Ls(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ee("SharedClientState","READ",t,e),e}setItem(t,e){Ee("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ee("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var e=this;const n=t;if(n.storageArea===this.storage){if(Ee("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,re.Z)(function*(){if(e.started){if(null!==n.key)if(e.bs.test(n.key)){if(null==n.newValue){const r=e.$s(n.key);return e.Us(r,null)}{const r=e.Ws(n.key,n.newValue);if(r)return e.Us(r.clientId,r)}}else if(e.Ds.test(n.key)){if(null!==n.newValue){const r=e.Gs(n.key,n.newValue);if(r)return e.zs(r)}}else if(e.Cs.test(n.key)){if(null!==n.newValue){const r=e.js(n.key,n.newValue);if(r)return e.Hs(r)}}else if(n.key===e.vs){if(null!==n.newValue){const r=e.xs(n.newValue);if(r)return e.Os(r)}}else if(n.key===e.Ss){const r=function(s){let a=ba._e;if(null!=s)try{const c=JSON.parse(s);at("number"==typeof c),a=c}catch(c){kr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(n.newValue);r!==ba._e&&e.sequenceNumberHandler(r)}else if(n.key===e.Fs){const r=e.Js(n.newValue);yield Promise.all(r.map(o=>e.syncEngine.Ys(o)))}}else e.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(t,e,n){const r=new rS(this.currentUser,t,e,n),o=_J(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ds())}Ls(t){const e=_J(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,e,n){const r=LL(this.persistenceKey,t),o=new ax(t,e,n);this.setItem(r,o.ds())}Ks(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Fs,e)}$s(t){const e=this.bs.exec(t);return e?e[1]:null}Ws(t,e){const n=this.$s(t);return oS.Es(n,e)}Gs(t,e){const n=this.Ds.exec(t),r=Number(n[1]);return rS.Es(new go(void 0!==n[2]?n[2]:null),r,e)}js(t,e){const n=this.Cs.exec(t),r=Number(n[1]);return ax.Es(r,e)}xs(t){return VL.Es(t)}Js(t){return JSON.parse(t)}zs(t){var e=this;return(0,re.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Zs(t.batchId,t.state,t.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,e){const n=e?this.ps.insert(t,e):this.ps.remove(t),r=this.Ns(this.ps),o=this.Ns(n),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=n})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let e=cL();return t.forEach((n,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class vJ{constructor(){this.no=new BL,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new BL,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KLe{io(t){}shutdown(){}}class bJ{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sS=null;function HL(){return null===sS?sS=268435456+Math.round(2147483648*Math.random()):sS++,"0x"+sS.toString(16)}const QLe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XLe{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const Xo="WebChannelConnection";class JLe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+e.host,this.po=`projects/${r}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(e,n,r,o,s){const a=HL(),c=this.bo(e,n.toUriEncodedString());Ee("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(e,c,l,r).then(d=>(Ee("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw Ws("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}vo(e,n,r,o,s,a){return this.So(e,n,r,o,s)}Do(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}bo(e,n){return`${this.fo}/v1/${n}:${QLe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,r){const o=HL();return new Promise((s,a)=>{const c=new KFe;c.setWithCredentials(!0),c.listenOnce(YFe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qN.NO_ERROR:const d=c.getResponseJson();Ee(Xo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case qN.TIMEOUT:Ee(Xo,`RPC '${t}' ${o} timed out`),a(new Ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qN.HTTP_ERROR:const h=c.getStatus();if(Ee(Xo,`RPC '${t}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const b=function(x){const I=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(I)>=0?I:ne.UNKNOWN}(g.status);a(new Ce(b,g.message))}else a(new Ce(ne.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ce(ne.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ee(Xo,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);Ee(Xo,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,n,15)})}Fo(t,e,n){const r=HL(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=GFe(),a=qFe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const d=o.join("");Ee(Xo,`Creating RPC '${t}' stream ${r}: ${d}`,c);const h=s.createWebChannel(d,c);let p=!1,g=!1;const b=new XLe({lo:x=>{g?Ee(Xo,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(p||(Ee(Xo,`Opening RPC '${t}' stream ${r} transport.`),h.open(),p=!0),Ee(Xo,`RPC '${t}' stream ${r} sending:`,x),h.send(x))},ho:()=>h.close()}),w=(x,I,T)=>{x.listen(I,M=>{try{T(M)}catch(F){setTimeout(()=>{throw F},0)}})};return w(h,MI.EventType.OPEN,()=>{g||Ee(Xo,`RPC '${t}' stream ${r} transport opened.`)}),w(h,MI.EventType.CLOSE,()=>{g||(g=!0,Ee(Xo,`RPC '${t}' stream ${r} transport closed`),b.Vo())}),w(h,MI.EventType.ERROR,x=>{g||(g=!0,Ws(Xo,`RPC '${t}' stream ${r} transport errored:`,x),b.Vo(new Ce(ne.UNAVAILABLE,"The operation could not be completed")))}),w(h,MI.EventType.MESSAGE,x=>{var I;if(!g){const T=x.data[0];at(!!T);const F=T.error||(null===(I=T[0])||void 0===I?void 0:I.error);if(F){Ee(Xo,`RPC '${t}' stream ${r} received error:`,F);const V=F.status;let Y=function(pe){const Te=jr[pe];if(void 0!==Te)return uX(Te)}(V),le=F.message;void 0===Y&&(Y=ne.INTERNAL,le="Unknown error status: "+V+" with message "+F.message),g=!0,b.Vo(new Ce(Y,le)),h.close()}else Ee(Xo,`RPC '${t}' stream ${r} received:`,T),b.mo(T)}}),w(a,ZFe.STAT_EVENT,x=>{x.stat===iQ.PROXY?Ee(Xo,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===iQ.NOPROXY&&Ee(Xo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function yJ(){return typeof window<"u"?window:null}function aS(){return typeof document<"u"?document:null}function cx(i){return new lLe(i,!0)}class jL{constructor(t,e,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=e,this.Mo=n,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,e-n);r>0&&Ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class wJ{constructor(t,e,n,r,o,s,a,c){this.oi=t,this.$o=n,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jL(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var t=this;return(0,re.Z)(function*(){t.Ho()&&(yield t.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}e_(){var t=this;return(0,re.Z)(function*(){if(t.Jo())return t.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(t,e){var n=this;return(0,re.Z)(function*(){n.n_(),n.r_(),n.jo.cancel(),n.Wo++,4!==t?n.jo.reset():e&&e.code===ne.RESOURCE_EXHAUSTED?(kr(e.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),n.jo.ko()):e&&e.code===ne.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.i_(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.To(e)})()}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Wo===e&&this.o_(n,r)},n=>{t(()=>{const r=new Ce(ne.UNKNOWN,"Fetching auth token failed: "+n.message);return this.__(r)})})}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{n(()=>this.__(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Yo(){var t=this;this.state=5,this.jo.qo((0,re.Z)(function*(){t.state=0,t.start()}))}__(t){return Ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget(()=>this.Wo===t?e():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eVe extends wJ{constructor(t,e,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function hLe(i,t){let e;if("targetChange"in t){const n="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ke(),r=t.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(at(void 0===d||"string"==typeof d),ro.fromBase64String(d||"")):(at(void 0===d||d instanceof Uint8Array),ro.fromUint8Array(d||new Uint8Array))}(i,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const d=void 0===l.code?ne.UNKNOWN:uX(l.code);return new Ce(d,l.message||"")}(s);e=new gX(n,r,o,a||null)}else if("documentChange"in t){const n=t.documentChange,r=Rl(i,n.document.name),o=Tr(n.document.updateTime),s=n.document.createTime?Tr(n.document.createTime):dt.min(),a=new Fo({mapValue:{fields:n.document.fields}}),c=Vn.newFoundDocument(r,o,s,a);e=new GI(n.targetIds||[],n.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const n=t.documentDelete,r=Rl(i,n.document),o=n.readTime?Tr(n.readTime):dt.min(),s=Vn.newNoDocument(r,o);e=new GI([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const n=t.documentRemove,r=Rl(i,n.document);e=new GI([],n.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ke();{const n=t.filter,{count:r=0,unchangedNames:o}=n,s=new nLe(r,o);e=new fX(n.targetId,s)}}var l;return e}(this.serializer,t),n=function(o){if(!("targetChange"in o))return dt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?dt.min():s.readTime?Tr(s.readTime):dt.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=_L(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=BI(c)?{documents:DX(o,c)}:{query:bL(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yX(o,s.resumeToken);const l=pL(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(dt.min())>0){a.readTime=ov(o,s.snapshotVersion.toTimestamp());const l=pL(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const n=function pLe(i,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=_L(this.serializer),e.removeTarget=t,this.t_(e)}}class tVe extends wJ{constructor(t,e,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function mLe(i,t){return i&&i.length>0?(at(void 0!==t),i.map(e=>function(r,o){let s=Tr(r.updateTime?r.updateTime:o);return s.isEqual(dt.min())&&(s=Tr(o)),new JNe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),n=Tr(t.commitTime);return this.listener.T_(n,e)}return at(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=_L(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>ex(this.serializer,n))};this.t_(e)}}class iVe extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(t,gL(e,n),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(ne.UNKNOWN,o.toString())})}vo(t,e,n,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,gL(e,n),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ne.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class rVe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(kr(e),this.g_=!1):Ee("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class oVe{constructor(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{n.enqueueAndForget((0,re.Z)(function*(){var c;Fh(s)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,re.Z)(function*(d){const h=Le(d);h.v_.add(4),yield mv(h),h.x_.set("Unknown"),h.v_.delete(4),yield lx(h)}),function l(d){return c.apply(this,arguments)})(s))}))}),this.x_=new rVe(n,r)}}function lx(i){return $L.apply(this,arguments)}function $L(){return $L=(0,re.Z)(function*(i){if(Fh(i))for(const t of i.F_)yield t(!0)}),$L.apply(this,arguments)}function mv(i){return WL.apply(this,arguments)}function WL(){return WL=(0,re.Z)(function*(i){for(const t of i.F_)yield t(!1)}),WL.apply(this,arguments)}function cS(i,t){const e=Le(i);e.C_.has(t.targetId)||(e.C_.set(t.targetId,t),YL(e)?qL(e):fv(e).Jo()&&GL(e,t))}function dx(i,t){const e=Le(i),n=fv(e);e.C_.delete(t),n.Jo()&&xJ(e,t),0===e.C_.size&&(n.Jo()?n.Xo():Fh(e)&&e.x_.set("Unknown"))}function GL(i,t){if(i.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fv(i).c_(t)}function xJ(i,t){i.O_.Oe(t),fv(i).l_(t)}function qL(i){i.O_=new oLe({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>i.C_.get(t)||null,nt:()=>i.datastore.serializer.databaseId}),fv(i).start(),i.x_.p_()}function YL(i){return Fh(i)&&!fv(i).Ho()&&i.C_.size>0}function Fh(i){return 0===Le(i).v_.size}function CJ(i){i.O_=void 0}function sVe(i){return ZL.apply(this,arguments)}function ZL(){return ZL=(0,re.Z)(function*(i){i.C_.forEach((t,e)=>{GL(i,t)})}),ZL.apply(this,arguments)}function aVe(i,t){return KL.apply(this,arguments)}function KL(){return KL=(0,re.Z)(function*(i,t){CJ(i),YL(i)?(i.x_.S_(t),qL(i)):i.x_.set("Unknown")}),KL.apply(this,arguments)}function cVe(i,t,e){return QL.apply(this,arguments)}function QL(){return QL=(0,re.Z)(function*(i,t,e){if(i.x_.set("Online"),t instanceof gX&&2===t.state&&t.cause)try{yield(n=(0,re.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.C_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.C_.delete(c),o.O_.removeTarget(c))}),function r(o,s){return n.apply(this,arguments)})(i,t)}catch(n){Ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield lS(i,n)}else if(t instanceof GI?i.O_.$e(t):t instanceof fX?i.O_.Je(t):i.O_.Ge(t),!e.isEqual(dt.min()))try{const n=yield uJ(i.localStore);e.compareTo(n)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.C_.get(l);d&&o.C_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const d=o.C_.get(c);if(!d)return;o.C_.set(c,d.withResumeToken(ro.EMPTY_BYTE_STRING,d.snapshotVersion)),xJ(o,c);const h=new Wd(d.target,c,l,d.sequenceNumber);GL(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(i,e))}catch(n){Ee("RemoteStore","Failed to raise snapshot:",n),yield lS(i,n)}var n}),QL.apply(this,arguments)}function lS(i,t,e){return XL.apply(this,arguments)}function XL(){return XL=(0,re.Z)(function*(i,t,e){if(!Ch(t))throw t;i.v_.add(1),yield mv(i),i.x_.set("Offline"),e||(e=()=>uJ(i.localStore)),i.asyncQueue.enqueueRetryable((0,re.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield e(),i.v_.delete(1),yield lx(i)}))}),XL.apply(this,arguments)}function EJ(i,t){return t().catch(e=>lS(i,e,t))}function pv(i){return JL.apply(this,arguments)}function JL(){return JL=(0,re.Z)(function*(i){const t=Le(i),e=Nh(t);let n=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;lVe(t);)try{const r=yield qLe(t.localStore,n);if(null===r){0===t.D_.length&&e.Xo();break}n=r.batchId,dVe(t,r)}catch(r){yield lS(t,r)}kJ(t)&&TJ(t)}),JL.apply(this,arguments)}function lVe(i){return Fh(i)&&i.D_.length<10}function dVe(i,t){i.D_.push(t);const e=Nh(i);e.Jo()&&e.P_&&e.I_(t.mutations)}function kJ(i){return Fh(i)&&!Nh(i).Ho()&&i.D_.length>0}function TJ(i){Nh(i).start()}function uVe(i){return eV.apply(this,arguments)}function eV(){return eV=(0,re.Z)(function*(i){Nh(i).d_()}),eV.apply(this,arguments)}function hVe(i){return tV.apply(this,arguments)}function tV(){return tV=(0,re.Z)(function*(i){const t=Nh(i);for(const e of i.D_)t.I_(e.mutations)}),tV.apply(this,arguments)}function mVe(i,t,e){return iV.apply(this,arguments)}function iV(){return iV=(0,re.Z)(function*(i,t,e){const n=i.D_.shift(),r=uL.from(n,t,e);yield EJ(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield pv(i)}),iV.apply(this,arguments)}function pVe(i,t){return nV.apply(this,arguments)}function nV(){return nV=(0,re.Z)(function*(i,t){var e;t&&Nh(i).P_&&(yield(e=(0,re.Z)(function*(r,o){if(dX(a=o.code)&&a!==ne.ABORTED){const s=r.D_.shift();Nh(r).Zo(),yield EJ(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield pv(r)}var a}),function n(r,o){return e.apply(this,arguments)})(i,t)),kJ(i)&&TJ(i)}),nV.apply(this,arguments)}function DJ(i,t){return rV.apply(this,arguments)}function rV(){return rV=(0,re.Z)(function*(i,t){const e=Le(i);e.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const n=Fh(e);e.v_.add(3),yield mv(e),n&&e.x_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.v_.delete(3),yield lx(e)}),rV.apply(this,arguments)}function oV(i,t){return sV.apply(this,arguments)}function sV(){return sV=(0,re.Z)(function*(i,t){const e=Le(i);t?(e.v_.delete(2),yield lx(e)):t||(e.v_.add(2),yield mv(e),e.x_.set("Unknown"))}),sV.apply(this,arguments)}function fv(i){return i.N_||(i.N_=function(e,n,r){const o=Le(e);return o.R_(),new eVe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:sVe.bind(null,i),To:aVe.bind(null,i),u_:cVe.bind(null,i)}),i.F_.push(function(){var t=(0,re.Z)(function*(e){e?(i.N_.Zo(),YL(i)?qL(i):i.x_.set("Unknown")):(yield i.N_.stop(),CJ(i))});return function(e){return t.apply(this,arguments)}}())),i.N_}function Nh(i){return i.B_||(i.B_=function(e,n,r){const o=Le(e);return o.R_(),new tVe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(i.datastore,i.asyncQueue,{Po:uVe.bind(null,i),To:pVe.bind(null,i),E_:hVe.bind(null,i),T_:mVe.bind(null,i)}),i.F_.push(function(){var t=(0,re.Z)(function*(e){e?(i.B_.Zo(),yield pv(i)):(yield i.B_.stop(),i.D_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(e){return t.apply(this,arguments)}}())),i.B_}class aV{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){const s=Date.now()+n,a=new aV(t,e,s,r,o);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ce(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(i,t){if(kr("AsyncQueue",`${t}: ${i}`),Ch(i))return new Ce(ne.UNAVAILABLE,`${t}: ${i}`);throw i}class _v{constructor(t){this.comparator=t?(e,n)=>t(e,n)||ze.comparator(e.key,n.key):(e,n)=>ze.comparator(e.key,n.key),this.keyedMap=Gw(),this.sortedSet=new Dn(this.comparator)}static emptySet(t){return new _v(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _v)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new _v;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class IJ{constructor(){this.L_=new Dn(ze.comparator)}track(t){const e=t.doc.key,n=this.L_.get(e);n?0!==t.type&&3===n.type?this.L_=this.L_.insert(e,t):3===t.type&&1!==n.type?this.L_=this.L_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.L_=this.L_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.L_=this.L_.remove(e):1===t.type&&2===n.type?this.L_=this.L_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.L_=this.L_.insert(e,{type:2,doc:t.doc}):Ke():this.L_=this.L_.insert(e,t)}k_(){const t=[];return this.L_.inorderTraversal((e,n)=>{t.push(n)}),t}}class vv{constructor(t,e,n,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new vv(t,e,_v.emptySet(e),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$w(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class fVe{constructor(){this.q_=void 0,this.Q_=[]}}class gVe{constructor(){this.queries=new Ud(t=>WQ(t),$w),this.onlineState="Unknown",this.K_=new Set}}function cV(i,t){return lV.apply(this,arguments)}function lV(){return lV=(0,re.Z)(function*(i,t){const e=Le(i),n=t.query;let r=!1,o=e.queries.get(n);if(o||(r=!0,o=new fVe),r)try{o.q_=yield e.onListen(n)}catch(s){const a=gv(s,`Initialization of query '${ev(t.query)}' failed`);return void t.onError(a)}e.queries.set(n,o),o.Q_.push(t),t.U_(e.onlineState),o.q_&&t.W_(o.q_)&&hV(e)}),lV.apply(this,arguments)}function dV(i,t){return uV.apply(this,arguments)}function uV(){return uV=(0,re.Z)(function*(i,t){const e=Le(i),n=t.query;let r=!1;const o=e.queries.get(n);if(o){const s=o.Q_.indexOf(t);s>=0&&(o.Q_.splice(s,1),r=0===o.Q_.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}),uV.apply(this,arguments)}function _Ve(i,t){const e=Le(i);let n=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.Q_)a.W_(r)&&(n=!0);s.q_=r}}n&&hV(e)}function vVe(i,t,e){const n=Le(i),r=n.queries.get(t);if(r)for(const o of r.Q_)o.onError(e);n.queries.delete(t)}function hV(i){i.K_.forEach(t=>{t.next()})}class mV{constructor(t,e,n){this.query=t,this.G_=e,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(t){if(!this.options.includeMetadataChanges){const n=[];for(const r of t.docChanges)3!==r.type&&n.push(r);t=new vv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.z_?this.H_(t)&&(this.G_.next(t),e=!0):this.J_(t,this.onlineState)&&(this.Y_(t),e=!0),this.j_=t,e}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let e=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),e=!0),e}J_(t,e){return!t.fromCache||(!this.options.Z_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}H_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(t){t=vv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}class bVe{constructor(t,e){this.X_=t,this.byteLength=e}ea(){return"metadata"in this.X_}}class SJ{constructor(t){this.serializer=t}Ps(t){return Rl(this.serializer,t)}Is(t){return t.metadata.exists?TX(this.serializer,t.document,!1):Vn.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Tr(t)}}class yVe{constructor(t,e,n){this.ta=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=MJ(t)}na(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.X_.namedQuery)this.queries.push(t.X_.namedQuery);else if(t.X_.documentMetadata){this.documents.push({metadata:t.X_.documentMetadata}),t.X_.documentMetadata.exists||++e;const n=yi.fromString(t.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.X_.document&&(this.documents[this.documents.length-1].document=t.X_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ra(t){const e=new Map,n=new SJ(this.serializer);for(const r of t)if(r.metadata.queries){const o=n.Ps(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||ii()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,re.Z)(function*(){const e=yield function YLe(i,t,e,n){return FL.apply(this,arguments)}(t.localStore,new SJ(t.serializer),t.documents,t.ta.id),n=t.ra(t.documents);for(const r of t.queries)yield ZLe(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",{progress:t.progress,ia:t.collectionGroups,sa:e}})()}}function MJ(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class AJ{constructor(t){this.key=t}}class RJ{constructor(t){this.key=t}}class PJ{constructor(t,e){this.query=t,this.oa=e,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ii(),this.mutatedKeys=ii(),this.ua=qQ(t),this.ca=new _v(this.ua)}get la(){return this.oa}ha(t,e){const n=e?e.Pa:new IJ,r=e?e.ca:this.ca;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,h)=>{const p=r.get(d),g=Ww(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?b!==w&&(n.track({type:3,doc:g}),x=!0):this.Ia(p,g)||(n.track({type:2,doc:g}),x=!0,(c&&this.ua(g,c)>0||l&&this.ua(g,l)<0)&&(a=!0)):!p&&g?(n.track({type:0,doc:g}),x=!0):p&&!g&&(n.track({type:1,doc:p}),x=!0,(c||l)&&(a=!0)),x&&(g?(s=s.add(g),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{ca:s,Pa:n,Xi:a,mutatedKeys:o}}Ia(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const o=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.k_();s.sort((d,h)=>function(g,b){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return w(g)-w(b)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(n),r=null!=r&&r;const a=e&&!r?this.Ea():[],c=0===this.aa.size&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,0!==s.length||l?{snapshot:new vv(this.query,t.ca,o,s,t.mutatedKeys,0===c,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new IJ,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(e=>this.oa=this.oa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.oa=this.oa.delete(e)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=ii(),this.ca.forEach(n=>{this.Aa(n.key)&&(this.aa=this.aa.add(n.key))});const e=[];return t.forEach(n=>{this.aa.has(n)||e.push(new RJ(n))}),this.aa.forEach(n=>{t.has(n)||e.push(new AJ(n))}),e}Ra(t){this.oa=t.hs,this.aa=ii();const e=this.ha(t.documents);return this.applyChanges(e,!0)}Va(){return vv.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class wVe{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class xVe{constructor(t){this.key=t,this.ma=!1}}class CVe{constructor(t,e,n,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Ud(a=>WQ(a),$w),this.pa=new Map,this.ya=new Set,this.wa=new Dn(ze.comparator),this.Sa=new Map,this.ba=new DL,this.Da={},this.Ca=new Map,this.va=$p.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function EVe(i,t){return pV.apply(this,arguments)}function pV(){return pV=(0,re.Z)(function*(i,t){const e=LV(i);let n,r;const o=e.ga.get(t);if(o)n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Va();else{const s=yield uv(e.localStore,xs(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,r=yield fV(e,t,n,"current"===a,s.resumeToken),e.isPrimaryClient&&cS(e.remoteStore,s)}return r}),pV.apply(this,arguments)}function fV(i,t,e,n,r){return gV.apply(this,arguments)}function gV(){return gV=(0,re.Z)(function*(i,t,e,n,r){i.Ma=(h,p,g)=>{return(b=(0,re.Z)(function*(x,I,T,M){let F=I.view.ha(T);F.Xi&&(F=yield nS(x.localStore,I.query,!1).then(({documents:ie})=>I.view.ha(ie,F)));const V=M&&M.targetChanges.get(I.targetId),Y=M&&null!=M.targetMismatches.get(I.targetId),le=I.view.applyChanges(F,x.isPrimaryClient,V,Y);return TV(x,I.targetId,le.da),le.snapshot}),function w(x,I,T,M){return b.apply(this,arguments)})(i,h,p,g);var b};const o=yield nS(i.localStore,t,!0),s=new PJ(t,o.hs),a=s.ha(o.documents),c=Xw.createSynthesizedTargetChangeForCurrentChange(e,n&&"Offline"!==i.onlineState,r),l=s.applyChanges(a,i.isPrimaryClient,c);TV(i,e,l.da);const d=new wVe(t,e,s);return i.ga.set(t,d),i.pa.has(e)?i.pa.get(e).push(t):i.pa.set(e,[t]),l.snapshot}),gV.apply(this,arguments)}function kVe(i,t){return _V.apply(this,arguments)}function _V(){return _V=(0,re.Z)(function*(i,t){const e=Le(i),n=e.ga.get(t),r=e.pa.get(n.targetId);if(r.length>1)return e.pa.set(n.targetId,r.filter(o=>!$w(o,t))),void e.ga.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||(yield hv(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),dx(e.remoteStore,n.targetId),bv(e,n.targetId)}).catch(xh))):(bv(e,n.targetId),yield hv(e.localStore,n.targetId,!0))}),_V.apply(this,arguments)}function vV(){return vV=(0,re.Z)(function*(i,t,e){const n=VV(i);try{const r=yield function(s,a){const c=Le(s),l=Wn.now(),d=a.reduce((g,b)=>g.add(b.key),ii());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=qs(),w=ii();return c.os.getEntries(g,d).next(x=>{b=x,b.forEach((I,T)=>{T.isValidDocument()||(w=w.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(x=>{h=x;const I=[];for(const T of a){const M=tLe(T,h.get(T.key).overlayedDocument);null!=M&&I.push(new $d(T.key,M,MQ(M.value.mapValue),Gn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,I,a)}).next(x=>{p=x;const I=x.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(g,x.batchId,I)})}).then(()=>({batchId:p.batchId,changes:ZQ(h)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Da[s.currentUser.toKey()];l||(l=new Dn(Lt)),l=l.insert(a,c),s.Da[s.currentUser.toKey()]=l}(n,r.batchId,e),yield Gd(n,r.changes),yield pv(n.remoteStore)}catch(r){const o=gv(r,"Failed to persist write");e.reject(o)}}),vV.apply(this,arguments)}function OJ(i,t){return bV.apply(this,arguments)}function bV(){return bV=(0,re.Z)(function*(i,t){const e=Le(i);try{const n=yield function GLe(i,t){const e=Le(i),n=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const a=[];t.targetChanges.forEach((d,h)=>{const p=r.get(h);if(!p)return;a.push(e.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>e.Qr.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);var w,x,I;null!==t.targetMismatches.get(h)?g=g.withResumeToken(ro.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),r=r.insert(h,g),x=g,I=d,(0===(w=p).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(e.Qr.updateTargetData(o,g))});let c=qs(),l=ii();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(hJ(o,s,t.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!n.isEqual(dt.min())){const d=e.Qr.getLastRemoteSnapshotVersion(o).next(h=>e.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(d)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.ns=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Sa.get(o);s&&(at(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.ma=!0:r.modifiedDocuments.size>0?at(s.ma):r.removedDocuments.size>0&&(at(s.ma),s.ma=!1))}),yield Gd(e,n,t)}catch(n){yield xh(n)}}),bV.apply(this,arguments)}function FJ(i,t,e){const n=Le(i);if(n.isPrimaryClient&&0===e||!n.isPrimaryClient&&1===e){const r=[];n.ga.forEach((o,s)=>{const a=s.view.U_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Le(s);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(const p of h.Q_)p.U_(a)&&(l=!0)}),l&&hV(c)}(n.eventManager,t),r.length&&n.fa.u_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function DVe(i,t,e){return yV.apply(this,arguments)}function yV(){return yV=(0,re.Z)(function*(i,t,e){const n=Le(i);n.sharedClientState.updateQueryState(t,"rejected",e);const r=n.Sa.get(t),o=r&&r.key;if(o){let s=new Dn(ze.comparator);s=s.insert(o,Vn.newNoDocument(o,dt.min()));const a=ii().add(o),c=new Qw(dt.min(),new Map,new Dn(Lt),s,a);yield OJ(n,c),n.wa=n.wa.remove(o),n.Sa.delete(t),DV(n)}else yield hv(n.localStore,t,!1).then(()=>bv(n,t,e)).catch(xh)}),yV.apply(this,arguments)}function IVe(i,t){return wV.apply(this,arguments)}function wV(){return wV=(0,re.Z)(function*(i,t){const e=Le(i),n=t.batch.batchId;try{const r=yield function WLe(i,t){const e=Le(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=t.batch.keys(),o=e.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){const h=l.batch,p=h.keys();let g=J.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(w=>{const x=l.docVersions.get(b);at(null!==x),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(e,n,t,o).next(()=>o.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=ii();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(n,r))})}(e.localStore,t);kV(e,n,null),EV(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield Gd(e,r)}catch(r){yield xh(r)}}),wV.apply(this,arguments)}function SVe(i,t,e){return xV.apply(this,arguments)}function xV(){return xV=(0,re.Z)(function*(i,t,e){const n=Le(i);try{const r=yield function(s,a){const c=Le(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(at(null!==h),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(n.localStore,t);kV(n,t,e),EV(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield Gd(n,r)}catch(r){yield xh(r)}}),xV.apply(this,arguments)}function CV(){return CV=(0,re.Z)(function*(i,t){const e=Le(i);Fh(e.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(s){const a=Le(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===n)return void t.resolve();const r=e.Ca.get(n)||[];r.push(t),e.Ca.set(n,r)}catch(n){const r=gv(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),CV.apply(this,arguments)}function EV(i,t){(i.Ca.get(t)||[]).forEach(e=>{e.resolve()}),i.Ca.delete(t)}function kV(i,t,e){const n=Le(i);let r=n.Da[n.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),n.Da[n.currentUser.toKey()]=r}}function bv(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.pa.get(t))i.ga.delete(n),e&&i.fa.xa(n,e);i.pa.delete(t),i.isPrimaryClient&&i.ba.Vr(t).forEach(n=>{i.ba.containsKey(n)||NJ(i,n)})}function NJ(i,t){i.ya.delete(t.path.canonicalString());const e=i.wa.get(t);null!==e&&(dx(i.remoteStore,e),i.wa=i.wa.remove(t),i.Sa.delete(e),DV(i))}function TV(i,t,e){for(const n of e)n instanceof AJ?(i.ba.addReference(n.key,t),AVe(i,n)):n instanceof RJ?(Ee("SyncEngine","Document no longer in limbo: "+n.key),i.ba.removeReference(n.key,t),i.ba.containsKey(n.key)||NJ(i,n.key)):Ke()}function AVe(i,t){const e=t.key,n=e.path.canonicalString();i.wa.get(e)||i.ya.has(n)||(Ee("SyncEngine","New document in limbo: "+e),i.ya.add(n),DV(i))}function DV(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const t=i.ya.values().next().value;i.ya.delete(t);const e=new ze(yi.fromString(t)),n=i.va.next();i.Sa.set(n,new xVe(e)),i.wa=i.wa.insert(e,n),cS(i.remoteStore,new Wd(xs(X_(e.path)),n,"TargetPurposeLimboResolution",ba._e))}}function Gd(i,t,e){return IV.apply(this,arguments)}function IV(){return IV=(0,re.Z)(function*(i,t,e){const n=Le(i),r=[],o=[],s=[];var a;n.ga.isEmpty()||(n.ga.forEach((a,c)=>{s.push(n.Ma(c,t,e).then(l=>{if((l||e)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const d=RL.Ki(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),n.fa.u_(r),yield(a=(0,re.Z)(function*(l,d){const h=Le(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>J.forEach(d,g=>J.forEach(g.qi,b=>h.persistence.referenceDelegate.addReference(p,g.targetId,b)).next(()=>J.forEach(g.Qi,b=>h.persistence.referenceDelegate.removeReference(p,g.targetId,b)))))}catch(p){if(!Ch(p))throw p;Ee("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const b=h.ns.get(g),x=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);h.ns=h.ns.insert(g,x)}}}),function c(l,d){return a.apply(this,arguments)})(n.localStore,o))}),IV.apply(this,arguments)}function RVe(i,t){return SV.apply(this,arguments)}function SV(){return SV=(0,re.Z)(function*(i,t){const e=Le(i);if(!e.currentUser.isEqual(t)){Ee("SyncEngine","User change. New user:",t.toKey());const n=yield dJ(e.localStore,t);e.currentUser=t,(o=e).Ca.forEach(a=>{a.forEach(c=>{c.reject(new Ce(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Gd(e,n.us)}var o}),SV.apply(this,arguments)}function PVe(i,t){const e=Le(i),n=e.Sa.get(t);if(n&&n.ma)return ii().add(n.key);{let r=ii();const o=e.pa.get(t);if(!o)return r;for(const s of o){const a=e.ga.get(s);r=r.unionWith(a.view.la)}return r}}function OVe(i,t){return MV.apply(this,arguments)}function MV(){return MV=(0,re.Z)(function*(i,t){const e=Le(i),n=yield nS(e.localStore,t.query,!0),r=t.view.Ra(n);return e.isPrimaryClient&&TV(e,t.targetId,r.da),r}),MV.apply(this,arguments)}function FVe(i,t){return AV.apply(this,arguments)}function AV(){return AV=(0,re.Z)(function*(i,t){const e=Le(i);return pJ(e.localStore,t).then(n=>Gd(e,n))}),AV.apply(this,arguments)}function NVe(i,t,e,n){return RV.apply(this,arguments)}function RV(){return RV=(0,re.Z)(function*(i,t,e,n){const r=Le(i),o=yield function(a,c){const l=Le(a),d=Le(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,c).next(p=>p?l.localDocuments.getDocuments(h,p):J.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield pv(r.remoteStore):"acknowledged"===e||"rejected"===e?(kV(r,t,n||null),EV(r,t),c=t,Le(Le(r.localStore).mutationQueue).Mn(c)):Ke(),yield Gd(r,o)):Ee("SyncEngine","Cannot apply mutation batch with id: "+t)}),RV.apply(this,arguments)}function PV(){return PV=(0,re.Z)(function*(i,t){const e=Le(i);if(LV(e),VV(e),!0===t&&!0!==e.Fa){const n=e.sharedClientState.getAllActiveQueryTargets(),r=yield LJ(e,n.toArray());e.Fa=!0,yield oV(e.remoteStore,!0);for(const o of r)cS(e.remoteStore,o)}else if(!1===t&&!1!==e.Fa){const n=[];let r=Promise.resolve();e.pa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?n.push(s):r=r.then(()=>(bv(e,s),hv(e.localStore,s,!0))),dx(e.remoteStore,s)}),yield r,yield LJ(e,n),function(s){const a=Le(s);a.Sa.forEach((c,l)=>{dx(a.remoteStore,l)}),a.ba.mr(),a.Sa=new Map,a.wa=new Dn(ze.comparator)}(e),e.Fa=!1,yield oV(e.remoteStore,!1)}}),PV.apply(this,arguments)}function LJ(i,t,e){return OV.apply(this,arguments)}function OV(){return OV=(0,re.Z)(function*(i,t,e){const n=Le(i),r=[],o=[];for(const s of t){let a;const c=n.pa.get(s);if(c&&0!==c.length){a=yield uv(n.localStore,xs(c[0]));for(const l of c){const d=n.ga.get(l),h=yield OVe(n,d);h.snapshot&&o.push(h.snapshot)}}else{const l=yield mJ(n.localStore,s);a=yield uv(n.localStore,l),yield fV(n,VJ(l),s,!1,a.resumeToken)}r.push(a)}return n.fa.u_(o),r}),OV.apply(this,arguments)}function VJ(i){return jQ(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function VVe(i){return e=Le(i).localStore,Le(Le(e).persistence).Li();var e}function BVe(i,t,e,n){return FV.apply(this,arguments)}function FV(){return FV=(0,re.Z)(function*(i,t,e,n){const r=Le(i);if(r.Fa)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const o=r.pa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield pJ(r.localStore,GQ(o[0])),a=Qw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ro.EMPTY_BYTE_STRING);yield Gd(r,s,a);break}case"rejected":yield hv(r.localStore,t,!0),bv(r,t,n);break;default:Ke()}}),FV.apply(this,arguments)}function zVe(i,t,e){return NV.apply(this,arguments)}function NV(){return NV=(0,re.Z)(function*(i,t,e){const n=LV(i);if(n.Fa){for(const r of t){if(n.pa.has(r)){Ee("SyncEngine","Adding an already active target "+r);continue}const o=yield mJ(n.localStore,r),s=yield uv(n.localStore,o);yield fV(n,VJ(o),s.targetId,!1,s.resumeToken),cS(n.remoteStore,s)}for(const r of e)n.pa.has(r)&&(yield hv(n.localStore,r,!1).then(()=>{dx(n.remoteStore,r),bv(n,r)}).catch(xh))}}),NV.apply(this,arguments)}function LV(i){const t=Le(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=OJ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PVe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DVe.bind(null,t),t.fa.u_=_Ve.bind(null,t.eventManager),t.fa.xa=vVe.bind(null,t.eventManager),t}function VV(i){const t=Le(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IVe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SVe.bind(null,t),t}class ux{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,re.Z)(function*(){e.serializer=cx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return lJ(this.persistence,new cJ,t.initialUser,this.serializer)}createPersistence(t){return new IL(eS.Hr,this.serializer)}createSharedClientState(t){return new vJ}terminate(){var t=this;return(0,re.Z)(function*(){var e,n;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(n=t.indexBackfillerScheduler)||void 0===n||n.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class BV extends ux{constructor(t,e,n){super(),this.Na=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,re.Z)(function*(){yield e().call(n,t),yield n.Na.initialize(n,t),yield VV(n.Na.syncEngine),yield pv(n.Na.remoteStore),yield n.persistence.fi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return lJ(this.persistence,new cJ,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new JX(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new mNe(e,this.persistence);return new hNe(t.asyncQueue,n)}createPersistence(t){const e=AL(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new ML(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yJ(),aS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new vJ}}class BJ extends BV{constructor(t,e){super(t,e,!1),this.Na=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,re.Z)(function*(){yield e().call(n,t);const r=n.Na.syncEngine;n.sharedClientState instanceof zL&&(n.sharedClientState.syncEngine={Zs:NVe.bind(null,r),Xs:BVe.bind(null,r),eo:zVe.bind(null,r),Li:VVe.bind(null,r),Ys:FVe.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.fi(function(){var o=(0,re.Z)(function*(s){yield function LVe(i,t){return PV.apply(this,arguments)}(n.Na.syncEngine,s),n.gcScheduler&&(s&&!n.gcScheduler.started?n.gcScheduler.start():s||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(s&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():s||n.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=yJ();if(!zL.D(e))throw new Ce(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=AL(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zL(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class yv{initialize(t,e){var n=this;return(0,re.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>FJ(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=RVe.bind(null,n.syncEngine),yield oV(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new gVe}createDatastore(t){const e=cx(t.databaseInfo.databaseId),n=new JLe(t.databaseInfo);return new iVe(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>FJ(this.syncEngine,e,0),a=bJ.D()?new bJ:new KLe,new oVe(n,r,o,s,a);var n,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,c,l,d){const h=new CVe(r,o,s,a,c,l);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,re.Z)(function*(){var e,n;yield(n=(0,re.Z)(function*(o){const s=Le(o);Ee("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield mv(s),s.M_.shutdown(),s.x_.set("Unknown")}),function r(o){return n.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}function zJ(i,t=10240){let e=0;return{read:()=>(0,re.Z)(function*(){if(e<i.byteLength){const n={value:i.slice(e,e+t),done:!1};return e+=t,n}return{done:!0}})(),cancel:()=>(0,re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):kr("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class UVe{constructor(t,e){this.ka=t,this.serializer=e,this.metadata=new no,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(n=>{n&&n.ea()?this.metadata.resolve(n.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.X_)}`))},n=>this.metadata.reject(n))}close(){return this.ka.cancel()}getMetadata(){var t=this;return(0,re.Z)(function*(){return t.metadata.promise})()}Oa(){var t=this;return(0,re.Z)(function*(){return yield t.getMetadata(),t.Qa()})()}Qa(){var t=this;return(0,re.Z)(function*(){const e=yield t.Ka();if(null===e)return null;const n=t.qa.decode(e),r=Number(n);isNaN(r)&&t.$a(`length string (${n}) is not valid number`);const o=yield t.Ua(r);return new bVe(JSON.parse(o),e.length+r)})()}Wa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ka(){var t=this;return(0,re.Z)(function*(){for(;t.Wa()<0&&!(yield t.Ga()););if(0===t.buffer.length)return null;const e=t.Wa();e<0&&t.$a("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}Ua(t){var e=this;return(0,re.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ga())&&e.$a("Reached the end of bundle when more is expected.");const n=e.qa.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}$a(t){throw this.ka.cancel(),new Error(`Invalid bundle format: ${t}`)}Ga(){var t=this;return(0,re.Z)(function*(){const e=yield t.ka.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class $Ve{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,re.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Ce(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const n=yield(r=(0,re.Z)(function*(s,a){const c=Le(s),l={documents:a.map(g=>Jw(c.serializer,g))},d=yield c.vo("BatchGetDocuments",c.serializer.databaseId,yi.emptyPath(),l,a.length),h=new Map;d.forEach(g=>{const b=function uLe(i,t){return"found"in t?function(n,r){at(!!r.found);const o=Rl(n,r.found.name),s=Tr(r.found.updateTime),a=r.found.createTime?Tr(r.found.createTime):dt.min(),c=new Fo({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(o,s,a,c)}(i,t):"missing"in t?function(n,r){at(!!r.missing),at(!!r.readTime);const o=Rl(n,r.missing),s=Tr(r.readTime);return Vn.newNoDocument(o,s)}(i,t):Ke()}(c.serializer,g);h.set(b.key.toString(),b)});const p=[];return a.forEach(g=>{const b=h.get(g.toString());at(!!b),p.push(b)}),p}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(r=>e.recordVersion(r)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new rv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,re.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var n;t.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const o=ze.fromPath(r);t.mutations.push(new lL(o,t.precondition(o)))}),yield(n=(0,re.Z)(function*(o,s){const a=Le(o),c={writes:s.map(l=>ex(a.serializer,l))};yield a.So("Commit",a.serializer.databaseId,yi.emptyPath(),c)}),function r(o,s){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ke();e=dt.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ce(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(dt.min())?Gn.exists(!1):Gn.updateTime(e):Gn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(dt.min()))throw new Ce(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(e)}return Gn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class WVe{constructor(t,e,n,r,o){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=o,this.za=n.maxAttempts,this.jo=new jL(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var t=this;this.jo.qo((0,re.Z)(function*(){const e=new $Ve(t.datastore),n=t.Ja(e);n&&n.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ya(o)}))}).catch(r=>{t.Ya(r)})}))}Ja(t){try{const e=this.updateFunction(t);return!Nw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(t){this.za>0&&this.Za(t)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(t)}Za(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!dX(e)}return!1}}class GVe{constructor(t,e,n,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=go.UNAUTHENTICATED,this.clientId=sQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var s=(0,re.Z)(function*(a){Ee("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(n,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function uS(i,t){return zV.apply(this,arguments)}function zV(){return zV=(0,re.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const e=i.configuration;yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(function(){var r=(0,re.Z)(function*(o){n.isEqual(o)||(yield dJ(t.localStore,o),n=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),zV.apply(this,arguments)}function HV(i,t){return jV.apply(this,arguments)}function jV(){return jV=(0,re.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield UV(i);Ee("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>DJ(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>DJ(t.remoteStore,r)),i._onlineComponents=t}),jV.apply(this,arguments)}function HJ(i){return"FirebaseError"===i.name?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function UV(i){return $V.apply(this,arguments)}function $V(){return $V=(0,re.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uS(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!HJ(e))throw e;Ws("Error using user provided cache. Falling back to memory cache: "+e),yield uS(i,new ux)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield uS(i,new ux);return i._offlineComponents}),$V.apply(this,arguments)}function hS(i){return WV.apply(this,arguments)}function WV(){return WV=(0,re.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield HV(i,i._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield HV(i,new yv))),i._onlineComponents}),WV.apply(this,arguments)}function jJ(i){return UV(i).then(t=>t.persistence)}function wv(i){return UV(i).then(t=>t.localStore)}function UJ(i){return hS(i).then(t=>t.remoteStore)}function GV(i){return hS(i).then(t=>t.syncEngine)}function xv(i){return qV.apply(this,arguments)}function qV(){return qV=(0,re.Z)(function*(i){const t=yield hS(i),e=t.eventManager;return e.onListen=EVe.bind(null,t.syncEngine),e.onUnlisten=kVe.bind(null,t.syncEngine),e}),qV.apply(this,arguments)}function WJ(i,t,e={}){const n=new no;return i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(o,s,a,c,l){const d=new dS({next:p=>{s.enqueueAndForget(()=>dV(o,h));const g=p.docs.has(a);!g&&p.fromCache?l.reject(new Ce(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&"server"===c.source?l.reject(new Ce(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new mV(X_(a.path),d,{includeMetadataChanges:!0,Z_:!0});return cV(o,h)}(yield xv(i),i.asyncQueue,t,e,n)})),n.promise}function GJ(i,t,e={}){const n=new no;return i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(o,s,a,c,l){const d=new dS({next:p=>{s.enqueueAndForget(()=>dV(o,h)),p.fromCache&&"server"===c.source?l.reject(new Ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new mV(a,d,{includeMetadataChanges:!0,Z_:!0});return cV(o,h)}(yield xv(i),i.asyncQueue,t,e,n)})),n.promise}function qJ(i){const t={};return void 0!==i.timeoutSeconds&&(t.timeoutSeconds=i.timeoutSeconds),t}const YJ=new Map;function YV(i,t,e){if(!e)throw new Ce(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ZJ(i,t,e,n){if(!0===t&&!0===n)throw new Ce(ne.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function KJ(i){if(!ze.isDocumentKey(i))throw new Ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function QJ(i){if(ze.isDocumentKey(i))throw new Ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mS(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(n=i).constructor?n.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var n;return"function"==typeof i?"a function":Ke()}function _i(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mS(i);throw new Ce(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function XJ(i,t){if(t<=0)throw new Ce(ne.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class JJ{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZJ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qJ(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hx{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JJ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JJ(t),void 0!==t.credentials&&(this._authCredentials=function(n){if(!n)return new eNe;switch(n.type){case"firstParty":return new rNe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=YJ.get(e);n&&(Ee("ComponentProvider","Removing Datastore"),YJ.delete(e),n.terminate())}(this),Promise.resolve()}}class No{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new No(this.firestore,t,this._query)}}class Bn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bn(this.firestore,t,this._key)}}class Pl extends No{constructor(t,e,n){super(t,e,X_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bn(this.firestore,null,new ze(t))}withConverter(t){return new Pl(this.firestore,t,this._path)}}function tee(i,t,...e){if(i=(0,R.m9)(i),YV("collection","path",t),i instanceof hx){const n=yi.fromString(t,...e);return QJ(n),new Pl(i,null,n)}{if(!(i instanceof Bn||i instanceof Pl))throw new Ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(yi.fromString(t,...e));return QJ(n),new Pl(i.firestore,null,n)}}function pS(i,t,...e){if(i=(0,R.m9)(i),1===arguments.length&&(t=sQ.newId()),YV("doc","path",t),i instanceof hx){const n=yi.fromString(t,...e);return KJ(n),new Bn(i,null,new ze(n))}{if(!(i instanceof Bn||i instanceof Pl))throw new Ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(yi.fromString(t,...e));return KJ(n),new Bn(i.firestore,i instanceof Pl?i.converter:null,new ze(n))}}function iee(i,t){return i=(0,R.m9)(i),t=(0,R.m9)(t),(i instanceof Bn||i instanceof Pl)&&(t instanceof Bn||t instanceof Pl)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function ZV(i,t){return i=(0,R.m9)(i),t=(0,R.m9)(t),i instanceof No&&t instanceof No&&i.firestore===t.firestore&&$w(i._query,t._query)&&i.converter===t.converter}class rBe{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new jL(this,"async_queue_retry"),this._u=()=>{const e=aS();e&&Ee("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const t=aS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const e=aS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const e=new no;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}cu(){var t=this;return(0,re.Z)(function*(){if(0!==t.eu.length){try{yield t.eu[0](),t.eu.shift(),t.jo.reset()}catch(e){if(!Ch(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}t.eu.length>0&&t.jo.qo(()=>t.cu())}})()}uu(t){const e=this.Xa.then(()=>(this.iu=!0,t().catch(n=>{throw this.ru=n,this.iu=!1,kr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(n)),n}).then(n=>(this.iu=!1,n))));return this.Xa=e,e}enqueueAfterDelay(t,e,n){this.au(),this.ou.indexOf(t)>-1&&(e=0);const r=aV.createAndSchedule(this,t,e,n,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Ke()}verifyOperationInProgress(){}hu(){var t=this;return(0,re.Z)(function*(){let e;do{e=t.Xa,yield e}while(e!==t.Xa)})()}Pu(t){for(const e of this.nu)if(e.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.nu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const e=this.nu.indexOf(t);this.nu.splice(e,1)}}function KV(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(i)}class oBe{constructor(){this._progressObserver={},this._taskCompletionResolver=new no,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class In extends hx{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new rBe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nee(this),this._firestoreClient.terminate()}}function fr(i){return i._firestoreClient||nee(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function nee(i){var t,e,n;const r=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new ONe(i._databaseId,c,i._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,qJ(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;i._firestoreClient=new GVe(i._authCredentials,i._appCheckCredentials,i._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function ree(i,t,e){const n=new no;return i.asyncQueue.enqueue((0,re.Z)(function*(){try{yield uS(i,e),yield HV(i,t),n.resolve()}catch(r){const o=r;if(!HJ(o))throw o;Ws("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function oee(i){if(i._initialized||i._terminated)throw new Ce(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ol{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ol(ro.fromBase64String(t))}catch(e){throw new Ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ol(ro.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class qd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gp{constructor(t){this._methodName=t}}class fS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}}const gBe=/^__.*__$/;class _Be{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new $d(t,this.data,this.fieldMask,e,this.fieldTransforms):new nv(t,this.data,e,this.fieldTransforms)}}class see{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new $d(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function aee(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class gS{constructor(t,e,n,r,o,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new gS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.mu(t),r}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return bS(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(0===t.length)throw this.pu("Document fields must not be empty");if(aee(this.du)&&gBe.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class vBe{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||cx(t)}Su(t,e,n,r=!1){return new gS({du:t,methodName:e,wu:n,path:Ln.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(i){const t=i._freezeSettings(),e=cx(i._databaseId);return new vBe(i._databaseId,!!t.ignoreUndefinedProperties,e)}function _S(i,t,e,n,r,o={}){const s=i.Su(o.merge||o.mergeFields?2:0,t,e,r);nB("Data must be an object, but it was:",s,n);const a=dee(n,s);let c,l;if(o.merge)c=new Gs(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=fx(t,h,e);if(!s.contains(p))throw new Ce(ne.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);hee(d,p)||d.push(p)}c=new Gs(d),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new _Be(new Fo(a),c,l)}class px extends Gp{_toFieldTransform(t){if(2!==t.du)throw t.pu(1===t.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof px}}function cee(i,t,e){return new gS({du:3,wu:t.settings.wu,methodName:i._methodName,Vu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class QV extends Gp{_toFieldTransform(t){return new Yw(t.path,new tv)}isEqual(t){return t instanceof QV}}class XV extends Gp{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=cee(this,t,!0),n=this.bu.map(o=>Yp(o,e)),r=new Lp(n);return new Yw(t.path,r)}isEqual(t){return t instanceof XV&&(0,R.vZ)(this.bu,t.bu)}}class JV extends Gp{constructor(t,e){super(t),this.bu=e}_toFieldTransform(t){const e=cee(this,t,!0),n=this.bu.map(o=>Yp(o,e)),r=new Vp(n);return new Yw(t.path,r)}isEqual(t){return t instanceof JV&&(0,R.vZ)(this.bu,t.bu)}}class eB extends Gp{constructor(t,e){super(t),this.Du=e}_toFieldTransform(t){const e=new iv(t.serializer,JQ(t.serializer,this.Du));return new Yw(t.path,e)}isEqual(t){return t instanceof eB&&this.Du===t.Du}}function tB(i,t,e,n){const r=i.Su(1,t,e);nB("Data must be an object, but it was:",r,n);const o=[],s=Fo.empty();Eh(n,(c,l)=>{const d=vS(t,c,e);l=(0,R.m9)(l);const h=r.fu(d);if(l instanceof px)o.push(d);else{const p=Yp(l,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new Gs(o);return new see(s,a,r.fieldTransforms)}function iB(i,t,e,n,r,o){const s=i.Su(1,t,e),a=[fx(t,n,e)],c=[r];if(o.length%2!=0)throw new Ce(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(fx(t,o[p])),c.push(o[p+1]);const l=[],d=Fo.empty();for(let p=a.length-1;p>=0;--p)if(!hee(l,a[p])){const g=a[p];let b=c[p];b=(0,R.m9)(b);const w=s.fu(g);if(b instanceof px)l.push(g);else{const x=Yp(b,w);null!=x&&(l.push(g),d.set(g,x))}}const h=new Gs(l);return new see(d,h,s.fieldTransforms)}function lee(i,t,e,n=!1){return Yp(e,i.Su(n?4:3,t))}function Yp(i,t){if(uee(i=(0,R.m9)(i)))return nB("Unsupported field value:",t,i),dee(i,t);if(i instanceof Gp)return function(n,r){if(!aee(r.du))throw r.pu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(n,r){const o=[];let s=0;for(const a of n){let c=Yp(a,r.gu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(i,t)}return function(n,r){if(null===(n=(0,R.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return JQ(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=Wn.fromDate(n);return{timestampValue:ov(r.serializer,o)}}if(n instanceof Wn){const o=new Wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ov(r.serializer,o)}}if(n instanceof fS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ol)return{bytesValue:yX(r.serializer,n._byteString)};if(n instanceof Bn){const o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.pu(`Unsupported field value: ${mS(n)}`)}(i,t)}function dee(i,t){const e={};return wQ(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eh(i,(n,r)=>{const o=Yp(r,t.Ru(n));null!=o&&(e[n]=o)}),{mapValue:{fields:e}}}function uee(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wn||i instanceof fS||i instanceof Ol||i instanceof Bn||i instanceof Gp)}function nB(i,t,e){if(!uee(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=mS(e);throw t.pu("an object"===n?i+" a custom object":i+" "+n)}var r}function fx(i,t,e){if((t=(0,R.m9)(t))instanceof qd)return t._internalPath;if("string"==typeof t)return vS(i,t);throw bS("Field path arguments must be of type string or ",i,!1,void 0,e)}const bBe=new RegExp("[~\\*/\\[\\]]");function vS(i,t,e){if(t.search(bBe)>=0)throw bS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new qd(...t.split("."))._internalPath}catch{throw bS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function bS(i,t,e,n,r){const o=n&&!n.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new Ce(ne.INVALID_ARGUMENT,a+i+c)}function hee(i,t){return i.some(e=>e.isEqual(t))}class gx{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yBe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(yS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yBe extends gx{data(){return super.data()}}function yS(i,t){return"string"==typeof t?vS(i,t):t instanceof qd?t._internalPath:t._delegate._internalPath}function mee(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rB{}class _x extends rB{}function Lh(i,t,...e){let n=[];t instanceof rB&&n.push(t),n=n.concat(e),function(o){const s=o.filter(c=>c instanceof Cv).length,a=o.filter(c=>c instanceof vx).length;if(s>1||s>0&&a>0)throw new Ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class vx extends _x{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new vx(t,e,n)}_apply(t){const e=this._parse(t);return _ee(t._query,e),new No(t.firestore,t.converter,aL(t._query,e))}_parse(t){const e=qp(t.firestore);return function(o,s,a,c,l,d,h){let p;if(l.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new Ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){gee(h,d);const g=[];for(const b of h)g.push(fee(c,o,b));p={arrayValue:{values:g}}}else p=fee(c,o,h)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||gee(h,d),p=lee(a,"where",h,"in"===d||"not-in"===d);return wi.create(l,d,p)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Cv extends rB{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Cv(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===e.length?e[0]:Ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)_ee(s,c),s=aL(s,c)}(t._query,e),new No(t.firestore,t.converter,aL(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oB extends _x{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new oB(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jw(o,s)}(t._query,this._field,this._direction);return new No(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new jd(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class wS extends _x{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new wS(t,e,n)}_apply(t){return new No(t.firestore,t.converter,HI(t._query,this._limit,this._limitType))}}class xS extends _x{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new xS(t,e,n)}_apply(t){const e=pee(t,this.type,this._docOrFields,this._inclusive);return new No(t.firestore,t.converter,(o=e,new jd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class CS extends _x{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new CS(t,e,n)}_apply(t){const e=pee(t,this.type,this._docOrFields,this._inclusive);return new No(t.firestore,t.converter,(o=e,new jd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function pee(i,t,e,n){if(e[0]=(0,R.m9)(e[0]),e[0]instanceof gx)return function(o,s,a,c,l){if(!c)throw new Ce(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of J_(o))if(h.field.isKeyField())d.push(Fp(s,c.key));else{const p=c.data.field(h.field);if(OI(p))throw new Ce(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const g=h.field.canonicalString();throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new Mh(d,l)}(i._query,i.firestore._databaseId,t,e[0]._document,n);{const r=qp(i.firestore);return function(s,a,c,l,d,h){const p=s.explicitOrderBy;if(d.length>p.length)throw new Ce(ne.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let b=0;b<d.length;b++){const w=d[b];if(p[b].field.isKeyField()){if("string"!=typeof w)throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof w}`);if(!sL(s)&&-1!==w.indexOf("/"))throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${w}' contains a slash.`);const x=s.path.child(yi.fromString(w));if(!ze.isDocumentKey(x))throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const I=new ze(x);g.push(Fp(a,I))}else{const x=lee(c,l,w);g.push(x)}}return new Mh(g,h)}(i._query,i.firestore._databaseId,r,t,e,n)}}function fee(i,t,e){if("string"==typeof(e=(0,R.m9)(e))){if(""===e)throw new Ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sL(t)&&-1!==e.indexOf("/"))throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(yi.fromString(e));if(!ze.isDocumentKey(n))throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fp(i,new ze(n))}if(e instanceof Bn)return Fp(i,e._key);throw new Ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mS(e)}.`)}function gee(i,t){if(!Array.isArray(i)||0===i.length)throw new Ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _ee(i,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ce(ne.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class sB{convertValue(t,e="none"){switch(Ih(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ke()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Eh(t,(r,o)=>{n[r]=this.convertValue(o,e)}),n}convertGeoPoint(t){return new fS(pr(t.latitude),pr(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=FI(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Vw(t));default:return null}}convertTimestamp(t){const e=kh(t);return new Wn(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=yi.fromString(t);at(AX(n));const r=new Th(n.get(1),n.get(3)),o=new ze(n.popFirst(5));return r.isEqual(e)||kr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function ES(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}class SBe extends sB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ol(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bn(this.firestore,null,e)}}class Zp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yd extends gx{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(yS("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class bx extends Yd{data(t={}){return super.data(t)}}class Vh{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new bx(this._firestore,this._userDataWriter,n.key,n,new Zp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new bx(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new bx(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zp(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,d=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:ABe(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ABe(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function bee(i,t){return i instanceof Yd&&t instanceof Yd?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Vh&&t instanceof Vh&&i._firestore===t._firestore&&ZV(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}class Bh extends sB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ol(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bn(this.firestore,null,e)}}function yee(i,t,e){i=_i(i,Bn);const n=_i(i.firestore,In),r=ES(i.converter,t,e);return Ev(n,[_S(qp(n),"setDoc",i._key,r,null!==i.converter,e).toMutation(i._key,Gn.none())])}function wee(i,t,e,...n){i=_i(i,Bn);const r=_i(i.firestore,In),o=qp(r);let s;return s="string"==typeof(t=(0,R.m9)(t))||t instanceof qd?iB(o,"updateDoc",i._key,t,e,n):tB(o,"updateDoc",i._key,t),Ev(r,[s.toMutation(i._key,Gn.exists(!0))])}function xee(i,...t){var e,n,r;i=(0,R.m9)(i);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||KV(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(KV(t[s])){const h=t[s];t[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),t[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),t[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}let c,l,d;if(i instanceof Bn)l=_i(i.firestore,In),d=X_(i._key.path),c={next:h=>{t[s]&&t[s](aB(l,i,h))},error:t[s+1],complete:t[s+2]};else{const h=_i(i,No);l=_i(h.firestore,In),d=h._query;const p=new Bh(l);c={next:g=>{t[s]&&t[s](new Vh(l,p,h,g))},error:t[s+1],complete:t[s+2]},mee(i._query)}return function(p,g,b,w){const x=new dS(w),I=new mV(g,x,b);return p.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return cV(yield xv(p),I)})),()=>{x.La(),p.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return dV(yield xv(p),I)}))}}(fr(l),d,a,c)}function Ev(i,t){return function(n,r){const o=new no;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function TVe(i,t,e){return vV.apply(this,arguments)}(yield GV(n),r,o)})),o.promise}(fr(i),t)}function aB(i,t,e){const n=e.docs.get(t._key),r=new Bh(i);return new Yd(i,r,t._key,n,new Zp(e.hasPendingWrites,e.fromCache),t.converter)}const ZBe={maxAttempts:5};class Cee{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qp(t)}set(t,e,n){this._verifyNotCommitted();const r=zh(t,this._firestore),o=ES(r.converter,e,n),s=_S(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Gn.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const o=zh(t,this._firestore);let s;return s="string"==typeof(e=(0,R.m9)(e))||e instanceof qd?iB(this._dataReader,"WriteBatch.update",o._key,e,n,r):tB(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Gn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=zh(t,this._firestore);return this._mutations=this._mutations.concat(new rv(e._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zh(i,t){if((i=(0,R.m9)(i)).firestore!==t)throw new Ce(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class KBe extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=qp(e)}get(e){const n=zh(e,this._firestore),r=new SBe(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return Ke();const s=o[0];if(s.isFoundDocument())return new gx(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new gx(this._firestore,r,n._key,null,n.converter);throw Ke()})}set(e,n,r){const o=zh(e,this._firestore),s=ES(o.converter,n,r),a=_S(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,n,r,...o){const s=zh(e,this._firestore);let a;return a="string"==typeof(n=(0,R.m9)(n))||n instanceof qd?iB(this._dataReader,"Transaction.update",s._key,n,r,o):tB(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=zh(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=zh(t,this._firestore),n=new Bh(this._firestore);return super.get(t).then(r=>new Yd(this._firestore,n,e._key,r._document,new Zp(!1,!1),e.converter))}}function lB(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ce("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function Dee(){if(typeof Uint8Array>"u")throw new Ce("unimplemented","Uint8Arrays are not available in this environment.")}function Iee(){if(!function RNe(){return typeof atob<"u"}())throw new Ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){$_=ml.SDK_VERSION,(0,ml._registerComponent)(new vd.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new In(new iNe(n.getProvider("auth-internal")),new oNe(n.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(l.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,ml.registerVersion)(nQ,"4.4.1",t),(0,ml.registerVersion)(nQ,"4.4.1","esm2017")}();class yx{constructor(t){this._delegate=t}static fromBase64String(t){return Iee(),new yx(Ol.fromBase64String(t))}static fromUint8Array(t){return Dee(),new yx(Ol.fromUint8Array(t))}toBase64(){return Iee(),this._delegate.toBase64()}toUint8Array(){return Dee(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dB(i){return function s3e(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(i,["next","error","complete"])}class a3e{enableIndexedDbPersistence(t,e){return function aBe(i,t){oee(i=_i(i,In));const e=fr(i);if(e._uninitializedComponentsProvider)throw new Ce(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),r=new yv;return ree(e,r,new BV(r,n.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function cBe(i){oee(i=_i(i,In));const t=fr(i);if(t._uninitializedComponentsProvider)throw new Ce(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),n=new yv;return ree(t,n,new BJ(n,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function lBe(i){if(i._initialized&&!i._terminated)throw new Ce(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new no;return i._queue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{yield(e=(0,re.Z)(function*(r){if(!Ja.D())return Promise.resolve();const o=r+"main";yield Ja.delete(o)}),function n(r){return e.apply(this,arguments)})(AL(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class See{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Th||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ws("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function eee(i,t,e,n={}){var r;const o=(i=_i(i,hx))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,c;if("string"==typeof n.mockUserToken)a=n.mockUserToken,c=go.MOCK_USER;else{a=(0,R.Sg)(n.mockUserToken,null===(r=i._app)||void 0===r?void 0:r.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new go(l)}i._authCredentials=new tNe(new rQ(a,c))}}(this._delegate,t,e,n)}enableNetwork(){return function uBe(i){return function qVe(i){return i.asyncQueue.enqueue((0,re.Z)(function*(){const t=yield jJ(i),e=yield UJ(i);return t.setNetworkEnabled(!0),function(r){const o=Le(r);return o.v_.delete(0),lx(o)}(e)}))}(fr(i=_i(i,In)))}(this._delegate)}disableNetwork(){return function hBe(i){return function YVe(i){return i.asyncQueue.enqueue((0,re.Z)(function*(){const t=yield jJ(i),e=yield UJ(i);return t.setNetworkEnabled(!1),(n=(0,re.Z)(function*(o){const s=Le(o);s.v_.add(0),yield mv(s),s.x_.set("Offline")}),function r(o){return n.apply(this,arguments)})(e);var n}))}(fr(i=_i(i,In)))}(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,ZJ("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dBe(i){return function(e){const n=new no;return e.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function MVe(i,t){return CV.apply(this,arguments)}(yield GV(e),n)})),n.promise}(fr(i=_i(i,In)))}(this._delegate)}onSnapshotsInSync(t){return function zBe(i,t){return function QVe(i,t){const e=new dS(t);return i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield xv(i),o=e,Le(r).K_.add(o),void o.next();var r,o})),()=>{e.La(),i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield xv(i),o=e,void Le(r).K_.delete(o);var r,o}))}}(fr(i=_i(i,In)),KV(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new kv(this,tee(this._delegate,t))}catch(e){throw Cs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ec(this,pS(this._delegate,t))}catch(e){throw Cs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Es(this,function nBe(i,t){if(i=_i(i,hx),YV("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ce(ne.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new No(i,null,(n=t,new jd(yi.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Cs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function QBe(i,t,e){i=_i(i,In);const n=Object.assign(Object.assign({},ZBe),e);return function(o){if(o.maxAttempts<1)throw new Ce(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,s,a){const c=new no;return o.asyncQueue.enqueueAndForget((0,re.Z)(function*(){const l=yield function $J(i){return hS(i).then(t=>t.datastore)}(o);new WVe(o.asyncQueue,l,a,s,c).ja()})),c.promise}(fr(i),r=>t(new KBe(i,r)),n)}(this._delegate,e=>t(new Mee(this,e)))}batch(){return fr(this._delegate),new Aee(new Cee(this._delegate,t=>Ev(this._delegate,t)))}loadBundle(t){return function mBe(i,t){const e=fr(i=_i(i,In)),n=new oBe;return function XVe(i,t,e,n){const r=function(s,a){let c;return c="string"==typeof s?hX().encode(s):s,d=function(d,h){if(d instanceof Uint8Array)return zJ(d,h);if(d instanceof ArrayBuffer)return zJ(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new UVe(d,a);var d}(e,cx(t));i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){!function HVe(i,t,e){const n=Le(i);var r;(r=(0,re.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(b,w){const x=Le(b),I=Tr(w.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",T=>x.$r.getBundleMetadata(T,w.id)).then(T=>!!T&&T.createTime.compareTo(I)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=l).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(MJ(l));const d=new yVe(l,s.localStore,a.serializer);let h=yield a.Oa();for(;h;){const g=yield d.na(h);g&&c._updateProgress(g),h=yield a.Oa()}const p=yield d.complete();return yield Gd(s,p.sa,void 0),yield function(b,w){const x=Le(b);return x.persistence.runTransaction("Save bundle","readwrite",I=>x.$r.saveBundleMetadata(I,w))}(s.localStore,l),c._completeWith(p.progress),Promise.resolve(p.ia)}catch(l){return Ws("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(n,t,e).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}(yield GV(i),r,n)}))}(e,i._databaseId,t,n),n}(this._delegate,t)}namedQuery(t){return function pBe(i,t){return function JVe(i,t){return i.asyncQueue.enqueue((0,re.Z)(function*(){return function(n,r){const o=Le(n);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield wv(i),t)}))}(fr(i=_i(i,In)),t).then(e=>e?new No(i,null,e.query):null)}(this._delegate,t).then(e=>e?new Es(this,e):null)}}class TS extends sB{constructor(t){super(),this.firestore=t}convertBytes(t){return new yx(new Ol(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ec.forKey(e,this.firestore,null)}}class Mee{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new TS(t)}get(t){const e=Qp(t);return this._delegate.get(e).then(n=>new wx(this._firestore,new Yd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,e.converter)))}set(t,e,n){const r=Qp(t);return n?(lB("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Qp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Qp(t);return this._delegate.delete(e),this}}class Aee{constructor(t){this._delegate=t}set(t,e,n){const r=Qp(t);return n?(lB("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Qp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Qp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Kp{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new bx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xx(this._firestore,n),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Kp.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let o=r.get(e);return o||(o=new Kp(t,new TS(t),e),r.set(e,o)),o}}Kp.INSTANCES=new WeakMap;class ec{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TS(t)}static forPath(t,e,n){if(t.length%2!=0)throw new Ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ec(e,new Bn(e._delegate,n,new ze(t)))}static forKey(t,e,n){return new ec(e,new Bn(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new kv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new kv(this.firestore,tee(this._delegate,t))}catch(e){throw Cs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,R.m9)(t))instanceof Bn&&iee(this._delegate,t)}set(t,e){e=lB("DocumentReference.set",e);try{return e?yee(this._delegate,t,e):yee(this._delegate,t)}catch(n){throw Cs(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?wee(this._delegate,t):wee(this._delegate,t,e,...n)}catch(r){throw Cs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function VBe(i){return Ev(_i(i.firestore,In),[new rv(i._key,Gn.none())])}(this._delegate)}onSnapshot(...t){const e=Ree(t),n=Pee(t,r=>new wx(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return xee(this._delegate,e,n)}get(t){let e;return e="cache"===t?.source?function PBe(i){i=_i(i,Bn);const t=_i(i.firestore,In),e=fr(t),n=new Bh(t);return function ZVe(i,t){const e=new no;return i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(n=(0,re.Z)(function*(o,s,a){try{const c=yield function(d,h){const p=Le(d);return p.persistence.runTransaction("read document","readonly",g=>p.localDocuments.getDocument(g,h))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Ce(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=gv(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield wv(i),t,e);var n})),e.promise}(e,i._key).then(r=>new Yd(t,n,i._key,r,new Zp(null!==r&&r.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===t?.source?function OBe(i){i=_i(i,Bn);const t=_i(i.firestore,In);return WJ(fr(t),i._key,{source:"server"}).then(e=>aB(t,i,e))}(this._delegate):function RBe(i){i=_i(i,Bn);const t=_i(i.firestore,In);return WJ(fr(t),i._key).then(e=>aB(t,i,e))}(this._delegate),e.then(n=>new wx(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new ec(this.firestore,this._delegate.withConverter(t?Kp.getInstance(this.firestore,t):null))}}function Cs(i,t,e){return i.message=i.message.replace(t,e),i}function Ree(i){for(const t of i)if("object"==typeof t&&!dB(t))return t;return{}}function Pee(i,t){var e,n;let r;return r=dB(i[0])?i[0]:dB(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(n=r.complete)||void 0===n?void 0:n.bind(r)}}class wx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ec(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return bee(this._delegate,t._delegate)}}class xx extends wx{data(t){const e=this._delegate.data(t);return this._delegate._converter||function JFe(i,t){i||Ke()}(void 0!==e),e}}class Es{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TS(t)}where(t,e,n){try{return new Es(this.firestore,Lh(this._delegate,function wBe(i,t,e){const n=t,r=yS("where",i);return vx._create(r,n,e)}(t,e,n)))}catch(r){throw Cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Es(this.firestore,Lh(this._delegate,function xBe(i,t="asc"){const e=t,n=yS("orderBy",i);return oB._create(n,e)}(t,e)))}catch(n){throw Cs(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Es(this.firestore,Lh(this._delegate,function CBe(i){return XJ("limit",i),wS._create("limit",i,"F")}(t)))}catch(e){throw Cs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Es(this.firestore,Lh(this._delegate,function EBe(i){return XJ("limitToLast",i),wS._create("limitToLast",i,"L")}(t)))}catch(e){throw Cs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Es(this.firestore,Lh(this._delegate,function kBe(...i){return xS._create("startAt",i,!0)}(...t)))}catch(e){throw Cs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Es(this.firestore,Lh(this._delegate,function TBe(...i){return xS._create("startAfter",i,!1)}(...t)))}catch(e){throw Cs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Es(this.firestore,Lh(this._delegate,function DBe(...i){return CS._create("endBefore",i,!1)}(...t)))}catch(e){throw Cs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Es(this.firestore,Lh(this._delegate,function IBe(...i){return CS._create("endAt",i,!0)}(...t)))}catch(e){throw Cs(e,"endAt()","Query.endAt()")}}isEqual(t){return ZV(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function NBe(i){i=_i(i,No);const t=_i(i.firestore,In),e=fr(t),n=new Bh(t);return function KVe(i,t){const e=new no;return i.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(n=(0,re.Z)(function*(o,s,a){try{const c=yield nS(o,s,!0),l=new PJ(s,c.hs),d=l.ha(c.documents),h=l.applyChanges(d,!1);a.resolve(h.snapshot)}catch(c){const l=gv(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return n.apply(this,arguments)})(yield wv(i),t,e);var n})),e.promise}(e,i._query).then(r=>new Vh(t,n,i,r))}(this._delegate):"server"===t?.source?function LBe(i){i=_i(i,No);const t=_i(i.firestore,In),e=fr(t),n=new Bh(t);return GJ(e,i._query,{source:"server"}).then(r=>new Vh(t,n,i,r))}(this._delegate):function FBe(i){i=_i(i,No);const t=_i(i.firestore,In),e=fr(t),n=new Bh(t);return mee(i._query),GJ(e,i._query).then(r=>new Vh(t,n,i,r))}(this._delegate),e.then(n=>new uB(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){const e=Ree(t),n=Pee(t,r=>new uB(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return xee(this._delegate,e,n)}withConverter(t){return new Es(this.firestore,this._delegate.withConverter(t?Kp.getInstance(this.firestore,t):null))}}class l3e{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new xx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uB{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new xx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new l3e(this._firestore,e))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new xx(this._firestore,n))})}isEqual(t){return bee(this._delegate,t._delegate)}}class kv extends Es{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ec(this.firestore,t):null}doc(t){try{return new ec(this.firestore,void 0===t?pS(this._delegate):pS(this._delegate,t))}catch(e){throw Cs(e,"doc()","CollectionReference.doc()")}}add(t){return function BBe(i,t){const e=_i(i.firestore,In),n=pS(i),r=ES(i.converter,t);return Ev(e,[_S(qp(i.firestore),"addDoc",n._key,r,null!==i.converter,{}).toMutation(n._key,Gn.exists(!1))]).then(()=>n)}(this._delegate,t).then(e=>new ec(this.firestore,e))}isEqual(t){return iee(this._delegate,t._delegate)}withConverter(t){return new kv(this.firestore,this._delegate.withConverter(t?Kp.getInstance(this.firestore,t):null))}}function Qp(i){return _i(i,Bn)}class hB{constructor(...t){this._delegate=new qd(...t)}static documentId(){return new hB(Ln.keyField().canonicalString())}isEqual(t){return(t=(0,R.m9)(t))instanceof qd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Xp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function JBe(){return new QV("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Xp(t)}static delete(){const t=function XBe(){return new px("deleteField")}();return t._methodName="FieldValue.delete",new Xp(t)}static arrayUnion(...t){const e=function e3e(...i){return new XV("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new Xp(e)}static arrayRemove(...t){const e=function t3e(...i){return new JV("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new Xp(e)}static increment(t){const e=function i3e(i){return new eB("increment",i)}(t);return e._methodName="FieldValue.increment",new Xp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const d3e={Firestore:See,GeoPoint:fS,Timestamp:Wn,Blob:yx,Transaction:Mee,WriteBatch:Aee,DocumentReference:ec,DocumentSnapshot:wx,Query:Es,QueryDocumentSnapshot:xx,QuerySnapshot:uB,CollectionReference:kv,FieldPath:hB,FieldValue:Xp,setLogLevel:function c3e(i){!function XFe(i){wh.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Oee(i,t){return function m3e(i,t=Hm){return new Vt(e=>{let n;return null!=t?t.schedule(()=>{n=i.onSnapshot({includeMetadataChanges:!0},e)}):n=i.onSnapshot({includeMetadataChanges:!0},e),()=>{n?.()}})}(i,t)}function mB(i,t){return Oee(i,t).pipe(Fe(e=>({payload:e,type:"query"})))}!function h3e(i){(function u3e(i,t){i.INTERNAL.registerComponent(new vd.wA("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},d3e)))})(i,(t,e)=>new See(t,e,new a3e)),i.registerVersion("@firebase/firestore-compat","0.3.24")}(_d.Z);class Fee{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:o}=Hee(n,e);return new Vee(r,o,this.afs)}snapshotChanges(){return function p3e(i,t){return Oee(i,t).pipe($a(void 0),oN(),Fe(e=>{const[n,r]=e;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(t={}){return this.snapshotChanges().pipe(Fe(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return j(this.ref.get(t)).pipe(Jr)}}function DS(i,t){return mB(i,t).pipe($a(void 0),oN(),Fe(e=>{const[n,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(h=>h.doc.ref.isEqual(a.ref)),d=n?.payload.docs.find(h=>h.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function Nee(i,t,e){return DS(i,e).pipe(Ag((n,r)=>function f3e(i,t,e){return t.forEach(n=>{e.indexOf(n.type)>-1&&(i=function g3e(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return pB(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return pB(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return pB(i,t.oldIndex,1)}return i}(i,n))}),i}(n,r.map(o=>o.payload),t),[]),Yi(),Fe(n=>n.map(r=>({type:r.type,payload:r}))))}function pB(i,t,e,...n){const r=i.slice();return r.splice(t,e,...n),r}function Lee(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Vee{ref;query;afs;constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=DS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Fe(n=>n.filter(r=>t.indexOf(r.type)>-1)))),e.pipe($a(void 0),oN(),er(([n,r])=>r.length>0||!n),Fe(([,n])=>n),Jr)}auditTrail(t){return this.stateChanges(t).pipe(Ag((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=Lee(t);return Nee(this.query,e,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(t={}){return mB(this.query,this.afs.schedulers.outsideAngular).pipe(Fe(e=>e.payload.docs.map(n=>t.idField?{...n.data(),[t.idField]:n.id}:n.data())),Jr)}get(t){return j(this.query.get(t)).pipe(Jr)}add(t){return this.ref.add(t)}doc(t){return new Fee(this.ref.doc(t),this.afs)}}class _3e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?DS(this.query,this.afs.schedulers.outsideAngular).pipe(Fe(e=>e.filter(n=>t.indexOf(n.type)>-1)),er(e=>e.length>0),Jr):DS(this.query,this.afs.schedulers.outsideAngular).pipe(Jr)}auditTrail(t){return this.stateChanges(t).pipe(Ag((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=Lee(t);return Nee(this.query,e,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(t={}){return mB(this.query,this.afs.schedulers.outsideAngular).pipe(Fe(n=>n.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Jr)}get(t){return j(this.query.get(t)).pipe(Jr)}}const Bee=new q("angularfire2.enableFirestorePersistence"),zee=new q("angularfire2.firestore.persistenceSettings"),v3e=new q("angularfire2.firestore.settings"),b3e=new q("angularfire2.firestore.use-emulator");function Hee(i,t=(e=>e)){return{query:t(i),ref:i}}let y3e=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(e,n,r,o,s,a,c,l,d,h,p,g,b,w,x,I,T){this.schedulers=c;const M=Tk(e,a,n),F=d;h&&YR(M,a,p,b,w,x,g,I),[this.firestore,this.persistenceEnabled$]=HR(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{const V=a.runOutsideAngular(()=>M.firestore());if(o&&V.settings(o),F&&V.useEmulator(...F),r&&!XE(s)){const Y=()=>{try{return j(V.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(le){return typeof console<"u"&&console.warn(le),oe(!1)}};return[V,a.runOutsideAngular(Y)]}return[V,oe(!1)]},[o,F,r])}collection(e,n){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=Hee(r,n),a=this.schedulers.ngZone.run(()=>o);return new Vee(a,s,this)}collectionGroup(e,n){const r=n||(s=>s),o=this.firestore.collectionGroup(e);return new _3e(r(o),this)}doc(e){let n;n="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>n);return new Fee(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||i)(U(Fy),U(Ny,8),U(Bee,8),U(v3e,8),U(Fa),U(st),U(zR),U(zee,8),U(b3e,8),U(Dk,8),U(jR,8),U(UR,8),U($R,8),U(WR,8),U(GR,8),U(qR,8),U(BR,8))};static \u0275prov=ye({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),w3e=(()=>{class i{constructor(){_d.Z.registerVersion("angularfire",VR.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:Bee,useValue:!0},{provide:zee,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ae({type:i});static \u0275inj=Oe({providers:[y3e]})}return i})();const x3e_firebase={apiKey:"AIzaSyDC4RoIxtD36gbhFYJeCGEPFXgqDbhk2Cw",authDomain:"test-esp32-14072.firebaseapp.com",databaseURL:"https://test-esp32-14072-default-rtdb.firebaseio.com",projectId:"test-esp32-14072",storageBucket:"test-esp32-14072.appspot.com",messagingSenderId:"470419016740",appId:"1:470419016740:web:f950edccc4f33051459cb1",measurementId:"G-NJQVTT4EGV"};class Jp extends Error{}class C3e extends Jp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class E3e extends Jp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class k3e extends Jp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Tv extends Jp{}class jee extends Jp{constructor(t){super(`Invalid unit ${t}`)}}class Ys extends Jp{}class Hh extends Jp{constructor(){super("Zone is an abstract class")}}const je="numeric",Tc="short",ya="long",IS={year:je,month:je,day:je},Uee={year:je,month:Tc,day:je},T3e={year:je,month:Tc,day:je,weekday:Tc},$ee={year:je,month:ya,day:je},Wee={year:je,month:ya,day:je,weekday:ya},Gee={hour:je,minute:je},qee={hour:je,minute:je,second:je},Yee={hour:je,minute:je,second:je,timeZoneName:Tc},Zee={hour:je,minute:je,second:je,timeZoneName:ya},Kee={hour:je,minute:je,hourCycle:"h23"},Qee={hour:je,minute:je,second:je,hourCycle:"h23"},Xee={hour:je,minute:je,second:je,hourCycle:"h23",timeZoneName:Tc},Jee={hour:je,minute:je,second:je,hourCycle:"h23",timeZoneName:ya},ete={year:je,month:je,day:je,hour:je,minute:je},tte={year:je,month:je,day:je,hour:je,minute:je,second:je},ite={year:je,month:Tc,day:je,hour:je,minute:je},nte={year:je,month:Tc,day:je,hour:je,minute:je,second:je},D3e={year:je,month:Tc,day:je,weekday:Tc,hour:je,minute:je},rte={year:je,month:ya,day:je,hour:je,minute:je,timeZoneName:Tc},ote={year:je,month:ya,day:je,hour:je,minute:je,second:je,timeZoneName:Tc},ste={year:je,month:ya,day:je,weekday:ya,hour:je,minute:je,timeZoneName:ya},ate={year:je,month:ya,day:je,weekday:ya,hour:je,minute:je,second:je,timeZoneName:ya};class Cx{get type(){throw new Hh}get name(){throw new Hh}get ianaName(){return this.name}get isUniversal(){throw new Hh}offsetName(t,e){throw new Hh}formatOffset(t,e){throw new Hh}offset(t){throw new Hh}equals(t){throw new Hh}get isValid(){throw new Hh}}let fB=null;class SS extends Cx{static get instance(){return null===fB&&(fB=new SS),fB}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return Ate(t,e,n)}formatOffset(t,e){return Dx(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let MS={};const S3e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let AS={};class Zd extends Cx{static create(t){return AS[t]||(AS[t]=new Zd(t)),AS[t]}static resetCache(){AS={},MS={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Zd.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return Ate(t,e,n,this.name)}formatOffset(t,e){return Dx(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const n=function I3e(i){return MS[i]||(MS[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),MS[i]}(this.name);let[r,o,s,a,c,l,d]=n.formatToParts?function A3e(i,t){const e=i.formatToParts(t),n=[];for(let r=0;r<e.length;r++){const{type:o,value:s}=e[r],a=S3e[o];"era"===o?n[a]=s:$t(a)||(n[a]=parseInt(s,10))}return n}(n,e):function M3e(i,t){const e=i.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,o,s,a,c,l,d]=n;return[s,r,o,a,c,l,d]}(n,e);"BC"===a&&(r=1-Math.abs(r));let g=+e;const b=g%1e3;return g-=b>=0?b:1e3+b,(NS({year:r,month:o,day:s,hour:24===c?0:c,minute:l,second:d,millisecond:0})-g)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let cte={},gB={};function _B(i,t={}){const e=JSON.stringify([i,t]);let n=gB[e];return n||(n=new Intl.DateTimeFormat(i,t),gB[e]=n),n}let vB={},bB={},Ex=null,lte={};function RS(i,t,e,n){const r=i.listingMode();return"error"===r?null:"en"===r?e(t):n(t)}class j3e{constructor(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...s}=n;if(!e||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function P3e(i,t={}){const e=JSON.stringify([i,t]);let n=vB[e];return n||(n=new Intl.NumberFormat(i,t),vB[e]=n),n}(t,a)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return Ur(this.floor?Math.floor(t):TB(t,3),this.padTo)}}class U3e{constructor(t,e,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const s=t.offset/60*-1,a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;0!==t.offset&&Zd.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=_B(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if("timeZoneName"===e.type){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:n}}return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class $3e{constructor(t,e,n){this.opts={style:"long",...n},!e&&Dte()&&(this.rtf=function O3e(i,t={}){const{base:e,...n}=t,r=JSON.stringify([i,n]);let o=bB[r];return o||(o=new Intl.RelativeTimeFormat(i,t),bB[r]=o),o}(t,n))}format(t,e){return this.rtf?this.rtf.format(t,e):function d4e(i,t,e="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(i);if("auto"===e&&o){const h="days"===i;switch(t){case 1:return h?"tomorrow":`next ${r[i][0]}`;case-1:return h?"yesterday":`last ${r[i][0]}`;case 0:return h?"today":`this ${r[i][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,l=r[i],d=n?c?l[1]:l[2]||l[1]:c?r[i][0]:i;return s?`${a} ${d} ago`:`in ${a} ${d}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const W3e={firstDay:1,minimalDays:4,weekend:[6,7]};class ln{static fromOpts(t){return ln.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,n,r,o=!1){const s=t||Dr.defaultLocale,a=s||(o?"en-US":function F3e(){return Ex||(Ex=(new Intl.DateTimeFormat).resolvedOptions().locale,Ex)}()),c=e||Dr.defaultNumberingSystem,l=n||Dr.defaultOutputCalendar,d=EB(r)||Dr.defaultWeekSettings;return new ln(a,c,l,d,s)}static resetCache(){Ex=null,gB={},vB={},bB={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:n,weekSettings:r}={}){return ln.create(t,e,n,r)}constructor(t,e,n,r,o){const[s,a,c]=function L3e(i){const t=i.indexOf("-x-");-1!==t&&(i=i.substring(0,t));const e=i.indexOf("-u-");if(-1===e)return[i];{let n,r;try{n=_B(i).resolvedOptions(),r=i}catch{const c=i.substring(0,e);n=_B(c).resolvedOptions(),r=c}const{numberingSystem:o,calendar:s}=n;return[r,o,s]}}(t);this.locale=s,this.numberingSystem=e||a||null,this.outputCalendar=n||c||null,this.weekSettings=r,this.intl=function V3e(i,t,e){return(e||t)&&(i.includes("-u-")||(i+="-u"),e&&(i+=`-ca-${e}`),t&&(i+=`-nu-${t}`)),i}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function H3e(i){return(!i.numberingSystem||"latn"===i.numberingSystem)&&("latn"===i.numberingSystem||!i.locale||i.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?ln.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,EB(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return RS(this,t,Ote,()=>{const n=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=function B3e(i){const t=[];for(let e=1;e<=12;e++){const n=Ht.utc(2009,e,1);t.push(i(n))}return t}(o=>this.extract(o,n,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1){return RS(this,t,Lte,()=>{const n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=function z3e(i){const t=[];for(let e=1;e<=7;e++){const n=Ht.utc(2016,11,13+e);t.push(i(n))}return t}(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return RS(this,void 0,()=>Vte,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ht.utc(2016,11,13,9),Ht.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return RS(this,t,Bte,()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ht.utc(-40,1,1),Ht.utc(2017,1,1)].map(n=>this.extract(n,e,"era"))),this.eraCache[t]})}extract(t,e,n){const s=this.dtFormatter(t,e).formatToParts().find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(t={}){return new j3e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new U3e(t,this.intl,e)}relFormatter(t={}){return new $3e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function R3e(i,t={}){const e=JSON.stringify([i,t]);let n=cte[e];return n||(n=new Intl.ListFormat(i,t),cte[e]=n),n}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ite()?function N3e(i){let t=lte[i];if(!t){const e=new Intl.Locale(i);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,lte[i]=t}return t}(this.locale):W3e}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let yB=null;class ks extends Cx{static get utcInstance(){return null===yB&&(yB=new ks(0)),yB}static instance(t){return 0===t?ks.utcInstance:new ks(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new ks(LS(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Dx(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Dx(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return Dx(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class G3e extends Cx{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function jh(i,t){if($t(i)||null===i)return t;if(i instanceof Cx)return i;if(function Z3e(i){return"string"==typeof i}(i)){const n=i.toLowerCase();return"default"===n?t:"local"===n||"system"===n?SS.instance:"utc"===n||"gmt"===n?ks.utcInstance:ks.parseSpecifier(n)||Zd.create(i)}return ef(i)?ks.instance(i):"object"==typeof i&&"offset"in i&&"function"==typeof i.offset?i:new G3e(i)}let gte,dte=()=>Date.now(),ute="system",hte=null,mte=null,pte=null,fte=60,_te=null;class Dr{static get now(){return dte}static set now(t){dte=t}static set defaultZone(t){ute=t}static get defaultZone(){return jh(ute,SS.instance)}static get defaultLocale(){return hte}static set defaultLocale(t){hte=t}static get defaultNumberingSystem(){return mte}static set defaultNumberingSystem(t){mte=t}static get defaultOutputCalendar(){return pte}static set defaultOutputCalendar(t){pte=t}static get defaultWeekSettings(){return _te}static set defaultWeekSettings(t){_te=EB(t)}static get twoDigitCutoffYear(){return fte}static set twoDigitCutoffYear(t){fte=t%100}static get throwOnInvalid(){return gte}static set throwOnInvalid(t){gte=t}static resetCaches(){ln.resetCache(),Zd.resetCache()}}class Dc{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const vte=[0,31,59,90,120,151,181,212,243,273,304,334],bte=[0,31,60,91,121,152,182,213,244,274,305,335];function tc(i,t){return new Dc("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${i}, which is invalid`)}function wB(i,t,e){const n=new Date(Date.UTC(i,t-1,e));i<100&&i>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function yte(i,t,e){return e+(kx(i)?bte:vte)[t-1]}function wte(i,t){const e=kx(i)?bte:vte,n=e.findIndex(o=>o<t);return{month:n+1,day:t-e[n]}}function xB(i,t){return(i-t+7)%7+1}function PS(i,t=4,e=1){const{year:n,month:r,day:o}=i,s=yte(n,r,o),a=xB(wB(n,r,o),e);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=n-1,c=Tx(l,t,e)):c>Tx(n,t,e)?(l=n+1,c=1):l=n,{weekYear:l,weekNumber:c,weekday:a,...BS(i)}}function xte(i,t=4,e=1){const{weekYear:n,weekNumber:r,weekday:o}=i,s=xB(wB(n,1,t),e),a=Iv(n);let l,c=7*r+o-s-7+t;c<1?(l=n-1,c+=Iv(l)):c>a?(l=n+1,c-=Iv(n)):l=n;const{month:d,day:h}=wte(l,c);return{year:l,month:d,day:h,...BS(i)}}function CB(i){const{year:t,month:e,day:n}=i;return{year:t,ordinal:yte(t,e,n),...BS(i)}}function Cte(i){const{year:t,ordinal:e}=i,{month:n,day:r}=wte(t,e);return{year:t,month:n,day:r,...BS(i)}}function Ete(i,t){if($t(i.localWeekday)&&$t(i.localWeekNumber)&&$t(i.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!$t(i.weekday)||!$t(i.weekNumber)||!$t(i.weekYear))throw new Tv("Cannot mix locale-based week fields with ISO-based week fields");return $t(i.localWeekday)||(i.weekday=i.localWeekday),$t(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),$t(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function kte(i){const t=OS(i.year),e=ic(i.month,1,12),n=ic(i.day,1,FS(i.year,i.month));return t?e?!n&&tc("day",i.day):tc("month",i.month):tc("year",i.year)}function Tte(i){const{hour:t,minute:e,second:n,millisecond:r}=i,o=ic(t,0,23)||24===t&&0===e&&0===n&&0===r,s=ic(e,0,59),a=ic(n,0,59),c=ic(r,0,999);return o?s?a?!c&&tc("millisecond",r):tc("second",n):tc("minute",e):tc("hour",t)}function $t(i){return typeof i>"u"}function ef(i){return"number"==typeof i}function OS(i){return"number"==typeof i&&i%1==0}function Dte(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ite(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Ste(i,t,e){if(0!==i.length)return i.reduce((n,r)=>{const o=[t(r),r];return n&&e(n[0],o[0])===n[0]?n:o},null)[1]}function Dv(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function EB(i){if(null==i)return null;if("object"!=typeof i)throw new Ys("Week settings must be an object");if(!ic(i.firstDay,1,7)||!ic(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(t=>!ic(t,1,7)))throw new Ys("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function ic(i,t,e){return OS(i)&&i>=t&&i<=e}function Ur(i,t=2){let n;return n=i<0?"-"+(""+-i).padStart(t,"0"):(""+i).padStart(t,"0"),n}function Uh(i){if(!$t(i)&&null!==i&&""!==i)return parseInt(i,10)}function tf(i){if(!$t(i)&&null!==i&&""!==i)return parseFloat(i)}function kB(i){if(!$t(i)&&null!==i&&""!==i){const t=1e3*parseFloat("0."+i);return Math.floor(t)}}function TB(i,t,e=!1){const n=10**t;return(e?Math.trunc:Math.round)(i*n)/n}function kx(i){return i%4==0&&(i%100!=0||i%400==0)}function Iv(i){return kx(i)?366:365}function FS(i,t){const e=function J3e(i,t){return i-t*Math.floor(i/t)}(t-1,12)+1;return 2===e?kx(i+(t-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function NS(i){let t=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(t=new Date(t),t.setUTCFullYear(i.year,i.month-1,i.day)),+t}function Mte(i,t,e){return-xB(wB(i,1,t),e)+t-1}function Tx(i,t=4,e=1){const n=Mte(i,t,e),r=Mte(i+1,t,e);return(Iv(i)-n+r)/7}function DB(i){return i>99?i:i>Dr.twoDigitCutoffYear?1900+i:2e3+i}function Ate(i,t,e,n=null){const r=new Date(i),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(e,s).formatToParts(r).find(c=>"timezonename"===c.type.toLowerCase());return a?a.value:null}function LS(i,t){let e=parseInt(i,10);Number.isNaN(e)&&(e=0);const n=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-n:n)}function Rte(i){const t=Number(i);if("boolean"==typeof i||""===i||Number.isNaN(t))throw new Ys(`Invalid unit value ${i}`);return t}function VS(i,t){const e={};for(const n in i)if(Dv(i,n)){const r=i[n];if(null==r)continue;e[t(n)]=Rte(r)}return e}function Dx(i,t){const e=Math.trunc(Math.abs(i/60)),n=Math.trunc(Math.abs(i%60)),r=i>=0?"+":"-";switch(t){case"short":return`${r}${Ur(e,2)}:${Ur(n,2)}`;case"narrow":return`${r}${e}${n>0?`:${n}`:""}`;case"techie":return`${r}${Ur(e,2)}${Ur(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function BS(i){return function X3e(i,t){return t.reduce((e,n)=>(e[n]=i[n],e),{})}(i,["hour","minute","second","millisecond"])}const e4e=["January","February","March","April","May","June","July","August","September","October","November","December"],Pte=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t4e=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ote(i){switch(i){case"narrow":return[...t4e];case"short":return[...Pte];case"long":return[...e4e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Fte=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Nte=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],i4e=["M","T","W","T","F","S","S"];function Lte(i){switch(i){case"narrow":return[...i4e];case"short":return[...Nte];case"long":return[...Fte];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Vte=["AM","PM"],n4e=["Before Christ","Anno Domini"],r4e=["BC","AD"],o4e=["B","A"];function Bte(i){switch(i){case"narrow":return[...o4e];case"short":return[...r4e];case"long":return[...n4e];default:return null}}function zte(i,t){let e="";for(const n of i)e+=n.literal?n.val:t(n.val);return e}const u4e={D:IS,DD:Uee,DDD:$ee,DDDD:Wee,t:Gee,tt:qee,ttt:Yee,tttt:Zee,T:Kee,TT:Qee,TTT:Xee,TTTT:Jee,f:ete,ff:ite,fff:rte,ffff:ste,F:tte,FF:nte,FFF:ote,FFFF:ate};class Jo{static create(t,e={}){return new Jo(t,e)}static parseFormat(t){let e=null,n="",r=!1;const o=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);"'"===a?(n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),e=null,n="",r=!r):r||a===e?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,e=a)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return u4e[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return Ur(t,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,e){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(g,b)=>this.loc.extract(t,g,b),s=g=>t.isOffsetFixed&&0===t.offset&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",c=(g,b)=>n?function c4e(i,t){return Ote(t)[i.month-1]}(t,g):o(b?{month:g}:{month:g,day:"numeric"},"month"),l=(g,b)=>n?function a4e(i,t){return Lte(t)[i.weekday-1]}(t,g):o(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),d=g=>{const b=Jo.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},h=g=>n?function l4e(i,t){return Bte(t)[i.year<0?0:1]}(t,g):o({era:g},"era");return zte(Jo.parseFormat(e),g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return n?function s4e(i){return Vte[i.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(t.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(t.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(t.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(g)}})}formatDurationFromString(t,e){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=Jo.parseFormat(e),s=o.reduce((c,{literal:l,val:d})=>l?c:c.concat(d),[]);return zte(o,(c=>l=>{const d=n(l);return d?this.num(c.get(d),l.length):l})(t.shiftTo(...s.map(n).filter(c=>c))))}}const Hte=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sv(...i){const t=i.reduce((e,n)=>e+n.source,"");return RegExp(`^${t}$`)}function Mv(...i){return t=>i.reduce(([e,n,r],o)=>{const[s,a,c]=o(t,r);return[{...e,...s},a||n,c]},[{},null,1]).slice(0,2)}function Av(i,...t){if(null==i)return[null,null];for(const[e,n]of t){const r=e.exec(i);if(r)return n(r)}return[null,null]}function jte(...i){return(t,e)=>{const n={};let r;for(r=0;r<i.length;r++)n[i[r]]=Uh(t[e+r]);return[n,null,e+r]}}const Ute=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,IB=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$te=RegExp(`${IB.source}(?:${Ute.source}?(?:\\[(${Hte.source})\\])?)?`),SB=RegExp(`(?:T${$te.source})?`),g4e=jte("weekYear","weekNumber","weekDay"),_4e=jte("year","ordinal"),Wte=RegExp(`${IB.source} ?(?:${Ute.source}|(${Hte.source}))?`),b4e=RegExp(`(?: ${Wte.source})?`);function Rv(i,t,e){const n=i[t];return $t(n)?e:Uh(n)}function Pv(i,t){return[{hours:Rv(i,t,0),minutes:Rv(i,t+1,0),seconds:Rv(i,t+2,0),milliseconds:kB(i[t+3])},null,t+4]}function Ix(i,t){const e=!i[t]&&!i[t+1],n=LS(i[t+1],i[t+2]);return[{},e?null:ks.instance(n),t+3]}function Sx(i,t){return[{},i[t]?Zd.create(i[t]):null,t+1]}const w4e=RegExp(`^T?${IB.source}$`),x4e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function C4e(i){const[t,e,n,r,o,s,a,c,l]=i,d="-"===t[0],h=c&&"-"===c[0],p=(g,b=!1)=>void 0!==g&&(b||g&&d)?-g:g;return[{years:p(tf(e)),months:p(tf(n)),weeks:p(tf(r)),days:p(tf(o)),hours:p(tf(s)),minutes:p(tf(a)),seconds:p(tf(c),"-0"===c),milliseconds:p(kB(l),h)}]}const E4e={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function MB(i,t,e,n,r,o,s){const a={year:2===t.length?DB(Uh(t)):Uh(t),month:Pte.indexOf(e)+1,day:Uh(n),hour:Uh(r),minute:Uh(o)};return s&&(a.second=Uh(s)),i&&(a.weekday=i.length>3?Fte.indexOf(i)+1:Nte.indexOf(i)+1),a}const k4e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function T4e(i){const[,t,e,n,r,o,s,a,c,l,d,h]=i,p=MB(t,r,n,e,o,s,a);let g;return g=c?E4e[c]:l?0:LS(d,h),[p,new ks(g)]}const I4e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,S4e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,M4e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Gte(i){const[,t,e,n,r,o,s,a]=i;return[MB(t,r,n,e,o,s,a),ks.utcInstance]}function A4e(i){const[,t,e,n,r,o,s,a]=i;return[MB(t,a,e,n,r,o,s),ks.utcInstance]}const R4e=Sv(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,SB),P4e=Sv(/(\d{4})-?W(\d\d)(?:-?(\d))?/,SB),O4e=Sv(/(\d{4})-?(\d{3})/,SB),F4e=Sv($te),qte=Mv(function y4e(i,t){return[{year:Rv(i,t),month:Rv(i,t+1,1),day:Rv(i,t+2,1)},null,t+3]},Pv,Ix,Sx),N4e=Mv(g4e,Pv,Ix,Sx),L4e=Mv(_4e,Pv,Ix,Sx),V4e=Mv(Pv,Ix,Sx),U4e=Mv(Pv),W4e=Sv(/(\d{4})-(\d\d)-(\d\d)/,b4e),G4e=Sv(Wte),q4e=Mv(Pv,Ix,Sx),Yte="Invalid Duration",Zte={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Z4e={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Zte},nc=365.2425,Ov=30.436875,K4e={years:{quarters:4,months:12,weeks:nc/7,days:nc,hours:24*nc,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:nc/28,days:nc/4,hours:24*nc/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Ov/7,days:Ov,hours:24*Ov,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Zte},nf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Q4e=nf.slice(0).reverse();function $h(i,t,e=!1){const n={values:e?t.values:{...i.values,...t.values||{}},loc:i.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||i.conversionAccuracy,matrix:t.matrix||i.matrix};return new Ri(n)}function Kte(i,t){let e=t.milliseconds??0;for(const n of Q4e.slice(1))t[n]&&(e+=t[n]*i[n].milliseconds);return e}function Qte(i,t){const e=Kte(i,t)<0?-1:1;nf.reduceRight((n,r)=>{if($t(t[r]))return n;if(n){const s=i[r][n],a=Math.floor(t[n]*e/s);t[r]+=a*e,t[n]-=a*s*e}return r},null),nf.reduce((n,r)=>{if($t(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*i[n][r]}return r},null)}class Ri{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let n=e?K4e:Z4e;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||ln.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,e){return Ri.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new Ys("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Ri({values:VS(t,Ri.normalizeUnit),loc:ln.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(ef(t))return Ri.fromMillis(t);if(Ri.isDuration(t))return t;if("object"==typeof t)return Ri.fromObject(t);throw new Ys(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[n]=function j4e(i){return Av(i,[x4e,C4e])}(t);return n?Ri.fromObject(n,e):Ri.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[n]=function $4e(i){return Av(i,[w4e,U4e])}(t);return n?Ri.fromObject(n,e):Ri.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new Ys("need to specify a reason the Duration is invalid");const n=t instanceof Dc?t:new Dc(t,e);if(Dr.throwOnInvalid)throw new k3e(n);return new Ri({invalid:n})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new jee(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?Jo.create(this.loc,n).formatDurationFromString(this,t):Yte}toHuman(t={}){if(!this.isValid)return Yte;const e=nf.map(n=>{const r=this.values[n];return $t(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=TB(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ht.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Kte(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Ri.fromDurationLike(t),n={};for(const r of nf)(Dv(e.values,r)||Dv(this.values,r))&&(n[r]=e.get(r)+this.get(r));return $h(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const e=Ri.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=Rte(t(this.values[n],n));return $h(this,{values:e},!0)}get(t){return this[Ri.normalizeUnit(t)]}set(t){return this.isValid?$h(this,{values:{...this.values,...VS(t,Ri.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:n,matrix:r}={}){return $h(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:n})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Qte(this.matrix,t),$h(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=function X4e(i){const t={};for(const[e,n]of Object.entries(i))0!==n&&(t[e]=n);return t}(this.normalize().shiftToAll().toObject());return $h(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map(s=>Ri.normalizeUnit(s));const e={},n={},r=this.toObject();let o;for(const s of nf)if(t.indexOf(s)>=0){o=s;let a=0;for(const l in n)a+=this.matrix[l][s]*n[l],n[l]=0;ef(r[s])&&(a+=r[s]);const c=Math.trunc(a);e[s]=c,n[s]=(1e3*a-1e3*c)/1e3}else ef(r[s])&&(n[s]=r[s]);for(const s in n)0!==n[s]&&(e[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return Qte(this.matrix,e),$h(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return $h(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(n,r){return void 0===n||0===n?void 0===r||0===r:n===r}for(const n of nf)if(!e(this.values[n],t.values[n]))return!1;return!0}}const Fv="Invalid Interval";class gr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new Ys("need to specify a reason the Interval is invalid");const n=t instanceof Dc?t:new Dc(t,e);if(Dr.throwOnInvalid)throw new E3e(n);return new gr({invalid:n})}static fromDateTimes(t,e){const n=Ax(t),r=Ax(e),o=function J4e(i,t){return i&&i.isValid?t&&t.isValid?t<i?gr.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${t.toISO()}`):null:gr.invalid("missing or invalid end"):gr.invalid("missing or invalid start")}(n,r);return o??new gr({start:n,end:r})}static after(t,e){const n=Ri.fromDurationLike(e),r=Ax(t);return gr.fromDateTimes(r,r.plus(n))}static before(t,e){const n=Ri.fromDurationLike(e),r=Ax(t);return gr.fromDateTimes(r.minus(n),r)}static fromISO(t,e){const[n,r]=(t||"").split("/",2);if(n&&r){let o,s,a,c;try{o=Ht.fromISO(n,e),s=o.isValid}catch{s=!1}try{a=Ht.fromISO(r,e),c=a.isValid}catch{c=!1}if(s&&c)return gr.fromDateTimes(o,a);if(s){const l=Ri.fromISO(r,e);if(l.isValid)return gr.after(o,l)}else if(c){const l=Ri.fromISO(n,e);if(l.isValid)return gr.before(a,l)}}return gr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(t,e);let r;return r=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(t,e),Math.floor(r.diff(n,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:e}={}){return this.isValid?gr.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(Ax).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:r}=this,o=0;for(;r<this.e;){const s=e[o]||this.e,a=+s>+this.e?this.e:s;n.push(gr.fromDateTimes(r,a)),r=a,o+=1}return n}splitBy(t){const e=Ri.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let o,{s:n}=this,r=1;const s=[];for(;n<this.e;){const a=this.start.plus(e.mapUnits(c=>c*r));o=+a>+this.e?this.e:a,s.push(gr.fromDateTimes(n,o)),n=o,r+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!(!this.isValid||!t.isValid)&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return e>=n?null:gr.fromDateTimes(e,n)}union(t){return this.isValid?gr.fromDateTimes(this.s<t.s?this.s:t.s,this.e>t.e?this.e:t.e):this}static merge(t){const[e,n]=t.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return n&&e.push(n),e}static xor(t){let e=null,n=0;const r=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...o).sort((c,l)=>c.time-l.time);for(const c of a)n+="s"===c.type?1:-1,1===n?e=c.time:(e&&+e!=+c.time&&r.push(gr.fromDateTimes(e,c.time)),e=null);return gr.merge(r)}difference(...t){return gr.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Fv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=IS,e={}){return this.isValid?Jo.create(this.s.loc.clone(e),t).formatInterval(this):Fv}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Fv}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fv}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Fv}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Fv}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Ri.invalid(this.invalidReason)}mapEndpoints(t){return gr.fromDateTimes(t(this.s),t(this.e))}}class zS{static hasDST(t=Dr.defaultZone){const e=Ht.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Zd.isValidZone(t)}static normalizeZone(t){return jh(t,Dr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||ln.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||ln.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||ln.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||ln.create(e,n,o)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||ln.create(e,n,o)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||ln.create(e,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:r=null}={}){return(r||ln.create(e,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ln.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return ln.create(e,null,"gregory").eras(t)}static features(){return{relative:Dte(),localeWeek:Ite()}}}function Xte(i,t){const e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=e(t)-e(i);return Math.floor(Ri.fromMillis(n).as("days"))}const AB={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Jte={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ize=AB.hanidec.replace(/[\[|\]]/g,"").split("");function Ic({numberingSystem:i},t=""){return new RegExp(`${AB[i||"latn"]}${t}`)}function zi(i,t=(e=>e)){return{regex:i,deser:([e])=>t(function nze(i){let t=parseInt(i,10);if(isNaN(t)){t="";for(let e=0;e<i.length;e++){const n=i.charCodeAt(e);if(-1!==i[e].search(AB.hanidec))t+=ize.indexOf(i[e]);else for(const r in Jte){const[o,s]=Jte[r];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(e))}}const eie=`[ ${String.fromCharCode(160)}]`,tie=new RegExp(eie,"g");function oze(i){return i.replace(/\./g,"\\.?").replace(tie,eie)}function iie(i){return i.replace(/\./g,"").replace(tie," ").toLowerCase()}function Sc(i,t){return null===i?null:{regex:RegExp(i.map(oze).join("|")),deser:([e])=>i.findIndex(n=>iie(e)===iie(n))+t}}function nie(i,t){return{regex:i,deser:([,e,n])=>LS(e,n),groups:t}}function HS(i){return{regex:i,deser:([t])=>t}}function sze(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const cze={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let RB=null;function rie(i,t){return Array.prototype.concat(...i.map(e=>function pze(i,t){if(i.literal)return i;const n=sie(Jo.macroTokenToFormatOpts(i.val),t);return null==n||n.includes(void 0)?i:n}(e,t)))}function oie(i,t,e){const n=rie(Jo.parseFormat(e),i),r=n.map(s=>function aze(i,t){const e=Ic(t),n=Ic(t,"{2}"),r=Ic(t,"{3}"),o=Ic(t,"{4}"),s=Ic(t,"{6}"),a=Ic(t,"{1,2}"),c=Ic(t,"{1,3}"),l=Ic(t,"{1,6}"),d=Ic(t,"{1,9}"),h=Ic(t,"{2,4}"),p=Ic(t,"{4,6}"),g=x=>({regex:RegExp(sze(x.val)),deser:([I])=>I,literal:!0}),w=(x=>{if(i.literal)return g(x);switch(x.val){case"G":return Sc(t.eras("short"),0);case"GG":return Sc(t.eras("long"),0);case"y":return zi(l);case"yy":case"kk":return zi(h,DB);case"yyyy":case"kkkk":return zi(o);case"yyyyy":return zi(p);case"yyyyyy":return zi(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return zi(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return zi(n);case"MMM":return Sc(t.months("short",!0),1);case"MMMM":return Sc(t.months("long",!0),1);case"LLL":return Sc(t.months("short",!1),1);case"LLLL":return Sc(t.months("long",!1),1);case"o":case"S":return zi(c);case"ooo":case"SSS":return zi(r);case"u":return HS(d);case"uu":return HS(a);case"uuu":case"E":case"c":return zi(e);case"a":return Sc(t.meridiems(),0);case"EEE":return Sc(t.weekdays("short",!1),1);case"EEEE":return Sc(t.weekdays("long",!1),1);case"ccc":return Sc(t.weekdays("short",!0),1);case"cccc":return Sc(t.weekdays("long",!0),1);case"Z":case"ZZ":return nie(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return nie(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return HS(/[a-z_+-/]{1,256}?/i);case" ":return HS(/[^\S\n\r]/);default:return g(x)}})(i)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return w.token=i,w}(s,i)),o=r.find(s=>s.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{const[s,a]=function dze(i){return[`^${i.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,i]}(r),c=RegExp(s,"i"),[l,d]=function uze(i,t,e){const n=i.match(t);if(n){const r={};let o=1;for(const s in e)if(Dv(e,s)){const a=e[s],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(o,o+c))),o+=c}return[n,r]}return[n,{}]}(t,c,a),[h,p,g]=d?function hze(i){let n,e=null;return $t(i.z)||(e=Zd.create(i.z)),$t(i.Z)||(e||(e=new ks(i.Z)),n=i.Z),$t(i.q)||(i.M=3*(i.q-1)+1),$t(i.h)||(i.h<12&&1===i.a?i.h+=12:12===i.h&&0===i.a&&(i.h=0)),0===i.G&&i.y&&(i.y=-i.y),$t(i.u)||(i.S=kB(i.u)),[Object.keys(i).reduce((o,s)=>{const a=(o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(s);return a&&(o[a]=i[s]),o},{}),e,n]}(d):[null,null,void 0];if(Dv(d,"a")&&Dv(d,"H"))throw new Tv("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:c,rawMatches:l,matches:d,result:h,zone:p,specificOffset:g}}}function sie(i,t){if(!i)return null;const n=Jo.create(t,i).dtFormatter(function mze(){return RB||(RB=Ht.fromMillis(1555555555555)),RB}()),r=n.formatToParts(),o=n.resolvedOptions();return r.map(s=>function lze(i,t,e){const{type:n,value:r}=i;if("literal"===n){const c=/^\s+$/.test(r);return{literal:!c,val:c?" ":r}}let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":e.hour12?"hour12":"hour24");let a=cze[s];if("object"==typeof a&&(a=a[t[n]]),a)return{literal:!1,val:a}}(s,i,o))}const PB="Invalid DateTime",aie=864e13;function jS(i){return new Dc("unsupported zone",`the zone "${i.name}" is not supported`)}function OB(i){return null===i.weekData&&(i.weekData=PS(i.c)),i.weekData}function FB(i){return null===i.localWeekData&&(i.localWeekData=PS(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function rf(i,t){const e={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Ht({...e,...t,old:e})}function cie(i,t,e){let n=i-60*t*1e3;const r=e.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const o=e.offset(n);return r===o?[n,r]:[i-60*Math.min(r,o)*1e3,Math.max(r,o)]}function US(i,t){const e=new Date(i+=60*t*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function $S(i,t,e){return cie(NS(i),t,e)}function lie(i,t){const e=i.o,n=i.c.year+Math.trunc(t.years),r=i.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...i.c,year:n,month:r,day:Math.min(i.c.day,FS(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Ri.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=NS(o);let[c,l]=cie(a,e,i.zone);return 0!==s&&(c+=s,l=i.zone.offset(c)),{ts:c,o:l}}function Mx(i,t,e,n,r,o){const{setZone:s,zone:a}=e;if(i&&0!==Object.keys(i).length||t){const c=t||a,l=Ht.fromObject(i,{...e,zone:c,specificOffset:o});return s?l:l.setZone(a)}return Ht.invalid(new Dc("unparsable",`the input "${r}" can't be parsed as ${n}`))}function WS(i,t,e=!0){return i.isValid?Jo.create(ln.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(i,t):null}function NB(i,t){const e=i.c.year>9999||i.c.year<0;let n="";return e&&i.c.year>=0&&(n+="+"),n+=Ur(i.c.year,e?6:4),t?(n+="-",n+=Ur(i.c.month),n+="-",n+=Ur(i.c.day)):(n+=Ur(i.c.month),n+=Ur(i.c.day)),n}function die(i,t,e,n,r,o){let s=Ur(i.c.hour);return t?(s+=":",s+=Ur(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=":")):s+=Ur(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(s+=Ur(i.c.second),(0!==i.c.millisecond||!n)&&(s+=".",s+=Ur(i.c.millisecond,3))),r&&(i.isOffsetFixed&&0===i.offset&&!o?s+="Z":i.o<0?(s+="-",s+=Ur(Math.trunc(-i.o/60)),s+=":",s+=Ur(Math.trunc(-i.o%60))):(s+="+",s+=Ur(Math.trunc(i.o/60)),s+=":",s+=Ur(Math.trunc(i.o%60)))),o&&(s+="["+i.zone.ianaName+"]"),s}const uie={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},gze={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_ze={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hie=["year","month","day","hour","minute","second","millisecond"],vze=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],bze=["year","ordinal","hour","minute","second","millisecond"];function mie(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function yze(i){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!t)throw new jee(i);return t}(i)}}function pie(i,t){const e=jh(t.zone,Dr.defaultZone),n=ln.fromObject(t),r=Dr.now();let o,s;if($t(i.year))o=r;else{for(const l of hie)$t(i[l])&&(i[l]=uie[l]);const a=kte(i)||Tte(i);if(a)return Ht.invalid(a);const c=e.offset(r);[o,s]=$S(i,c,e)}return new Ht({ts:o,zone:e,loc:n,o:s})}function fie(i,t,e){const n=!!$t(e.round)||e.round,r=(s,a)=>(s=TB(s,n||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(s,a)),o=s=>e.calendary?t.hasSame(i,s)?0:t.startOf(s).diff(i.startOf(s),s).get(s):t.diff(i,s).get(s);if(e.unit)return r(o(e.unit),e.unit);for(const s of e.units){const a=o(s);if(Math.abs(a)>=1)return r(a,s)}return r(i>t?-0:0,e.units[e.units.length-1])}function gie(i){let e,t={};return i.length>0&&"object"==typeof i[i.length-1]?(t=i[i.length-1],e=Array.from(i).slice(0,i.length-1)):e=Array.from(i),[t,e]}class Ht{constructor(t){const e=t.zone||Dr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Dc("invalid input"):null)||(e.isValid?null:jS(e));this.ts=$t(t.ts)?Dr.now():t.ts;let r=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,o]=[t.old.c,t.old.o];else{const a=e.offset(this.ts);r=US(this.ts,a),n=Number.isNaN(r.year)?new Dc("invalid input"):null,r=n?null:r,o=n?null:a}this._zone=e,this.loc=t.loc||ln.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new Ht({})}static local(){const[t,e]=gie(arguments),[n,r,o,s,a,c,l]=e;return pie({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static utc(){const[t,e]=gie(arguments),[n,r,o,s,a,c,l]=e;return t.zone=ks.utcInstance,pie({year:n,month:r,day:o,hour:s,minute:a,second:c,millisecond:l},t)}static fromJSDate(t,e={}){const n=function K3e(i){return"[object Date]"===Object.prototype.toString.call(i)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return Ht.invalid("invalid input");const r=jh(e.zone,Dr.defaultZone);return r.isValid?new Ht({ts:n,zone:r,loc:ln.fromObject(e)}):Ht.invalid(jS(r))}static fromMillis(t,e={}){if(ef(t))return t<-aie||t>aie?Ht.invalid("Timestamp out of range"):new Ht({ts:t,zone:jh(e.zone,Dr.defaultZone),loc:ln.fromObject(e)});throw new Ys(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(ef(t))return new Ht({ts:1e3*t,zone:jh(e.zone,Dr.defaultZone),loc:ln.fromObject(e)});throw new Ys("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const n=jh(e.zone,Dr.defaultZone);if(!n.isValid)return Ht.invalid(jS(n));const r=ln.fromObject(e),o=VS(t,mie),{minDaysInFirstWeek:s,startOfWeek:a}=Ete(o,r),c=Dr.now(),l=$t(e.specificOffset)?n.offset(c):e.specificOffset,d=!$t(o.ordinal),h=!$t(o.year),p=!$t(o.month)||!$t(o.day),g=h||p,b=o.weekYear||o.weekNumber;if((g||d)&&b)throw new Tv("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new Tv("Can't mix ordinal dates with month/day");const w=b||o.weekday&&!g;let x,I,T=US(c,l);w?(x=vze,I=gze,T=PS(T,s,a)):d?(x=bze,I=_ze,T=CB(T)):(x=hie,I=uie);let M=!1;for(const Te of x)$t(o[Te])?o[Te]=M?I[Te]:T[Te]:M=!0;const F=w?function q3e(i,t=4,e=1){const n=OS(i.weekYear),r=ic(i.weekNumber,1,Tx(i.weekYear,t,e)),o=ic(i.weekday,1,7);return n?r?!o&&tc("weekday",i.weekday):tc("week",i.weekNumber):tc("weekYear",i.weekYear)}(o,s,a):d?function Y3e(i){const t=OS(i.year),e=ic(i.ordinal,1,Iv(i.year));return t?!e&&tc("ordinal",i.ordinal):tc("year",i.year)}(o):kte(o),V=F||Tte(o);if(V)return Ht.invalid(V);const Y=w?xte(o,s,a):d?Cte(o):o,[le,ie]=$S(Y,l,n),pe=new Ht({ts:le,zone:n,o:ie,loc:r});return o.weekday&&g&&t.weekday!==pe.weekday?Ht.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${pe.toISO()}`):pe}static fromISO(t,e={}){const[n,r]=function B4e(i){return Av(i,[R4e,qte],[P4e,N4e],[O4e,L4e],[F4e,V4e])}(t);return Mx(n,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[n,r]=function z4e(i){return Av(function D4e(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(i),[k4e,T4e])}(t);return Mx(n,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[n,r]=function H4e(i){return Av(i,[I4e,Gte],[S4e,Gte],[M4e,A4e])}(t);return Mx(n,r,e,"HTTP",e)}static fromFormat(t,e,n={}){if($t(t)||$t(e))throw new Ys("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,s=ln.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,c,l,d]=function fze(i,t,e){const{result:n,zone:r,specificOffset:o,invalidReason:s}=oie(i,t,e);return[n,r,o,s]}(s,t,e);return d?Ht.invalid(d):Mx(a,c,n,`format ${e}`,t,l)}static fromString(t,e,n={}){return Ht.fromFormat(t,e,n)}static fromSQL(t,e={}){const[n,r]=function Y4e(i){return Av(i,[W4e,qte],[G4e,q4e])}(t);return Mx(n,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new Ys("need to specify a reason the DateTime is invalid");const n=t instanceof Dc?t:new Dc(t,e);if(Dr.throwOnInvalid)throw new C3e(n);return new Ht({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const n=sie(t,ln.fromObject(e));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return rie(Jo.parseFormat(t),ln.fromObject(e)).map(r=>r.val).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?OB(this).weekYear:NaN}get weekNumber(){return this.isValid?OB(this).weekNumber:NaN}get weekday(){return this.isValid?OB(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?FB(this).weekday:NaN}get localWeekNumber(){return this.isValid?FB(this).weekNumber:NaN}get localWeekYear(){return this.isValid?FB(this).weekYear:NaN}get ordinal(){return this.isValid?CB(this.c).ordinal:NaN}get monthShort(){return this.isValid?zS.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zS.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zS.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zS.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,n=NS(this.c),r=this.zone.offset(n-t),o=this.zone.offset(n+t),s=this.zone.offset(n-r*e),a=this.zone.offset(n-o*e);if(s===a)return[this];const c=n-s*e,l=n-a*e,d=US(c,s),h=US(l,a);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[rf(this,{ts:c}),rf(this,{ts:l})]:[this]}get isInLeapYear(){return kx(this.year)}get daysInMonth(){return FS(this.year,this.month)}get daysInYear(){return this.isValid?Iv(this.year):NaN}get weeksInWeekYear(){return this.isValid?Tx(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Tx(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:n,calendar:r}=Jo.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(ks.instance(t),e)}toLocal(){return this.setZone(Dr.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((t=jh(t,Dr.defaultZone)).equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||n){const o=t.offset(this.ts),s=this.toObject();[r]=$S(s,o,t)}return rf(this,{ts:r,zone:t})}return Ht.invalid(jS(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:n}={}){return rf(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:n})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=VS(t,mie),{minDaysInFirstWeek:n,startOfWeek:r}=Ete(e,this.loc),o=!$t(e.weekYear)||!$t(e.weekNumber)||!$t(e.weekday),s=!$t(e.ordinal),a=!$t(e.year),c=!$t(e.month)||!$t(e.day);if((a||c||s)&&(e.weekYear||e.weekNumber))throw new Tv("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new Tv("Can't mix ordinal dates with month/day");let h;o?h=xte({...PS(this.c,n,r),...e},n,r):$t(e.ordinal)?(h={...this.toObject(),...e},$t(e.day)&&(h.day=Math.min(FS(h.year,h.month),h.day))):h=Cte({...CB(this.c),...e});const[p,g]=$S(h,this.o,this.zone);return rf(this,{ts:p,o:g})}plus(t){return this.isValid?rf(this,lie(this,Ri.fromDurationLike(t))):this}minus(t){return this.isValid?rf(this,lie(this,Ri.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},r=Ri.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(e){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if("quarters"===r){const o=Math.ceil(this.month/3);n.month=3*(o-1)+1}return this.set(n)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Jo.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):PB}toLocaleString(t=IS,e={}){return this.isValid?Jo.create(this.loc.clone(e),t).formatDateTime(this):PB}toLocaleParts(t={}){return this.isValid?Jo.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s="extended"===t;let a=NB(this,s);return a+="T",a+=die(this,s,e,n,r,o),a}toISODate({format:t="extended"}={}){return this.isValid?NB(this,"extended"===t):null}toISOWeekDate(){return WS(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+die(this,"extended"===s,e,t,n,o):null}toRFC2822(){return WS(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return WS(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?NB(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(n&&(r+=" "),e?r+="z":t&&(r+="ZZ")),WS(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():PB}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",n={}){if(!this.isValid||!t.isValid)return Ri.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=function Q3e(i){return Array.isArray(i)?i:[i]}(e).map(Ri.normalizeUnit),s=t.valueOf()>this.valueOf(),l=function tze(i,t,e,n){let[r,o,s,a]=function eze(i,t,e){const n=[["years",(c,l)=>l.year-c.year],["quarters",(c,l)=>l.quarter-c.quarter+4*(l.year-c.year)],["months",(c,l)=>l.month-c.month+12*(l.year-c.year)],["weeks",(c,l)=>{const d=Xte(c,l);return(d-d%7)/7}],["days",Xte]],r={},o=i;let s,a;for(const[c,l]of n)e.indexOf(c)>=0&&(s=c,r[c]=l(i,t),a=o.plus(r),a>t?(r[c]--,(i=o.plus(r))>t&&(a=i,r[c]--,i=o.plus(r))):i=a);return[i,r,a,s]}(i,t,e);const c=t-r,l=e.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);0===l.length&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+c/(s-r)));const d=Ri.fromObject(o,n);return l.length>0?Ri.fromMillis(c,n).shiftTo(...l).plus(d):d}(s?this:t,s?t:this,o,r);return s?l.negate():l}diffNow(t="milliseconds",e={}){return this.diff(Ht.now(),t,e)}until(t){return this.isValid?gr.fromDateTimes(this,t):this}hasSame(t,e,n){if(!this.isValid)return!1;const r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e,n)<=r&&r<=o.endOf(e,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||Ht.fromObject({},{zone:this.zone}),n=t.padding?this<e?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(r=t.unit,o=void 0),fie(e,this.plus(n),{...t,numeric:"always",units:r,unit:o})}toRelativeCalendar(t={}){return this.isValid?fie(t.base||Ht.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ht.isDateTime))throw new Ys("min requires all arguments be DateTimes");return Ste(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(Ht.isDateTime))throw new Ys("max requires all arguments be DateTimes");return Ste(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,n={}){const{locale:r=null,numberingSystem:o=null}=n;return oie(ln.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,n={}){return Ht.fromFormatExplain(t,e,n)}static get DATE_SHORT(){return IS}static get DATE_MED(){return Uee}static get DATE_MED_WITH_WEEKDAY(){return T3e}static get DATE_FULL(){return $ee}static get DATE_HUGE(){return Wee}static get TIME_SIMPLE(){return Gee}static get TIME_WITH_SECONDS(){return qee}static get TIME_WITH_SHORT_OFFSET(){return Yee}static get TIME_WITH_LONG_OFFSET(){return Zee}static get TIME_24_SIMPLE(){return Kee}static get TIME_24_WITH_SECONDS(){return Qee}static get TIME_24_WITH_SHORT_OFFSET(){return Xee}static get TIME_24_WITH_LONG_OFFSET(){return Jee}static get DATETIME_SHORT(){return ete}static get DATETIME_SHORT_WITH_SECONDS(){return tte}static get DATETIME_MED(){return ite}static get DATETIME_MED_WITH_SECONDS(){return nte}static get DATETIME_MED_WITH_WEEKDAY(){return D3e}static get DATETIME_FULL(){return rte}static get DATETIME_FULL_WITH_SECONDS(){return ote}static get DATETIME_HUGE(){return ste}static get DATETIME_HUGE_WITH_SECONDS(){return ate}}function Ax(i){if(Ht.isDateTime(i))return i;if(i&&i.valueOf&&ef(i.valueOf()))return Ht.fromJSDate(i);if(i&&"object"==typeof i)return Ht.fromObject(i);throw new Ys(`Unknown datetime argument: ${i}, of type ${typeof i}`)}var Lv=function(i){return i.AM="AM",i.PM="PM",i}(Lv||{}),Kd=function(i){return i.TWELVE="hh:mm a",i.TWELVE_SHORT="h:m a",i.TWENTY_FOUR="HH:mm",i.TWENTY_FOUR_SHORT="H:m",i}(Kd||{});function VB(i,t,e="minutes"){return"hours"===e?i.hour>=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()>t.valueOf():void 0}function BB(i,t,e="minutes"){return"hours"===e?i.hour<=t.hour:"minutes"===e?i.hasSame(t,e)||i.valueOf()<=t.valueOf():void 0}let sf=(()=>{class i{static parseTime(e,n){const{numberingSystem:r,locale:o}=i.getLocaleOptionsByTime(e,n),a=2===e.split(" ").length?Kd.TWELVE_SHORT:Kd.TWENTY_FOUR_SHORT;return Ht.fromFormat(e,a,{numberingSystem:r,locale:o})}static formatTime(e,n){if(!e)return"Invalid Time";const{format:r}=n,o=i.parseTime(e,n).setLocale(i.DEFAULT_LOCALE);return o.isValid?24!==r?o.toLocaleString(Object.assign(Object.assign({},Ht.TIME_SIMPLE),{hour12:24!==r,numberingSystem:i.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(e,n={}){const{format:r=i.DEFAULT_FORMAT,locale:o=i.DEFAULT_LOCALE}=n,s=24===r?"h23":"h12",a=Object.assign(Object.assign({},Ht.TIME_SIMPLE),{hourCycle:s}),c=24===r?Kd.TWENTY_FOUR_SHORT:Kd.TWELVE_SHORT,l=Object.assign({locale:n.locale,numberingSystem:n.numberingSystem},a);return Ht.fromFormat(e,c).setLocale(o).toLocaleString(l).replace(/\u202F/g," ")}static isTimeAvailable(e,n,r,o,s,a){if(!e)return;const c=this.parseTime(e,{format:a}),l=c.minute;if(s&&l==l&&l%s!=0)throw new Error(`Your minutes - ${l} doesn't match your minutesGap - ${s}`);const d=n&&!r&&VB(c,n,o),h=r&&!n&&BB(c,r,o),p=n&&r&&function Fze(i,t,e,n="minutes"){return"hours"===n?BB(i,e,n)&&VB(i,t,n):"minutes"===n?BB(i,e)&&VB(i,t):void 0}(c,n,r,o);return d||h||p||!n&&!r}static formatHour(e,n,r){if(24===n)return e;const o=r===Lv.AM?e:e+12;return r===Lv.AM&&12===o?0:r===Lv.PM&&24===o?12:o}static fromDateTimeToString(e,n){const r=24===n?Kd.TWENTY_FOUR:Kd.TWELVE;return e.reconfigure({numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE}).toFormat(r).replace(/\u202F/g," ")}static getLocaleOptionsByTime(e,n){const r={numberingSystem:n.numberingSystem,locale:n.locale},o={numberingSystem:i.DEFAULT_NUMBERING_SYSTEM,locale:i.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?r:o}}return i.DEFAULT_FORMAT=12,i.DEFAULT_LOCALE="en-US",i.DEFAULT_NUMBERING_SYSTEM="latn",i})();const Nze=new q("TimeLocale",{providedIn:"root",factory:()=>sf.DEFAULT_LOCALE}),Lze=new q("NumberingSystem",{providedIn:"root",factory:()=>sf.DEFAULT_NUMBERING_SYSTEM});let zze=(()=>{class i{static setOpts(e,n=sf.DEFAULT_NUMBERING_SYSTEM){return{ngModule:i,providers:[{provide:Nze,useValue:e},{provide:Lze,useValue:n}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ae({type:i}),i.\u0275inj=Oe({imports:[[Wi,a9,c9]]}),i})();!function Jde(i,t,e){(function zse(i,t,e){"string"!=typeof t&&(e=t,t=i[xn.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),wg[t]=i,e&&(wg[t][xn.ExtraData]=e)})(i,t,e)}(oAe);let Hze=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Ae({type:i,bootstrap:[kIe]});static#i=this.\u0275inj=Oe({imports:[Jj,EIe,yMe,kwe,Wi,a9,c9,kMe,NMe,nAe,P0e,xAe,FAe,rRe,HD,VAe,tZ,ARe,URe,YRe,KRe,XDe,nPe,aZ,oPe,cPe,VPe,QPe,iOe,mOe,_D,yOe,wOe,QOe,Lq,e2e,i2e,ha,n2e,twe,s2e,SZ,v2e,w2e,$2e,_Re,kfe.initializeApp(x3e_firebase),w3e,zze]})}return i})();Che().bootstrapModule(Hze).catch(i=>console.error(i))},519:function(Zs){Zs.exports=function(){"use strict";function vn(k,v,y){if("function"==typeof k?k===v:k.has(v))return arguments.length<3?v:y;throw new TypeError("Private element is not present on this object")}function ht(k,v,y){return v=Rt(v),function xi(k,v){if(v&&("object"==typeof v||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _r(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(k,_t()?Reflect.construct(v,y||[],Rt(k).constructor):v.apply(k,y))}function P(k,v){return k.get(vn(k,v))}function _t(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_t=function(){return!!k})()}function bn(k){var v=function en(k,v){if("object"!=typeof k||!k)return k;var y=k[Symbol.toPrimitive];if(void 0!==y){var E=y.call(k,v||"default");if("object"!=typeof E)return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(k)}(k,"string");return"symbol"==typeof v?v:String(v)}function mi(k){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(k)}function Wt(k,v){if(!(k instanceof v))throw new TypeError("Cannot call a class as a function")}function ge(k,v){for(var y=0;y<v.length;y++){var E=v[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,bn(E.key),E)}}function ke(k,v,y){return v&&ge(k.prototype,v),y&&ge(k,y),Object.defineProperty(k,"prototype",{writable:!1}),k}function Rt(k){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(k)}function li(k,v){return(li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(k,v)}function Pt(){return Pt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,y,E){var N=function Ct(k,v){for(;!Object.prototype.hasOwnProperty.call(k,v)&&null!==(k=Rt(k)););return k}(v,y);if(N){var ce=Object.getOwnPropertyDescriptor(N,y);return ce.get?ce.get.call(arguments.length<3?v:E):ce.value}},Pt.apply(this,arguments)}function vr(k,v){return function Ci(k){if(Array.isArray(k))return k}(k)||function At(k,v){var y=null==k?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(null!=y){var E,N,ce,$e,ut=[],Mt=!0,gi=!1;try{if(ce=(y=y.call(k)).next,0===v){if(Object(y)!==y)return;Mt=!1}else for(;!(Mt=(E=ce.call(y)).done)&&(ut.push(E.value),ut.length!==v);Mt=!0);}catch(Zi){gi=!0,N=Zi}finally{try{if(!Mt&&null!=y.return&&($e=y.return(),Object($e)!==$e))return}finally{if(gi)throw N}}return ut}}(k,v)||$r(k,v)||function fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(k){return function tn(k){if(Array.isArray(k))return Nt(k)}(k)||function Hi(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(k)||$r(k)||function nr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(k,v){if(k){if("string"==typeof k)return Nt(k,v);var y=Object.prototype.toString.call(k).slice(8,-1);if("Object"===y&&k.constructor&&(y=k.constructor.name),"Map"===y||"Set"===y)return Array.from(k);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Nt(k,v)}}function Nt(k,v){(null==v||v>k.length)&&(v=k.length);for(var y=0,E=new Array(v);y<v;y++)E[y]=k[y];return E}function nn(k,v,y){(function dn(k,v){if(v.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")})(k,v),v.set(k,y)}var bt={},Vt=function(v){return new Promise(function(y){if(!v)return y();var E=window.scrollX,N=window.scrollY;bt.restoreFocusTimeout=setTimeout(function(){bt.previousActiveElement instanceof HTMLElement?(bt.previousActiveElement.focus(),bt.previousActiveElement=null):document.body&&document.body.focus(),y()},100),window.scrollTo(E,N)})},O=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(k,v){return k[v]="swal2-"+v,k},{}),Z=["success","warning","info","question","error"].reduce(function(k,v){return k[v]="swal2-"+v,k},{}),he="SweetAlert2:",ve=function(v){return v.charAt(0).toUpperCase()+v.slice(1)},ee=function(v){console.warn("".concat(he," ").concat("object"===mi(v)?v.join(" "):v))},Pe=function(v){console.error("".concat(he," ").concat(v))},ci=[],it=function(v,y){!function(v){ci.includes(v)||(ci.push(v),ee(v))}('"'.concat(v,'" is deprecated and will be removed in the next major release. Please use "').concat(y,'" instead.'))},ni=function(v){return"function"==typeof v?v():v},qi=function(v){return v&&"function"==typeof v.toPromise},Si=function(v){return qi(v)?v.toPromise():Promise.resolve(v)},Yn=function(v){return v&&Promise.resolve(v)===v},vi=function(){return document.body.querySelector(".".concat(O.container))},Zn=function(v){var y=vi();return y?y.querySelector(v):null},Fi=function(v){return Zn(".".concat(v))},Bt=function(){return Fi(O.popup)},Is=function(){return Fi(O.icon)},rn=function(){return Fi(O.title)},wa=function(){return Fi(O["html-container"])},Rc=function(){return Fi(O.image)},bo=function(){return Fi(O["progress-steps"])},xa=function(){return Fi(O["validation-message"])},on=function(){return Zn(".".concat(O.actions," .").concat(O.confirm))},oo=function(){return Zn(".".concat(O.actions," .").concat(O.cancel))},so=function(){return Zn(".".concat(O.actions," .").concat(O.deny))},Lo=function(){return Zn(".".concat(O.loader))},Ti=function(){return Fi(O.actions)},yo=function(){return Fi(O.footer)},yn=function(){return Fi(O["timer-progress-bar"])},Ca=function(){return Fi(O.close)},Sr=function(){var v=Bt();if(!v)return[];var y=v.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),E=Array.from(y).sort(function($e,ut){var Mt=parseInt($e.getAttribute("tabindex")||"0"),gi=parseInt(ut.getAttribute("tabindex")||"0");return Mt>gi?1:Mt<gi?-1:0}),N=v.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),ce=Array.from(N).filter(function($e){return"-1"!==$e.getAttribute("tabindex")});return br(new Set(E.concat(ce))).filter(function($e){return vt($e)})},is=function(){return un(document.body,O.shown)&&!un(document.body,O["toast-shown"])&&!un(document.body,O["no-backdrop"])},ns=function(){var v=Bt();return!!v&&un(v,O.toast)},rr=function(v,y){if(v.textContent="",y){var N=(new DOMParser).parseFromString(y,"text/html"),ce=N.querySelector("head");ce&&Array.from(ce.childNodes).forEach(function(ut){v.appendChild(ut)});var $e=N.querySelector("body");$e&&Array.from($e.childNodes).forEach(function(ut){ut instanceof HTMLVideoElement||ut instanceof HTMLAudioElement?v.appendChild(ut.cloneNode(!0)):v.appendChild(ut)})}},un=function(v,y){if(!y)return!1;for(var E=y.split(/\s+/),N=0;N<E.length;N++)if(!v.classList.contains(E[N]))return!1;return!0},Kn=function(v,y,E){if(function(v,y){Array.from(v.classList).forEach(function(E){!Object.values(O).includes(E)&&!Object.values(Z).includes(E)&&!Object.values(y.showClass||{}).includes(E)&&v.classList.remove(E)})}(v,y),y.customClass&&y.customClass[E]){if("string"!=typeof y.customClass[E]&&!y.customClass[E].forEach)return void ee("Invalid type of customClass.".concat(E,'! Expected string or iterable object, got "').concat(mi(y.customClass[E]),'"'));Kt(v,y.customClass[E])}},Xs=function(v,y){if(!y)return null;switch(y){case"select":case"textarea":case"file":return v.querySelector(".".concat(O.popup," > .").concat(O[y]));case"checkbox":return v.querySelector(".".concat(O.popup," > .").concat(O.checkbox," input"));case"radio":return v.querySelector(".".concat(O.popup," > .").concat(O.radio," input:checked"))||v.querySelector(".".concat(O.popup," > .").concat(O.radio," input:first-child"));case"range":return v.querySelector(".".concat(O.popup," > .").concat(O.range," input"));default:return v.querySelector(".".concat(O.popup," > .").concat(O.input))}},Fl=function(v){if(v.focus(),"file"!==v.type){var y=v.value;v.value="",v.value=y}},Pc=function(v,y,E){!v||!y||("string"==typeof y&&(y=y.split(/\s+/).filter(Boolean)),y.forEach(function(N){Array.isArray(v)?v.forEach(function(ce){E?ce.classList.add(N):ce.classList.remove(N)}):E?v.classList.add(N):v.classList.remove(N)}))},Kt=function(v,y){Pc(v,y,!0)},z=function(v,y){Pc(v,y,!1)},L=function(v,y){for(var E=Array.from(v.children),N=0;N<E.length;N++){var ce=E[N];if(ce instanceof HTMLElement&&un(ce,y))return ce}},j=function(v,y,E){E==="".concat(parseInt(E))&&(E=parseInt(E)),E||0===parseInt(E)?v.style.setProperty(y,"number"==typeof E?"".concat(E,"px"):E):v.style.removeProperty(y)},te=function(v){v&&(v.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},G=function(v){v&&(v.style.display="none")},oe=function(v){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";v&&new MutationObserver(function(){It(v,v.innerHTML,y)}).observe(v,{childList:!0,subtree:!0})},ft=function(v,y,E,N){var ce=v.querySelector(y);ce&&ce.style.setProperty(E,N)},It=function(v,y){y?te(v,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):G(v)},vt=function(v){return!(!v||!(v.offsetWidth||v.offsetHeight||v.getClientRects().length))},Qn=function(v){return v.scrollHeight>v.clientHeight},We=function(v){var y=window.getComputedStyle(v),E=parseFloat(y.getPropertyValue("animation-duration")||"0"),N=parseFloat(y.getPropertyValue("transition-duration")||"0");return E>0||N>0},Xn=function(v){var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=yn();E&&vt(E)&&(y&&(E.style.transition="none",E.style.width="100%"),setTimeout(function(){E.style.transition="width ".concat(v/1e3,"s linear"),E.style.width="0%"},10))},rs=function(){return typeof window>"u"||typeof document>"u"},Qd='\n <div aria-labelledby="'.concat(O.title,'" aria-describedby="').concat(O["html-container"],'" class="').concat(O.popup,'" tabindex="-1">\n   <button type="button" class="').concat(O.close,'"></button>\n   <ul class="').concat(O["progress-steps"],'"></ul>\n   <div class="').concat(O.icon,'"></div>\n   <img class="').concat(O.image,'" />\n   <h2 class="').concat(O.title,'" id="').concat(O.title,'"></h2>\n   <div class="').concat(O["html-container"],'" id="').concat(O["html-container"],'"></div>\n   <input class="').concat(O.input,'" id="').concat(O.input,'" />\n   <input type="file" class="').concat(O.file,'" />\n   <div class="').concat(O.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(O.select,'" id="').concat(O.select,'"></select>\n   <div class="').concat(O.radio,'"></div>\n   <label class="').concat(O.checkbox,'">\n     <input type="checkbox" id="').concat(O.checkbox,'" />\n     <span class="').concat(O.label,'"></span>\n   </label>\n   <textarea class="').concat(O.textarea,'" id="').concat(O.textarea,'"></textarea>\n   <div class="').concat(O["validation-message"],'" id="').concat(O["validation-message"],'"></div>\n   <div class="').concat(O.actions,'">\n     <div class="').concat(O.loader,'"></div>\n     <button type="button" class="').concat(O.confirm,'"></button>\n     <button type="button" class="').concat(O.deny,'"></button>\n     <button type="button" class="').concat(O.cancel,'"></button>\n   </div>\n   <div class="').concat(O.footer,'"></div>\n   <div class="').concat(O["timer-progress-bar-container"],'">\n     <div class="').concat(O["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),W=function(){bt.currentInstance.resetValidationMessage()},X=function(v){var y=function(){var v=vi();return!!v&&(v.remove(),z([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)}();if(rs())Pe("SweetAlert2 requires document to initialize");else{var E=document.createElement("div");E.className=O.container,y&&Kt(E,O["no-transition"]),rr(E,Qd);var N=function(v){return"string"==typeof v?document.querySelector(v):v}(v.target);N.appendChild(E),function(v){var y=Bt();y.setAttribute("role",v.toast?"alert":"dialog"),y.setAttribute("aria-live",v.toast?"polite":"assertive"),v.toast||y.setAttribute("aria-modal","true")}(v),function(v){"rtl"===window.getComputedStyle(v).direction&&Kt(vi(),O.rtl)}(N),function(){var v=Bt(),y=L(v,O.input),E=L(v,O.file),N=v.querySelector(".".concat(O.range," input")),ce=v.querySelector(".".concat(O.range," output")),$e=L(v,O.select),ut=v.querySelector(".".concat(O.checkbox," input")),Mt=L(v,O.textarea);y.oninput=W,E.onchange=W,$e.onchange=W,ut.onchange=W,Mt.oninput=W,N.oninput=function(){W(),ce.value=N.value},N.onchange=function(){W(),ce.value=N.value}}()}},sn=function(v,y){v instanceof HTMLElement?y.appendChild(v):"object"===mi(v)?Ye(v,y):v&&rr(y,v)},Ye=function(v,y){v.jquery?Qt(y,v):rr(y,v.toString())},Qt=function(v,y){if(v.textContent="",0 in y)for(var E=0;E in y;E++)v.appendChild(y[E].cloneNode(!0));else v.appendChild(y.cloneNode(!0))},Vo=function(){if(rs())return!1;var k=document.createElement("div");return typeof k.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof k.style.animation<"u"&&"animationend"}(),Rx=function(v,y){var E=Ti(),N=Lo();!E||!N||(y.showConfirmButton||y.showDenyButton||y.showCancelButton?te(E):G(E),Kn(E,y,"actions"),function Vv(k,v,y){var E=on(),N=so(),ce=oo();!E||!N||!ce||(Wr(E,"confirm",y),Wr(N,"deny",y),Wr(ce,"cancel",y),function Nl(k,v,y,E){E.buttonsStyling?(Kt([k,v,y],O.styled),E.confirmButtonColor&&(k.style.backgroundColor=E.confirmButtonColor,Kt(k,O["default-outline"])),E.denyButtonColor&&(v.style.backgroundColor=E.denyButtonColor,Kt(v,O["default-outline"])),E.cancelButtonColor&&(y.style.backgroundColor=E.cancelButtonColor,Kt(y,O["default-outline"]))):z([k,v,y],O.styled)}(E,N,ce,y),y.reverseButtons&&(y.toast?(k.insertBefore(ce,E),k.insertBefore(N,E)):(k.insertBefore(ce,v),k.insertBefore(N,v),k.insertBefore(E,v))))}(E,N,y),rr(N,y.loaderHtml||""),Kn(N,y,"loader"))};function Wr(k,v,y){var E=ve(v);It(k,y["show".concat(E,"Button")],"inline-block"),rr(k,y["".concat(v,"ButtonText")]||""),k.setAttribute("aria-label",y["".concat(v,"ButtonAriaLabel")]||""),k.className=O[v],Kn(k,y,"".concat(v,"Button"))}var Bv=function(v,y){var E=vi();E&&(function an(k,v){"string"==typeof v?k.style.background=v:v||Kt([document.documentElement,document.body],O["no-backdrop"])}(E,y.backdrop),function ka(k,v){v&&(v in O?Kt(k,O[v]):(ee('The "position" parameter is not valid, defaulting to "center"'),Kt(k,O.center)))}(E,y.position),function Ox(k,v){v&&Kt(k,O["grow-".concat(v)])}(E,y.grow),Kn(E,y,"container"))};var Li={innerParams:new WeakMap,domCache:new WeakMap},zv=["input","file","range","select","radio","checkbox","textarea"],Hv=function(v){if(v.input){if(!wn[v.input])return void Pe("Unexpected type of input! Expected ".concat(Object.keys(wn).join(" | "),', got "').concat(v.input,'"'));var y=Wh(v.input),E=wn[v.input](y,v);te(y),v.inputAutoFocus&&setTimeout(function(){Fl(E)})}},cf=function(v,y){var E=Xs(Bt(),v);if(E)for(var N in function(v){for(var y=0;y<v.attributes.length;y++){var E=v.attributes[y].name;["id","type","value","style"].includes(E)||v.removeAttribute(E)}}(E),y)E.setAttribute(N,y[N])},jv=function(v){var y=Wh(v.input);"object"===mi(v.customClass)&&Kt(y,v.customClass.input)},Mr=function(v,y){(!v.placeholder||y.inputPlaceholder)&&(v.placeholder=y.inputPlaceholder)},ct=function(v,y,E){if(E.inputLabel){var N=document.createElement("label"),ce=O["input-label"];N.setAttribute("for",v.id),N.className=ce,"object"===mi(E.customClass)&&Kt(N,E.customClass.inputLabel),N.innerText=E.inputLabel,y.insertAdjacentElement("beforebegin",N)}},Wh=function(v){return L(Bt(),O[v]||O.input)},Gh=function(v,y){["string","number"].includes(mi(y))?v.value="".concat(y):Yn(y)||ee('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(mi(y),'"'))},wn={};wn.text=wn.email=wn.password=wn.number=wn.tel=wn.url=wn.search=wn.date=wn["datetime-local"]=wn.time=wn.week=wn.month=function(k,v){return Gh(k,v.inputValue),ct(k,k,v),Mr(k,v),k.type=v.input,k},wn.file=function(k,v){return ct(k,k,v),Mr(k,v),k},wn.range=function(k,v){var y=k.querySelector("input"),E=k.querySelector("output");return Gh(y,v.inputValue),y.type=v.input,Gh(E,v.inputValue),ct(y,k,v),k},wn.select=function(k,v){if(k.textContent="",v.inputPlaceholder){var y=document.createElement("option");rr(y,v.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,k.appendChild(y)}return ct(k,k,v),k},wn.radio=function(k){return k.textContent="",k},wn.checkbox=function(k,v){var y=Xs(Bt(),"checkbox");y.value="1",y.checked=!!v.inputValue;var E=k.querySelector("span");return rr(E,v.inputPlaceholder),y},wn.textarea=function(k,v){Gh(k,v.inputValue),Mr(k,v),ct(k,k,v);return setTimeout(function(){if("MutationObserver"in window){var E=parseInt(window.getComputedStyle(Bt()).width);new MutationObserver(function(){if(document.body.contains(k)){var $e=k.offsetWidth+(N=k,parseInt(window.getComputedStyle(N).marginLeft)+parseInt(window.getComputedStyle(N).marginRight));$e>E?Bt().style.width="".concat($e,"px"):j(Bt(),"width",v.width)}var N}).observe(k,{attributes:!0,attributeFilter:["style"]})}}),k};var ye=function(v,y){var E=wa();E&&(oe(E),Kn(E,y,"htmlContainer"),y.html?(sn(y.html,E),te(E,"block")):y.text?(E.textContent=y.text,te(E,"block")):G(E),function(v,y){var E=Bt();if(E){var N=Li.innerParams.get(v),ce=!N||y.input!==N.input;zv.forEach(function($e){var ut=L(E,O[$e]);ut&&(cf($e,y.inputAttributes),ut.className=O[$e],ce&&G(ut))}),y.input&&(ce&&Hv(y),jv(y))}}(v,y))},Oc=function(v,y){for(var E=0,N=Object.entries(Z);E<N.length;E++){var ce=vr(N[E],2);y.icon!==ce[0]&&z(v,ce[1])}Kt(v,y.icon&&Z[y.icon]),Ll(v,y),Uv(),Kn(v,y,"icon")},Uv=function(){var v=Bt();if(v)for(var y=window.getComputedStyle(v).getPropertyValue("background-color"),E=v.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),N=0;N<E.length;N++)E[N].style.backgroundColor=y},Ss=function(v,y){if(y.icon||y.iconHtml){var E=v.innerHTML,N="";y.iconHtml?N=Fc(y.iconHtml):"success"===y.icon?(N='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',E=E.replace(/ style=".*?"/g,"")):"error"===y.icon?N='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':y.icon&&(N=Fc({question:"?",warning:"!",info:"i"}[y.icon])),E.trim()!==N.trim()&&rr(v,N)}},Ll=function(v,y){if(y.iconColor){v.style.color=y.iconColor,v.style.borderColor=y.iconColor;for(var E=0,N=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];E<N.length;E++)ft(v,N[E],"background-color",y.iconColor);ft(v,".swal2-success-ring","border-color",y.iconColor)}},Fc=function(v){return'<div class="'.concat(O["icon-content"],'">').concat(v,"</div>")},oi=function(v,y){var E=y.showClass||{};v.className="".concat(O.popup," ").concat(vt(v)?E.popup:""),y.toast?(Kt([document.documentElement,document.body],O["toast-shown"]),Kt(v,O.toast)):Kt(v,O.modal),Kn(v,y,"popup"),"string"==typeof y.customClass&&Kt(v,y.customClass),y.icon&&Kt(v,O["icon-".concat(y.icon)])},df=function(v){var y=document.createElement("li");return Kt(y,O["progress-step"]),rr(y,v),y},Ar=function(v){var y=document.createElement("li");return Kt(y,O["progress-step-line"]),v.progressStepsDistance&&j(y,"width",v.progressStepsDistance),y},Zh=function(v,y){(function(v,y){var E=vi(),N=Bt();if(E&&N){if(y.toast){j(E,"width",y.width),N.style.width="100%";var ce=Lo();ce&&N.insertBefore(ce,Is())}else j(N,"width",y.width);j(N,"padding",y.padding),y.color&&(N.style.color=y.color),y.background&&(N.style.background=y.background),G(xa()),oi(N,y)}})(0,y),Bv(0,y),function(v,y){var E=bo();if(E){var N=y.progressSteps,ce=y.currentProgressStep;if(!N||0===N.length||void 0===ce)return void G(E);te(E),E.textContent="",ce>=N.length&&ee("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.forEach(function($e,ut){var Mt=df($e);if(E.appendChild(Mt),ut===ce&&Kt(Mt,O["active-progress-step"]),ut!==N.length-1){var gi=Ar(y);E.appendChild(gi)}})}}(0,y),function(v,y){var E=Li.innerParams.get(v),N=Is();if(N){if(E&&y.icon===E.icon)return Ss(N,y),void Oc(N,y);if(!y.icon&&!y.iconHtml)return void G(N);if(y.icon&&-1===Object.keys(Z).indexOf(y.icon))return Pe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(y.icon,'"')),void G(N);te(N),Ss(N,y),Oc(N,y),Kt(N,y.showClass&&y.showClass.icon)}}(v,y),function(v,y){var E=Rc();if(E){if(!y.imageUrl)return void G(E);te(E,""),E.setAttribute("src",y.imageUrl),E.setAttribute("alt",y.imageAlt||""),j(E,"width",y.imageWidth),j(E,"height",y.imageHeight),E.className=O.image,Kn(E,y,"image")}}(0,y),function(v,y){var E=rn();E&&(oe(E),It(E,y.title||y.titleText,"block"),y.title&&sn(y.title,E),y.titleText&&(E.innerText=y.titleText),Kn(E,y,"title"))}(0,y),function(v,y){var E=Ca();E&&(rr(E,y.closeButtonHtml||""),Kn(E,y,"closeButton"),It(E,y.showCloseButton),E.setAttribute("aria-label",y.closeButtonAriaLabel||""))}(0,y),ye(v,y),Rx(0,y),function(v,y){var E=yo();E&&(oe(E),It(E,y.footer,"block"),y.footer&&sn(y.footer,E),Kn(E,y,"footer"))}(0,y);var E=Bt();"function"==typeof y.didRender&&E&&y.didRender(E)},Kh=function(){var v;return null===(v=on())||void 0===v?void 0:v.click()},Ta=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nc=function(v){v.keydownTarget&&v.keydownHandlerAdded&&(v.keydownTarget.removeEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!1)},oc=function(v,y){var E,N=Sr();if(N.length)return(v+=y)===N.length?v=0:-1===v&&(v=N.length-1),void N[v].focus();null===(E=Bt())||void 0===E||E.focus()},mf=["ArrowRight","ArrowDown"],Bl=["ArrowLeft","ArrowUp"],Bx=function(v,y,E){v&&(y.isComposing||229===y.keyCode||(v.stopKeydownPropagation&&y.stopPropagation(),"Enter"===y.key?pf(y,v):"Tab"===y.key?zx(y):[].concat(mf,Bl).includes(y.key)?ff(y.key):"Escape"===y.key&&Xd(y,v,E)))},pf=function(v,y){if(ni(y.allowEnterKey)){var E=Xs(Bt(),y.input);if(v.target&&E&&v.target instanceof HTMLElement&&v.target.outerHTML===E.outerHTML){if(["textarea","file"].includes(y.input))return;Kh(),v.preventDefault()}}},zx=function(v){for(var y=v.target,E=Sr(),N=-1,ce=0;ce<E.length;ce++)if(y===E[ce]){N=ce;break}oc(N,v.shiftKey?-1:1),v.stopPropagation(),v.preventDefault()},ff=function(v){var y=Ti(),E=on(),N=so(),ce=oo();if(y&&E&&N&&ce&&(!(document.activeElement instanceof HTMLElement)||[E,N,ce].includes(document.activeElement))){var ut=mf.includes(v)?"nextElementSibling":"previousElementSibling",Mt=document.activeElement;if(Mt){for(var gi=0;gi<y.children.length;gi++){if(!(Mt=Mt[ut]))return;if(Mt instanceof HTMLButtonElement&&vt(Mt))break}Mt instanceof HTMLButtonElement&&Mt.focus()}}},Xd=function(v,y,E){ni(y.allowEscapeKey)&&(v.preventDefault(),E(Ta.esc))},or={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Hl=function(){Array.from(document.body.children).forEach(function(y){y.hasAttribute("data-previous-aria-hidden")?(y.setAttribute("aria-hidden",y.getAttribute("data-previous-aria-hidden")||""),y.removeAttribute("data-previous-aria-hidden")):y.removeAttribute("aria-hidden")})},os=typeof window<"u"&&!!window.GestureEvent,Qh=function(){var y,v=vi();v&&(v.ontouchstart=function(E){y=gf(E)},v.ontouchmove=function(E){y&&(E.preventDefault(),E.stopPropagation())})},gf=function(v){var y=v.target,E=vi(),N=wa();return!(!E||!N||Da(v)||Gv(v)||y!==E&&(Qn(E)||!(y instanceof HTMLElement)||"INPUT"===y.tagName||"TEXTAREA"===y.tagName||Qn(N)&&N.contains(y)))},Da=function(v){return v.touches&&v.touches.length&&"stylus"===v.touches[0].touchType},Gv=function(v){return v.touches&&v.touches.length>1},U=null,Jd=function(v){null===U&&(document.body.scrollHeight>window.innerHeight||"scroll"===v)&&(U=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(U+function(){var v=document.createElement("div");v.className=O["scrollbar-measure"],document.body.appendChild(v);var y=v.getBoundingClientRect().width-v.clientWidth;return document.body.removeChild(v),y}(),"px"))};function jl(k,v,y,E){ns()?Bo(k,E):(Vt(y).then(function(){return Bo(k,E)}),Nc(bt)),os?(v.setAttribute("style","display:none !important"),v.removeAttribute("class"),v.innerHTML=""):v.remove(),is()&&(null!==U&&(document.body.style.paddingRight="".concat(U,"px"),U=null),function(){if(un(document.body,O.iosfix)){var v=parseInt(document.body.style.top,10);z(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*v}}(),Hl()),function Xh(){z([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function Rr(k){k=co(k);var v=or.swalPromiseResolve.get(this),y=Hx(this);this.isAwaitingPromise?k.isDismissed||(xo(this),v(k)):y&&v(k)}var Hx=function(v){var y=Bt();if(!y)return!1;var E=Li.innerParams.get(v);if(!E||un(y,E.hideClass.popup))return!1;z(y,E.showClass.popup),Kt(y,E.hideClass.popup);var N=vi();return z(N,E.showClass.backdrop),Kt(N,E.hideClass.backdrop),Js(v,y,E),!0};function eu(k){var v=or.swalPromiseReject.get(this);xo(this),v&&v(k)}var xo=function(v){v.isAwaitingPromise&&(delete v.isAwaitingPromise,Li.innerParams.get(v)||v._destroy())},co=function(v){return typeof v>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},v)},Js=function(v,y,E){var N=vi(),ce=Vo&&We(y);"function"==typeof E.willClose&&E.willClose(y),ce?Co(v,y,N,E.returnFocus,E.didClose):jl(v,N,E.returnFocus,E.didClose)},Co=function(v,y,E,N,ce){Vo&&(bt.swalCloseEventFinishedCallback=jl.bind(null,v,E,N,ce),y.addEventListener(Vo,function($e){$e.target===y&&(bt.swalCloseEventFinishedCallback(),delete bt.swalCloseEventFinishedCallback)}))},Bo=function(v,y){setTimeout(function(){"function"==typeof y&&y.bind(v.params)(),v._destroy&&v._destroy()})},Xt=function(v){var y=Bt();if(y||new ed,y=Bt()){var E=Lo();ns()?G(Is()):tu(y,v),te(E),y.setAttribute("data-loading","true"),y.setAttribute("aria-busy","true"),y.focus()}},tu=function(v,y){var E=Ti(),N=Lo();!E||!N||(!y&&vt(on())&&(y=on()),te(E),y&&(G(y),N.setAttribute("data-button-to-replace",y.className),E.insertBefore(N,y)),Kt([v,E],O.loading))},Ul=function(v){return v.checked?1:0},As=function(v){return v.checked?v.value:null},Lc=function(v){return v.files&&v.files.length?null!==v.getAttribute("multiple")?v.files:v.files[0]:null},iu=function(v,y){var E=Bt();if(E){var N=function($e){"select"===y.input?function nu(k,v,y){var E=L(k,O.select);if(E){var N=function($e,ut,Mt){var gi=document.createElement("option");gi.value=Mt,rr(gi,ut),gi.selected=ea(Mt,y.inputValue),$e.appendChild(gi)};v.forEach(function(ce){var $e=ce[0],ut=ce[1];if(Array.isArray(ut)){var Mt=document.createElement("optgroup");Mt.label=$e,Mt.disabled=!1,E.appendChild(Mt),ut.forEach(function(gi){return N(Mt,gi[1],gi[0])})}else N(E,ut,$e)}),E.focus()}}(E,$l($e),y):"radio"===y.input&&function _f(k,v,y){var E=L(k,O.radio);if(E){v.forEach(function(ce){var $e=ce[0],ut=ce[1],Mt=document.createElement("input"),gi=document.createElement("label");Mt.type="radio",Mt.name=O.radio,Mt.value=$e,ea($e,y.inputValue)&&(Mt.checked=!0);var Zi=document.createElement("span");rr(Zi,ut),Zi.className=O.label,gi.appendChild(Mt),gi.appendChild(Zi),E.appendChild(gi)});var N=E.querySelectorAll("input");N.length&&N[0].focus()}}(E,$l($e),y)};qi(y.inputOptions)||Yn(y.inputOptions)?(Xt(on()),Si(y.inputOptions).then(function(ce){v.hideLoading(),N(ce)})):"object"===mi(y.inputOptions)?N(y.inputOptions):Pe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(mi(y.inputOptions)))}},Eo=function(v,y){var E=v.getInput();E&&(G(E),Si(y.inputValue).then(function(N){E.value="".concat("number"===y.input?parseFloat(N)||0:N),te(E),E.focus(),v.hideLoading()}).catch(function(N){Pe("Error in inputValue promise: ".concat(N)),E.value="",te(E),E.focus(),v.hideLoading()}))};var $l=function k(v){var y=[];return v instanceof Map?v.forEach(function(E,N){var ce=E;"object"===mi(ce)&&(ce=k(ce)),y.push([N,ce])}):Object.keys(v).forEach(function(E){var N=v[E];"object"===mi(N)&&(N=k(N)),y.push([E,N])}),y},ea=function(v,y){return!!y&&y.toString()===v.toString()},Vc=void 0,ou=function(v,y){var E=Li.innerParams.get(v);if(E.input){var N=v.getInput(),ce=function(v,y){var E=v.getInput();if(!E)return null;switch(y.input){case"checkbox":return Ul(E);case"radio":return As(E);case"file":return Lc(E);default:return y.inputAutoTrim?E.value.trim():E.value}}(v,E);E.inputValidator?tm(v,ce,y):N&&!N.checkValidity()?(v.enableButtons(),v.showValidationMessage(E.validationMessage||N.validationMessage)):"deny"===y?Pr(v,ce):Wl(v,ce)}else Pe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ve(y)))},tm=function(v,y,E){var N=Li.innerParams.get(v);v.disableInput(),Promise.resolve().then(function(){return Si(N.inputValidator(y,N.validationMessage))}).then(function($e){v.enableButtons(),v.enableInput(),$e?v.showValidationMessage($e):"deny"===E?Pr(v,y):Wl(v,y)})},Pr=function(v,y){var E=Li.innerParams.get(v||Vc);E.showLoaderOnDeny&&Xt(so()),E.preDeny?(v.isAwaitingPromise=!0,Promise.resolve().then(function(){return Si(E.preDeny(y,E.validationMessage))}).then(function(ce){!1===ce?(v.hideLoading(),xo(v)):v.close({isDenied:!0,value:typeof ce>"u"?y:ce})}).catch(function(ce){return au(v||Vc,ce)})):v.close({isDenied:!0,value:y})},su=function(v,y){v.close({isConfirmed:!0,value:y})},au=function(v,y){v.rejectPromise(y)},Wl=function(v,y){var E=Li.innerParams.get(v||Vc);E.showLoaderOnConfirm&&Xt(),E.preConfirm?(v.resetValidationMessage(),v.isAwaitingPromise=!0,Promise.resolve().then(function(){return Si(E.preConfirm(y,E.validationMessage))}).then(function(ce){vt(xa())||!1===ce?(v.hideLoading(),xo(v)):su(v,typeof ce>"u"?y:ce)}).catch(function(ce){return au(v||Vc,ce)})):su(v,y)};function Gl(){var k=Li.innerParams.get(this);if(k){var v=Li.domCache.get(this);G(v.loader),ns()?k.icon&&te(Is()):im(v),z([v.popup,v.actions],O.loading),v.popup.removeAttribute("aria-busy"),v.popup.removeAttribute("data-loading"),v.confirmButton.disabled=!1,v.denyButton.disabled=!1,v.cancelButton.disabled=!1}}var im=function(v){var y=v.popup.getElementsByClassName(v.loader.getAttribute("data-button-to-replace"));y.length?te(y[0],"inline-block"):!vt(on())&&!vt(so())&&!vt(oo())&&G(v.actions)};function ql(){var k=Li.innerParams.get(this),v=Li.domCache.get(this);return v?Xs(v.popup,k.input):null}function Yl(k,v,y){var E=Li.domCache.get(k);v.forEach(function(N){E[N].disabled=y})}function nm(k,v){var y=Bt();if(y&&k)if("radio"===k.type)for(var E=y.querySelectorAll('[name="'.concat(O.radio,'"]')),N=0;N<E.length;N++)E[N].disabled=v;else k.disabled=v}function cu(){Yl(this,["confirmButton","denyButton","cancelButton"],!1)}function rm(){Yl(this,["confirmButton","denyButton","cancelButton"],!0)}function gt(){nm(this.getInput(),!1)}function vf(){nm(this.getInput(),!0)}function lu(k){var v=Li.domCache.get(this),y=Li.innerParams.get(this);rr(v.validationMessage,k),v.validationMessage.className=O["validation-message"],y.customClass&&y.customClass.validationMessage&&Kt(v.validationMessage,y.customClass.validationMessage),te(v.validationMessage);var E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",O["validation-message"]),Fl(E),Kt(E,O.inputerror))}function bf(){var k=Li.domCache.get(this);k.validationMessage&&G(k.validationMessage);var v=this.getInput();v&&(v.removeAttribute("aria-invalid"),v.removeAttribute("aria-describedby"),z(v,O.inputerror))}var Ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Zl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],du={},ae=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],sr=function(v){return Object.prototype.hasOwnProperty.call(Ae,v)},si=function(v){return-1!==Zl.indexOf(v)},Hn=function(v){return du[v]},Gr=function(v){sr(v)||ee('Unknown parameter "'.concat(v,'"'))},Sa=function(v){ae.includes(v)&&ee('The parameter "'.concat(v,'" is incompatible with toasts'))},ko=function(v){var y=Hn(v);y&&it(v,y)};function om(k){var v=Bt(),y=Li.innerParams.get(this);if(v&&!un(v,y.hideClass.popup)){var E=Bc(k),N=Object.assign({},y,E);Zh(this,N),Li.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,k),writable:!1,enumerable:!0}})}else ee("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Bc=function(v){var y={};return Object.keys(v).forEach(function(E){si(E)?y[E]=v[E]:ee("Invalid parameter to update: ".concat(E))}),y};function sm(){var k=Li.domCache.get(this),v=Li.innerParams.get(this);v?(k.popup&&bt.swalCloseEventFinishedCallback&&(bt.swalCloseEventFinishedCallback(),delete bt.swalCloseEventFinishedCallback),"function"==typeof v.didDestroy&&v.didDestroy(),am(this)):hn(this)}var am=function(v){hn(v),delete v.params,delete bt.keydownHandler,delete bt.keydownTarget,delete bt.currentInstance},hn=function(v){v.isAwaitingPromise?(Ne(Li,v),v.isAwaitingPromise=!0):(Ne(or,v),Ne(Li,v),delete v.isAwaitingPromise,delete v.disableButtons,delete v.enableButtons,delete v.getInput,delete v.disableInput,delete v.enableInput,delete v.hideLoading,delete v.disableLoading,delete v.showValidationMessage,delete v.resetValidationMessage,delete v.close,delete v.closePopup,delete v.closeModal,delete v.closeToast,delete v.rejectPromise,delete v.update,delete v._destroy)},Ne=function(v,y){for(var E in v)v[E].delete(y)},Ot=Object.freeze({__proto__:null,_destroy:sm,close:Rr,closeModal:Rr,closePopup:Rr,closeToast:Rr,disableButtons:rm,disableInput:vf,disableLoading:Gl,enableButtons:cu,enableInput:gt,getInput:ql,handleAwaitingPromise:xo,hideLoading:Gl,rejectPromise:eu,resetValidationMessage:bf,showValidationMessage:lu,update:om}),ss=function(v,y,E){y.popup.onclick=function(){v&&(Kl(v)||v.timer||v.input)||E(Ta.close)}},Kl=function(v){return!!(v.showConfirmButton||v.showDenyButton||v.showCancelButton||v.showCloseButton)},Sn=!1,zc=function(v){v.popup.onmousedown=function(){v.container.onmouseup=function(y){v.container.onmouseup=function(){},y.target===v.container&&(Sn=!0)}}},Mn=function(v){v.container.onmousedown=function(){v.popup.onmouseup=function(y){v.popup.onmouseup=function(){},(y.target===v.popup||y.target instanceof HTMLElement&&v.popup.contains(y.target))&&(Sn=!0)}}},Rs=function(v,y,E){y.container.onclick=function(N){Sn?Sn=!1:N.target===y.container&&ni(v.allowOutsideClick)&&E(Ta.backdrop)}},yt=function(v){return v instanceof Element||function(v){return"object"===mi(v)&&v.jquery}(v)};var Uc=function(){if(bt.timeout)return function(){var v=yn();if(v){var y=parseInt(window.getComputedStyle(v).width);v.style.removeProperty("transition"),v.style.width="100%";var E=parseInt(window.getComputedStyle(v).width);v.style.width="".concat(y/E*100,"%")}}(),bt.timeout.stop()},ta=function(){if(bt.timeout){var v=bt.timeout.start();return Xn(v),v}},as=!1,cs={};var $c=function(v){for(var y=v.target;y&&y!==document;y=y.parentNode)for(var E in cs){var N=y.getAttribute(E);if(N)return void cs[E].fire({template:N})}},Gt=Object.freeze({__proto__:null,argsToParams:function(v){var y={};return"object"!==mi(v[0])||yt(v[0])?["title","html","icon"].forEach(function(E,N){var ce=v[N];"string"==typeof ce||yt(ce)?y[E]=ce:void 0!==ce&&Pe("Unexpected type of ".concat(E,'! Expected "string" or "Element", got ').concat(mi(ce)))}):Object.assign(y,v[0]),y},bindClickHandler:function Xl(){cs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,as||(document.body.addEventListener("click",$c),as=!0)},clickCancel:function(){var v;return null===(v=oo())||void 0===v?void 0:v.click()},clickConfirm:Kh,clickDeny:function(){var v;return null===(v=so())||void 0===v?void 0:v.click()},enableLoading:Xt,fire:function hu(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];return function de(k,v,y){if(_t())return Reflect.construct.apply(null,arguments);var E=[null];E.push.apply(E,v);var N=new(k.bind.apply(k,E));return y&&li(N,y.prototype),N}(this,y)},getActions:Ti,getCancelButton:oo,getCloseButton:Ca,getConfirmButton:on,getContainer:vi,getDenyButton:so,getFocusableElements:Sr,getFooter:yo,getHtmlContainer:wa,getIcon:Is,getIconContent:function(){return Fi(O["icon-content"])},getImage:Rc,getInputLabel:function(){return Fi(O["input-label"])},getLoader:Lo,getPopup:Bt,getProgressSteps:bo,getTimerLeft:function(){return bt.timeout&&bt.timeout.getTimerLeft()},getTimerProgressBar:yn,getTitle:rn,getValidationMessage:xa,increaseTimer:function(v){if(bt.timeout){var y=bt.timeout.increase(v);return Xn(y,!0),y}},isDeprecatedParameter:Hn,isLoading:function(){var v=Bt();return!!v&&v.hasAttribute("data-loading")},isTimerRunning:function(){return!(!bt.timeout||!bt.timeout.isRunning())},isUpdatableParameter:si,isValidParameter:sr,isVisible:function(){return vt(Bt())},mixin:function jc(k){var v=function(y){function E(){return Wt(this,E),ht(this,E,arguments)}return function Ge(k,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(v&&v.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),v&&li(k,v)}(E,y),ke(E,[{key:"_main",value:function(ce,$e){return Pt(Rt(E.prototype),"_main",this).call(this,ce,Object.assign({},k,$e))}}]),E}(this);return v},resumeTimer:ta,showLoading:Xt,stopTimer:Uc,toggleTimer:function(){var v=bt.timeout;return v&&(v.running?Uc():ta())}}),jx=function(){function k(v,y){Wt(this,k),this.callback=v,this.remaining=y,this.running=!1,this.start()}return ke(k,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(y){var E=this.running;return E&&this.stop(),this.remaining+=y,E&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),k}(),ia=["swal-title","swal-html","swal-footer"],Os=function(v){var y={};return Array.from(v.querySelectorAll("swal-param")).forEach(function(N){ls(N,["name","value"]);var ce=N.getAttribute("name"),$e=N.getAttribute("value");y[ce]="boolean"==typeof Ae[ce]?"false"!==$e:"object"===mi(Ae[ce])?JSON.parse($e):$e}),y},mu=function(v){var y={};return Array.from(v.querySelectorAll("swal-function-param")).forEach(function(N){var ce=N.getAttribute("name"),$e=N.getAttribute("value");y[ce]=new Function("return ".concat($e))()}),y},Wc=function(v){var y={};return Array.from(v.querySelectorAll("swal-button")).forEach(function(N){ls(N,["type","color","aria-label"]);var ce=N.getAttribute("type");y["".concat(ce,"ButtonText")]=N.innerHTML,y["show".concat(ve(ce),"Button")]=!0,N.hasAttribute("color")&&(y["".concat(ce,"ButtonColor")]=N.getAttribute("color")),N.hasAttribute("aria-label")&&(y["".concat(ce,"ButtonAriaLabel")]=N.getAttribute("aria-label"))}),y},Jl=function(v){var y={},E=v.querySelector("swal-image");return E&&(ls(E,["src","width","height","alt"]),E.hasAttribute("src")&&(y.imageUrl=E.getAttribute("src")),E.hasAttribute("width")&&(y.imageWidth=E.getAttribute("width")),E.hasAttribute("height")&&(y.imageHeight=E.getAttribute("height")),E.hasAttribute("alt")&&(y.imageAlt=E.getAttribute("alt"))),y},yr=function(v){var y={},E=v.querySelector("swal-icon");return E&&(ls(E,["type","color"]),E.hasAttribute("type")&&(y.icon=E.getAttribute("type")),E.hasAttribute("color")&&(y.iconColor=E.getAttribute("color")),y.iconHtml=E.innerHTML),y},qS=function(v){var y={},E=v.querySelector("swal-input");E&&(ls(E,["type","label","placeholder","value"]),y.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(y.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(y.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(y.inputValue=E.getAttribute("value")));var N=Array.from(v.querySelectorAll("swal-input-option"));return N.length&&(y.inputOptions={},N.forEach(function(ce){ls(ce,["value"]);var $e=ce.getAttribute("value");y.inputOptions[$e]=ce.innerHTML})),y},To=function(v,y){var E={};for(var N in y){var ce=y[N],$e=v.querySelector(ce);$e&&(ls($e,[]),E[ce.replace(/^swal-/,"")]=$e.innerHTML.trim())}return E},lo=function(v){var y=ia.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(v.children).forEach(function(E){var N=E.tagName.toLowerCase();y.includes(N)||ee("Unrecognized element <".concat(N,">"))})},ls=function(v,y){Array.from(v.attributes).forEach(function(E){-1===y.indexOf(E.name)&&ee(['Unrecognized attribute "'.concat(E.name,'" on <').concat(v.tagName.toLowerCase(),">."),"".concat(y.length?"Allowed attributes are: ".concat(y.join(", ")):"To set the value, use HTML within the element.")])})},pu=function(v){var y=vi(),E=Bt();"function"==typeof v.willOpen&&v.willOpen(E);var ce=window.getComputedStyle(document.body).overflowY;$x(y,E,v),setTimeout(function(){wf(y,E)},10),is()&&(Ux(y,v.scrollbarPadding,ce),function(){var v=vi();Array.from(document.body.children).forEach(function(E){E.contains(v)||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")||""),E.setAttribute("aria-hidden","true"))})}()),!ns()&&!bt.previousActiveElement&&(bt.previousActiveElement=document.activeElement),"function"==typeof v.didOpen&&setTimeout(function(){return v.didOpen(E)}),z(y,O["no-transition"])},Fs=function k(v){var y=Bt();if(v.target===y&&Vo){var E=vi();y.removeEventListener(Vo,k),E.style.overflowY="auto"}},wf=function(v,y){Vo&&We(y)?(v.style.overflowY="hidden",y.addEventListener(Vo,Fs)):v.style.overflowY="auto"},Ux=function(v,y,E){(function(){if(os&&!un(document.body,O.iosfix)){var v=document.body.scrollTop;document.body.style.top="".concat(-1*v,"px"),Kt(document.body,O.iosfix),Qh()}})(),y&&"hidden"!==E&&Jd(E),setTimeout(function(){v.scrollTop=0})},$x=function(v,y,E){Kt(v,E.showClass.backdrop),E.animation?(y.style.setProperty("opacity","0","important"),te(y,"grid"),setTimeout(function(){Kt(y,E.showClass.popup),y.style.removeProperty("opacity")},10)):te(y,"grid"),Kt([document.documentElement,document.body],O.shown),E.heightAuto&&E.backdrop&&!E.toast&&Kt([document.documentElement,document.body],O["height-auto"])},Wx={email:function(v,y){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(v)?Promise.resolve():Promise.resolve(y||"Invalid email address")},url:function(v,y){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(v)?Promise.resolve():Promise.resolve(y||"Invalid URL")}};function Gc(k){(function Gx(k){k.inputValidator||("email"===k.input&&(k.inputValidator=Wx.email),"url"===k.input&&(k.inputValidator=Wx.url))})(k),k.showLoaderOnConfirm&&!k.preConfirm&&ee("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function lm(k){(!k.target||"string"==typeof k.target&&!document.querySelector(k.target)||"string"!=typeof k.target&&!k.target.appendChild)&&(ee('Target parameter is not valid, defaulting to "body"'),k.target="body")}(k),"string"==typeof k.title&&(k.title=k.title.split("\n").join("<br />")),X(k)}var ds,dm=new WeakMap,jn=function(){function k(){if(Wt(this,k),nn(this,dm,void 0),!(typeof window>"u")){ds=this;for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];var N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,function pt(k,v,y){return k.set(vn(k,v),y),y}(dm,this,this._main(ds.params))}}return ke(k,[{key:"_main",value:function(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(v){for(var y in!1===v.backdrop&&v.allowOutsideClick&&ee('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),v)Gr(y),v.toast&&Sa(y),ko(y)}(Object.assign({},E,y)),bt.currentInstance){var N=or.swalPromiseResolve.get(bt.currentInstance),ce=bt.currentInstance.isAwaitingPromise;bt.currentInstance._destroy(),ce||N({isDismissed:!0}),is()&&Hl()}bt.currentInstance=ds;var $e=YS(y,E);Gc($e),Object.freeze($e),bt.timeout&&(bt.timeout.stop(),delete bt.timeout),clearTimeout(bt.restoreFocusTimeout);var ut=Yx(ds);return Zh(ds,$e),Li.innerParams.set(ds,$e),qx(ds,ut,$e)}},{key:"then",value:function(y){return P(dm,this).then(y)}},{key:"finally",value:function(y){return P(dm,this).finally(y)}}]),k}(),qx=function(v,y,E){return new Promise(function(N,ce){var $e=function(Mt){v.close({isDismissed:!0,dismiss:Mt})};or.swalPromiseResolve.set(v,N),or.swalPromiseReject.set(v,ce),y.confirmButton.onclick=function(){!function(v){var y=Li.innerParams.get(v);v.disableButtons(),y.input?ou(v,"confirm"):Wl(v,!0)}(v)},y.denyButton.onclick=function(){!function(v){var y=Li.innerParams.get(v);v.disableButtons(),y.returnInputValueOnDeny?ou(v,"deny"):Pr(v,!1)}(v)},y.cancelButton.onclick=function(){!function(v,y){v.disableButtons(),y(Ta.cancel)}(v,$e)},y.closeButton.onclick=function(){$e(Ta.close)},function(v,y,E){v.toast?ss(v,y,E):(zc(y),Mn(y),Rs(v,y,E))}(E,y,$e),function(v,y,E){Nc(v),y.toast||(v.keydownHandler=function(N){return Bx(y,N,E)},v.keydownTarget=y.keydownListenerCapture?window:Bt(),v.keydownListenerCapture=y.keydownListenerCapture,v.keydownTarget.addEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!0)}(bt,E,$e),function(v,y){"select"===y.input||"radio"===y.input?iu(v,y):["text","email","number","tel","textarea"].some(function(E){return E===y.input})&&(qi(y.inputValue)||Yn(y.inputValue))&&(Xt(on()),Eo(v,y))}(v,E),pu(E),Zx(bt,E,$e),xf(y,E),setTimeout(function(){y.container.scrollTop=0})})},YS=function(v,y){var E=function(v){var y="string"==typeof v.template?document.querySelector(v.template):v.template;if(!y)return{};var E=y.content;return lo(E),Object.assign(Os(E),mu(E),Wc(E),Jl(E),yr(E),qS(E),To(E,ia))}(v),N=Object.assign({},Ae,y,E,v);return N.showClass=Object.assign({},Ae.showClass,N.showClass),N.hideClass=Object.assign({},Ae.hideClass,N.hideClass),!1===N.animation&&(N.showClass={backdrop:"swal2-noanimation"},N.hideClass={}),N},Yx=function(v){var y={popup:Bt(),container:vi(),actions:Ti(),confirmButton:on(),denyButton:so(),cancelButton:oo(),loader:Lo(),closeButton:Ca(),validationMessage:xa(),progressSteps:bo()};return Li.domCache.set(v,y),y},Zx=function(v,y,E){var N=yn();G(N),y.timer&&(v.timeout=new jx(function(){E("timer"),delete v.timeout},y.timer),y.timerProgressBar&&(te(N),Kn(N,y,"timerProgressBar"),setTimeout(function(){v.timeout&&v.timeout.running&&Xn(y.timer)})))},xf=function(v,y){if(!y.toast){if(!ni(y.allowEnterKey))return void Kx();Cf(v,y)||oc(-1,1)}},Cf=function(v,y){return y.focusDeny&&vt(v.denyButton)?(v.denyButton.focus(),!0):y.focusCancel&&vt(v.cancelButton)?(v.cancelButton.focus(),!0):!(!y.focusConfirm||!vt(v.confirmButton)||(v.confirmButton.focus(),0))},Kx=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var fu=new Date,gu=localStorage.getItem("swal-initiation");gu?(fu.getTime()-Date.parse(gu))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var k=document.createElement("audio");k.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",k.loop=!0,document.body.appendChild(k),setTimeout(function(){k.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(fu))}jn.prototype.disableButtons=rm,jn.prototype.enableButtons=cu,jn.prototype.getInput=ql,jn.prototype.disableInput=vf,jn.prototype.enableInput=gt,jn.prototype.hideLoading=Gl,jn.prototype.disableLoading=Gl,jn.prototype.showValidationMessage=lu,jn.prototype.resetValidationMessage=bf,jn.prototype.close=Rr,jn.prototype.closePopup=Rr,jn.prototype.closeModal=Rr,jn.prototype.closeToast=Rr,jn.prototype.rejectPromise=eu,jn.prototype.update=om,jn.prototype._destroy=sm,Object.assign(jn,Gt),Object.keys(Ot).forEach(function(k){jn[k]=function(){var v;return ds&&ds[k]?(v=ds)[k].apply(v,arguments):null}}),jn.DismissReason=Ta,jn.version="11.10.7";var ed=jn;return ed.default=ed,ed}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(vn,ht){var P=vn.createElement("style");if(vn.getElementsByTagName("head")[0].appendChild(P),P.styleSheet)P.styleSheet.disabled||(P.styleSheet.cssText=ht);else try{P.innerHTML=ht}catch{P.innerText=ht}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},399:(Zs,vn,ht)=>{"use strict";ht.d(vn,{Z:()=>_r});var P=ht(58),pt=ht(537),de=ht(823),_t=ht(879);class At{constructor(Ct,Pt){this._delegate=Ct,this.firebase=Pt,(0,de._addComponent)(Ct,new pt.wA("app-compat",()=>this,"PUBLIC")),this.container=Ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this._delegate.automaticDataCollectionEnabled=Ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ct=>{this._delegate.checkDestroyed(),Ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,de.deleteApp)(this._delegate)))}_getService(Ct,Pt=de._DEFAULT_ENTRY_NAME){var vr;this._delegate.checkDestroyed();const br=this._delegate.container.getProvider(Ct);return!br.isInitialized()&&"EXPLICIT"===(null===(vr=br.getComponent())||void 0===vr?void 0:vr.instantiationMode)&&br.initialize(),br.getImmediate({identifier:Pt})}_removeServiceInstance(Ct,Pt=de._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ct).clearInstance(Pt)}_addComponent(Ct){(0,de._addComponent)(this._delegate,Ct)}_addOrOverwriteComponent(Ct){(0,de._addOrOverwriteComponent)(this._delegate,Ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const bn=new P.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function Wt(){const xi=function mi(xi){const Ct={},Pt={__esModule:!0,initializeApp:function tn(Nt,nr={}){const fe=de.initializeApp(Nt,nr);if((0,P.r3)(Ct,fe.name))return Ct[fe.name];const dn=new xi(fe,Pt);return Ct[fe.name]=dn,dn},app:br,registerVersion:de.registerVersion,setLogLevel:de.setLogLevel,onLog:de.onLog,apps:null,SDK_VERSION:de.SDK_VERSION,INTERNAL:{registerComponent:function Hi(Nt){const nr=Nt.name,fe=nr.replace("-compat","");if(de._registerComponent(Nt)&&"PUBLIC"===Nt.type){const dn=(nn=br())=>{if("function"!=typeof nn[fe])throw bn.create("invalid-app-argument",{appName:nr});return nn[fe]()};void 0!==Nt.serviceProps&&(0,P.ZB)(dn,Nt.serviceProps),Pt[fe]=dn,xi.prototype[fe]=function(...nn){return this._getService.bind(this,nr).apply(this,Nt.multipleInstances?nn:[])}}return"PUBLIC"===Nt.type?Pt[fe]:null},removeApp:function vr(Nt){delete Ct[Nt]},useAsService:function $r(Nt,nr){return"serverAuth"===nr?null:nr},modularAPIs:de}};function br(Nt){if(!(0,P.r3)(Ct,Nt=Nt||de._DEFAULT_ENTRY_NAME))throw bn.create("no-app",{appName:Nt});return Ct[Nt]}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function Ci(){return Object.keys(Ct).map(Nt=>Ct[Nt])}}),br.App=xi,Pt}(At);return xi.INTERNAL=Object.assign(Object.assign({},xi.INTERNAL),{createFirebaseNamespace:Wt,extendNamespace:function Ct(Pt){(0,P.ZB)(xi,Pt)},createSubscribe:P.ne,ErrorFactory:P.LL,deepExtend:P.ZB}),xi}(),ke=new _t.Yd("@firebase/app-compat");if((0,P.jU)()&&void 0!==self.firebase){ke.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xi=self.firebase.SDK_VERSION;xi&&xi.indexOf("LITE")>=0&&ke.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _r=ge;!function li(xi){(0,de.registerVersion)("@firebase/app-compat","0.2.26",xi)}()},823:(Zs,vn,ht)=>{"use strict";ht.r(vn),ht.d(vn,{FirebaseError:()=>_t.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>bo,_addComponent:()=>so,_addOrOverwriteComponent:()=>Ir,_apps:()=>on,_clearComponents:()=>yn,_components:()=>oo,_getProvider:()=>Ti,_registerComponent:()=>Lo,_removeServiceInstance:()=>yo,deleteApp:()=>un,getApp:()=>Ea,getApps:()=>rr,initializeApp:()=>ns,onLog:()=>Xs,registerVersion:()=>Kn,setLogLevel:()=>Fl});var P=ht(861),pt=ht(537),de=ht(879),_t=ht(58);const At=(Q,W)=>W.some(xe=>Q instanceof xe);let en,bn;const ge=new WeakMap,ke=new WeakMap,Ge=new WeakMap,Rt=new WeakMap,li=new WeakMap;let Ct={get(Q,W,xe){if(Q instanceof IDBTransaction){if("done"===W)return ke.get(Q);if("objectStoreNames"===W)return Q.objectStoreNames||Ge.get(Q);if("store"===W)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return tn(Q[W])},set:(Q,W,xe)=>(Q[W]=xe,!0),has:(Q,W)=>Q instanceof IDBTransaction&&("done"===W||"store"===W)||W in Q};function br(Q){return"function"==typeof Q?function vr(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wt(){return bn||(bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...W){return Q.apply(Ci(this),W),tn(ge.get(this))}:function(...W){return tn(Q.apply(Ci(this),W))}:function(W,...xe){const qe=Q.call(Ci(this),W,...xe);return Ge.set(qe,W.sort?W.sort():[W]),tn(qe)}}(Q):(Q instanceof IDBTransaction&&function xi(Q){if(ke.has(Q))return;const W=new Promise((xe,qe)=>{const St=()=>{Q.removeEventListener("complete",ri),Q.removeEventListener("error",X),Q.removeEventListener("abort",X)},ri=()=>{xe(),St()},X=()=>{qe(Q.error||new DOMException("AbortError","AbortError")),St()};Q.addEventListener("complete",ri),Q.addEventListener("error",X),Q.addEventListener("abort",X)});ke.set(Q,W)}(Q),At(Q,function mi(){return en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,Ct):Q)}function tn(Q){if(Q instanceof IDBRequest)return function _r(Q){const W=new Promise((xe,qe)=>{const St=()=>{Q.removeEventListener("success",ri),Q.removeEventListener("error",X)},ri=()=>{xe(tn(Q.result)),St()},X=()=>{qe(Q.error),St()};Q.addEventListener("success",ri),Q.addEventListener("error",X)});return W.then(xe=>{xe instanceof IDBCursor&&ge.set(xe,Q)}).catch(()=>{}),li.set(W,Q),W}(Q);if(Rt.has(Q))return Rt.get(Q);const W=br(Q);return W!==Q&&(Rt.set(Q,W),li.set(W,Q)),W}const Ci=Q=>li.get(Q),Nt=["get","getKey","getAll","getAllKeys","count"],nr=["put","add","delete","clear"],fe=new Map;function dn(Q,W){if(!(Q instanceof IDBDatabase)||W in Q||"string"!=typeof W)return;if(fe.get(W))return fe.get(W);const xe=W.replace(/FromIndex$/,""),qe=W!==xe,St=nr.includes(xe);if(!(xe in(qe?IDBIndex:IDBObjectStore).prototype)||!St&&!Nt.includes(xe))return;const ri=function(){var X=(0,P.Z)(function*(sn,...Ye){const Qt=this.transaction(sn,St?"readwrite":"readonly");let Vo=Qt.store;return qe&&(Vo=Vo.index(Ye.shift())),(yield Promise.all([Vo[xe](...Ye),St&&Qt.done]))[0]});return function(Ye){return X.apply(this,arguments)}}();return fe.set(W,ri),ri}!function Pt(Q){Ct=Q(Ct)}(Q=>({...Q,get:(W,xe,qe)=>dn(W,xe)||Q.get(W,xe,qe),has:(W,xe)=>!!dn(W,xe)||Q.has(W,xe)}));class nn{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function zn(Q){const W=Q.getComponent();return"VERSION"===W?.type}(xe)){const qe=xe.getImmediate();return`${qe.library}/${qe.version}`}return null}).filter(xe=>xe).join(" ")}}const bt="@firebase/app",Vt=new de.Yd("@firebase/app"),bo="[DEFAULT]",xa={[bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,oo=new Map;function so(Q,W){try{Q.container.addComponent(W)}catch(xe){Vt.debug(`Component ${W.name} failed to register with FirebaseApp ${Q.name}`,xe)}}function Ir(Q,W){Q.container.addOrOverwriteComponent(W)}function Lo(Q){const W=Q.name;if(oo.has(W))return Vt.debug(`There were multiple attempts to register component ${W}.`),!1;oo.set(W,Q);for(const xe of on.values())so(xe,Q);return!0}function Ti(Q,W){const xe=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),Q.container.getProvider(W)}function yo(Q,W,xe=bo){Ti(Q,W).clearInstance(xe)}function yn(){oo.clear()}const wo=new _t.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sr{constructor(W,xe,qe){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new pt.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}const is="10.7.2";function ns(Q,W={}){let xe=Q;"object"!=typeof W&&(W={name:W});const qe=Object.assign({name:bo,automaticDataCollectionEnabled:!1},W),St=qe.name;if("string"!=typeof St||!St)throw wo.create("bad-app-name",{appName:String(St)});if(xe||(xe=(0,_t.aH)()),!xe)throw wo.create("no-options");const ri=on.get(St);if(ri){if((0,_t.vZ)(xe,ri.options)&&(0,_t.vZ)(qe,ri.config))return ri;throw wo.create("duplicate-app",{appName:St})}const X=new pt.H0(St);for(const Ye of oo.values())X.addComponent(Ye);const sn=new Sr(xe,qe,X);return on.set(St,sn),sn}function Ea(Q=bo){const W=on.get(Q);if(!W&&Q===bo&&(0,_t.aH)())return ns();if(!W)throw wo.create("no-app",{appName:Q});return W}function rr(){return Array.from(on.values())}function un(Q){return ao.apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*(Q){const W=Q.name;on.has(W)&&(on.delete(W),yield Promise.all(Q.container.getProviders().map(xe=>xe.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function Kn(Q,W,xe){var qe;let St=null!==(qe=xa[Q])&&void 0!==qe?qe:Q;xe&&(St+=`-${xe}`);const ri=St.match(/\s|\//),X=W.match(/\s|\//);if(ri||X){const sn=[`Unable to register library "${St}" with version "${W}":`];return ri&&sn.push(`library name "${St}" contains illegal characters (whitespace or "/")`),ri&&X&&sn.push("and"),X&&sn.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void Vt.warn(sn.join(" "))}Lo(new pt.wA(`${St}-version`,()=>({library:St,version:W}),"VERSION"))}function Xs(Q,W){if(null!==Q&&"function"!=typeof Q)throw wo.create("invalid-log-argument");(0,de.Am)(Q,W)}function Fl(Q){(0,de.Ub)(Q)}const Pc="firebase-heartbeat-database",Kt=1,z="firebase-heartbeat-store";let L=null;function j(){return L||(L=function Hi(Q,W,{blocked:xe,upgrade:qe,blocking:St,terminated:ri}={}){const X=indexedDB.open(Q,W),sn=tn(X);return qe&&X.addEventListener("upgradeneeded",Ye=>{qe(tn(X.result),Ye.oldVersion,Ye.newVersion,tn(X.transaction),Ye)}),xe&&X.addEventListener("blocked",Ye=>xe(Ye.oldVersion,Ye.newVersion,Ye)),sn.then(Ye=>{ri&&Ye.addEventListener("close",()=>ri()),St&&Ye.addEventListener("versionchange",Qt=>St(Qt.oldVersion,Qt.newVersion,Qt))}).catch(()=>{}),sn}(Pc,Kt,{upgrade:(Q,W)=>{if(0===W)try{Q.createObjectStore(z)}catch(xe){console.warn(xe)}}}).catch(Q=>{throw wo.create("idb-open",{originalErrorMessage:Q.message})})),L}function G(){return(G=(0,P.Z)(function*(Q){try{return yield(yield j()).transaction(z).objectStore(z).get(It(Q))}catch(W){if(W instanceof _t.ZR)Vt.warn(W.message);else{const xe=wo.create("idb-get",{originalErrorMessage:W?.message});Vt.warn(xe.message)}}})).apply(this,arguments)}function oe(Q,W){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*(Q,W){try{const qe=(yield j()).transaction(z,"readwrite");yield qe.objectStore(z).put(W,It(Q)),yield qe.done}catch(xe){if(xe instanceof _t.ZR)Vt.warn(xe.message);else{const qe=wo.create("idb-set",{originalErrorMessage:xe?.message});Vt.warn(qe.message)}}})).apply(this,arguments)}function It(Q){return`${Q.name}!${Q.options.appId}`}class Qn{constructor(W){this.container=W,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new Ni(xe),this._heartbeatsCachePromise=this._storage.read().then(qe=>(this._heartbeatsCache=qe,qe))}triggerHeartbeat(){var W=this;return(0,P.Z)(function*(){var xe,qe;const ri=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=We();if((null!=(null===(xe=W._heartbeatsCache)||void 0===xe?void 0:xe.heartbeats)||(W._heartbeatsCache=yield W._heartbeatsCachePromise,null!=(null===(qe=W._heartbeatsCache)||void 0===qe?void 0:qe.heartbeats)))&&W._heartbeatsCache.lastSentHeartbeatDate!==X&&!W._heartbeatsCache.heartbeats.some(sn=>sn.date===X))return W._heartbeatsCache.heartbeats.push({date:X,agent:ri}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(sn=>{const Ye=new Date(sn.date).valueOf();return Date.now()-Ye<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,P.Z)(function*(){var xe;if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null==(null===(xe=W._heartbeatsCache)||void 0===xe?void 0:xe.heartbeats)||0===W._heartbeatsCache.heartbeats.length)return"";const qe=We(),{heartbeatsToSend:St,unsentEntries:ri}=function Xn(Q,W=1024){const xe=[];let qe=Q.slice();for(const St of Q){const ri=xe.find(X=>X.agent===St.agent);if(ri){if(ri.dates.push(St.date),rs(xe)>W){ri.dates.pop();break}}else if(xe.push({agent:St.agent,dates:[St.date]}),rs(xe)>W){xe.pop();break}qe=qe.slice(1)}return{heartbeatsToSend:xe,unsentEntries:qe}}(W._heartbeatsCache.heartbeats),X=(0,_t.L)(JSON.stringify({version:2,heartbeats:St}));return W._heartbeatsCache.lastSentHeartbeatDate=qe,ri.length>0?(W._heartbeatsCache.heartbeats=ri,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),X})()}}function We(){return(new Date).toISOString().substring(0,10)}class Ni{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,P.Z)(function*(){return!!(0,_t.hl)()&&(0,_t.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,P.Z)(function*(){if(yield W._canUseIndexedDBPromise){const qe=yield function te(Q){return G.apply(this,arguments)}(W.app);return qe?.heartbeats?qe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(W){var xe=this;return(0,P.Z)(function*(){var qe;if(yield xe._canUseIndexedDBPromise){const ri=yield xe.read();return oe(xe.app,{lastSentHeartbeatDate:null!==(qe=W.lastSentHeartbeatDate)&&void 0!==qe?qe:ri.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var xe=this;return(0,P.Z)(function*(){var qe;if(yield xe._canUseIndexedDBPromise){const ri=yield xe.read();return oe(xe.app,{lastSentHeartbeatDate:null!==(qe=W.lastSentHeartbeatDate)&&void 0!==qe?qe:ri.lastSentHeartbeatDate,heartbeats:[...ri.heartbeats,...W.heartbeats]})}})()}}function rs(Q){return(0,_t.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function Qd(Q){Lo(new pt.wA("platform-logger",W=>new nn(W),"PRIVATE")),Lo(new pt.wA("heartbeat",W=>new Qn(W),"PRIVATE")),Kn(bt,"0.9.26",Q),Kn(bt,"0.9.26","esm2017"),Kn("fire-js","")}("")},191:(Zs,vn,ht)=>{"use strict";ht.r(vn);var P=ht(861),pt=ht(399),de=ht(58),_t=ht(823),At=ht(879),en=ht(582),bn=ht(537);const Wt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const _r=function Rt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xi=function li(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new de.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vr=new At.Yd("@firebase/auth");function tn(f,...u){vr.logLevel<=At.in.ERROR&&vr.error(`Auth (${_t.SDK_VERSION}): ${f}`,...u)}function Ci(f,...u){throw nr(f,...u)}function Hi(f,...u){return nr(f,...u)}function $r(f,u,m){const _=Object.assign(Object.assign({},xi()),{[u]:m});return new de.LL("auth","Firebase",_).create(u,{appName:f.name})}function Nt(f,u,m){if(!(u instanceof m))throw m.name!==u.constructor.name&&Ci(f,"argument-error"),$r(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nr(f,...u){if("string"!=typeof f){const m=u[0],_=[...u.slice(1)];return _[0]&&(_[0].appName=f.name),f._errorFactory.create(m,..._)}return Ct.create(f,...u)}function fe(f,u,...m){if(!f)throw nr(u,...m)}function dn(f){const u="INTERNAL ASSERTION FAILED: "+f;throw tn(u),new Error(u)}function nn(f,u){f||dn(u)}function zn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function bt(){return"http:"===Ts()||"https:"===Ts()}function Ts(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Ds{constructor(u,m){this.shortDelay=u,this.longDelay=m,nn(m>u,"Short delay should be less than long delay!"),this.isMobile=(0,de.uI)()||(0,de.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,de.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O(f,u){nn(f.emulator,"Emulator should always be set here");const{url:m}=f.emulator;return u?`${m}${u.startsWith("/")?u.slice(1):u}`:m}class se{static initialize(u,m,_){this.fetchImpl=u,m&&(this.headersImpl=m),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=new Ds(3e4,6e4);function ve(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ee(f,u,m,_){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*(f,u,m,_,C={}){return ci(f,C,(0,P.Z)(function*(){let D={},B={};_&&("GET"===u?B=_:D={body:JSON.stringify(_)});const K=(0,de.xO)(Object.assign({key:f.config.apiKey},B)).slice(1),me=yield f._getAdditionalHeaders();return me["Content-Type"]="application/json",f.languageCode&&(me["X-Firebase-Locale"]=f.languageCode),se.fetch()(qi(f,f.config.apiHost,m,K),Object.assign({method:u,headers:me,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function ci(f,u,m){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,P.Z)(function*(f,u,m){f._canInitEmulator=!1;const _=Object.assign(Object.assign({},Z),u);try{const C=new Yn(f),D=yield Promise.race([m(),C.promise]);C.clearNetworkTimeout();const B=yield D.json();if("needConfirmation"in B)throw vi(f,"account-exists-with-different-credential",B);if(D.ok&&!("errorMessage"in B))return B;{const K=D.ok?B.errorMessage:B.error.message,[me,Be]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===me)throw vi(f,"credential-already-in-use",B);if("EMAIL_EXISTS"===me)throw vi(f,"email-already-in-use",B);if("USER_DISABLED"===me)throw vi(f,"user-disabled",B);const Ze=_[me]||me.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw $r(f,Ze,Be);Ci(f,Ze)}}catch(C){if(C instanceof de.ZR)throw C;Ci(f,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function it(f,u,m,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*(f,u,m,_,C={}){const D=yield ee(f,u,m,_,C);return"mfaPendingCredential"in D&&Ci(f,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function qi(f,u,m,_){const C=`${u}${m}?${_}`;return f.config.emulator?O(f.config,C):`${f.config.apiScheme}://${C}`}function Si(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((m,_)=>{this.timer=setTimeout(()=>_(Hi(this.auth,"network-request-failed")),he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vi(f,u,m){const _={appName:f.name};m.email&&(_.email=m.email),m.phoneNumber&&(_.phoneNumber=m.phoneNumber);const C=Hi(f,u,_);return C.customData._tokenResponse=m,C}function Zn(f){return void 0!==f&&void 0!==f.getResponse}function Fi(f){return void 0!==f&&void 0!==f.enterprise}class Bt{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===u)return Si(m.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Qs(){return(Qs=(0,P.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rn(f,u){return wa.apply(this,arguments)}function wa(){return(wa=(0,P.Z)(function*(f,u){return ee(f,"GET","/v2/recaptchaConfig",ve(f,u))})).apply(this,arguments)}function bo(){return(bo=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Ir(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function yo(){return(yo=(0,P.Z)(function*(f,u=!1){const m=(0,de.m9)(f),_=yield m.getIdToken(u),C=Ca(_);fe(C&&C.exp&&C.auth_time&&C.iat,m.auth,"internal-error");const D="object"==typeof C.firebase?C.firebase:void 0,B=D?.sign_in_provider;return{claims:C,token:_,authTime:Ir(yn(C.auth_time)),issuedAtTime:Ir(yn(C.iat)),expirationTime:Ir(yn(C.exp)),signInProvider:B||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function yn(f){return 1e3*Number(f)}function Ca(f){const[u,m,_]=f.split(".");if(void 0===u||void 0===m||void 0===_)return tn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,de.tV)(m);return C?JSON.parse(C):(tn("Failed to decode base64 JWT payload"),null)}catch(C){return tn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Sr(f,u){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(f,u,m=!1){if(m)return u;try{return yield u}catch(_){throw _ instanceof de.ZR&&function ns({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(_)&&f.auth.currentUser===f&&(yield f.auth.signOut()),_}})).apply(this,arguments)}class Ea{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var m;if(u){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var m=this;if(!this.isRunning)return;const _=this.getInterval(u);this.timerId=setTimeout((0,P.Z)(function*(){yield m.iteration()}),_)}iteration(){var u=this;return(0,P.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&u.schedule(!0))}u.schedule()})()}}class rr{constructor(u,m){this.createdAt=u,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function un(f){return ao.apply(this,arguments)}function ao(){return ao=(0,P.Z)(function*(f){var u;const m=f.auth,_=yield f.getIdToken(),C=yield Sr(f,function oo(f,u){return so.apply(this,arguments)}(m,{idToken:_}));fe(C?.users.length,m,"internal-error");const D=C.users[0];f._notifyReloadListener(D);const B=null!==(u=D.providerUserInfo)&&void 0!==u&&u.length?function Pc(f){return f.map(u=>{var{providerId:m}=u,_=(0,en._T)(u,["providerId"]);return{providerId:m,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(D.providerUserInfo):[],K=function Fl(f,u){return[...f.filter(_=>!u.some(C=>C.providerId===_.providerId)),...u]}(f.providerData,B),Ze=!!f.isAnonymous&&!(f.email&&D.passwordHash||K?.length),Qe={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:K,metadata:new rr(D.createdAt,D.lastLoginAt),isAnonymous:Ze};Object.assign(f,Qe)}),ao.apply(this,arguments)}function Xs(){return(Xs=(0,P.Z)(function*(f){const u=(0,de.m9)(f);yield un(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function z(){return(z=(0,P.Z)(function*(f,u){const m=yield ci(f,{},(0,P.Z)(function*(){const _=(0,de.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:D}=f.config,B=qi(f,C,"/v1/token",`key=${D}`),K=yield f._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",se.fetch()(B,{method:"POST",headers:K,body:_})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(f,u){return ee(f,"POST","/v2/accounts:revokeToken",ve(f,u))})).apply(this,arguments)}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){fe(u.idToken,"internal-error"),fe(typeof u.idToken<"u","internal-error"),fe(typeof u.refreshToken<"u","internal-error");const m="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function wo(f){const u=Ca(f);return fe(u,"internal-error"),fe(typeof u.exp<"u","internal-error"),fe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,m)}getToken(u,m=!1){var _=this;return(0,P.Z)(function*(){return fe(!_.accessToken||_.refreshToken,u,"user-token-expired"),m||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(u,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,m){var _=this;return(0,P.Z)(function*(){const{accessToken:C,refreshToken:D,expiresIn:B}=yield function Kt(f,u){return z.apply(this,arguments)}(u,m);_.updateTokensAndExpiration(C,D,Number(B))})()}updateTokensAndExpiration(u,m,_){this.refreshToken=m||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(u,m){const{refreshToken:_,accessToken:C,expirationTime:D}=m,B=new te;return _&&(fe("string"==typeof _,"internal-error",{appName:u}),B.refreshToken=_),C&&(fe("string"==typeof C,"internal-error",{appName:u}),B.accessToken=C),D&&(fe("number"==typeof D,"internal-error",{appName:u}),B.expirationTime=D),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return dn("not implemented")}}function G(f,u){fe("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class oe{constructor(u){var{uid:m,auth:_,stsTokenManager:C}=u,D=(0,en._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ea(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new rr(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(u){var m=this;return(0,P.Z)(function*(){const _=yield Sr(m,m.stsTokenManager.getToken(m.auth,u));return fe(_,m.auth,"internal-error"),m.accessToken!==_&&(m.accessToken=_,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),_})()}getIdTokenResult(u){return function Ti(f){return yo.apply(this,arguments)}(this,u)}reload(){return function Kn(f){return Xs.apply(this,arguments)}(this)}_assign(u){this!==u&&(fe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(m=>Object.assign({},m)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const m=new oe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(u){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,m=!1){var _=this;return(0,P.Z)(function*(){let C=!1;u.idToken&&u.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(u),C=!0),m&&(yield un(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var u=this;return(0,P.Z)(function*(){const m=yield u.getIdToken();return yield Sr(u,function Rc(f,u){return bo.apply(this,arguments)}(u.auth,{idToken:m})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,m){var _,C,D,B,K,me,Be,Ze;const Qe=null!==(_=m.displayName)&&void 0!==_?_:void 0,Un=null!==(C=m.email)&&void 0!==C?C:void 0,ra=null!==(D=m.phoneNumber)&&void 0!==D?D:void 0,Zf=null!==(B=m.photoURL)&&void 0!==B?B:void 0,BC=null!==(K=m.tenantId)&&void 0!==K?K:void 0,Su=null!==(me=m._redirectEventId)&&void 0!==me?me:void 0,Mb=null!==(Be=m.createdAt)&&void 0!==Be?Be:void 0,zC=null!==(Ze=m.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:Kf,emailVerified:VM,isAnonymous:Ab,providerData:HC,stsTokenManager:jC}=m;fe(Kf&&jC,u,"internal-error");const BM=te.fromJSON(this.name,jC);fe("string"==typeof Kf,u,"internal-error"),G(Qe,u.name),G(Un,u.name),fe("boolean"==typeof VM,u,"internal-error"),fe("boolean"==typeof Ab,u,"internal-error"),G(ra,u.name),G(Zf,u.name),G(BC,u.name),G(Su,u.name),G(Mb,u.name),G(zC,u.name);const Sm=new oe({uid:Kf,auth:u,email:Un,emailVerified:VM,displayName:Qe,isAnonymous:Ab,photoURL:Zf,phoneNumber:ra,tenantId:BC,stsTokenManager:BM,createdAt:Mb,lastLoginAt:zC});return HC&&Array.isArray(HC)&&(Sm.providerData=HC.map(e3=>Object.assign({},e3))),Su&&(Sm._redirectEventId=Su),Sm}static _fromIdTokenResponse(u,m,_=!1){return(0,P.Z)(function*(){const C=new te;C.updateFromServerResponse(m);const D=new oe({uid:m.localId,auth:u,stsTokenManager:C,isAnonymous:_});return yield un(D),D})()}}const ft=new Map;function It(f){nn(f instanceof Function,"Expected a class definition");let u=ft.get(f);return u?(nn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,ft.set(f,u),u)}const Yi=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,P.Z)(function*(){return!0})()}_set(m,_){var C=this;return(0,P.Z)(function*(){C.storage[m]=_})()}_get(m){var _=this;return(0,P.Z)(function*(){const C=_.storage[m];return void 0===C?null:C})()}_remove(m){var _=this;return(0,P.Z)(function*(){delete _.storage[m]})()}_addListener(m,_){}_removeListener(m,_){}}return f.type="NONE",f})();function Qn(f,u,m){return`firebase:${f}:${u}:${m}`}class We{constructor(u,m,_){this.persistence=u,this.auth=m,this.userKey=_;const{config:C,name:D}=this.auth;this.fullUserKey=Qn(this.userKey,C.apiKey,D),this.fullPersistenceKey=Qn("persistence",C.apiKey,D),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,P.Z)(function*(){const m=yield u.persistence._get(u.fullUserKey);return m?oe._fromJSON(u.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var m=this;return(0,P.Z)(function*(){if(m.persistence===u)return;const _=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=u,_?m.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,m,_="authUser"){return(0,P.Z)(function*(){if(!m.length)return new We(It(Yi),u,_);const C=(yield Promise.all(m.map(function(){var Be=(0,P.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let D=C[0]||It(Yi);const B=Qn(_,u.config.apiKey,u.name);let K=null;for(const Be of m)try{const Ze=yield Be._get(B);if(Ze){const Qe=oe._fromJSON(u,Ze);Be!==D&&(K=Qe),D=Be;break}}catch{}const me=C.filter(Be=>Be._shouldAllowMigration);return D._shouldAllowMigration&&me.length?(D=me[0],K&&(yield D._set(B,K.toJSON())),yield Promise.all(m.map(function(){var Be=(0,P.Z)(function*(Ze){if(Ze!==D)try{yield Ze._remove(B)}catch{}});return function(Ze){return Be.apply(this,arguments)}}())),new We(D,u,_)):new We(D,u,_)})()}}function Xn(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Q(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Ni(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(xe(u))return"Blackberry";if(qe(u))return"Webos";if(rs(u))return"Safari";if((u.includes("chrome/")||Qd(u))&&!u.includes("edge/"))return"Chrome";if(W(u))return"Android";{const _=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Ni(f=(0,de.z$)()){return/firefox\//i.test(f)}function rs(f=(0,de.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Qd(f=(0,de.z$)()){return/crios\//i.test(f)}function Q(f=(0,de.z$)()){return/iemobile/i.test(f)}function W(f=(0,de.z$)()){return/android/i.test(f)}function xe(f=(0,de.z$)()){return/blackberry/i.test(f)}function qe(f=(0,de.z$)()){return/webos/i.test(f)}function St(f=(0,de.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ye(f=(0,de.z$)()){return St(f)||W(f)||qe(f)||xe(f)||/windows phone/i.test(f)||Q(f)}function Vo(f,u=[]){let m;switch(f){case"Browser":m=Xn((0,de.z$)());break;case"Worker":m=`${Xn((0,de.z$)())}-${f}`;break;default:m=f}const _=u.length?u.join(","):"FirebaseCore-web";return`${m}/JsCore/${_t.SDK_VERSION}/${_}`}class Rx{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,m){const _=D=>new Promise((B,K)=>{try{B(u(D))}catch(me){K(me)}});_.onAbort=m,this.queue.push(_);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var m=this;return(0,P.Z)(function*(){if(m.auth.currentUser===u)return;const _=[];try{for(const C of m.queue)yield C(u),C.onAbort&&_.push(C.onAbort)}catch(C){_.reverse();for(const D of _)try{D()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function Nl(){return(Nl=(0,P.Z)(function*(f,u={}){return ee(f,"GET","/v2/passwordPolicy",ve(f,u))})).apply(this,arguments)}class Px{constructor(u){var m,_,C,D;const B=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=B.minPasswordLength)&&void 0!==m?m:6,B.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=B.maxPasswordLength),void 0!==B.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=B.containsLowercaseCharacter),void 0!==B.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=B.containsUppercaseCharacter),void 0!==B.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=B.containsNumericCharacter),void 0!==B.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=B.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(_=u.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(D=u.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=u.schemaVersion}validatePassword(u){var m,_,C,D,B,K;const me={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,me),this.validatePasswordCharacterOptions(u,me),me.isValid&&(me.isValid=null===(m=me.meetsMinPasswordLength)||void 0===m||m),me.isValid&&(me.isValid=null===(_=me.meetsMaxPasswordLength)||void 0===_||_),me.isValid&&(me.isValid=null===(C=me.containsLowercaseLetter)||void 0===C||C),me.isValid&&(me.isValid=null===(D=me.containsUppercaseLetter)||void 0===D||D),me.isValid&&(me.isValid=null===(B=me.containsNumericCharacter)||void 0===B||B),me.isValid&&(me.isValid=null===(K=me.containsNonAlphanumericCharacter)||void 0===K||K),me}validatePasswordLengthOptions(u,m){const _=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;_&&(m.meetsMinPasswordLength=u.length>=_),C&&(m.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,m){let _;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let C=0;C<u.length;C++)_=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(m,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(u,m,_,C,D){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=D))}}class Bv{constructor(u,m,_,C){this.app=u,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,m){var _=this;return m&&(this._popupRedirectResolver=It(m)),this._initializationPromise=this.queue((0,P.Z)(function*(){var C,D;if(!_._deleted&&(_.persistenceManager=yield We.create(_,u),!_._deleted)){if(null!==(C=_._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(m),_.lastNotifiedUid=(null===(D=_.currentUser)||void 0===D?void 0:D.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,P.Z)(function*(){if(u._deleted)return;const m=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||m){if(u.currentUser&&m&&u.currentUser.uid===m.uid)return u._currentUser._assign(m),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(m,!0)}})()}initializeCurrentUser(u){var m=this;return(0,P.Z)(function*(){var _;const C=yield m.assertedPersistence.getCurrentUser();let D=C,B=!1;if(u&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(_=m.redirectUser)||void 0===_?void 0:_._redirectEventId,me=D?._redirectEventId,Be=yield m.tryRedirectSignIn(u);(!K||K===me)&&Be?.user&&(D=Be.user,B=!0)}if(!D)return m.directlySetCurrentUser(null);if(!D._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(D)}catch(K){D=C,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return D?m.reloadAndSetCurrentUserOrClear(D):m.directlySetCurrentUser(null)}return fe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===D._redirectEventId?m.directlySetCurrentUser(D):m.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(u){var m=this;return(0,P.Z)(function*(){let _=null;try{_=yield m._popupRedirectResolver._completeRedirectFn(m,u,!0)}catch{yield m._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(u){var m=this;return(0,P.Z)(function*(){try{yield un(u)}catch(_){if("auth/network-request-failed"!==_?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ks(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,P.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var m=this;return(0,P.Z)(function*(){const _=u?(0,de.m9)(u):null;return _&&fe(_.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(_&&_._clone(m))})()}_updateCurrentUser(u,m=!1){var _=this;return(0,P.Z)(function*(){if(!_._deleted)return u&&fe(_.tenantId===u.tenantId,_,"tenant-id-mismatch"),m||(yield _.beforeStateQueue.runMiddleware(u)),_.queue((0,P.Z)(function*(){yield _.directlySetCurrentUser(u),_.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,P.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var m=this;return this.queue((0,P.Z)(function*(){yield m.assertedPersistence.setPersistence(It(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var m=this;return(0,P.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const _=m._getPasswordPolicyInternal();return _.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,P.Z)(function*(){const m=yield function Vv(f){return Nl.apply(this,arguments)}(u),_=new Px(m);null===u.tenantId?u._projectPasswordPolicy=_:u._tenantPasswordPolicies[u.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new de.LL("auth","Firebase",u())}onAuthStateChanged(u,m,_){return this.registerStateListener(this.authStateSubscription,u,m,_)}beforeAuthStateChanged(u,m){return this.beforeStateQueue.pushCallback(u,m)}onIdTokenChanged(u,m,_){return this.registerStateListener(this.idTokenSubscription,u,m,_)}authStateReady(){return new Promise((u,m)=>{if(this.currentUser)u();else{const _=this.onAuthStateChanged(()=>{_(),u()},m)}})}revokeAccessToken(u){var m=this;return(0,P.Z)(function*(){if(m.currentUser){const _=yield m.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:_};null!=m.tenantId&&(C.tenantId=m.tenantId),yield function L(f,u){return j.apply(this,arguments)}(m,C)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,m){var _=this;return(0,P.Z)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(m);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var m=this;return(0,P.Z)(function*(){if(!m.redirectPersistenceManager){const _=u&&It(u)||m._popupRedirectResolver;fe(_,m,"argument-error"),m.redirectPersistenceManager=yield We.create(m,[It(_._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(u){var m=this;return(0,P.Z)(function*(){var _,C;return m._isInitialized&&(yield m.queue((0,P.Z)(function*(){}))),(null===(_=m._currentUser)||void 0===_?void 0:_._redirectEventId)===u?m._currentUser:(null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?m.redirectUser:null})()}_persistUserIfCurrent(u){var m=this;return(0,P.Z)(function*(){if(u===m.currentUser)return m.queue((0,P.Z)(function*(){return m.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(m=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,m,_,C){if(this._deleted)return()=>{};const D="function"==typeof m?m:m.next.bind(m);let B=!1;const K=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(K,this,"internal-error"),K.then(()=>{B||D(this.currentUser)}),"function"==typeof m){const me=u.addObserver(m,_,C);return()=>{B=!0,me()}}{const me=u.addObserver(m);return()=>{B=!0,me()}}}directlySetCurrentUser(u){var m=this;return(0,P.Z)(function*(){m.currentUser&&m.currentUser!==u&&m._currentUser._stopProactiveRefresh(),u&&m.isProactiveRefreshEnabled&&u._startProactiveRefresh(),m.currentUser=u,u?yield m.assertedPersistence.setCurrentUser(u):yield m.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,P.Z)(function*(){var m;const _={"X-Client-Version":u.clientVersion};u.app.options.appId&&(_["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(m=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();C&&(_["X-Firebase-Client"]=C);const D=yield u._getAppCheckToken();return D&&(_["X-Firebase-AppCheck"]=D),_})()}_getAppCheckToken(){var u=this;return(0,P.Z)(function*(){var m;const _=yield null===(m=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return _?.error&&function br(f,...u){vr.logLevel<=At.in.WARN&&vr.warn(`Auth (${_t.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function an(f){return(0,de.m9)(f)}class ka{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,de.ne)(m=>this.observer=m)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Li(f){return new Promise((u,m)=>{const _=document.createElement("script");_.setAttribute("src",f),_.onload=u,_.onerror=C=>{const D=Hi("internal-error");D.customData=C,m(D)},_.type="text/javascript",_.charset="UTF-8",function Ox(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(_)})}function zv(f){return`__${f}${Math.floor(1e6*Math.random())}`}class cf{constructor(u){this.type="recaptcha-enterprise",this.auth=an(u)}verify(u="verify",m=!1){var _=this;return(0,P.Z)(function*(){function D(){return D=(0,P.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var me=(0,P.Z)(function*(Be,Ze){rn(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qe=>{if(void 0!==Qe.recaptchaKey){const Un=new Bt(Qe);return null==K.tenantId?K._agentRecaptchaConfig=Un:K._tenantRecaptchaConfigs[K.tenantId]=Un,Be(Un.siteKey)}Ze(new Error("recaptcha Enterprise site key undefined"))}).catch(Qe=>{Ze(Qe)})});return function(Be,Ze){return me.apply(this,arguments)}}())}),D.apply(this,arguments)}function B(K,me,Be){const Ze=window.grecaptcha;Fi(Ze)?Ze.enterprise.ready(()=>{Ze.enterprise.execute(K,{action:u}).then(Qe=>{me(Qe)}).catch(()=>{me("NO_RECAPTCHA")})}):Be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,me)=>{(function C(K){return D.apply(this,arguments)})(_.auth).then(Be=>{if(!m&&Fi(window.grecaptcha))B(Be,K,me);else{if(typeof window>"u")return void me(new Error("RecaptchaVerifier is only supported in browser"));Li("https://www.google.com/recaptcha/enterprise.js?render="+Be).then(()=>{B(Be,K,me)}).catch(Ze=>{me(Ze)})}}).catch(Be=>{me(Be)})})})()}}function jv(f,u,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(f,u,m,_=!1){const C=new cf(f);let D;try{D=yield C.verify(m)}catch{D=yield C.verify(m,!0)}const B=Object.assign({},u);return Object.assign(B,_?{captchaResp:D}:{captchaResponse:D}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}function ct(f,u,m,_){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,P.Z)(function*(f,u,m,_){var C;if(null!==(C=f._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield jv(f,u,m,"getOobCode"===m);return _(f,D)}return _(f,u).catch(function(){var D=(0,P.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const K=yield jv(f,u,m,"getOobCode"===m);return _(f,K)}return Promise.reject(B)});return function(B){return D.apply(this,arguments)}}())}),Wh.apply(this,arguments)}function Oc(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function qh(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Ss{constructor(u,m){this.providerId=u,this.signInMethod=m}toJSON(){return dn("not implemented")}_getIdTokenResponse(u){return dn("not implemented")}_linkToIdToken(u,m){return dn("not implemented")}_getReauthenticationResolver(u){return dn("not implemented")}}function Ll(f,u){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:resetPassword",ve(f,u))})).apply(this,arguments)}function Yh(){return(Yh=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function oi(f,u){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Ar(){return(Ar=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",ve(f,u))})).apply(this,arguments)}function uf(f,u){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithPassword",ve(f,u))})).apply(this,arguments)}function Mi(f,u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendOobCode",ve(f,u))})).apply(this,arguments)}function q(){return(q=(0,P.Z)(function*(f,u){return Mi(f,u)})).apply(this,arguments)}function Ta(f,u){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,P.Z)(function*(f,u){return Mi(f,u)})).apply(this,arguments)}function hf(f,u){return oc.apply(this,arguments)}function oc(){return(oc=(0,P.Z)(function*(f,u){return Mi(f,u)})).apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(f,u){return Mi(f,u)})).apply(this,arguments)}function pf(){return(pf=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithEmailLink",ve(f,u))})).apply(this,arguments)}function ff(){return(ff=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithEmailLink",ve(f,u))})).apply(this,arguments)}class Xd extends Ss{constructor(u,m,_,C=null){super("password",_),this._email=u,this._password=m,this._tenantId=C}static _fromEmailAndPassword(u,m){return new Xd(u,m,"password")}static _fromEmailAndCode(u,m,_=null){return new Xd(u,m,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(u){var m=this;return(0,P.Z)(function*(){switch(m.signInMethod){case"password":return ct(u,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",uf);case"emailLink":return function Bx(f,u){return pf.apply(this,arguments)}(u,{email:m._email,oobCode:m._password});default:Ci(u,"internal-error")}})()}_linkToIdToken(u,m){var _=this;return(0,P.Z)(function*(){switch(_.signInMethod){case"password":return ct(u,{idToken:m,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oi);case"emailLink":return function zx(f,u){return ff.apply(this,arguments)}(u,{idToken:m,email:_._email,oobCode:_._password});default:Ci(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function or(f,u){return zl.apply(this,arguments)}function zl(){return(zl=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithIdp",ve(f,u))})).apply(this,arguments)}class os extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const m=new os(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(m.idToken=u.idToken),u.accessToken&&(m.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(m.nonce=u.nonce),u.pendingToken&&(m.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(m.accessToken=u.oauthToken,m.secret=u.oauthTokenSecret):Ci("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C}=m,D=(0,en._T)(m,["providerId","signInMethod"]);if(!_||!C)return null;const B=new os(_,C);return B.idToken=D.idToken||void 0,B.accessToken=D.accessToken||void 0,B.secret=D.secret,B.nonce=D.nonce,B.pendingToken=D.pendingToken||null,B}_getIdTokenResponse(u){return or(u,this.buildRequest())}_linkToIdToken(u,m){const _=this.buildRequest();return _.idToken=m,or(u,_)}_getReauthenticationResolver(u){const m=this.buildRequest();return m.autoCreate=!1,or(u,m)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),u.postBody=(0,de.xO)(m)}return u}}function Qh(){return(Qh=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendVerificationCode",ve(f,u))})).apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithPhoneNumber",ve(f,u))})).apply(this,arguments)}function Ms(){return(Ms=(0,P.Z)(function*(f,u){const m=yield it(f,"POST","/v1/accounts:signInWithPhoneNumber",ve(f,u));if(m.temporaryProof)throw vi(f,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const qv={USER_NOT_FOUND:"user-not-found"};function Jd(){return(Jd=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithPhoneNumber",ve(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),qv)})).apply(this,arguments)}class De extends Ss{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,m){return new De({verificationId:u,verificationCode:m})}static _fromTokenResponse(u,m){return new De({phoneNumber:u,temporaryProof:m})}_getIdTokenResponse(u){return function gf(f,u){return Da.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,m){return function Gv(f,u){return Ms.apply(this,arguments)}(u,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function U(f,u){return Jd.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:m,verificationId:_,verificationCode:C}=this.params;return u&&m?{temporaryProof:u,phoneNumber:m}:{sessionInfo:_,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:m,verificationCode:_,phoneNumber:C,temporaryProof:D}=u;return _||m||C||D?new De({verificationId:m,verificationCode:_,phoneNumber:C,temporaryProof:D}):null}}class Rr{constructor(u){var m,_,C,D,B,K;const me=(0,de.zd)((0,de.pd)(u)),Be=null!==(m=me.apiKey)&&void 0!==m?m:null,Ze=null!==(_=me.oobCode)&&void 0!==_?_:null,Qe=function jl(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=me.mode)&&void 0!==C?C:null);fe(Be&&Ze&&Qe,"argument-error"),this.apiKey=Be,this.operation=Qe,this.code=Ze,this.continueUrl=null!==(D=me.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(B=me.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(K=me.tenantId)&&void 0!==K?K:null}static parseLink(u){const m=function Xh(f){const u=(0,de.zd)((0,de.pd)(f)).link,m=u?(0,de.zd)((0,de.pd)(u)).deep_link_id:null,_=(0,de.zd)((0,de.pd)(f)).deep_link_id;return(_?(0,de.zd)((0,de.pd)(_)).link:null)||_||m||u||f}(u);try{return new Rr(m)}catch{return null}}}let eu=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(m,_){return Xd._fromEmailAndPassword(m,_)}static credentialWithLink(m,_){const C=Rr.parseLink(_);return fe(C,"argument-error"),Xd._fromEmailAndCode(m,C.code,C.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class xo{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class co extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Js extends co{static credentialFromJSON(u){const m="string"==typeof u?JSON.parse(u):u;return fe("providerId"in m&&"signInMethod"in m,"argument-error"),os._fromParams(m)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return fe(u.idToken||u.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Js.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Js.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:m,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:D,nonce:B,providerId:K}=u;if(!_&&!C&&!m&&!D||!K)return null;try{return new Js(K)._credential({idToken:m,accessToken:_,nonce:B,pendingToken:D})}catch{return null}}}let Co=(()=>{class f extends co{constructor(){super("facebook.com")}static credential(m){return os._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return f.credential(m.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Bo=(()=>{class f extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(m,_){return os._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:_})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C}=m;if(!_&&!C)return null;try{return f.credential(_,C)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Xt=(()=>{class f extends co{constructor(){super("github.com")}static credential(m){return os._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return f.credential(m.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Ia extends Ss{constructor(u,m){super(u,u),this.pendingToken=m}_getIdTokenResponse(u){return or(u,this.buildRequest())}_linkToIdToken(u,m){const _=this.buildRequest();return _.idToken=m,or(u,_)}_getReauthenticationResolver(u){const m=this.buildRequest();return m.autoCreate=!1,or(u,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const m="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C,pendingToken:D}=m;return _&&C&&D&&_===C?new Ia(_,D):null}static _create(u,m){return new Ia(u,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ul extends xo{constructor(u){fe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Ul.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Ul.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const m=Ia.fromJSON(u);return fe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:m,providerId:_}=u;if(!m||!_)return null;try{return Ia._create(_,m)}catch{return null}}}let As=(()=>{class f extends co{constructor(){super("twitter.com")}static credential(m,_){return os._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:_})}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=m;if(!_||!C)return null;try{return f.credential(_,C)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Lc(f,u){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signUp",ve(f,u))})).apply(this,arguments)}class Eo{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,m,_,C=!1){return(0,P.Z)(function*(){const D=yield oe._fromIdTokenResponse(u,_,C),B=nu(_);return new Eo({user:D,providerId:B,_tokenResponse:_,operationType:m})})()}static _forOperation(u,m,_){return(0,P.Z)(function*(){yield u._updateTokensIfNecessary(_,!0);const C=nu(_);return new Eo({user:u,providerId:C,_tokenResponse:_,operationType:m})})()}}function nu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function $l(){return($l=(0,P.Z)(function*(f){var u;const m=an(f);if(yield m._initializationPromise,null!==(u=m.currentUser)&&void 0!==u&&u.isAnonymous)return new Eo({user:m.currentUser,providerId:null,operationType:"signIn"});const _=yield Lc(m,{returnSecureToken:!0}),C=yield Eo._fromIdTokenResponse(m,"signIn",_,!0);return yield m._updateCurrentUser(C.user),C})).apply(this,arguments)}class ea extends de.ZR{constructor(u,m,_,C){var D;super(m.code,m.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,ea.prototype),this.customData={appName:u.name,tenantId:null!==(D=u.tenantId)&&void 0!==D?D:void 0,_serverResponse:m.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(u,m,_,C){return new ea(u,m,_,C)}}function Vc(f,u,m,_){return("reauthenticate"===u?m._getReauthenticationResolver(f):m._getIdTokenResponse(f)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?ea._fromErrorAndOperation(f,D,u,_):D})}function em(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function ru(){return ru=(0,P.Z)(function*(f,u){const m=(0,de.m9)(f);yield Pr(!0,m,u);const{providerUserInfo:_}=yield function xa(f,u){return on.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[u]}),C=em(_||[]);return m.providerData=m.providerData.filter(D=>C.has(D.providerId)),C.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ru.apply(this,arguments)}function ou(f,u){return tm.apply(this,arguments)}function tm(){return(tm=(0,P.Z)(function*(f,u,m=!1){const _=yield Sr(f,u._linkToIdToken(f.auth,yield f.getIdToken()),m);return Eo._forOperation(f,"link",_)})).apply(this,arguments)}function Pr(f,u,m){return su.apply(this,arguments)}function su(){return(su=(0,P.Z)(function*(f,u,m){yield un(u);const C=!1===f?"provider-already-linked":"no-such-provider";fe(em(u.providerData).has(m)===f,u.auth,C)})).apply(this,arguments)}function au(f,u){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,P.Z)(function*(f,u,m=!1){const{auth:_}=f,C="reauthenticate";try{const D=yield Sr(f,Vc(_,C,u,f),m);fe(D.idToken,_,"internal-error");const B=Ca(D.idToken);fe(B,_,"internal-error");const{sub:K}=B;return fe(f.uid===K,_,"user-mismatch"),Eo._forOperation(f,C,D)}catch(D){throw"auth/user-not-found"===D?.code&&Ci(_,"user-mismatch"),D}})).apply(this,arguments)}function Gl(f,u){return im.apply(this,arguments)}function im(){return(im=(0,P.Z)(function*(f,u,m=!1){const _="signIn",C=yield Vc(f,_,u),D=yield Eo._fromIdTokenResponse(f,_,C);return m||(yield f._updateCurrentUser(D.user)),D})).apply(this,arguments)}function ql(f,u){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(f,u){return Gl(an(f),u)})).apply(this,arguments)}function nm(f,u){return cu.apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(f,u){const m=(0,de.m9)(f);return yield Pr(!1,m,u.providerId),ou(m,u)})).apply(this,arguments)}function rm(f,u){return gt.apply(this,arguments)}function gt(){return(gt=(0,P.Z)(function*(f,u){return au((0,de.m9)(f),u)})).apply(this,arguments)}function lu(){return(lu=(0,P.Z)(function*(f,u){return it(f,"POST","/v1/accounts:signInWithCustomToken",ve(f,u))})).apply(this,arguments)}function Ae(){return Ae=(0,P.Z)(function*(f,u){const m=an(f),_=yield function vf(f,u){return lu.apply(this,arguments)}(m,{token:u,returnSecureToken:!0}),C=yield Eo._fromIdTokenResponse(m,"signIn",_);return yield m._updateCurrentUser(C.user),C}),Ae.apply(this,arguments)}class Zl{constructor(u,m){this.factorId=u,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(u,m){return"phoneInfo"in m?du._fromServerResponse(u,m):"totpInfo"in m?ae._fromServerResponse(u,m):Ci(u,"internal-error")}}class du extends Zl{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,m){return new du(m)}}class ae extends Zl{constructor(u){super("totp",u)}static _fromServerResponse(u,m){return new ae(m)}}function sr(f,u,m){var _;fe((null===(_=m.url)||void 0===_?void 0:_.length)>0,f,"invalid-continue-uri"),fe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=m.url,u.dynamicLinkDomain=m.dynamicLinkDomain,u.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(fe(m.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=m.iOS.bundleId),m.android&&(fe(m.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=m.android.installApp,u.androidMinimumVersionCode=m.android.minimumVersion,u.androidPackageName=m.android.packageName)}function si(f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,P.Z)(function*(f){const u=an(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Sa(){return(Sa=(0,P.Z)(function*(f,u,m){const _=an(f),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};m&&sr(_,C,m),yield ct(_,C,"getOobCode",Ta)})).apply(this,arguments)}function uu(){return uu=(0,P.Z)(function*(f,u,m){yield Ll((0,de.m9)(f),{oobCode:u,newPassword:m}).catch(function(){var _=(0,P.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&si(f),C});return function(C){return _.apply(this,arguments)}}())}),uu.apply(this,arguments)}function Bc(){return Bc=(0,P.Z)(function*(f,u){yield function df(f,u){return Ar.apply(this,arguments)}((0,de.m9)(f),{oobCode:u})}),Bc.apply(this,arguments)}function sm(f,u){return am.apply(this,arguments)}function am(){return(am=(0,P.Z)(function*(f,u){const m=(0,de.m9)(f),_=yield Ll(m,{oobCode:u}),C=_.requestType;switch(fe(C,m,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(_.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(_.mfaInfo,m,"internal-error");default:fe(_.email,m,"internal-error")}let D=null;return _.mfaInfo&&(D=Zl._fromServerResponse(an(m),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:D},operation:C}})).apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*(f,u){const{data:m}=yield sm((0,de.m9)(f),u);return m.email})).apply(this,arguments)}function ji(){return(ji=(0,P.Z)(function*(f,u,m){const _=an(f),B=yield ct(_,{returnSecureToken:!0,email:u,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lc).catch(me=>{throw"auth/password-does-not-meet-requirements"===me.code&&si(f),me}),K=yield Eo._fromIdTokenResponse(_,"signIn",B);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(f,u,m){const _=an(f),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function D(B,K){fe(K.handleCodeInApp,_,"argument-error"),K&&sr(_,B,K)})(C,m),yield ct(_,C,"getOobCode",hf)})).apply(this,arguments)}function Rs(){return(Rs=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f),C=eu.credentialWithLink(u,m||zn());return fe(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),ql(_,C)})).apply(this,arguments)}function yt(){return(yt=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:createAuthUri",ve(f,u))})).apply(this,arguments)}function hu(){return hu=(0,P.Z)(function*(f,u){const _={identifier:u,continueUri:bt()?zn():"http://localhost"},{signinMethods:C}=yield function Hc(f,u){return yt.apply(this,arguments)}((0,de.m9)(f),_);return C||[]}),hu.apply(this,arguments)}function mn(){return mn=(0,P.Z)(function*(f,u){const m=(0,de.m9)(f),C={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&sr(m.auth,C,u);const{email:D}=yield function Vx(f,u){return q.apply(this,arguments)}(m.auth,C);D!==f.email&&(yield f.reload())}),mn.apply(this,arguments)}function ta(){return ta=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};m&&sr(_.auth,D,m);const{email:B}=yield function mf(f,u){return Bl.apply(this,arguments)}(_.auth,D);B!==f.email&&(yield f.reload())}),ta.apply(this,arguments)}function sc(){return(sc=(0,P.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function as(){return as=(0,P.Z)(function*(f,{displayName:u,photoURL:m}){if(void 0===u&&void 0===m)return;const _=(0,de.m9)(f),D={idToken:yield _.getIdToken(),displayName:u,photoUrl:m,returnSecureToken:!0},B=yield Sr(_,function Ps(f,u){return sc.apply(this,arguments)}(_.auth,D));_.displayName=B.displayName||null,_.photoURL=B.photoUrl||null;const K=_.providerData.find(({providerId:me})=>"password"===me);K&&(K.displayName=_.displayName,K.photoURL=_.photoURL),yield _._updateTokensIfNecessary(B)}),as.apply(this,arguments)}function $c(f,u,m){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,P.Z)(function*(f,u,m){const{auth:_}=f,D={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(D.email=u),m&&(D.password=m);const B=yield Sr(f,function lf(f,u){return Yh.apply(this,arguments)}(_,D));yield f._updateTokensIfNecessary(B,!0)}),Gt.apply(this,arguments)}class ia{constructor(u,m,_={}){this.isNewUser=u,this.providerId=m,this.profile=_}}class cm extends ia{constructor(u,m,_,C){super(u,m,_),this.username=C}}class Os extends ia{constructor(u,m){super(u,"facebook.com",m)}}class mu extends cm{constructor(u,m){super(u,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Wc extends ia{constructor(u,m){super(u,"google.com",m)}}class Jl extends cm{constructor(u,m,_){super(u,"twitter.com",m,_)}}function yr(f){const{user:u,_tokenResponse:m}=f;return u.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function jx(f){var u,m;if(!f)return null;const{providerId:_}=f,C=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},D=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!_&&f?.idToken){const B=null===(m=null===(u=Ca(f.idToken))||void 0===u?void 0:u.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new ia(D,"anonymous"!==B&&"custom"!==B?B:null)}if(!_)return null;switch(_){case"facebook.com":return new Os(D,C);case"github.com":return new mu(D,C);case"google.com":return new Wc(D,C);case"twitter.com":return new Jl(D,C,f.screenName||null);case"custom":case"anonymous":return new ia(D,null);default:return new ia(D,_,C)}}(m)}class Gc{constructor(u,m,_){this.type=u,this.credential=m,this.user=_}static _fromIdtoken(u,m){return new Gc("enroll",u,m)}static _fromMfaPendingCredential(u){return new Gc("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var m,_;if(u?.multiFactorSession){if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Gc._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(_=u.multiFactorSession)&&void 0!==_&&_.idToken)return Gc._fromIdtoken(u.multiFactorSession.idToken)}return null}}class ds{constructor(u,m,_){this.session=u,this.hints=m,this.signInResolver=_}static _fromError(u,m){const _=an(u),C=m.customData._serverResponse,D=(C.mfaInfo||[]).map(K=>Zl._fromServerResponse(_,K));fe(C.mfaPendingCredential,_,"internal-error");const B=Gc._fromMfaPendingCredential(C.mfaPendingCredential);return new ds(B,D,function(){var K=(0,P.Z)(function*(me){const Be=yield me._process(_,B);delete C.mfaInfo,delete C.mfaPendingCredential;const Ze=Object.assign(Object.assign({},C),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(m.operationType){case"signIn":const Qe=yield Eo._fromIdTokenResponse(_,m.operationType,Ze);return yield _._updateCurrentUser(Qe.user),Qe;case"reauthenticate":return fe(m.user,_,"internal-error"),Eo._forOperation(m.user,m.operationType,Ze);default:Ci(_,"internal-error")}});return function(me){return K.apply(this,arguments)}}())}resolveSignIn(u){var m=this;return(0,P.Z)(function*(){return m.signInResolver(u)})()}}class xf{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(_=>Zl._fromServerResponse(u.auth,_)))})}static _fromUser(u){return new xf(u)}getSession(){var u=this;return(0,P.Z)(function*(){return Gc._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,m){var _=this;return(0,P.Z)(function*(){const C=u,D=yield _.getSession(),B=yield Sr(_.user,C._process(_.user.auth,D,m));return yield _.user._updateTokensIfNecessary(B),_.user.reload()})()}unenroll(u){var m=this;return(0,P.Z)(function*(){const _="string"==typeof u?u:u.uid,C=yield m.user.getIdToken();try{const D=yield Sr(m.user,function Zx(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(f,u))}(m.user.auth,{idToken:C,mfaEnrollmentId:_}));m.enrolledFactors=m.enrolledFactors.filter(({uid:B})=>B!==_),yield m.user._updateTokensIfNecessary(D),yield m.user.reload()}catch(D){throw D}})()}}const Cf=new WeakMap,fu="__sak";class gu{constructor(u,m){this.storageRetriever=u,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,m){return this.storage.setItem(u,JSON.stringify(m)),Promise.resolve()}_get(u){const m=this.storage.getItem(u);return Promise.resolve(m?JSON.parse(m):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const E=(()=>{class f extends gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,_)=>this.onStorageEvent(m,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ed(){const f=(0,de.z$)();return rs(f)||St(f)}()&&function Qt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ye(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),D=this.localCache[_];C!==D&&m(_,D,C)}}onStorageEvent(m,_=!1){if(!m.key)return void this.forAllChangedKeys((K,me,Be)=>{this.notifyListeners(K,Be)});const C=m.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(C);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(C,m.newValue):this.storage.removeItem(C);else if(this.localCache[C]===m.newValue&&!_)return}const D=()=>{const K=this.storage.getItem(C);!_&&this.localCache[C]===K||this.notifyListeners(C,K)},B=this.storage.getItem(C);!function sn(){return(0,de.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?D():setTimeout(D,10)}notifyListeners(m,_){this.localCache[m]=_;const C=this.listeners[m];if(C)for(const D of Array.from(C))D(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,_){var C=()=>super._set,D=this;return(0,P.Z)(function*(){yield C().call(D,m,_),D.localCache[m]=JSON.stringify(_)})()}_get(m){var _=()=>super._get,C=this;return(0,P.Z)(function*(){const D=yield _().call(C,m);return C.localCache[m]=JSON.stringify(D),D})()}_remove(m){var _=()=>super._remove,C=this;return(0,P.Z)(function*(){yield _().call(C,m),delete C.localCache[m]})()}}return f.type="LOCAL",f})(),ce=(()=>{class f extends gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,_){}_removeListener(m,_){}}return f.type="SESSION",f})();let ut=(()=>{class f{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const _=this.receivers.find(D=>D.isListeningto(m));if(_)return _;const C=new f(m);return this.receivers.push(C),C}isListeningto(m){return this.eventTarget===m}handleEvent(m){var _=this;return(0,P.Z)(function*(){const C=m,{eventId:D,eventType:B,data:K}=C.data,me=_.handlersMap[B];if(!me?.size)return;C.ports[0].postMessage({status:"ack",eventId:D,eventType:B});const Be=Array.from(me).map(function(){var Qe=(0,P.Z)(function*(Un){return Un(C.origin,K)});return function(Un){return Qe.apply(this,arguments)}}()),Ze=yield function $e(f){return Promise.all(f.map(function(){var u=(0,P.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(_){return{fulfilled:!1,reason:_}}});return function(m){return u.apply(this,arguments)}}()))}(Be);C.ports[0].postMessage({status:"done",eventId:D,eventType:B,response:Ze})})()}_subscribe(m,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(_)}_unsubscribe(m,_){this.handlersMap[m]&&_&&this.handlersMap[m].delete(_),(!_||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Mt(f="",u=10){let m="";for(let _=0;_<u;_++)m+=Math.floor(10*Math.random());return f+m}class gi{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,m,_=50){var C=this;return(0,P.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let B,K;return new Promise((me,Be)=>{const Ze=Mt("",20);D.port1.start();const Qe=setTimeout(()=>{Be(new Error("unsupported_event"))},_);K={messageChannel:D,onMessage(Un){const ra=Un;if(ra.data.eventId===Ze)switch(ra.data.status){case"ack":clearTimeout(Qe),B=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),me(ra.data.response);break;default:clearTimeout(Qe),clearTimeout(B),Be(new Error("invalid_response"))}}},C.handlers.add(K),D.port1.addEventListener("message",K.onMessage),C.target.postMessage({eventType:u,eventId:Ze,data:m},[D.port2])}).finally(()=>{K&&C.removeMessageHandler(K)})})()}}function Zi(){return window}function Ef(){return typeof Zi().WorkerGlobalScope<"u"&&"function"==typeof Zi().importScripts}function um(){return(um=(0,P.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kf="firebaseLocalStorageDb",hm="firebaseLocalStorage",Kv="fbase_key";class qc{constructor(u){this.request=u}toPromise(){return new Promise((u,m)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Yc(f,u){return f.transaction([hm],u?"readwrite":"readonly").objectStore(hm)}function Tf(){const f=indexedDB.open(kf,1);return new Promise((u,m)=>{f.addEventListener("error",()=>{m(f.error)}),f.addEventListener("upgradeneeded",()=>{const _=f.result;try{_.createObjectStore(hm,{keyPath:Kv})}catch(C){m(C)}}),f.addEventListener("success",(0,P.Z)(function*(){const _=f.result;_.objectStoreNames.contains(hm)?u(_):(_.close(),yield function _u(){const f=indexedDB.deleteDatabase(kf);return new qc(f).toPromise()}(),u(yield Tf()))}))})}function ZS(f,u,m){return tC.apply(this,arguments)}function tC(){return(tC=(0,P.Z)(function*(f,u,m){const _=Yc(f,!0).put({[Kv]:u,value:m});return new qc(_).toPromise()})).apply(this,arguments)}function Qv(){return(Qv=(0,P.Z)(function*(f,u){const m=Yc(f,!1).get(u),_=yield new qc(m).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function iC(f,u){const m=Yc(f,!0).delete(u);return new qc(m).toPromise()}const vu=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,P.Z)(function*(){return m.db||(m.db=yield Tf()),m.db})()}_withRetries(m){var _=this;return(0,P.Z)(function*(){let C=0;for(;;)try{const D=yield _._openDb();return yield m(D)}catch(D){if(C++>3)throw D;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,P.Z)(function*(){return Ef()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,P.Z)(function*(){m.receiver=ut._getInstance(function Zv(){return Ef()?self:null}()),m.receiver._subscribe("keyChanged",function(){var _=(0,P.Z)(function*(C,D){return{keyProcessed:(yield m._poll()).includes(D.key)}});return function(C,D){return _.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var _=(0,P.Z)(function*(C,D){return["keyChanged"]});return function(C,D){return _.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,P.Z)(function*(){var _,C;if(m.activeServiceWorker=yield function Xx(){return um.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gi(m.activeServiceWorker);const D=yield m.sender._send("ping",{},800);D&&null!==(_=D[0])&&void 0!==_&&_.fulfilled&&null!==(C=D[0])&&void 0!==C&&C.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var _=this;return(0,P.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Jx(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:m},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,P.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Tf();return yield ZS(m,fu,"1"),yield iC(m,fu),!0}catch{}return!1})()}_withPendingWrite(m){var _=this;return(0,P.Z)(function*(){_.pendingWrites++;try{yield m()}finally{_.pendingWrites--}})()}_set(m,_){var C=this;return(0,P.Z)(function*(){return C._withPendingWrite((0,P.Z)(function*(){return yield C._withRetries(D=>ZS(D,m,_)),C.localCache[m]=_,C.notifyServiceWorker(m)}))})()}_get(m){var _=this;return(0,P.Z)(function*(){const C=yield _._withRetries(D=>function HB(f,u){return Qv.apply(this,arguments)}(D,m));return _.localCache[m]=C,C})()}_remove(m){var _=this;return(0,P.Z)(function*(){return _._withPendingWrite((0,P.Z)(function*(){return yield _._withRetries(C=>iC(C,m)),delete _.localCache[m],_.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,P.Z)(function*(){const _=yield m._withRetries(B=>{const K=Yc(B,!1).getAll();return new qc(K).toPromise()});if(!_)return[];if(0!==m.pendingWrites)return[];const C=[],D=new Set;if(0!==_.length)for(const{fbase_key:B,value:K}of _)D.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(K)&&(m.notifyListeners(B,K),C.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!D.has(B)&&(m.notifyListeners(B,null),C.push(B));return C})()}notifyListeners(m,_){this.localCache[m]=_;const C=this.listeners[m];if(C)for(const D of Array.from(C))D(_)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,P.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),mm=1e12;class QS{constructor(u){this.auth=u,this.counter=mm,this._widgets=new Map}render(u,m){const _=this.counter;return this._widgets.set(_,new XS(u,this.auth.name,m||{})),this.counter++,_}reset(u){var m;const _=u||mm;null===(m=this._widgets.get(_))||void 0===m||m.delete(),this._widgets.delete(_)}getResponse(u){var m;return(null===(m=this._widgets.get(u||mm))||void 0===m?void 0:m.getResponse())||""}execute(u){var m=this;return(0,P.Z)(function*(){var _;return null===(_=m._widgets.get(u||mm))||void 0===_||_.execute(),""})()}}class XS{constructor(u,m,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;fe(C,"argument-error",{appName:m}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function JS(f){const u=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<f;_++)u.push(m.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":m}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Df=zv("rcb"),eM=new Ds(3e4,6e4);class tM{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Zi().grecaptcha)||void 0===u||!u.render)}load(u,m=""){return fe(function WB(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(m),u,"argument-error"),this.shouldResolveImmediately(m)&&Zn(Zi().grecaptcha)?Promise.resolve(Zi().grecaptcha):new Promise((_,C)=>{const D=Zi().setTimeout(()=>{C(Hi(u,"network-request-failed"))},eM.get());Zi()[Df]=()=>{Zi().clearTimeout(D),delete Zi()[Df];const K=Zi().grecaptcha;if(!K||!Zn(K))return void C(Hi(u,"internal-error"));const me=K.render;K.render=(Be,Ze)=>{const Qe=me(Be,Ze);return this.counter++,Qe},this.hostLanguage=m,_(K)},Li(`https://www.google.com/recaptcha/api.js??${(0,de.xO)({onload:Df,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(D),C(Hi(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var m;return!(null===(m=Zi().grecaptcha)||void 0===m||!m.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class iM{load(u){return(0,P.Z)(function*(){return new QS(u)})()}clearedOneInstance(){}}const ar="recaptcha",aC={theme:"light",type:"image"};class nM{constructor(u,m,_=Object.assign({},aC)){this.parameters=_,this.type=ar,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(u),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof m?document.getElementById(m):m;fe(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iM:new tM,this.validateStartingState()}verify(){var u=this;return(0,P.Z)(function*(){u.assertNotDestroyed();const m=yield u.render(),_=u.getAssertedRecaptcha();return _.getResponse(m)||new Promise(D=>{const B=K=>{K&&(u.tokenChangeListeners.delete(B),D(K))};u.tokenChangeListeners.add(B),u.isInvisible&&_.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return m=>{if(this.tokenChangeListeners.forEach(_=>_(m)),"function"==typeof u)u(m);else if("string"==typeof u){const _=Zi()[u];"function"==typeof _&&_(m)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,P.Z)(function*(){if(yield u.init(),!u.widgetId){let m=u.container;if(!u.isInvisible){const _=document.createElement("div");m.appendChild(_),m=_}u.widgetId=u.getAssertedRecaptcha().render(m,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,P.Z)(function*(){fe(bt()&&!Ef(),u.auth,"internal-error"),yield function rM(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const m=yield function Is(f){return Qs.apply(this,arguments)}(u.auth);fe(m,u.auth,"internal-error"),u.parameters.sitekey=m})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class If{constructor(u,m){this.verificationId=u,this.onConfirmation=m}confirm(u){const m=De._fromVerification(this.verificationId,u);return this.onConfirmation(m)}}function Jv(){return(Jv=(0,P.Z)(function*(f,u,m){const _=an(f),C=yield pm(_,u,(0,de.m9)(m));return new If(C,D=>ql(_,D))})).apply(this,arguments)}function tb(){return(tb=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f);yield Pr(!1,_,"phone");const C=yield pm(_.auth,u,(0,de.m9)(m));return new If(C,D=>nm(_,D))})).apply(this,arguments)}function Sf(){return(Sf=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f),C=yield pm(_.auth,u,(0,de.m9)(m));return new If(C,D=>rm(_,D))})).apply(this,arguments)}function pm(f,u,m){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,P.Z)(function*(f,u,m){var _;const C=yield m.verify();try{let D;if(fe("string"==typeof C,f,"argument-error"),fe(m.type===ar,f,"argument-error"),D="string"==typeof u?{phoneNumber:u}:u,"session"in D){const B=D.session;if("phoneNumber"in D)return fe("enroll"===B.type,f,"internal-error"),(yield function jn(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",ve(f,u))}(f,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{fe("signin"===B.type,f,"internal-error");const K=(null===(_=D.multiFactorHint)||void 0===_?void 0:_.uid)||D.multiFactorUid;return fe(K,f,"missing-multi-factor-info"),(yield function Xv(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:start",ve(f,u))}(f,{mfaPendingCredential:B.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function Wv(f,u){return Qh.apply(this,arguments)}(f,{phoneNumber:D.phoneNumber,recaptchaToken:C});return B}}finally{m._reset()}}),Ui.apply(this,arguments)}function bu(){return(bu=(0,P.Z)(function*(f,u){yield ou((0,de.m9)(f),u)})).apply(this,arguments)}let Or=(()=>{class f{constructor(m){this.providerId=f.PROVIDER_ID,this.auth=an(m)}verifyPhoneNumber(m,_){return pm(this.auth,m,(0,de.m9)(_))}static credential(m,_){return De._fromVerification(m,_)}static credentialFromResult(m){return f.credentialFromTaggedObject(m)}static credentialFromError(m){return f.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:_,temporaryProof:C}=m;return _&&C?De._fromTokenResponse(_,C):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function td(f,u){return u?It(u):(fe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Mf extends Ss{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return or(u,this._buildIdpRequest())}_linkToIdToken(u,m){return or(u,this._buildIdpRequest(m))}_getReauthenticationResolver(u){return or(u,this._buildIdpRequest())}_buildIdpRequest(u){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(m.idToken=u),m}}function yu(f){return Gl(f.auth,new Mf(f),f.bypassAuthState)}function us(f){const{auth:u,user:m}=f;return fe(m,u,"internal-error"),au(m,new Mf(f),f.bypassAuthState)}function oM(f){return nb.apply(this,arguments)}function nb(){return(nb=(0,P.Z)(function*(f){const{auth:u,user:m}=f;return fe(m,u,"internal-error"),ou(m,new Mf(f),f.bypassAuthState)})).apply(this,arguments)}class lC{constructor(u,m,_,C,D=!1){this.auth=u,this.resolver=_,this.user=C,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var u=this;return new Promise(function(){var m=(0,P.Z)(function*(_,C){u.pendingPromise={resolve:_,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(D){u.reject(D)}});return function(_,C){return m.apply(this,arguments)}}())}onAuthEvent(u){var m=this;return(0,P.Z)(function*(){const{urlResponse:_,sessionId:C,postBody:D,tenantId:B,error:K,type:me}=u;if(K)return void m.reject(K);const Be={auth:m.auth,requestUri:_,sessionId:C,tenantId:B||void 0,postBody:D||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(me)(Be))}catch(Ze){m.reject(Ze)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return yu;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return us;default:Ci(this.auth,"internal-error")}}resolve(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zc=new Ds(2e3,1e4);function rb(){return(rb=(0,P.Z)(function*(f,u,m){const _=an(f);Nt(f,u,xo);const C=td(_,m);return new wt(_,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Af(){return(Af=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f);Nt(_.auth,u,xo);const C=td(_.auth,m);return new wt(_.auth,"reauthViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}function ob(){return(ob=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f);Nt(_.auth,u,xo);const C=td(_.auth,m);return new wt(_.auth,"linkViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}let wt=(()=>{class f extends lC{constructor(m,_,C,D,B){super(m,_,D,B),this.provider=C,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var m=this;return(0,P.Z)(function*(){const _=yield m.execute();return fe(_,m.auth,"internal-error"),_})()}onExecution(){var m=this;return(0,P.Z)(function*(){nn(1===m.filter.length,"Popup operations only handle one event");const _=Mt();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],_),m.authWindow.associatedEvent=_,m.resolver._originValidation(m.auth).catch(C=>{m.reject(C)}),m.resolver._isIframeWebStorageSupported(m.auth,C=>{C||m.reject(Hi(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const m=()=>{var _,C;this.pollId=null!==(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Zc.get())};m()}}return f.currentPopupAction=null,f})();const mC="pendingRedirect",Rf=new Map;class sM extends lC{constructor(u,m,_=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,_),this.eventId=null}execute(){var u=()=>super.execute,m=this;return(0,P.Z)(function*(){let _=Rf.get(m.auth._key());if(!_){try{const D=(yield function aM(f,u){return sb.apply(this,arguments)}(m.resolver,m.auth))?yield u().call(m):null;_=()=>Promise.resolve(D)}catch(C){_=()=>Promise.reject(C)}Rf.set(m.auth._key(),_)}return m.bypassAuthState||Rf.set(m.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(u){var m=()=>super.onAuthEvent,_=this;return(0,P.Z)(function*(){if("signInViaRedirect"===u.type)return m().call(_,u);if("unknown"!==u.type){if(u.eventId){const C=yield _.auth._redirectUserForId(u.eventId);if(C)return _.user=C,m().call(_,u);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,P.Z)(function*(){})()}cleanUp(){}}function sb(){return(sb=(0,P.Z)(function*(f,u){const m=fC(u),_=pC(f);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(m));return yield _._remove(m),C})).apply(this,arguments)}function Pf(f,u){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,P.Z)(function*(f,u){return pC(f)._set(fC(u),"true")})).apply(this,arguments)}function ab(f,u){Rf.set(f._key(),u)}function pC(f){return It(f._redirectPersistence)}function fC(f){return Qn(mC,f.config.apiKey,f.name)}function lM(f,u,m){return function we(f,u,m){return pi.apply(this,arguments)}(f,u,m)}function pi(){return(pi=(0,P.Z)(function*(f,u,m){const _=an(f);Nt(f,u,xo),yield _._initializationPromise;const C=td(_,m);return yield Pf(C,_),C._openRedirect(_,u,"signInViaRedirect")})).apply(this,arguments)}function dM(f,u,m){return function uM(f,u,m){return wr.apply(this,arguments)}(f,u,m)}function wr(){return(wr=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f);Nt(_.auth,u,xo),yield _.auth._initializationPromise;const C=td(_.auth,m);yield Pf(C,_.auth);const D=yield lb(_);return C._openRedirect(_.auth,u,"reauthViaRedirect",D)})).apply(this,arguments)}function gC(f,u,m){return function fm(f,u,m){return Ns.apply(this,arguments)}(f,u,m)}function Ns(){return(Ns=(0,P.Z)(function*(f,u,m){const _=(0,de.m9)(f);Nt(_.auth,u,xo),yield _.auth._initializationPromise;const C=td(_.auth,m);yield Pr(!1,_,u.providerId),yield Pf(C,_.auth);const D=yield lb(_);return C._openRedirect(_.auth,u,"linkViaRedirect",D)})).apply(this,arguments)}function gm(){return(gm=(0,P.Z)(function*(f,u){return yield an(f)._initializationPromise,Of(f,u,!1)})).apply(this,arguments)}function Of(f,u){return _C.apply(this,arguments)}function _C(){return(_C=(0,P.Z)(function*(f,u,m=!1){const _=an(f),C=td(_,u),B=yield new sM(_,C,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield _._persistUserIfCurrent(B.user),yield _._setRedirectUser(null,u)),B})).apply(this,arguments)}function lb(f){return qr.apply(this,arguments)}function qr(){return(qr=(0,P.Z)(function*(f){const u=Mt(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class db{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let m=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(u,_)&&(m=!0,this.sendToConsumer(u,_),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function hM(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ra(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=u,m=!0)),m}sendToConsumer(u,m){var _;if(u.error&&!Ra(u)){const C=(null===(_=u.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";m.onError(Hi(this.auth,C))}else m.onAuthEvent(u)}isEventForConsumer(u,m){const _=null===m.eventId||!!u.eventId&&u.eventId===m.eventId;return m.filter.includes(u.type)&&_}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(id(u))}saveEventToCache(u){this.cachedEventUids.add(id(u)),this.lastProcessedEventTime=Date.now()}}function id(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Ra({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function ub(f){return hb.apply(this,arguments)}function hb(){return(hb=(0,P.Z)(function*(f,u={}){return ee(f,"GET","/v1/projects",u)})).apply(this,arguments)}const mM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mb=/^https?/;function Ff(){return(Ff=(0,P.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield ub(f);for(const m of u)try{if(fb(m))return}catch{}Ci(f,"unauthorized-domain")})).apply(this,arguments)}function fb(f){const u=zn(),{protocol:m,hostname:_}=new URL(u);if(f.startsWith("chrome-extension://")){const B=new URL(f);return""===B.hostname&&""===_?"chrome-extension:"===m&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===_}if(!mb.test(m))return!1;if(mM.test(f))return _===f;const C=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const pM=new Ds(3e4,6e4);function gb(){const f=Zi().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let m=0;m<f.CP.length;m++)f.CP[m]=null}let _m=null;const bC=new Ds(5e3,15e3),yC="__/auth/iframe",vb="emulator/auth/iframe",fM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Do(f){const u=f.config;fe(u.authDomain,f,"auth-domain-config-required");const m=u.emulator?O(u,vb):`https://${f.config.authDomain}/${yC}`,_={apiKey:u.apiKey,appName:f.name,v:_t.SDK_VERSION},C=gM.get(f.config.apiHost);C&&(_.eid=C);const D=f._getFrameworks();return D.length&&(_.fw=D.join(",")),`${m}?${(0,de.xO)(_).slice(1)}`}function pn(){return pn=(0,P.Z)(function*(f){const u=yield function vC(f){return _m=_m||function _b(f){return new Promise((u,m)=>{var _,C,D;function B(){gb(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{gb(),m(Hi(f,"network-request-failed"))},timeout:pM.get()})}if(null!==(C=null===(_=Zi().gapi)||void 0===_?void 0:_.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(D=Zi().gapi)||void 0===D||!D.load){const K=zv("iframefcb");return Zi()[K]=()=>{gapi.load?B():m(Hi(f,"network-request-failed"))},Li(`https://apis.google.com/js/api.js?onload=${K}`).catch(me=>m(me))}B()}}).catch(u=>{throw _m=null,u})}(f),_m}(f),m=Zi().gapi;return fe(m,f,"internal-error"),u.open({where:document.body,url:Do(f),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fM,dontclear:!0},_=>new Promise(function(){var C=(0,P.Z)(function*(D,B){yield _.restyle({setHideOnLeave:!1});const K=Hi(f,"network-request-failed"),me=Zi().setTimeout(()=>{B(K)},bC.get());function Be(){Zi().clearTimeout(me),D(_)}_.ping(Be).then(Be,()=>{B(K)})});return function(D,B){return C.apply(this,arguments)}}()))}),pn.apply(this,arguments)}const Qc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bb{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bM="__/auth/handler",Lf="emulator/auth/handler",Vf=encodeURIComponent("fac");function xu(f,u,m,_,C,D){return vm.apply(this,arguments)}function vm(){return(vm=(0,P.Z)(function*(f,u,m,_,C,D){fe(f.config.authDomain,f,"auth-domain-config-required"),fe(f.config.apiKey,f,"invalid-api-key");const B={apiKey:f.config.apiKey,appName:f.name,authType:m,redirectUrl:_,v:_t.SDK_VERSION,eventId:C};if(u instanceof xo){u.setDefaultLanguage(f.languageCode),B.providerId=u.providerId||"",(0,de.xb)(u.getCustomParameters())||(B.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Ze,Qe]of Object.entries(D||{}))B[Ze]=Qe}if(u instanceof co){const Ze=u.getScopes().filter(Qe=>""!==Qe);Ze.length>0&&(B.scopes=Ze.join(","))}f.tenantId&&(B.tid=f.tenantId);const K=B;for(const Ze of Object.keys(K))void 0===K[Ze]&&delete K[Ze];const me=yield f._getAppCheckToken(),Be=me?`#${Vf}=${encodeURIComponent(me)}`:"";return`${function xC({config:f}){return f.emulator?O(f,Lf):`https://${f.authDomain}/${bM}`}(f)}?${(0,de.xO)(K).slice(1)}${Be}`})).apply(this,arguments)}const Bf="webStorageSupport",rd=class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ce,this._completeRedirectFn=Of,this._overrideRedirectResult=ab}_openPopup(u,m,_,C){var D=this;return(0,P.Z)(function*(){var B;nn(null===(B=D.eventManagers[u._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const K=yield xu(u,m,_,zn(),C);return function Nf(f,u,m,_=500,C=600){const D=Math.max((window.screen.availHeight-C)/2,0).toString(),B=Math.max((window.screen.availWidth-_)/2,0).toString();let K="";const me=Object.assign(Object.assign({},Qc),{width:_.toString(),height:C.toString(),top:D,left:B}),Be=(0,de.z$)().toLowerCase();m&&(K=Qd(Be)?"_blank":m),Ni(Be)&&(u=u||"http://localhost",me.scrollbars="yes");const Ze=Object.entries(me).reduce((Un,[ra,Zf])=>`${Un}${ra}=${Zf},`,"");if(function X(f=(0,de.z$)()){var u;return St(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Be)&&"_self"!==K)return function Xc(f,u){const m=document.createElement("a");m.href=f,m.target=u;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(_)}(u||"",K),new bb(null);const Qe=window.open(u||"",K,Ze);fe(Qe,f,"popup-blocked");try{Qe.focus()}catch{}return new bb(Qe)}(u,K,Mt())})()}_openRedirect(u,m,_,C){var D=this;return(0,P.Z)(function*(){return yield D._originValidation(u),function Qx(f){Zi().location.href=f}(yield xu(u,m,_,zn(),C)),new Promise(()=>{})})()}_initialize(u){const m=u._key();if(this.eventManagers[m]){const{manager:C,promise:D}=this.eventManagers[m];return C?Promise.resolve(C):(nn(D,"If manager is not set, promise should be"),D)}const _=this.initAndGetManager(u);return this.eventManagers[m]={promise:_},_.catch(()=>{delete this.eventManagers[m]}),_}initAndGetManager(u){var m=this;return(0,P.Z)(function*(){const _=yield function nd(f){return pn.apply(this,arguments)}(u),C=new db(u);return _.register("authEvent",D=>(fe(D?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[u._key()]={manager:C},m.iframes[u._key()]=_,C})()}_isIframeWebStorageSupported(u,m){this.iframes[u._key()].send(Bf,{type:Bf},C=>{var D;const B=null===(D=C?.[0])||void 0===D?void 0:D[Bf];void 0!==B&&m(!!B),Ci(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const m=u._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pb(f){return Ff.apply(this,arguments)}(u)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ye()||rs()||St()}};class bm{constructor(u){this.factorId=u}_process(u,m,_){switch(m.type){case"enroll":return this._finalizeEnroll(u,m.credential,_);case"signin":return this._finalizeSignIn(u,m.credential);default:return dn("unexpected MultiFactorSessionType")}}}class yb extends bm{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new yb(u)}_finalizeEnroll(u,m,_){return function qx(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",ve(f,u))}(u,{idToken:m,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,m){return function UB(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",ve(f,u))}(u,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let GB=(()=>{class f{constructor(){}static assertion(m){return yb._fromCredential(m)}}return f.FACTOR_ID="phone",f})();var wM="@firebase/auth";class wb{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var m=this;return(0,P.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const m=this.auth.onIdTokenChanged(_=>{u(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,m),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const m=this.internalListeners.get(u);m&&(this.internalListeners.delete(u),m(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jc(){return window}(0,de.Pz)("authIdTokenMaxAge"),function CM(f){(0,_t._registerComponent)(new bn.wA("auth",(u,{options:m})=>{const _=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),D=u.getProvider("app-check-internal"),{apiKey:B,authDomain:K}=_.options;fe(B&&!B.includes(":"),"invalid-api-key",{appName:_.name});const me={apiKey:B,authDomain:K,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(f)},Be=new Bv(_,C,D,me);return function Lx(f,u){const m=u?.persistence||[],_=(Array.isArray(m)?m:[m]).map(It);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(_,u?.popupRedirectResolver)}(Be,m),Be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,m,_)=>{u.getProvider("auth-internal").initialize()})),(0,_t._registerComponent)(new bn.wA("auth-internal",u=>{const m=an(u.getProvider("auth").getImmediate());return new wb(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_t.registerVersion)(wM,"1.5.1",function ym(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,_t.registerVersion)(wM,"1.5.1","esm2017")}("Browser");function Cb(){return Cb=(0,P.Z)(function*(f,u,m){var _;const{BuildInfo:C}=Jc();nn(u.sessionId,"AuthEvent did not contain a session ID");const D=yield function DC(f){return Uf.apply(this,arguments)}(u.sessionId),B={};return St()?B.ibi=C.packageName:W()?B.apn=C.packageName:Ci(f,"operation-not-supported-in-this-environment"),C.displayName&&(B.appDisplayName=C.displayName),B.sessionId=D,xu(f,m,u.type,void 0,null!==(_=u.eventId)&&void 0!==_?_:void 0,B)}),Cb.apply(this,arguments)}function Cm(){return(Cm=(0,P.Z)(function*(f){const{BuildInfo:u}=Jc(),m={};St()?m.iosBundleId=u.packageName:W()?m.androidPackageName=u.packageName:Ci(f,"operation-not-supported-in-this-environment"),yield ub(f,m)})).apply(this,arguments)}function Em(){return(Em=(0,P.Z)(function*(f,u,m){const{cordova:_}=Jc();let C=()=>{};try{yield new Promise((D,B)=>{let K=null;function me(){var Qe;D();const Un=null===(Qe=_.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof Un&&Un(),"function"==typeof m?.close&&m.close()}function Be(){K||(K=window.setTimeout(()=>{B(Hi(f,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===document?.visibilityState&&Be()}u.addPassiveListener(me),document.addEventListener("resume",Be,!1),W()&&document.addEventListener("visibilitychange",Ze,!1),C=()=>{u.removePassiveListener(me),document.removeEventListener("resume",Be,!1),document.removeEventListener("visibilitychange",Ze,!1),K&&window.clearTimeout(K)}})}finally{C()}})).apply(this,arguments)}function Uf(){return(Uf=(0,P.Z)(function*(f){const u=function IC(f){if(nn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),m=new Uint8Array(u);for(let _=0;_<f.length;_++)m[_]=f.charCodeAt(_);return m}(f),m=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(m)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class DM extends db{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(u)),super.onEvent(u)}initialized(){var u=this;return(0,P.Z)(function*(){yield u.initPromise})()}}function MC(f){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,P.Z)(function*(f){const u=yield Eb()._get(Yr(f));return u&&(yield Eb()._remove(Yr(f))),u})).apply(this,arguments)}function km(){const f=[];for(let m=0;m<20;m++){const _=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return f.join("")}function Eb(){return It(E)}function Yr(f){return Qn("authEvent",f.config.apiKey,f.name)}function Cu(f){if(!f?.includes("?"))return{};const[u,...m]=f.split("?");return(0,de.zd)(m.join("?"))}const zo=class RC{constructor(){this._redirectPersistence=ce,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Of,this._overrideRedirectResult=ab}_initialize(u){var m=this;return(0,P.Z)(function*(){const _=u._key();let C=m.eventManagers.get(_);return C||(C=new DM(u),m.eventManagers.set(_,C),m.attachCallbackListeners(u,C)),C})()}_openPopup(u){Ci(u,"operation-not-supported-in-this-environment")}_openRedirect(u,m,_,C){var D=this;return(0,P.Z)(function*(){!function TM(f){var u,m,_,C,D,B,K,me,Be,Ze;const Qe=Jc();fe("function"==typeof(null===(u=Qe?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof(null===(m=Qe?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(D=null===(C=null===(_=Qe?.cordova)||void 0===_?void 0:_.plugins)||void 0===C?void 0:C.browsertab)||void 0===D?void 0:D.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(me=null===(K=null===(B=Qe?.cordova)||void 0===B?void 0:B.plugins)||void 0===K?void 0:K.browsertab)||void 0===me?void 0:me.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Ze=null===(Be=Qe?.cordova)||void 0===Be?void 0:Be.InAppBrowser)||void 0===Ze?void 0:Ze.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const B=yield D._initialize(u);yield B.initialized(),B.resetRedirect(),function cM(){Rf.clear()}(),yield D._originValidation(u);const K=function $f(f,u,m=null){return{type:u,eventId:m,urlResponse:null,sessionId:km(),postBody:null,tenantId:f.tenantId,error:Hi(f,"no-auth-event")}}(u,_,C);yield function od(f,u){return Eb()._set(Yr(f),u)}(u,K);const me=yield function Pa(f,u,m){return Cb.apply(this,arguments)}(u,K,m),Be=yield function TC(f){const{cordova:u}=Jc();return new Promise(m=>{u.plugins.browsertab.isAvailable(_=>{let C=null;_?u.plugins.browsertab.openUrl(f):C=u.InAppBrowser.open(f,function ri(f=(0,de.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),m(C)})})}(me);return function jf(f,u,m){return Em.apply(this,arguments)}(u,B,Be)})()}_isIframeWebStorageSupported(u,m){throw new Error("Method not implemented.")}_originValidation(u){const m=u._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Hf(f){return Cm.apply(this,arguments)}(u)),this.originValidationPromises[m]}attachCallbackListeners(u,m){const{universalLinks:_,handleOpenURL:C,BuildInfo:D}=Jc(),B=setTimeout((0,P.Z)(function*(){yield MC(u),m.onEvent(sd())}),500),K=function(){var Ze=(0,P.Z)(function*(Qe){clearTimeout(B);const Un=yield MC(u);let ra=null;Un&&Qe?.url&&(ra=function AC(f,u){var m,_;const C=function Et(f){const u=Cu(f),m=u.link?decodeURIComponent(u.link):void 0,_=Cu(m).link,C=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Cu(C).link||C||_||m||f}(u);if(C.includes("/__/auth/callback")){const D=Cu(C),B=D.firebaseError?function IM(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(D.firebaseError)):null,K=null===(_=null===(m=B?.code)||void 0===m?void 0:m.split("auth/"))||void 0===_?void 0:_[1],me=K?Hi(K):null;return me?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:me,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:C,postBody:null}}return null}(Un,Qe.url)),m.onEvent(ra||sd())});return function(Un){return Ze.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,K);const me=C,Be=`${D.packageName.toLowerCase()}://`;Jc().handleOpenURL=function(){var Ze=(0,P.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(Be)&&K({url:Qe}),"function"==typeof me)try{me(Qe)}catch(Un){console.error(Un)}});return function(Qe){return Ze.apply(this,arguments)}}()}};function sd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hi("no-auth-event")}}function Oa(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function OC(f=(0,de.z$)()){return!("file:"!==Oa()&&"ionic:"!==Oa()&&"capacitor:"!==Oa()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function MM(){try{const f=self.localStorage,u=Mt();if(f)return f.setItem(u,"1"),f.removeItem(u),!function XB(f=(0,de.z$)()){return function KB(){return(0,de.w1)()&&11===document?.documentMode}()||function QB(f=(0,de.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,de.hl)()}catch{return FC()&&(0,de.hl)()}return!1}function FC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function el(){return(function YB(){return"http:"===Oa()||"https:"===Oa()}()||(0,de.ru)()||OC())&&!function ZB(){return(0,de.b$)()||(0,de.UG)()}()&&MM()&&!FC()}function NC(){return OC()&&typeof document<"u"}function Jn(){return(Jn=(0,P.Z)(function*(){return!!NC()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},Tm=fe,hs="persistence";function Gf(f){return Du.apply(this,arguments)}function Du(){return(Du=(0,P.Z)(function*(f){yield f._initializationPromise;const u=LC(),m=Qn(hs,f.config.apiKey,f.name);u&&u.setItem(m,f._getPersistence())})).apply(this,arguments)}function LC(){var f;try{return(null===(f=function RM(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const JB=fe;class tl{constructor(){this.browserResolver=It(rd),this.cordovaResolver=It(zo),this.underlyingResolver=null,this._redirectPersistence=ce,this._completeRedirectFn=Of,this._overrideRedirectResult=ab}_initialize(u){var m=this;return(0,P.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,m,_,C){var D=this;return(0,P.Z)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openPopup(u,m,_,C)})()}_openRedirect(u,m,_,C){var D=this;return(0,P.Z)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openRedirect(u,m,_,C)})()}_isIframeWebStorageSupported(u,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,m)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return NC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return JB(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,P.Z)(function*(){if(u.underlyingResolver)return;const m=yield function AM(){return Jn.apply(this,arguments)}();u.underlyingResolver=m?u.cordovaResolver:u.browserResolver})()}}function PM(f){return f.unwrap()}function Tb(f){return OM(f)}function OM(f){const{_tokenResponse:u}=f instanceof de.ZR?f.customData:f;if(!u)return null;if(!(f instanceof de.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Or.credentialFromResult(f);const m=u.providerId;if(!m||m===Wt.PASSWORD)return null;let _;switch(m){case Wt.GOOGLE:_=Bo;break;case Wt.FACEBOOK:_=Co;break;case Wt.GITHUB:_=Xt;break;case Wt.TWITTER:_=As;break;default:const{oauthIdToken:C,oauthAccessToken:D,oauthTokenSecret:B,pendingToken:K,nonce:me}=u;return D||B||C||K?K?m.startsWith("saml.")?Ia._create(m,K):os._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:C,accessToken:D}):new Js(m).credential({idToken:C,accessToken:D,rawNonce:me}):null}return f instanceof de.ZR?_.credentialFromError(f):_.credentialFromResult(f)}function Io(f,u){return u.catch(m=>{throw m instanceof de.ZR&&function Iu(f,u){var m;const _=null===(m=u.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new FM(f,function dm(f,u){var m;const _=(0,de.m9)(f),C=u;return fe(u.customData.operationType,_,"argument-error"),fe(null===(m=C.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,_,"argument-error"),ds._fromError(_,C)}(f,u));else if(_){const C=OM(u),D=u;C&&(D.credential=C,D.tenantId=_.tenantId||void 0,D.email=_.email||void 0,D.phoneNumber=_.phoneNumber||void 0)}}(f,m),m}).then(m=>{const C=m.user;return{operationType:m.operationType,credential:Tb(m),additionalUserInfo:yr(m),user:cc.getOrCreate(C)}})}function Db(f,u){return Ib.apply(this,arguments)}function Ib(){return(Ib=(0,P.Z)(function*(f,u){const m=yield u;return{verificationId:m.verificationId,confirm:_=>Io(f,m.confirm(_))}})).apply(this,arguments)}class FM{constructor(u,m){this.resolver=m,this.auth=function ms(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Io(PM(this.auth),this.resolver.resolveSignIn(u))}}class cc{constructor(u){this._delegate=u,this.multiFactor=function Kx(f){const u=(0,de.m9)(f);return Cf.has(u)||Cf.set(u,xf._fromUser(u)),Cf.get(u)}(u)}static getOrCreate(u){return cc.USER_MAP.has(u)||cc.USER_MAP.set(u,new cc(u)),cc.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var m=this;return(0,P.Z)(function*(){return Io(m.auth,nm(m._delegate,u))})()}linkWithPhoneNumber(u,m){var _=this;return(0,P.Z)(function*(){return Db(_.auth,function eb(f,u,m){return tb.apply(this,arguments)}(_._delegate,u,m))})()}linkWithPopup(u){var m=this;return(0,P.Z)(function*(){return Io(m.auth,function hC(f,u,m){return ob.apply(this,arguments)}(m._delegate,u,tl))})()}linkWithRedirect(u){var m=this;return(0,P.Z)(function*(){return yield Gf(an(m.auth)),gC(m._delegate,u,tl)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var m=this;return(0,P.Z)(function*(){return Io(m.auth,rm(m._delegate,u))})()}reauthenticateWithPhoneNumber(u,m){return Db(this.auth,function Aa(f,u,m){return Sf.apply(this,arguments)}(this._delegate,u,m))}reauthenticateWithPopup(u){return Io(this.auth,function uC(f,u,m){return Af.apply(this,arguments)}(this._delegate,u,tl))}reauthenticateWithRedirect(u){var m=this;return(0,P.Z)(function*(){return yield Gf(an(m.auth)),dM(m._delegate,u,tl)})()}sendEmailVerification(u){return function jc(f,u){return mn.apply(this,arguments)}(this._delegate,u)}unlink(u){var m=this;return(0,P.Z)(function*(){return yield function Yv(f,u){return ru.apply(this,arguments)}(m._delegate,u),m})()}updateEmail(u){return function cs(f,u){return $c((0,de.m9)(f),u,null)}(this._delegate,u)}updatePassword(u){return function Xl(f,u){return $c((0,de.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function ib(f,u){return bu.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function yf(f,u){return as.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,m){return function Uc(f,u,m){return ta.apply(this,arguments)}(this._delegate,u,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cc.USER_MAP=new WeakMap;const Im=fe;let VC=(()=>{class f{constructor(m,_){if(this.app=m,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=m.options;Im(C,"invalid-api-key",{appName:m.name}),Im(C,"invalid-api-key",{appName:m.name});const D=typeof window<"u"?tl:void 0;this._delegate=_.initialize({options:{persistence:Yf(C,m.name),popupRedirectResolver:D}}),this._delegate._updateErrorMap(_r),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,_){!function Oe(f,u,m){const _=an(f);fe(_._canInitEmulator,_,"emulator-config-failed"),fe(/^https?:\/\//.test(u),_,"invalid-emulator-scheme");const C=!!m?.disableWarnings,D=Oc(u),{host:B,port:K}=function Uv(f){const u=Oc(f),m=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!m)return{host:"",port:null};const _=m[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const D=C[1];return{host:D,port:qh(_.substr(D.length+1))}}{const[D,B]=_.split(":");return{host:D,port:qh(B)}}}(u);_.config.emulator={url:`${D}//${B}${null===K?"":`:${K}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:B,port:K,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function $v(){function f(){const u=document.createElement("p"),m=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,m,_)}applyActionCode(m){return function om(f,u){return Bc.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return sm(this._delegate,m)}confirmPasswordReset(m,_){return function ko(f,u,m){return uu.apply(this,arguments)}(this._delegate,m,_)}createUserWithEmailAndPassword(m,_){var C=this;return(0,P.Z)(function*(){return Io(C._delegate,function Ot(f,u,m){return ji.apply(this,arguments)}(C._delegate,m,_))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ql(f,u){return hu.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function zc(f,u){const m=Rr.parseLink(u);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,P.Z)(function*(){Im(el(),m._delegate,"operation-not-supported-in-this-environment");const _=yield function cb(f,u){return gm.apply(this,arguments)}(m._delegate,tl);return _?Io(m._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Eu(f,u){an(f)._logFramework(u)}(this._delegate,m)}onAuthStateChanged(m,_,C){const{next:D,error:B,complete:K}=qf(m,_,C);return this._delegate.onAuthStateChanged(D,B,K)}onIdTokenChanged(m,_,C){const{next:D,error:B,complete:K}=qf(m,_,C);return this._delegate.onIdTokenChanged(D,B,K)}sendSignInLinkToEmail(m,_){return function Kl(f,u,m){return Sn.apply(this,arguments)}(this._delegate,m,_)}sendPasswordResetEmail(m,_){return function Gr(f,u,m){return Sa.apply(this,arguments)}(this._delegate,m,_||void 0)}setPersistence(m){var _=this;return(0,P.Z)(function*(){let C;switch(function Tu(f,u){Tm(Object.values(Zr).includes(u),f,"invalid-persistence-type"),(0,de.b$)()?Tm(u!==Zr.SESSION,f,"unsupported-persistence-type"):(0,de.UG)()?Tm(u===Zr.NONE,f,"unsupported-persistence-type"):FC()?Tm(u===Zr.NONE||u===Zr.LOCAL&&(0,de.hl)(),f,"unsupported-persistence-type"):Tm(u===Zr.NONE||MM(),f,"unsupported-persistence-type")}(_._delegate,m),m){case Zr.SESSION:C=ce;break;case Zr.LOCAL:C=(yield It(vu)._isAvailable())?vu:E;break;case Zr.NONE:C=Yi;break;default:return Ci("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Io(this._delegate,function _f(f){return $l.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Io(this._delegate,ql(this._delegate,m))}signInWithCustomToken(m){return Io(this._delegate,function bf(f,u){return Ae.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,_){return Io(this._delegate,function ss(f,u,m){return ql((0,de.m9)(f),eu.credential(u,m)).catch(function(){var _=(0,P.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&si(f),C});return function(C){return _.apply(this,arguments)}}())}(this._delegate,m,_))}signInWithEmailLink(m,_){return Io(this._delegate,function Mn(f,u,m){return Rs.apply(this,arguments)}(this._delegate,m,_))}signInWithPhoneNumber(m,_){return Db(this._delegate,function cC(f,u,m){return Jv.apply(this,arguments)}(this._delegate,m,_))}signInWithPopup(m){var _=this;return(0,P.Z)(function*(){return Im(el(),_._delegate,"operation-not-supported-in-this-environment"),Io(_._delegate,function dC(f,u,m){return rb.apply(this,arguments)}(_._delegate,m,tl))})()}signInWithRedirect(m){var _=this;return(0,P.Z)(function*(){return Im(el(),_._delegate,"operation-not-supported-in-this-environment"),yield Gf(_._delegate),lM(_._delegate,m,tl)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function hn(f,u){return Ne.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Zr,f})();function qf(f,u,m){let _=f;"function"!=typeof f&&({next:_,error:u,complete:m}=f);const C=_;return{next:B=>C(B&&cc.getOrCreate(B)),error:u,complete:m}}function Yf(f,u){const m=function Dm(f,u){const m=LC();if(!m)return[];const _=Qn(hs,f,u);switch(m.getItem(_)){case Zr.NONE:return[Yi];case Zr.LOCAL:return[vu,ce];case Zr.SESSION:return[ce];default:return[]}}(f,u);if(typeof self<"u"&&!m.includes(vu)&&m.push(vu),typeof window<"u")for(const _ of[E,ce])m.includes(_)||m.push(_);return m.includes(Yi)||m.push(Yi),m}class Sb{constructor(){this.providerId="phone",this._delegate=new Or(PM(pt.Z.auth()))}static credential(u,m){return Or.credential(u,m)}verifyPhoneNumber(u,m){return this._delegate.verifyPhoneNumber(u,m)}unwrap(){return this._delegate}}Sb.PHONE_SIGN_IN_METHOD=Or.PHONE_SIGN_IN_METHOD,Sb.PROVIDER_ID=Or.PROVIDER_ID;const Ho=fe;class NM{constructor(u,m,_=pt.Z.app()){var C;Ho(null===(C=_.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new nM(_.auth(),u,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function LM(f){f.INTERNAL.registerComponent(new bn.wA("auth-compat",u=>{const m=u.getProvider("app-compat").getImmediate(),_=u.getProvider("auth");return new VC(m,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:eu,FacebookAuthProvider:Co,GithubAuthProvider:Xt,GoogleAuthProvider:Bo,OAuthProvider:Js,SAMLAuthProvider:Ul,PhoneAuthProvider:Sb,PhoneMultiFactorGenerator:GB,RecaptchaVerifier:NM,TwitterAuthProvider:As,Auth:VC,AuthCredential:Ss,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.1")}(pt.Z)},537:(Zs,vn,ht)=>{"use strict";ht.d(vn,{H0:()=>mi,wA:()=>de,zt:()=>At});var P=ht(861),pt=ht(58);class de{constructor(ge,ke,Ge){this.name=ge,this.instanceFactory=ke,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const _t="[DEFAULT]";class At{constructor(ge,ke){this.name=ge,this.container=ke,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const ke=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(ke)){const Ge=new pt.BH;if(this.instancesDeferred.set(ke,Ge),this.isInitialized(ke)||this.shouldAutoInitialize())try{const Rt=this.getOrInitializeService({instanceIdentifier:ke});Rt&&Ge.resolve(Rt)}catch{}}return this.instancesDeferred.get(ke).promise}getImmediate(ge){var ke;const Ge=this.normalizeInstanceIdentifier(ge?.identifier),Rt=null!==(ke=ge?.optional)&&void 0!==ke&&ke;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(Rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(li){if(Rt)return null;throw li}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function bn(Wt){return"EAGER"===Wt.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:_t})}catch{}for(const[ke,Ge]of this.instancesDeferred.entries()){const Rt=this.normalizeInstanceIdentifier(ke);try{const li=this.getOrInitializeService({instanceIdentifier:Rt});Ge.resolve(li)}catch{}}}}clearInstance(ge=_t){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,P.Z)(function*(){const ke=Array.from(ge.instances.values());yield Promise.all([...ke.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...ke.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=_t){return this.instances.has(ge)}getOptions(ge=_t){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:ke={}}=ge,Ge=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Rt=this.getOrInitializeService({instanceIdentifier:Ge,options:ke});for(const[li,_r]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(li)&&_r.resolve(Rt);return Rt}onInit(ge,ke){var Ge;const Rt=this.normalizeInstanceIdentifier(ke),li=null!==(Ge=this.onInitCallbacks.get(Rt))&&void 0!==Ge?Ge:new Set;li.add(ge),this.onInitCallbacks.set(Rt,li);const _r=this.instances.get(Rt);return _r&&ge(_r,Rt),()=>{li.delete(ge)}}invokeOnInitCallbacks(ge,ke){const Ge=this.onInitCallbacks.get(ke);if(Ge)for(const Rt of Ge)try{Rt(ge,ke)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:ke={}}){let Ge=this.instances.get(ge);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Wt=ge,Wt===_t?void 0:Wt),options:ke}),this.instances.set(ge,Ge),this.instancesOptions.set(ge,ke),this.invokeOnInitCallbacks(Ge,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Ge)}catch{}var Wt;return Ge||null}normalizeInstanceIdentifier(ge=_t){return this.component?this.component.multipleInstances?ge:_t:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mi{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const ke=this.getProvider(ge.name);if(ke.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);ke.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const ke=new At(ge,this);return this.providers.set(ge,ke),ke}getProviders(){return Array.from(this.providers.values())}}},879:(Zs,vn,ht)=>{"use strict";ht.d(vn,{Am:()=>Wt,Ub:()=>mi,Yd:()=>bn,in:()=>pt});const P=[];var pt=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(pt||{});const de={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},_t=pt.INFO,At={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},en=(ge,ke,...Ge)=>{if(ke<ge.logLevel)return;const Rt=(new Date).toISOString(),li=At[ke];if(!li)throw new Error(`Attempted to log a message with an invalid logType (value: ${ke})`);console[li](`[${Rt}]  ${ge.name}:`,...Ge)};class bn{constructor(ke){this.name=ke,this._logLevel=_t,this._logHandler=en,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(ke){if(!(ke in pt))throw new TypeError(`Invalid value "${ke}" assigned to \`logLevel\``);this._logLevel=ke}setLogLevel(ke){this._logLevel="string"==typeof ke?de[ke]:ke}get logHandler(){return this._logHandler}set logHandler(ke){if("function"!=typeof ke)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ke}get userLogHandler(){return this._userLogHandler}set userLogHandler(ke){this._userLogHandler=ke}debug(...ke){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...ke),this._logHandler(this,pt.DEBUG,...ke)}log(...ke){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...ke),this._logHandler(this,pt.VERBOSE,...ke)}info(...ke){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...ke),this._logHandler(this,pt.INFO,...ke)}warn(...ke){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...ke),this._logHandler(this,pt.WARN,...ke)}error(...ke){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...ke),this._logHandler(this,pt.ERROR,...ke)}}function mi(ge){P.forEach(ke=>{ke.setLogLevel(ge)})}function Wt(ge,ke){for(const Ge of P){let Rt=null;ke&&ke.level&&(Rt=de[ke.level]),Ge.userLogHandler=null===ge?null:(li,_r,...xi)=>{const Ct=xi.map(Pt=>{if(null==Pt)return null;if("string"==typeof Pt)return Pt;if("number"==typeof Pt||"boolean"==typeof Pt)return Pt.toString();if(Pt instanceof Error)return Pt.message;try{return JSON.stringify(Pt)}catch{return null}}).filter(Pt=>Pt).join(" ");_r>=(Rt??li.logLevel)&&ge({level:pt[_r].toLowerCase(),message:Ct,args:xi,type:li.name})}}}},861:(Zs,vn,ht)=>{"use strict";function P(de,_t,At,en,bn,mi,Wt){try{var ge=de[mi](Wt),ke=ge.value}catch(Ge){return void At(Ge)}ge.done?_t(ke):Promise.resolve(ke).then(en,bn)}function pt(de){return function(){var _t=this,At=arguments;return new Promise(function(en,bn){var mi=de.apply(_t,At);function Wt(ke){P(mi,en,bn,Wt,ge,"next",ke)}function ge(ke){P(mi,en,bn,Wt,ge,"throw",ke)}Wt(void 0)})}}ht.d(vn,{Z:()=>pt})},582:(Zs,vn,ht)=>{"use strict";function _t(O,se){var Z={};for(var he in O)Object.prototype.hasOwnProperty.call(O,he)&&se.indexOf(he)<0&&(Z[he]=O[he]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(he=Object.getOwnPropertySymbols(O);ve<he.length;ve++)se.indexOf(he[ve])<0&&Object.prototype.propertyIsEnumerable.call(O,he[ve])&&(Z[he[ve]]=O[he[ve]])}return Z}function Ge(O,se,Z,he){return new(Z||(Z=Promise))(function(ee,Pe){function ci(ni){try{it(he.next(ni))}catch(qi){Pe(qi)}}function Fe(ni){try{it(he.throw(ni))}catch(qi){Pe(qi)}}function it(ni){ni.done?ee(ni.value):function ve(ee){return ee instanceof Z?ee:new Z(function(Pe){Pe(ee)})}(ni.value).then(ci,Fe)}it((he=he.apply(O,se||[])).next())})}function tn(O){return this instanceof tn?(this.v=O,this):new tn(O)}function Ci(O,se,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,he=Z.apply(O,se||[]),ee=[];return ve={},Pe("next"),Pe("throw"),Pe("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Pe(Si){he[Si]&&(ve[Si]=function(Yn){return new Promise(function(vi,Zn){ee.push([Si,Yn,vi,Zn])>1||ci(Si,Yn)})})}function ci(Si,Yn){try{!function Fe(Si){Si.value instanceof tn?Promise.resolve(Si.value.v).then(it,ni):qi(ee[0][2],Si)}(he[Si](Yn))}catch(vi){qi(ee[0][3],vi)}}function it(Si){ci("next",Si)}function ni(Si){ci("throw",Si)}function qi(Si,Yn){Si(Yn),ee.shift(),ee.length&&ci(ee[0][0],ee[0][1])}}function $r(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,se=O[Symbol.asyncIterator];return se?se.call(O):(O=function xi(O){var se="function"==typeof Symbol&&Symbol.iterator,Z=se&&O[se],he=0;if(Z)return Z.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&he>=O.length&&(O=void 0),{value:O&&O[he++],done:!O}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),Z={},he("next"),he("throw"),he("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function he(ee){Z[ee]=O[ee]&&function(Pe){return new Promise(function(ci,Fe){!function ve(ee,Pe,ci,Fe){Promise.resolve(Fe).then(function(it){ee({value:it,done:ci})},Pe)}(ci,Fe,(Pe=O[ee](Pe)).done,Pe.value)})}}}ht.d(vn,{FC:()=>Ci,KL:()=>$r,_T:()=>_t,mG:()=>Ge,qq:()=>tn}),"function"==typeof SuppressedError&&SuppressedError}},Zs=>{Zs(Zs.s=342)}]);